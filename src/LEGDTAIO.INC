.
.         INCLUDE NAME : LEGDTAIO.PBL
.
.         FILE  I/O REQUESTS FOR DEBTORS TRANSACTION FILE
.
.OVRCD  FORM            1             0=NOT OVER
.                                     1= OVER
.KEY22   DIM           22             KEY FOR LEGDTRE1
.KEY32   DIM           32             KEY FOR LEGDTRE2
.KEY31   DIM           31             KEY FOR LEGDTRE3
.KEY24   DIM           24             KEY FOR LEGDTRE4
.         NOTE:-
.                  RDAAAX  IS AAE READ CALL ON FILE AAEAAAX
.                  RDKAAAX  IS AAE READKS CALL
.                  WRAAAX  IS AAE WRITE CALL
. 
.         NOTE  OVRCD=1   RECORD DOSENT EXIST
.                     2   RECORD IS LOCKED
.
RALGDTA1 RESET     KEY22
         MOVE      ZERO,OVRCD
         READ      LEGDTRE1,KEY22;ANS
         GOTO      OVERCOND IF OVER
         RETURN  
.
RSLGDTA1 RESET     KEY22
         READ      LEGDTRE1,KEY22;;
         RETURN  
.
RDLGDTA1 MOVE      ZERO,OVRCD
         RESET     KEY22
         READ      LEGDTRE1,KEY22;DLATNUMB,LATINVNO,DLATTRAN,LATDDESC,LAEDTAMN:
                                  LATDDATE,LATITEMN,LATTYPE,LATPAYTY,LATRECEP:
                                  LATINVPR,DLATRECT,LATCHGDT,LATCHGTI:
                                  LATMISGR,LATDEPTY,LATBATCH:
                                  LAEDTPTP,LAEDTRBP,LATDEPFL,LATEFFDT:
                                  LAEDTGST,LAEDTGSC,LAEDTGSA,LAEDTSSA,LATSPARE
.
         GOTO      OVERCOND IF OVER
         MOVE      DLATNUMB,LATNUMB
         MOVE      DLATTRAN,LATTRANS
         MOVE      DLATRECT,LATRECTY
.
         MOVE      LAEDTAMN,LATPATAM
         MOVE      LAEDTPTP,LATPATPO
         MOVE      LAEDTRBP,LATREBPO
         RETURN  
.
RKLGDTA1 MOVE      ZERO,OVRCD
         READKS    LEGDTRE1;DLATNUMB,LATINVNO,DLATTRAN,LATDDESC,LAEDTAMN:
                            LATDDATE,LATITEMN,LATTYPE,LATPAYTY,LATRECEP:
                            LATINVPR,DLATRECT,LATCHGDT,LATCHGTI:
                            LATMISGR,LATDEPTY,LATBATCH:
                            LAEDTPTP,LAEDTRBP,LATDEPFL,LATEFFDT:
                            LAEDTGST,LAEDTGSC,LAEDTGSA,LAEDTSSA,LATSPARE
.
         GOTO      OVERCOND IF OVER
         MOVE      DLATNUMB,LATNUMB
         MOVE      DLATTRAN,LATTRANS
         MOVE      DLATRECT,LATRECTY
         MOVE      LAEDTAMN,LATPATAM
         MOVE      LAEDTPTP,LATPATPO
         MOVE      LAEDTRBP,LATREBPO
         RETURN  
.
RPLGDTA1 MOVE      ZERO,OVRCD
         READKP    LEGDTRE1;DLATNUMB,LATINVNO,DLATTRAN,LATDDESC,LAEDTAMN:
                            LATDDATE,LATITEMN,LATTYPE,LATPAYTY,LATRECEP:
                            LATINVPR,DLATRECT,LATCHGDT,LATCHGTI:
                            LATMISGR,LATDEPTY,LATBATCH:
                            LAEDTPTP,LAEDTRBP,LATDEPFL,LATEFFDT:
                            LAEDTGST,LAEDTGSC,LAEDTGSA,LAEDTSSA,LATSPARE
.
         GOTO      OVERCOND IF OVER
         MOVE      DLATNUMB,LATNUMB
         MOVE      DLATTRAN,LATTRANS
         MOVE      DLATRECT,LATRECTY
         MOVE      LAEDTAMN,LATPATAM
         MOVE      LAEDTPTP,LATPATPO
         MOVE      LAEDTRBP,LATREBPO
         RETURN  
.
RSLGDTA2 RESET     KEY32
         READ      LEGDTRE2,KEY32;;
         RETURN  
.
RKLGDTA2 MOVE      ZERO,OVRCD
         READKS    LEGDTRE2;DLATNUMB,LATINVNO,DLATTRAN,LATDDESC,LAEDTAMN:
                            LATDDATE,LATITEMN,LATTYPE,LATPAYTY,LATRECEP:
                            LATINVPR,DLATRECT,LATCHGDT,LATCHGTI:
                            LATMISGR,LATDEPTY,LATBATCH:
                            LAEDTPTP,LAEDTRBP,LATDEPFL,LATEFFDT:
                            LAEDTGST,LAEDTGSC,LAEDTGSA,LAEDTSSA,LATSPARE
.
         GOTO      OVERCOND IF OVER
         MOVE      DLATNUMB,LATNUMB
         MOVE      DLATTRAN,LATTRANS
         MOVE      DLATRECT,LATRECTY
.
         MOVE      LAEDTAMN,LATPATAM
         MOVE      LAEDTPTP,LATPATPO
         MOVE      LAEDTRBP,LATREBPO
         RETURN  
.
RPLGDTA2 MOVE      ZERO,OVRCD
         READKP    LEGDTRE2;DLATNUMB,LATINVNO,DLATTRAN,LATDDESC,LAEDTAMN:
                            LATDDATE,LATITEMN,LATTYPE,LATPAYTY,LATRECEP:
                            LATINVPR,DLATRECT,LATCHGDT,LATCHGTI:
                            LATMISGR,LATDEPTY,LATBATCH:
                            LAEDTPTP,LAEDTRBP,LATDEPFL,LATEFFDT:
                            LAEDTGST,LAEDTGSC,LAEDTGSA,LAEDTSSA,LATSPARE
.
         GOTO      OVERCOND IF OVER
         MOVE      DLATNUMB,LATNUMB
         MOVE      DLATTRAN,LATTRANS
         MOVE      DLATRECT,LATRECTY
.
         MOVE      LAEDTAMN,LATPATAM
         MOVE      LAEDTPTP,LATPATPO
         MOVE      LAEDTRBP,LATREBPO
         RETURN  
.
. Third Index
.
RSLGDTA3 RESET     KEY31
         READ      LEGDTRE3,KEY31;;
         RETURN  
.
RKLGDTA3 MOVE      ZERO,OVRCD
         READKS    LEGDTRE3;DLATNUMB,LATINVNO,DLATTRAN,LATDDESC,LAEDTAMN:
                            LATDDATE,LATITEMN,LATTYPE,LATPAYTY,LATRECEP:
                            LATINVPR,DLATRECT,LATCHGDT,LATCHGTI:
                            LATMISGR,LATDEPTY,LATBATCH:
                            LAEDTPTP,LAEDTRBP,LATDEPFL,LATEFFDT:
                            LAEDTGST,LAEDTGSC,LAEDTGSA,LAEDTSSA,LATSPARE
.
         GOTO      OVERCOND IF OVER
         MOVE      DLATNUMB,LATNUMB
         MOVE      DLATTRAN,LATTRANS
         MOVE      DLATRECT,LATRECTY
.
         MOVE      LAEDTAMN,LATPATAM
         MOVE      LAEDTPTP,LATPATPO
         MOVE      LAEDTRBP,LATREBPO
         RETURN  
.
RPLGDTA3 MOVE      ZERO,OVRCD
         READKP    LEGDTRE3;DLATNUMB,LATINVNO,DLATTRAN,LATDDESC,LAEDTAMN:
                            LATDDATE,LATITEMN,LATTYPE,LATPAYTY,LATRECEP:
                            LATINVPR,DLATRECT,LATCHGDT,LATCHGTI:
                            LATMISGR,LATDEPTY,LATBATCH:
                            LAEDTPTP,LAEDTRBP,LATDEPFL,LATEFFDT:
                            LAEDTGST,LAEDTGSC,LAEDTGSA,LAEDTSSA,LATSPARE
.
         GOTO      OVERCOND IF OVER
         MOVE      DLATNUMB,LATNUMB
         MOVE      DLATTRAN,LATTRANS
         MOVE      DLATRECT,LATRECTY
.
         MOVE      LAEDTAMN,LATPATAM
         MOVE      LAEDTPTP,LATPATPO
         MOVE      LAEDTRBP,LATREBPO
         RETURN  
.
.
. Fourth Index
.
RDLGDTA4 MOVE      ZERO,OVRCD
         RESET     KEY24
         READ      LEGDTRE4,KEY24;DLATNUMB,LATINVNO,DLATTRAN,LATDDESC,LAEDTAMN:
                                  LATDDATE,LATITEMN,LATTYPE,LATPAYTY,LATRECEP:
                                  LATINVPR,DLATRECT,LATCHGDT,LATCHGTI:
                                  LATMISGR,LATDEPTY,LATBATCH:
                                  LAEDTPTP,LAEDTRBP,LATDEPFL,LATEFFDT:
                                  LAEDTGST,LAEDTGSC,LAEDTGSA,LAEDTSSA,LATSPARE
.
         GOTO      OVERCOND IF OVER
         MOVE      DLATNUMB,LATNUMB
         MOVE      DLATTRAN,LATTRANS
         MOVE      DLATRECT,LATRECTY
.
         MOVE      LAEDTAMN,LATPATAM
         MOVE      LAEDTPTP,LATPATPO
         MOVE      LAEDTRBP,LATREBPO
         RETURN  
.
RSLGDTA4 RESET     KEY24
         READ      LEGDTRE4,KEY24;;
         RETURN  
.
RKLGDTA4 MOVE      ZERO,OVRCD
         READKS    LEGDTRE4;DLATNUMB,LATINVNO,DLATTRAN,LATDDESC,LAEDTAMN:
                            LATDDATE,LATITEMN,LATTYPE,LATPAYTY,LATRECEP:
                            LATINVPR,DLATRECT,LATCHGDT,LATCHGTI:
                            LATMISGR,LATDEPTY,LATBATCH:
                            LAEDTPTP,LAEDTRBP,LATDEPFL,LATEFFDT:
                            LAEDTGST,LAEDTGSC,LAEDTGSA,LAEDTSSA,LATSPARE
.
         GOTO      OVERCOND IF OVER
         MOVE      DLATNUMB,LATNUMB
         MOVE      DLATTRAN,LATTRANS
         MOVE      DLATRECT,LATRECTY
.
         MOVE      LAEDTAMN,LATPATAM
         MOVE      LAEDTPTP,LATPATPO
         MOVE      LAEDTRBP,LATREBPO
         RETURN  
.
RPLGDTA4 MOVE      ZERO,OVRCD
         READKP    LEGDTRE4;DLATNUMB,LATINVNO,DLATTRAN,LATDDESC,LAEDTAMN:
                            LATDDATE,LATITEMN,LATTYPE,LATPAYTY,LATRECEP:
                            LATINVPR,DLATRECT,LATCHGDT,LATCHGTI:
                            LATMISGR,LATDEPTY,LATBATCH:
                            LAEDTPTP,LAEDTRBP,LATDEPFL,LATEFFDT:
                            LAEDTGST,LAEDTGSC,LAEDTGSA,LAEDTSSA,LATSPARE
.
         GOTO      OVERCOND IF OVER
         MOVE      DLATNUMB,LATNUMB
         MOVE      DLATTRAN,LATTRANS
         MOVE      DLATRECT,LATRECTY
.
         MOVE      LAEDTAMN,LATPATAM
         MOVE      LAEDTPTP,LATPATPO
         MOVE      LAEDTRBP,LATREBPO
         RETURN  
.
