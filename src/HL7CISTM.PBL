.-----------------------------------------------------------
.
.  Modifications:
.
.  V11.02.04 02/11/2022  Jacob Jackson   TSK 0921463
.  Append name to Operator ID (H7CIOPER) and Username (H7CIUSID)
.  V11.02.03 07/07/2022  Jacob Jackson   TSK 0921871   
.  Split Date/Time for Delivered Fields
.  V11.02.02 09/05/2022  Jacob Jackson   TSK 0912222
.  Split Date/Time for fields, use general variable for msg type in case of
.  A14->A05 parameter is active
.  V11.02.01 28/10/2021  Jacob Jackson   TSK 0912222
.  Creation of TM file, for printing HL7CISAF variable files to web-server
.
. ----------------------------------------------------------
.
.
.-----------------------------------------------------------
. Add H7C Field
.-----------------------------------------------------------
H7CA0000  BRANCH    FLDITMNO,H7CA0100,H7CA0200,H7CA0300,H7CA0400,H7CA0500:
                             H7CA0600,H7CA0700,H7CA0800,H7CA0900,H7CA1000:
                             H7CA1100,H7CA1200,H7CA1300,H7CA1400,H7CA1500:
                             H7CA1600,H7CA1700,H7CA1800,H7CA1900
.
          WRITE     HTMLFILE;"Invalid IBA Tag";
          GOTO      H7CA9999
.
H7CA0100  WRITE     HTMLFILE;DH7CIMES; 
          GOTO      H7CA9999
.
H7CA0200  WRITE     HTMLFILE;H7CISTAT;
          GOTO      H7CA9999
.
H7CA0300  UNPACK    H7CIDTTM,H7WRDATE,H7WRTIME
          UNPACK    DIM127,D1,KEY4,DIM127
          MATCH     "DATE",KEY4
          IF        @EQUAL
            WRITE     HTMLFILE;H7WRDATE;
          ENDIF
          MATCH     "TIME",KEY4
          IF        @EQUAL
            WRITE     HTMLFILE;H7WRTIME;
          ENDIF
          GOTO      H7CA9999
.
H7CA0400  WRITE     HTMLFILE;MSGTYPHL;
          GOTO      H7CA9999
.
H7CA0500  MOVE      H7CIOPER,OPERATID
          CALL      ADOI0000
          GOTO      H7CA9999
.
H7CA0600  WRITE     HTMLFILE;H7CIPORT;
          GOTO      H7CA9999
.
H7CA0700  WRITE     HTMLFILE;H7CIPGID;
          GOTO      H7CA9999
.
H7CA0800  UNPACK    H7CIDDAT,H7DEDATE,H7DETIME
          UNPACK    DIM127,D1,KEY4,DIM127
          MATCH     "DATE",KEY4
          IF        @EQUAL
            WRITE     HTMLFILE;H7DEDATE;
          ENDIF
          MATCH     "TIME",KEY4
          IF        @EQUAL
            WRITE     HTMLFILE;H7DETIME;
          ENDIF
          GOTO      H7CA9999
.
H7CA0900  WRITE     HTMLFILE;H7CIURNO;
          GOTO      H7CA9999
.
H7CA1000  WRITE     HTMLFILE;H7CIVISN;
          GOTO      H7CA9999
.
H7CA1100  WRITE     HTMLFILE;H7CIACTN;
          GOTO      H7CA9999
.
H7CA1200  WRITE     HTMLFILE;H7CITRID;
          GOTO      H7CA9999
.
H7CA1300  WRITE     HTMLFILE;H7CIINCL;
          GOTO      H7CA9999
.
H7CA1400  WRITE     HTMLFILE;H7CIRTAG;
          GOTO      H7CA9999
.
H7CA1500  WRITE     HTMLFILE;H7CISTAG;
          GOTO      H7CA9999
.
H7CA1600  MOVE      H7CIUSID,WBUSRNAM
          CALL      ADUS0000
          GOTO      H7CA9999
.
H7CA1700  WRITE     HTMLFILE;H7CIHOSP;
          GOTO      H7CA9999
.
H7CA1800  WRITE     HTMLFILE;H7CIUTIM;
          GOTO      H7CA9999
.
H7CA1900  WRITE     HTMLFILE;H7CISPAR;
          GOTO      H7CA9999
.
H7CA9999  RETURN
