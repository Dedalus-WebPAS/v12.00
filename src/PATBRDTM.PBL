.----------------------------------------------------------------------
. Modifications
.
. V10.05.01  30/09/2014  Davin      CAR 306539
.            Added "Invalid IBA Tag" message to brdr0000
. V10.02.02  05/07/2011  Peter Vela CAR 240705
.            Added Title
. V10.02.01  08/06/2011  Peter Vela CAR 240705
.            Created include
.
.------------------------------------------------------------------------
.   Clear Parameters for Boarders Details Table
.------------------------------------------------------------------------
.
CPABRD00  MOVE      SP70,PTBRD001
          MOVE      SP70,PTBRD002
          MOVE      SP70,PTBRD003
          MOVE      SP70,PTBRD004
          MOVE      SP70,PTBRD005
          MOVE      SP70,PTBRD006
          MOVE      SP70,PTBRD007
          MOVE      SP70,PTBRD008
          MOVE      SP70,PTBRD009
          MOVE      SP70,PTBRD010
          MOVE      SP70,PTBRD011
          MOVE      SP70,PTBRD012
          MOVE      SP70,PTBRD013
          MOVE      SP70,PTBRD014
          MOVE      SP70,PTBRD015
          MOVE      SP70,PTBRD016
          MOVE      SP70,PTBRD017
          MOVE      SP70,PTBRD018
          MOVE      SP70,PTBRD019
          MOVE      SP70,PTBRD020
          MOVE      SP70,PTBRD021
          MOVE      SP70,PTBRD022
          MOVE      SP70,PTBRD023
          MOVE      SP70,PTBRD024
          MOVE      SP70,PTBRD025
          MOVE      SP70,PTBRD026
          MOVE      SP70,PTBRD027
          MOVE      SP70,PTBRD028
          MOVE      SP70,PTBRD029
          MOVE      SP70,PTBRD030
CPABRD99  RETURN
+
.------------------------------------------------------------
. Add Boarder Field
.------------------------------------------------------------
BRDR0000  BRANCH    FLDITMNO,BRDR0100,BRDR0200,BRDR0300,BRDR0400,BRDR0500:
                             BRDR0600,BRDR0700,BRDR0800,BRDR0900,BRDR1000:
                             BRDR1100,BRDR1200,BRDR1300,BRDR1400,BRDR1500:
                             BRDR1600,BRDR1700,BRDR1800,BRDR1900,BRDR2000:
                             BRDR2100,BRDR2200,BRDR2300,BRDR2400,BRDR2500:
                             BRDR2600,BRDR2700,BRDR2800,BRDR2900,BRDR3000
.
          WRITE     HTMLFILE;"Invalid IBA Tag";
          GOTO      BRDR9999
.
BRDR0100  WRITE     HTMLFILE;PTBRBRDN;
          GOTO      BRDR9999
.
BRDR0200  WRITE     HTMLFILE;PTBRURNO;
          GOTO      BRDR9999
.
BRDR0300  WRITE     HTMLFILE;PTBRVISN;
          GOTO      BRDR9999
.
BRDR0400  WRITE     HTMLFILE;PTBRCNTR;    
          GOTO      BRDR9999        
.
BRDR0500  WRITE     HTMLFILE;PTBRLURN;
          GOTO      BRDR9999
.
BRDR0600  WRITE     HTMLFILE;PTBRSNAM;
          GOTO      BRDR9999
.
BRDR0700  WRITE     HTMLFILE;PTBRGNAM;
          GOTO      BRDR9999
.
BRDR0800  WRITE     HTMLFILE;PTBRGEND;
          GOTO      BRDR9999
.
BRDR0900  MATCH     SP70,PTBRBDAT
          GOTO      BRDR9999 IF EQUAL
          UNPACK    PTBRBDAT,CCENT,CYEAR,CMON,CDAY
          MOVE      CMON,F2
          LOAD      MTHNAM3,F2,JAN,FEB,MAR,APR,MAY,JUN,JUL,AUG,SEP,OCT,NOV,DEC
          WRITE     HTMLFILE;CDAY,SP1,MTHNAM3,SP1,CCENT,CYEAR;
          GOTO      BRDR9999
.
BRDR1000  WRITE     HTMLFILE;PTBRADR1;
          GOTO      BRDR9999
.
BRDR1100  WRITE     HTMLFILE;PTBRADR2;
          GOTO      BRDR9999
.
BRDR1200  WRITE     HTMLFILE;PTBRADR3;
          GOTO      BRDR9999
.
BRDR1300  WRITE     HTMLFILE;PTBRADR4;
          GOTO      BRDR9999
.
BRDR1400  WRITE     HTMLFILE;PTBRPOST;
          GOTO      BRDR9999
.
BRDR1500  WRITE     HTMLFILE;PTBRHPHN;
          GOTO      BRDR9999
.
BRDR1600  WRITE     HTMLFILE;PTBRWPHN;
          GOTO      BRDR9999
.
BRDR1700  WRITE     HTMLFILE;PTBRMPHN;
          GOTO      BRDR9999
.
BRDR1800  WRITE     HTMLFILE;PTBREMAL;
          GOTO      BRDR9999
.
BRDR1900  WRITE     HTMLFILE;PTBRHOSP;
          GOTO      BRDR9999
.
BRDR2000  MATCH     SP70,PTBRSDAT
          GOTO      BRDR9999 IF EQUAL
          UNPACK    PTBRSDAT,CCENT,CYEAR,CMON,CDAY
          MOVE      CMON,F2
          LOAD      MTHNAM3,F2,JAN,FEB,MAR,APR,MAY,JUN,JUL,AUG,SEP,OCT,NOV,DEC
          WRITE     HTMLFILE;CDAY,SP1,MTHNAM3,SP1,CCENT,CYEAR;
          GOTO      BRDR9999
.
BRDR2100  WRITE     HTMLFILE;PTBRSTIM;
          GOTO      BRDR9999
.
BRDR2200  MATCH     SP70,PTBREDAT
          GOTO      BRDR9999 IF EQUAL
          UNPACK    PTBREDAT,CCENT,CYEAR,CMON,CDAY
          MOVE      CMON,F2
          LOAD      MTHNAM3,F2,JAN,FEB,MAR,APR,MAY,JUN,JUL,AUG,SEP,OCT,NOV,DEC
          WRITE     HTMLFILE;CDAY,SP1,MTHNAM3,SP1,CCENT,CYEAR;
          GOTO      BRDR9999
.
BRDR2300  WRITE     HTMLFILE;PTBRETIM;
          GOTO      BRDR9999
.
BRDR2400  WRITE     HTMLFILE;PTBRCUSR;
          GOTO      BRDR9999
.
BRDR2500  MATCH     SP70,PTBRCDAT
          GOTO      BRDR9999 IF EQUAL
          UNPACK    PTBRCDAT,CCENT,CYEAR,CMON,CDAY
          MOVE      CMON,F2
          LOAD      MTHNAM3,F2,JAN,FEB,MAR,APR,MAY,JUN,JUL,AUG,SEP,OCT,NOV,DEC
          WRITE     HTMLFILE;CDAY,SP1,MTHNAM3,SP1,CCENT,CYEAR;
          GOTO      BRDR9999
.
BRDR2600  WRITE     HTMLFILE;PTBRCTIM;
          GOTO      BRDR9999
.
BRDR2700  WRITE     HTMLFILE;PTBRUUSR;
          GOTO      BRDR9999
.
BRDR2800  MATCH     SP70,PTBRUDAT
          GOTO      BRDR9999 IF EQUAL
          UNPACK    PTBRUDAT,CCENT,CYEAR,CMON,CDAY
          MOVE      CMON,F2
          LOAD      MTHNAM3,F2,JAN,FEB,MAR,APR,MAY,JUN,JUL,AUG,SEP,OCT,NOV,DEC
          WRITE     HTMLFILE;CDAY,SP1,MTHNAM3,SP1,CCENT,CYEAR;
          GOTO      BRDR9999
.
BRDR2900  WRITE     HTMLFILE;PTBRUTIM;
          GOTO      BRDR9999
.
BRDR3000  WRITE     HTMLFILE;PTBRTITL;
          GOTO      BRDR9999
.
BRDR9999  RETURN
+
.------------------------------------------------------------
.   Set Parameters for patient system Residency table
.------------------------------------------------------------
SPTBRD00  MOVE      ZERO,EXIT
          UNPACK    QRYNAME,KEY5,KEY3
          MOVE      KEY3,F3
          BRANCH    F3,SPTBRD01,SPTBRD02,SPTBRD03,SPTBRD04,SPTBRD05:
                       SPTBRD06,SPTBRD07,SPTBRD08,SPTBRD09,SPTBRD10:
                       SPTBRD11,SPTBRD12,SPTBRD13,SPTBRD14,SPTBRD15:
                       SPTBRD16,SPTBRD17,SPTBRD18,SPTBRD19,SPTBRD20:
                       SPTBRD21,SPTBRD22,SPTBRD23,SPTBRD24,SPTBRD25:
                       SPTBRD26,SPTBRD27,SPTBRD28,SPTBRD29,SPTBRD30
.
          MOVE      ONE,EXIT
          GOTO      SPTBRD99
.
SPTBRD01  MOVE      QRYDATA,PTBRD001
          GOTO      SPTBRD99
.
SPTBRD02  MOVE      QRYDATA,PTBRD002
          GOTO      SPTBRD99
.
SPTBRD03  MOVE      QRYDATA,PTBRD003
          GOTO      SPTBRD99
.
SPTBRD04  MOVE      QRYDATA,PTBRD004
          GOTO      SPTBRD99
.
SPTBRD05  MOVE      QRYDATA,PTBRD005
          GOTO      SPTBRD99
.
SPTBRD06  MOVE      QRYDATA,PTBRD006
          GOTO      SPTBRD99
.
SPTBRD07  MOVE      QRYDATA,PTBRD007
          GOTO      SPTBRD99
.
SPTBRD08  MOVE      QRYDATA,PTBRD008
          GOTO      SPTBRD99
.
SPTBRD09  MATCH     SP70,QRYDATA
          GOTO      SPTBRD99 IF EQUAL
          GOTO      SPTBRD99 IF EOS
.
          UNPACK    QRYDATA,CDAY,KEY1,MTHNAM3,KEY1,CCENT,CYEAR
          CALL      SETMTH00                *Set CMON from MTHNAM3
          PACK      PTBRD009,CCENT,CYEAR,CMON,CDAY
          GOTO      SPTBRD99
.
SPTBRD10  MOVE      QRYDATA,PTBRD010
          GOTO      SPTBRD99
.
SPTBRD11  MOVE      QRYDATA,PTBRD011
          GOTO      SPTBRD99
.
SPTBRD12  MOVE      QRYDATA,PTBRD012
          GOTO      SPTBRD99
.
SPTBRD13  MOVE      QRYDATA,PTBRD013
          GOTO      SPTBRD99
.
SPTBRD14  MOVE      QRYDATA,PTBRD014
          GOTO      SPTBRD99
.
SPTBRD15  MOVE      QRYDATA,PTBRD015
          GOTO      SPTBRD99
.
SPTBRD16  MOVE      QRYDATA,PTBRD016
          GOTO      SPTBRD99
.
SPTBRD17  MOVE      QRYDATA,PTBRD017
          GOTO      SPTBRD99
.
SPTBRD18  MOVE      QRYDATA,PTBRD018
          GOTO      SPTBRD99
.
SPTBRD19  MOVE      QRYDATA,PTBRD019
          GOTO      SPTBRD99
.
SPTBRD20  MATCH     SP70,QRYDATA
          GOTO      SPTBRD99 IF EQUAL
          GOTO      SPTBRD99 IF EOS
.
          UNPACK    QRYDATA,CDAY,KEY1,MTHNAM3,KEY1,CCENT,CYEAR
          CALL      SETMTH00                *Set CMON from MTHNAM3
          PACK      PTBRD020,CCENT,CYEAR,CMON,CDAY
          GOTO      SPTBRD99
.
SPTBRD21  MOVE      QRYDATA,PTBRD021
          GOTO      SPTBRD99
.
SPTBRD22  MATCH     SP70,QRYDATA
          GOTO      SPTBRD99 IF EQUAL
          GOTO      SPTBRD99 IF EOS
.
          UNPACK    QRYDATA,CDAY,KEY1,MTHNAM3,KEY1,CCENT,CYEAR
          CALL      SETMTH00                *Set CMON from MTHNAM3
          PACK      PTBRD022,CCENT,CYEAR,CMON,CDAY
          GOTO      SPTBRD99
.
SPTBRD23  MOVE      QRYDATA,PTBRD023
          GOTO      SPTBRD99
.
SPTBRD24  MOVE      QRYDATA,PTBRD024
          GOTO      SPTBRD99
.
SPTBRD25  MOVE      QRYDATA,PTBRD025
          GOTO      SPTBRD99
.
SPTBRD26  MOVE      QRYDATA,PTBRD026
          GOTO      SPTBRD99
.
SPTBRD27  MOVE      QRYDATA,PTBRD027
          GOTO      SPTBRD99
.
SPTBRD28  MOVE      QRYDATA,PTBRD028
          GOTO      SPTBRD99
.
SPTBRD29  MOVE      QRYDATA,PTBRD029
          GOTO      SPTBRD99
.
SPTBRD30  MOVE      QRYDATA,PTBRD030
          GOTO      SPTBRD99
.
SPTBRD99  RETURN
.------------------------------------------------------------------------
.         Update boarders file
.------------------------------------------------------------------------
MVPATBRD  PACK      PTBRBRDN,PTBRD001,SP70
          PACK      PTBRURNO,PTBRD002,SP70
          PACK      PTBRVISN,PTBRD003,SP70
          PACK      PTBRCNTR,PTBRD004,SP70,SP70
          PACK      PTBRLURN,PTBRD005,SP70
          PACK      PTBRSNAM,PTBRD006,SP70
          PACK      PTBRGNAM,PTBRD007,SP70
          PACK      PTBRGEND,PTBRD008,SP70
          PACK      PTBRBDAT,PTBRD009,SP70
          PACK      PTBRADR1,PTBRD010,SP70
          PACK      PTBRADR2,PTBRD011,SP70
          PACK      PTBRADR3,PTBRD012,SP70
          PACK      PTBRADR4,PTBRD013,SP70
          PACK      PTBRPOST,PTBRD014,SP70
          PACK      PTBRHPHN,PTBRD015,SP70
          PACK      PTBRWPHN,PTBRD016,SP70
          PACK      PTBRMPHN,PTBRD017,SP70
          PACK      PTBREMAL,PTBRD018,SP70
          PACK      PTBRHOSP,PTBRD019,SP70
          PACK      PTBRSDAT,PTBRD020,SP70
          PACK      PTBRSTIM,PTBRD021,SP70
          PACK      PTBREDAT,PTBRD022,SP70
          PACK      PTBRETIM,PTBRD023,SP70
          PACK      PTBRCUSR,PTBRD024,SP70
          PACK      PTBRCDAT,PTBRD025,SP70
          PACK      PTBRCTIM,PTBRD026,SP70
          PACK      PTBRUUSR,PTBRD027,SP70
          PACK      PTBRUDAT,PTBRD028,SP70
          PACK      PTBRUTIM,PTBRD029,SP70
          PACK      PTBRTITL,PTBRD030,SP70
          RETURN
