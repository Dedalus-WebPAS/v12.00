. *----------------------------------------------------------------------
. * Include Name  :   PMSPWATM.PBL
. *
. * Function      :   CGI variables for PMSPWAFD - pmspwaaf.dat
. *
. * Includes Needed : PMSPWAFD - ABF Admitted Acute Price Weights
. *                   PMSPWAIO - IO for ABF Admitted Acute Price Weights
. * Modifications :
. *
. *----------------------------------------------------------------------
.
.------------------------------------------------------------------------
.   Clear Parameters for ABF Admitted acute price weights
.------------------------------------------------------------------------
.
CLRPWA00  MOVE      SP70,PMPWA001
          MOVE      SP70,PMPWA002
          MOVE      SP70,PMPWA003
          MOVE      SP70,PMPWA004
          MOVE      SP70,PMPWA005
          MOVE      ZERO,PMPWA006
          MOVE      ZERO,PMPWA007
          MOVE      ZERO,PMPWA008
          MOVE      ZERO,PMPWA009
          MOVE      ZERO,PMPWA010
          MOVE      ZERO,PMPWA011
          MOVE      ZERO,PMPWA012
          MOVE      ZERO,PMPWA013
          MOVE      ZERO,PMPWA014
          MOVE      ZERO,PMPWA015
          RETURN
.
.------------------------------------------------------------
. ABF Admitted Acute PW Fields
.-----------------------------------------------------------
PMPW0000  BRANCH    FLDITMNO,PMPW0010,PMPW0020,PMPW0030,PMPW0040,PMPW0050:
                             PMPW0060,PMPW0070,PMPW0080,PMPW0090,PMPW0100:
                             PMPW0110,PMPW0120,PMPW0130,PMPW0140,PMPW0150
.
          WRITE     HTMLFILE;"Invalid IBA Tag";
          GOTO      PMPW9999
.
PMPW0010  UNPACK    DIM127,D1,KEY1,DIM127        * Contract ID
          MOVE      KEY1,F1
          BRANCH    F1,PMPW0012
.
          WRITE     HTMLFILE;PMPWCNTR;
          GOTO      PMPW9999
.
PMPW0012  PACK      KEY6,PMPWCNTR,SP70
          CALL      RDPMCID1
          BRANCH    OVRCD,PMPW9999
.
          WRITE     HTMLFILE;PMCIDESC;
          GOTO      PMPW9999
.
PMPW0020  WRITE     HTMLFILE;PMPWDRGC;
          GOTO      PMPW9999
.
PMPW0030  WRITE     HTMLFILE;PMPWDRGD;
          GOTO      PMPW9999
.
PMPW0040  MATCH     "1",PMPWSDPY
          IF        !@EQUAL
            MOVE      "0",PMPWSDPY
          ENDIF
          WRITE     HTMLFILE;PMPWSDPY;
          GOTO      PMPW9999
.
PMPW0050  MATCH     "1",PMPWBICU
          IF        !@EQUAL
            MOVE      "0",PMPWBICU
          ENDIF
          WRITE     HTMLFILE;PMPWBICU;
          GOTO      PMPW9999
.
PMPW0060  WRITE     HTMLFILE;PMPWALOS;
          GOTO      PMPW9999
.
PMPW0070  WRITE     HTMLFILE;PMPWLOWB;
          GOTO      PMPW9999
.
PMPW0080  WRITE     HTMLFILE;PMPWUPPB;
          GOTO      PMPW9999
.
PMPW0090  WRITE     HTMLFILE;PMPWPSRV;
          GOTO      PMPW9999
.
PMPW0100  WRITE     HTMLFILE;PMPWPAED;
          GOTO      PMPW9999
.
PMPW0110  WRITE     HTMLFILE;PMPWSDAY;
          GOTO      PMPW9999
.
PMPW0120  WRITE     HTMLFILE;PMPWSSOB;
          GOTO      PMPW9999
.
PMPW0130  WRITE     HTMLFILE;PMPWSSOP;
          GOTO      PMPW9999
.
PMPW0140  WRITE     HTMLFILE;PMPWINLI;
          GOTO      PMPW9999
.
PMPW0150  WRITE     HTMLFILE;PMPWLSOP;
          GOTO      PMPW9999
.
PMPW9999  RETURN
.
.------------------------------------------------------------
.   Set Parameters for ABF Admitted Acute PW
.------------------------------------------------------------
SPPPW000  MOVE      ZERO,EXIT
          UNPACK    QRYNAME,KEY5,KEY3
          MOVE      KEY3,F3
          BRANCH    F3,SPPPW001,SPPPW002,SPPPW003,SPPPW004,SPPPW005:
                       SPPPW006,SPPPW007,SPPPW008,SPPPW009,SPPPW010:
                       SPPPW011,SPPPW012,SPPPW013,SPPPW014,SPPPW015
.
          MOVE      ONE,EXIT
          GOTO      SPPPW999
.
SPPPW001  MOVE      QRYDATA,PMPWA001
          PACK      PMPWA001,PMPWA001,SP70
          GOTO      SPPPW999
.
SPPPW002  MOVE      QRYDATA,PMPWA002
          PACK      PMPWA002,PMPWA002,SP70
          GOTO      SPPPW999
.
SPPPW003  MOVE      QRYDATA,PMPWA003
          PACK      PMPWA003,PMPWA003,SP70
          GOTO      SPPPW999
.
SPPPW004  MOVE      QRYDATA,PMPWA004
          PACK      PMPWA004,PMPWA004,SP70
          GOTO      SPPPW999
.
SPPPW005  MOVE      QRYDATA,PMPWA005
          PACK      PMPWA005,PMPWA005,SP70
          GOTO      SPPPW999
.
SPPPW006  SQUEEZE   QRYDATA
          MOVE      QRYDATA,PMPWA006
          GOTO      SPPPW999
.
SPPPW007  SQUEEZE   QRYDATA
          MOVE      QRYDATA,PMPWA007
          GOTO      SPPPW999
.
SPPPW008  SQUEEZE   QRYDATA
          MOVE      QRYDATA,PMPWA008
          GOTO      SPPPW999
.
SPPPW009  SQUEEZE   QRYDATA
          MOVE      QRYDATA,PMPWA009
          GOTO      SPPPW999
.
SPPPW010  SQUEEZE   QRYDATA
          MOVE      QRYDATA,PMPWA010
          GOTO      SPPPW999
.
SPPPW011  SQUEEZE   QRYDATA
          MOVE      QRYDATA,PMPWA011
          GOTO      SPPPW999
.
SPPPW012  SQUEEZE   QRYDATA
          MOVE      QRYDATA,PMPWA012
          GOTO      SPPPW999
.
SPPPW013  SQUEEZE   QRYDATA
          MOVE      QRYDATA,PMPWA013
          GOTO      SPPPW999
.
SPPPW014  SQUEEZE   QRYDATA
          MOVE      QRYDATA,PMPWA014
          GOTO      SPPPW999
.
SPPPW015  SQUEEZE   QRYDATA
          MOVE      QRYDATA,PMPWA015
          GOTO      SPPPW999
.
SPPPW999  RETURN
+
.------------------------------------------------------------------------
.         Move work variables to ABF Admitted Acute PW file variables
.------------------------------------------------------------------------
MVPMPW00  MATCH     PMPWA001,SP70
          IF        !@EQUAL
            MOVE      PMPWA001,PMPWCNTR
          ENDIF
.
          MATCH     PMPWA002,SP70
          IF        !@EQUAL
            MOVE      PMPWA002,PMPWDRGC
          ENDIF
.
          MATCH     PMPWA003,SP70
          IF        !@EQUAL
            MOVE      PMPWA003,PMPWDRGD
          ENDIF
.
          MATCH     PMPWA004,SP70
          IF        !@EQUAL
            MOVE      PMPWA004,PMPWSDPY
          ENDIF
.
          MATCH     PMPWA005,SP70
          IF        !@EQUAL
            MOVE      PMPWA005,PMPWBICU
          ENDIF
.
          COMPARE   PMPWA006,ZERO
          IF        !@EQUAL
            MOVE      PMPWA006,PMPWALOS
          ENDIF
.
          COMPARE   PMPWA007,ZERO
          IF        !@EQUAL
            MOVE      PMPWA007,PMPWLOWB
          ENDIF
.
          COMPARE   PMPWA008,ZERO
          IF        !@EQUAL
            MOVE      PMPWA008,PMPWUPPB
          ENDIF
.
          COMPARE   PMPWA009,ZERO
          IF        !@EQUAL
            MOVE      PMPWA009,PMPWPSRV
          ENDIF
.
          COMPARE   PMPWA010,ZERO
          IF        !@EQUAL
            MOVE      PMPWA010,PMPWPAED
          ENDIF
.
          COMPARE   PMPWA011,ZERO
          IF        !@EQUAL
            MOVE      PMPWA011,PMPWSDAY
          ENDIF
.
          COMPARE   PMPWA012,ZERO
          IF        !@EQUAL
            MOVE      PMPWA012,PMPWSSOB
          ENDIF
.
          COMPARE   PMPWA013,ZERO
          IF        !@EQUAL
            MOVE      PMPWA013,PMPWSSOP
          ENDIF
.
          COMPARE   PMPWA014,ZERO
          IF        !@EQUAL
            MOVE      PMPWA014,PMPWINLI
          ENDIF
.
          COMPARE   PMPWA015,ZERO
          IF        !@EQUAL
            MOVE      PMPWA015,PMPWLSOP
          ENDIF
.
MVPMPW99  RETURN
+
