. *----------------------------------------------------------------------
. * Include Name  :   ALLSASTM.PBL
. *
. * Function      :   CGI variables for ALLSASFD - allsasaf.dat
. *
. * V10.06.01 14/04/2015  Patrick Adair  CAR 271541
. *           Added Reason for Delete
. * V10.00.00 13/05/2010  Ebon Clements  CAR 220289
. *           Created include
. *----------------------------------------------------------------------
.------------------------------------------------------------------------
.   Clear Parameters for PC Assessment
.------------------------------------------------------------------------
. 
CPALSA00  MOVE      Z70,ALSAS001
          MOVE      Z70,ALSAS002
          MOVE      Z70,ALSAS003
          MOVE      Z70,ALSAS004
          MOVE      Z70,ALSAS005
          MOVE      Z70,ALSAS006
          MOVE      Z70,ALSAS007
          MOVE      Z70,ALSAS008
          MOVE      Z70,ALSAS009
.
CPALSA99  RETURN
.
.------------------------------------------------------------
. Tags for PC Assessment
.------------------------------------------------------------
ALSA0000  BRANCH    FLDITMNO,ALSA0010,ALSA0020,ALSA0030,ALSA0040,ALSA0050:
                             ALSA0060,ALSA0070,ALSA0080,ALSA0090
.
          WRITE     HTMLFILE;"Invalid IBA Tag";
          GOTO      ALSA9999
.
ALSA0010  WRITE     HTMLFILE;ALSAVISN;
          GOTO      ALSA9999 
.  
ALSA0020  MATCH     ALSADATE,SP70
          GOTO      ALSA9999 IF EQUAL
.
          UNPACK    ALSADATE,CCENT,CYEAR,CMON,CDAY
          MOVE      CMON,F2
          LOAD      MTHNAM3,F2,JAN,FEB,MAR,APR,MAY,JUN,JUL,AUG,SEP,OCT,NOV,DEC
          WRITE     HTMLFILE;CDAY,SP1,MTHNAM3,SP1,CCENT,CYEAR;
          GOTO      ALSA9999 
.  
ALSA0030  WRITE     HTMLFILE;ALSATIME;
          GOTO      ALSA9999 
.  
ALSA0040  WRITE     HTMLFILE;ALSAPAIN;
          GOTO      ALSA9999 
.  
ALSA0050  WRITE     HTMLFILE;ALSASYMP;
          GOTO      ALSA9999 
.  
ALSA0060  WRITE     HTMLFILE;ALSAPSYC;
          GOTO      ALSA9999 
.  
ALSA0070  WRITE     HTMLFILE;ALSAFMLY;
          GOTO      ALSA9999 
.  
ALSA0080  WRITE     HTMLFILE;ALSADELF;
          GOTO      ALSA9999 
.  
ALSA0090  MOVE      "AW",CATEGORY
          MOVE      ALSADRES,CODE
          CALL      CODITM00
          GOTO      ALSA9999
.  
ALSA9999  RETURN
.
.------------------------------------------------------------
. Set Parameters for PC Assessment
.------------------------------------------------------------ 
SPALS000  MOVE      ZERO,EXIT
          UNPACK    QRYNAME,KEY5,KEY3
          MOVE      KEY3,F3
          BRANCH    F3,SPALS001,SPALS002,SPALS003,SPALS004,SPALS005:
                       SPALS006,SPALS007,SPALS008
.
          MOVE      ONE,EXIT
          GOTO      SPALS999
.
SPALS001  PACK      ALSAS001,QRYDATA,SP70
          GOTO      SPALS999
.
SPALS002  UNPACK    QRYDATA,CDAY,KEY1,MTHNAM3,KEY1,CCENT,CYEAR
          CALL      SETMTH00                *Set CMON from MTHNAM3
          PACK      ALSAS002,CCENT,CYEAR,CMON,CDAY,SP70
          GOTO      SPALR999
.
SPALS003  PACK      ALSAS003,QRYDATA,SP70
          GOTO      SPALS999
.
SPALS004  PACK      ALSAS004,QRYDATA,SP70
          GOTO      SPALS999
.
SPALS005  PACK      ALSAS005,QRYDATA,SP70
          GOTO      SPALS999
.
SPALS006  PACK      ALSAS006,QRYDATA,SP70
          GOTO      SPALS999
.
SPALS007  PACK      ALSAS007,QRYDATA,SP70
          GOTO      SPALS999
.
SPALS008  PACK      ALSAS008,QRYDATA,SP70
          GOTO      SPALS999
.
SPALS009  PACK      ALSAS009,QRYDATA,SP70
          GOTO      SPALS999
.
SPALS999  RETURN
.
.------------------------------------------------------------
.  Update cgi to file vars for PC Assessment
.------------------------------------------------------------
MVALSA00  MATCH     ALSAS001,Z70
          IF        !@EQUAL
            MOVE      ALSAS001,ALSAVISN
          ENDIF
.
          MATCH     ALSAS002,Z70
          IF        !@EQUAL
            MOVE      ALSAS002,ALSADATE
          ENDIF
.
          MATCH     ALSAS003,Z70
          IF        !@EQUAL
            MOVE      ALSAS003,ALSATIME
          ENDIF
.
          MATCH     ALSAS004,Z70
          IF        !@EQUAL
            SQUEEZE   ALSAS004
            MOVE      ALSAS004,ALSAPAIN
          ENDIF
.
          MATCH     ALSAS005,Z70
          IF        !@EQUAL
            SQUEEZE   ALSAS005
            MOVE      ALSAS005,ALSASYMP
          ENDIF
.
          MATCH     ALSAS006,Z70
          IF        !@EQUAL
            SQUEEZE   ALSAS006
            MOVE      ALSAS006,ALSAPSYC
          ENDIF
.
          MATCH     ALSAS007,Z70
          IF        !@EQUAL
            SQUEEZE   ALSAS007
            MOVE      ALSAS007,ALSAFMLY
          ENDIF
.
          MATCH     ALSAS008,Z70
          IF        !@EQUAL
            MOVE      ALSAS008,ALSADELF
          ENDIF
.
          MATCH     ALSAS009,Z70
          IF        !@EQUAL
            MOVE      ALSAS009,ALSADELF
          ENDIF
.
MVALSA99  RETURN
