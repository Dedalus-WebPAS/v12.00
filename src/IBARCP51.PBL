. ********************************************************** 
. *                                                        *
. *              P R O G R A M  S U M M A R Y              *
. *              -------------  -------------              *
. *                                                        *
. *     Program Name  :   IBARCP51                         *
. *                                                        *
. *     Function      :   Cashier Id Listing               *
. *                                                        *
. *     Modifications :                                    *
. *                   V10.03.01 03/02/2012 J.Tan CAR 246107*
. *                   Added RCCIACTV -  Active/Inactive    *
. *                     V9.03.01 05/12/2003 Ebon CAR 43986 *
. *                     Added RCCICHQA to report           *
. *                     V5.01.00 20/01/92  DIG             *
. *                     Ported from release 5              *
. *                     V5.01.01 22/02/94  I.Rutt          *
. *                     Standards Upgrade                  *
. *                     V5.01.02 14/04/94 S. Barcham       *
. *                     Standards Upgrade                  *
. *                                                        *
. **********************************************************
+
          INC       STD001FD
          INC       RCPCIDFD/INC
          INC       PATHSPFD/INC
.
CHG       FORM      1
DIM30     DIM       30
DIM3      DIM       3
.
DSH64     INIT      "--------------------------------":
                    "--------------------------------"
.
FLAG      DIM       1
FIELD     FORM      1
.
MODE      DIM       1
MODE1     DIM       1
.
SRDIM20   DIM      20
SRDIM20A  DIM      20
.
PRGID     INIT      "IBARCP51"
PRGNAM    INIT      "Cash Drawer Listing"
VERSION   INIT      "V12.00.00"
+
START    CALL          DISPHEAD
         DISPLAY       *P56:24,"Opening rcpcidaf";
         OPEN          RCPCIDA1,"rcpcidaf"
         DISPLAY       *P56:24,"Opening pathspaf";
         OPEN          PATHSPA1,"pathspaf"
.
START1   DISPLAY   *P1:4,*EF,*V2LON,ZERO,*HOFF,". Exit":
                   *P1:5,*EF,*V2LON,ONE,*HOFF,". Print Cashier Id Listing"
.
         KEYIN     *P1:7,*EL,"Select Option : ",*V2LON,COPTION
.
         COMPARE   ZERO,COPTION
         GOTO      ENDIT IF EQUAL
.
         BRANCH    COPTION,START2
         BEEP
         GOTO      START1
.
START2   MOVE      SP6,KEY6
         MOVE          ONE,CNOUNDLN
         MOVE          ZERO,CPAGENO
         CLOCK         TIME,CTIMEIS 
         MOVE      SIXTY,CLNO
         CALL      RDSCIDA1
.
         DISPLAY   *P1:4,*EL:
                   *P20:24,"Printing Cashier : "
.
MAINLOOP CALL      RDKCIDA1
         BRANCH    OVRCD TO END
.
         MOVE      SP70,DIM30
         MOVE      "Yes",DIM3
         MATCH     "1",RCCIACTV
         IF        @EQUAL
           MOVE      "No ",DIM3                   * Inactive
         ENDIF
.
         MATCH     SP70,RCCIHOSP
         GOTO      MAINLP10 IF EQUAL
.
         PACK      KEY3,RCCIHOSP
         CALL      RDPTHSP1
         IF        OVRCD=0
           MOVE      PTHSNAME,DIM30
         ENDIF
.
MAINLP10 COMPARE   FIFTY5,CLNO
         CALL      HEAD IF NOT LESS
.
         DISPLAY   *P40:24,*V2LON,RCPCASH
.
         PRINT     "| ",RCPCASH,*11,"| ",RCPSUR,SP1,RCPGIVEN,*55,"|":
                   *59,RCPSECUR,*66,"| ",DIM30,*99,"| ",RCCICHQA:
                   *125,"| ",DIM3,*132,"|"
         ADD       ONE,CLNO
.
         GOTO      MAINLOOP
.
HEAD     CALL      HEAD132
         CALL      UND132
         PRINT     "| CASH    | NAME",*55,"| SECURITY | HOSPITAL":
                   *99,"| DEFAULT CHEQUE ACCOUNT ",*125,"|Active",*132,"|":
                   *N,"| DRAWER  |",*55,"| CODE     | ":
                   *99,"|",*125,"|",*132,"|"
         CALL      UND132
.
         MOVE      EIGHT,CLNO
         RETURN
.
END      CALL      UND132 
         PRINT     *N,"*** END OF REPORT ***"
.
ENDIT    CHAIN     PGM
         STOP
+
         INC        STD001IO
+ 
         INC       RCPCIDIO/INC
         INC       PATHSPIO/INC
+
