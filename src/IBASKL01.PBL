.***************************************************************************
.* System    :   GENERAL SKELETON PROGRAM                                  *
.* Program   :   IBASKL01                                                  *
.* Desc      :   Enquiry Skeleton Program                                  *
.***************************************************************************
.* Date      :   10/11/88                                                  *
.* Author    :   Darren Jones                                              *
.* Function  :   This program provides a skelton structure for all         *
.*               enquiry programs to be written any time from the          *
.*               above date. Insertion of code to the appropriate sections *
.*               is all that is required to complete any new program       *
.***************************************************************************
.
         INC       STD001FD
.
. =========================================================================
. FILE DESCRIPTION INCLUDES
. -------------------------
. Insert all file FD includes in this section
. =========================================================================
.
. =========================================================================
. LOCAL VARIABLE DEFINITION
. -------------------------
. Definition of all variables used in the program are to be inserted
. in this section.
. NOTE : Variables are to be listed in alphabetical sequence
. =========================================================================
.
SCRNO    FORM      2
.
PRGNAM   INIT      "SKELETON MAINTENANCE"
PRGID    INIT      "IBASKL01"
VERSION   INIT      "V12.00.00"
+
.**************************************************************************
.*                              MAINLINE                                  *
.*                            Controlling Logic                           *
.**************************************************************************
         CALL      INIT0000               * initialization and open files
.
ML0100   CALL      OPTN0000               * select options
         BRANCH    EXIT,ML9999            * EXIT = 1 if 0 chosen in menu
         BRANCH    OPTION,ML1000,ML2000,ML3000,ML4000
.
. ---- enquiry by U/R no ----
.
ML1000     ================================================================
.          This section of mainline code would incorporate CALL's to all
.          relevant sub-routines, allowing identification of the desired
.          person/account, and returning the parameters required for
.          further program operation.
.               
.          eg)        CALL      URNO0000       * select U/R no 
.                     BRANCH    EXIT,ML0100
.                     CALL      DISA0000       * display adm. for selected U/R
.                     CALL      ADM0000        * select desired admission
.                     BRANCH    EXIT,ML0100
.                     GOTO      ML5000
.         =================================================================
.
.         =================================================================
.         The definition of further mainline control/entry sequences would
.         be inserted here. There would be one section of code for each
.         entry method provided.
.         
.         eg)         Patient Enquiry
.            
.                     1 = U/R Number
.                     2 = Admission Number
.                     3 = Patient Name - Surname
.                     4 = Patient Name - Sound-Ex
.
.         The above example would have 4 entries to mainline entry logic.
.         Each would provide the parameters required for further functioning
.         and GOTO the same label (ML5000) for further functining.
.         =================================================================
.
ML5000   CALL      HEAD0000               * display header details
ML6000   CALL      SEL0000                * select screen to display
         BRANCH    EXIT,ML0100
         BRANCH    SCRNO,ML6100,ML6200,ML6300,ML6400,ML6500
         GOTO      ML6000
.
. ---- screen one ----
.
ML6100   CALL      SCR1000                * display screen one format
         CALL      DISP1000               * display screen one detail
         GOTO      ML6000
.
. ---- screen two ----
.
ML6200   CALL      SCR2000                * display screen two format
         CALL      DISP2000               * display screen two detail
         GOTO      ML6000
.
.          ==================================================================
.          This section of code would be expanded or reduced as necessary to
.          provide the appropriate level of funtionality as required. The
.          level of functionality would also be reflected in the BRANCH
.          statement above. 
.          ==================================================================
.
ML9999   CHAIN     PGM                    * chain back to program
+
.****************************************************************************
.*                                INIT0000                                  *
.*                             initialization                               *
.*  The initialization routine is used to display headings and open files.  *
.*  Any other general initialization can also be performed here.            *
.****************************************************************************
INIT0000   
. ----  set up headings ----
. 
         CALL      DISPHEAD                * display heading
.
. =========================================================================
. Opening of files should be performed here.
. All files should be opened here.
. =========================================================================
.
INIT9999   DISPLAY    *P1:24,*EL
           RETURN
+
.****************************************************************************
.*                                OPTN0000                                  *
.*                        get user options or exit                          *
.****************************************************************************
OPTN0000
.
. =========================================================================
. This section would contain a menu showing methods of enquiry selection
. available to the user. This may be as simple as a one line menu, up to
. a menu with many options.
. =========================================================================
.
OPTN9999 RETURN
.
+
.***************************************************************************
.*                                HEAD0000                                 *
.*                        display basic header information                 *
.***************************************************************************
HEAD0000
.
. ==========================================================================
. This section would provide the facility of displaying all basic details
. required to the heading on the enquiry. This heading should remain constant
. thru all modes of enquiry.
.
. eg) For Patient Enquiry these details would be as follows :
.         - Admission Number
.         - U/R Number
.         - Name
.         - Sex
.         - Date Of Birth
.         - Age
.         - Ward & Doctor
.         - Discharge date
. =========================================================================
.
HEAD9999 RETURN
+
.***************************************************************************
.*                                SEL0000                                  *
.*                    display and select the desired screen                *
.***************************************************************************
SEL0000 
.
. =========================================================================
. This section would display a menu of all screen options and then allow
. the user to select which was desired. Each option would then be mapped to 
. a form field allowing branching to be performed after selection.
.
. eg) The initial Patient Enquiry Screen has the following:
.         - (E)xit                  -->  0
.         - (M)aster Index Details  -->  1
.         - (A)dmission Details     -->  2
.         - (D)ischarge Details     -->  3
.         - (B)illing               -->  4
.         - (I)nsurance             -->  5
.         - Medical (R)ecords       -->  6
.         - (T)ransfer              -->  7
.         - (P)rint                 -->  8
. =========================================================================
.
. =========================================================================
. Includes for all file I/O would be included here.
. Includes for all procedural routines would be included here.
. =========================================================================
.
DISP1000
DISP2000
SCR1000
SCR2000
ML6500
ML6400
ML6300
ML4000
ML3000
ML2000
         INC       STD001IO
