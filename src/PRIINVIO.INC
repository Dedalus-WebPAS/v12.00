.
.Mods:
.        V10.13.01 23/10/2018  J.Tan            TSK 0848506
.                  Fixed TRPRIN1 position for PRINTRAN
.        V10.04.01 21/01/2014  Patrick Adair    CAR 265844
.                  Increase PRA address and phone field lengths and add
.                  new fields for State and mobile phone
.         V5.07.01  09/06/1999  Greg Horvat
.                   Fixed the direct read as it wasn't returning after the
.                   read statement & reading the next record
.         V5.08.B01 01/02/2000  Steve Downing
.                   Added variables for GST
.
RSPRIN1   RESET     KEY8
          READ      PRIINVO1,KEY8;;
          RETURN
.
RAPRIN1   RESET     KEY8
          MOVE      ZERO,OVRCD
          READ      PRIINVO1,KEY8;ANS
          GOTO      OVERCOND IF OVER
          RETURN
.
RDPRIN1   RESET     KEY8
          MOVE      ZERO,OVRCD
          READ      PRIINVO1,KEY8;PRINNUMB,PRINDATE,PRINNAME,PRINDEBT:
                             DPRINSCN,DPRINUNQ,PRINPRAC,PRINDOCT,PRINCLAM:
                             PRINITOT,PRINPAMT,PRINHAMT,PRINIAMT,PRINMAMT:
                             PRINVAMT,PRINOTHA,PRINJAMT,PRINPEND,PRINTRAN:
                             PRINNAMR,PRINPRA1,PRINPRA2,PRINPRA3,PRINPRA4:
                             PRINPOST,PRINTELP,PRINTELB,PRINMPHN,PRINRELP:
                             PRINCNUM,PRINADTE,PRINGSTA,PRINGSTJ,PRINCNST:
                             PRINCNTT,PRINCDAT,PRINCTIM,PRINCUID,PRINUDAT:
                             PRINUTIM,PRINUUID,PRINSPAR
          GOTO      OVERCOND IF OVER
          MOVE      DPRINUNQ,PRINUNIQ
          MOVE      DPRINSCN,PRINSCAN
          RETURN
.
RKPRIN1   MOVE      ZERO,OVRCD
          READKS    PRIINVO1;PRINNUMB,PRINDATE,PRINNAME,PRINDEBT:
                             DPRINSCN,DPRINUNQ,PRINPRAC,PRINDOCT,PRINCLAM:
                             PRINITOT,PRINPAMT,PRINHAMT,PRINIAMT,PRINMAMT:
                             PRINVAMT,PRINOTHA,PRINJAMT,PRINPEND,PRINTRAN:
                             PRINNAMR,PRINPRA1,PRINPRA2,PRINPRA3,PRINPRA4:
                             PRINPOST,PRINTELP,PRINTELB,PRINMPHN,PRINRELP:
                             PRINCNUM,PRINADTE,PRINGSTA,PRINGSTJ,PRINCNST:
                             PRINCNTT,PRINCDAT,PRINCTIM,PRINCUID,PRINUDAT:
                             PRINUTIM,PRINUUID,PRINSPAR
          GOTO      OVERCOND IF OVER
          MOVE      DPRINSCN,PRINSCAN
          MOVE      DPRINUNQ,PRINUNIQ
          RETURN
.
RPPRIN1   MOVE      ZERO,OVRCD
          READKP    PRIINVO1;PRINNUMB,PRINDATE,PRINNAME,PRINDEBT:
                             DPRINSCN,DPRINUNQ,PRINPRAC,PRINDOCT,PRINCLAM:
                             PRINITOT,PRINPAMT,PRINHAMT,PRINIAMT,PRINMAMT:
                             PRINVAMT,PRINOTHA,PRINJAMT,PRINPEND,PRINTRAN:
                             PRINNAMR,PRINPRA1,PRINPRA2,PRINPRA3,PRINPRA4:
                             PRINPOST,PRINTELP,PRINTELB,PRINMPHN,PRINRELP:
                             PRINCNUM,PRINADTE,PRINGSTA,PRINGSTJ,PRINCNST:
                             PRINCNTT,PRINCDAT,PRINCTIM,PRINCUID,PRINUDAT:
                             PRINUTIM,PRINUUID,PRINSPAR
          GOTO      OVERCOND IF OVER
          MOVE      DPRINUNQ,PRINUNIQ
          MOVE      DPRINSCN,PRINSCAN
          RETURN
.
UPPRIN1   MOVE      PRINSCAN,DPRINSCN
          MOVE      PRINUNIQ,DPRINUNQ
          UPDATE    PRIINVO1;PRINNUMB,PRINDATE,PRINNAME,PRINDEBT:
                             DPRINSCN,DPRINUNQ,PRINPRAC,PRINDOCT,PRINCLAM:
                             PRINITOT,PRINPAMT,PRINHAMT,PRINIAMT,PRINMAMT:
                             PRINVAMT,PRINOTHA,PRINJAMT,PRINPEND,PRINTRAN:
                             PRINNAMR,PRINPRA1,PRINPRA2,PRINPRA3,PRINPRA4:
                             PRINPOST,PRINTELP,PRINTELB,PRINMPHN,PRINRELP:
                             PRINCNUM,PRINADTE,PRINGSTA,PRINGSTJ,PRINCNST:
                             PRINCNTT,PRINCDAT,PRINCTIM,PRINCUID,PRINUDAT:
                             PRINUTIM,PRINUUID,PRINSPAR
          RETURN
.
WRPRIN1   RESET     KEY8
          MOVE      PRINSCAN,DPRINSCN
          MOVE      PRINUNIQ,DPRINUNQ
          WRITE     PRIINVO1,KEY8;KEY8,PRINDATE,PRINNAME,PRINDEBT:
                             DPRINSCN,DPRINUNQ,PRINPRAC,PRINDOCT,PRINCLAM:
                             PRINITOT,PRINPAMT,PRINHAMT,PRINIAMT,PRINMAMT:
                             PRINVAMT,PRINOTHA,PRINJAMT,PRINPEND,PRINTRAN:
                             PRINNAMR,PRINPRA1,PRINPRA2,PRINPRA3,PRINPRA4:
                             PRINPOST,PRINTELP,PRINTELB,PRINMPHN,PRINRELP:
                             PRINCNUM,PRINADTE,PRINGSTA,PRINGSTJ,PRINCNST:
                             PRINCNTT,PRINCDAT,PRINCTIM,PRINCUID,PRINUDAT:
                             PRINUTIM,PRINUUID,PRINSPAR
          RETURN
.
TRPRIN1   MOVE      PRINNUMB,KEY8
          READL     PRIINVO1,KEY8;*132,PRINTRAN                                
          GOTO      OVERCOND IF OVER
          IF        @LOCKED
            DISPLAY   *W,"Waiting on priinvaf"
            GOTO      TRPRIN1
          ENDIF
          ADD       ONE,PRINTRAN
          UPDATE    PRIINVO1;*132,PRINTRAN
          UNLOCK    PRIINVO1
          SUB       ONE,PRINTRAN
          READ      PRIINVO1,KEY8;ANS
          RETURN
.
DEPRIN1   RESET     KEY8
          DELETE    PRIINVO1,KEY8
          RETURN
.
RSPRIN2   RESET     KEY16
          READ      PRIINVO2,KEY16;;
          RETURN
.
RAPRIN2   RESET     KEY16
          MOVE      ZERO,OVRCD
          READ      PRIINVO2,KEY16;ANS
          GOTO      OVERCOND IF OVER
          RETURN
.
RDPRIN2   RESET     KEY16
          MOVE      ZERO,OVRCD
          READ      PRIINVO2,KEY16;PRINNUMB,PRINDATE,PRINNAME,PRINDEBT:
                             DPRINSCN,DPRINUNQ,PRINPRAC,PRINDOCT,PRINCLAM:
                             PRINITOT,PRINPAMT,PRINHAMT,PRINIAMT,PRINMAMT:
                             PRINVAMT,PRINOTHA,PRINJAMT,PRINPEND,PRINTRAN:
                             PRINNAMR,PRINPRA1,PRINPRA2,PRINPRA3,PRINPRA4:
                             PRINPOST,PRINTELP,PRINTELB,PRINMPHN,PRINRELP:
                             PRINCNUM,PRINADTE,PRINGSTA,PRINGSTJ,PRINCNST:
                             PRINCNTT,PRINCDAT,PRINCTIM,PRINCUID,PRINUDAT:
                             PRINUTIM,PRINUUID,PRINSPAR
          GOTO      OVERCOND IF OVER
          MOVE      DPRINSCN,PRINSCAN
          MOVE      DPRINUNQ,PRINUNIQ
          RETURN
.
RKPRIN2   MOVE      ZERO,OVRCD
          READKS    PRIINVO2;PRINNUMB,PRINDATE,PRINNAME,PRINDEBT:
                             DPRINSCN,DPRINUNQ,PRINPRAC,PRINDOCT,PRINCLAM:
                             PRINITOT,PRINPAMT,PRINHAMT,PRINIAMT,PRINMAMT:
                             PRINVAMT,PRINOTHA,PRINJAMT,PRINPEND,PRINTRAN:
                             PRINNAMR,PRINPRA1,PRINPRA2,PRINPRA3,PRINPRA4:
                             PRINPOST,PRINTELP,PRINTELB,PRINMPHN,PRINRELP:
                             PRINCNUM,PRINADTE,PRINGSTA,PRINGSTJ,PRINCNST:
                             PRINCNTT,PRINCDAT,PRINCTIM,PRINCUID,PRINUDAT:
                             PRINUTIM,PRINUUID,PRINSPAR
          GOTO      OVERCOND IF OVER
          MOVE      DPRINSCN,PRINSCAN
          MOVE      DPRINUNQ,PRINUNIQ
          RETURN
.
RPPRIN2   MOVE      ZERO,OVRCD
          READKP    PRIINVO2;PRINNUMB,PRINDATE,PRINNAME,PRINDEBT:
                             DPRINSCN,DPRINUNQ,PRINPRAC,PRINDOCT,PRINCLAM:
                             PRINITOT,PRINPAMT,PRINHAMT,PRINIAMT,PRINMAMT:
                             PRINVAMT,PRINOTHA,PRINJAMT,PRINPEND,PRINTRAN:
                             PRINNAMR,PRINPRA1,PRINPRA2,PRINPRA3,PRINPRA4:
                             PRINPOST,PRINTELP,PRINTELB,PRINMPHN,PRINRELP:
                             PRINCNUM,PRINADTE,PRINGSTA,PRINGSTJ,PRINCNST:
                             PRINCNTT,PRINCDAT,PRINCTIM,PRINCUID,PRINUDAT:
                             PRINUTIM,PRINUUID,PRINSPAR
          GOTO      OVERCOND IF OVER
          MOVE      DPRINSCN,PRINSCAN
          MOVE      DPRINUNQ,PRINUNIQ
          RETURN
.
UPPRIN2   MOVE      PRINSCAN,DPRINSCN
          MOVE      PRINUNIQ,DPRINUNQ
          UPDATE    PRIINVO2;PRINNUMB,PRINDATE,PRINNAME,PRINDEBT:
                             DPRINSCN,DPRINUNQ,PRINPRAC,PRINDOCT,PRINCLAM:
                             PRINITOT,PRINPAMT,PRINHAMT,PRINIAMT,PRINMAMT:
                             PRINVAMT,PRINOTHA,PRINJAMT,PRINPEND,PRINTRAN:
                             PRINNAMR,PRINPRA1,PRINPRA2,PRINPRA3,PRINPRA4:
                             PRINPOST,PRINTELP,PRINTELB,PRINMPHN,PRINRELP:
                             PRINCNUM,PRINADTE,PRINGSTA,PRINGSTJ,PRINCNST:
                             PRINCNTT,PRINCDAT,PRINCTIM,PRINCUID,PRINUDAT:
                             PRINUTIM,PRINUUID,PRINSPAR
          RETURN
.
RSPRIN3   RESET     KEY18
          READ      PRIINVO3,KEY18;;
          RETURN
.
RAPRIN3   RESET     KEY18
          MOVE      ZERO,OVRCD
          READ      PRIINVO3,KEY18;ANS
          GOTO      OVERCOND IF OVER
          RETURN
.
RDPRIN3   RESET     KEY18
          MOVE      ZERO,OVRCD
          READ      PRIINVO3,KEY18;PRINNUMB,PRINDATE,PRINNAME,PRINDEBT:
                             DPRINSCN,DPRINUNQ,PRINPRAC,PRINDOCT,PRINCLAM:
                             PRINITOT,PRINPAMT,PRINHAMT,PRINIAMT,PRINMAMT:
                             PRINVAMT,PRINOTHA,PRINJAMT,PRINPEND,PRINTRAN:
                             PRINNAMR,PRINPRA1,PRINPRA2,PRINPRA3,PRINPRA4:
                             PRINPOST,PRINTELP,PRINTELB,PRINMPHN,PRINRELP:
                             PRINCNUM,PRINADTE,PRINGSTA,PRINGSTJ,PRINCNST:
                             PRINCNTT,PRINCDAT,PRINCTIM,PRINCUID,PRINUDAT:
                             PRINUTIM,PRINUUID,PRINSPAR
          GOTO      OVERCOND IF OVER
          MOVE      DPRINSCN,PRINSCAN
          MOVE      DPRINUNQ,PRINUNIQ
          RETURN
.
RKPRIN3   MOVE      ZERO,OVRCD
          READKS    PRIINVO3;PRINNUMB,PRINDATE,PRINNAME,PRINDEBT:
                             DPRINSCN,DPRINUNQ,PRINPRAC,PRINDOCT,PRINCLAM:
                             PRINITOT,PRINPAMT,PRINHAMT,PRINIAMT,PRINMAMT:
                             PRINVAMT,PRINOTHA,PRINJAMT,PRINPEND,PRINTRAN:
                             PRINNAMR,PRINPRA1,PRINPRA2,PRINPRA3,PRINPRA4:
                             PRINPOST,PRINTELP,PRINTELB,PRINMPHN,PRINRELP:
                             PRINCNUM,PRINADTE,PRINGSTA,PRINGSTJ,PRINCNST:
                             PRINCNTT,PRINCDAT,PRINCTIM,PRINCUID,PRINUDAT:
                             PRINUTIM,PRINUUID,PRINSPAR
          GOTO      OVERCOND IF OVER
          MOVE      DPRINSCN,PRINSCAN
          MOVE      DPRINUNQ,PRINUNIQ
          RETURN
.
RPPRIN3   MOVE      ZERO,OVRCD
          READKP    PRIINVO3;PRINNUMB,PRINDATE,PRINNAME,PRINDEBT:
                             DPRINSCN,DPRINUNQ,PRINPRAC,PRINDOCT,PRINCLAM:
                             PRINITOT,PRINPAMT,PRINHAMT,PRINIAMT,PRINMAMT:
                             PRINVAMT,PRINOTHA,PRINJAMT,PRINPEND,PRINTRAN:
                             PRINNAMR,PRINPRA1,PRINPRA2,PRINPRA3,PRINPRA4:
                             PRINPOST,PRINTELP,PRINTELB,PRINMPHN,PRINRELP:
                             PRINCNUM,PRINADTE,PRINGSTA,PRINGSTJ,PRINCNST:
                             PRINCNTT,PRINCDAT,PRINCTIM,PRINCUID,PRINUDAT:
                             PRINUTIM,PRINUUID,PRINSPAR
          GOTO      OVERCOND IF OVER
          MOVE      DPRINSCN,PRINSCAN
          MOVE      DPRINUNQ,PRINUNIQ
          RETURN
.
UPPRIN3   MOVE      PRINSCAN,DPRINSCN
          MOVE      PRINUNIQ,DPRINUNQ
          UPDATE    PRIINVO3;PRINNUMB,PRINDATE,PRINNAME,PRINDEBT:
                             DPRINSCN,DPRINUNQ,PRINPRAC,PRINDOCT,PRINCLAM:
                             PRINITOT,PRINPAMT,PRINHAMT,PRINIAMT,PRINMAMT:
                             PRINVAMT,PRINOTHA,PRINJAMT,PRINPEND,PRINTRAN:
                             PRINNAMR,PRINPRA1,PRINPRA2,PRINPRA3,PRINPRA4:
                             PRINPOST,PRINTELP,PRINTELB,PRINMPHN,PRINRELP:
                             PRINCNUM,PRINADTE,PRINGSTA,PRINGSTJ,PRINCNST:
                             PRINCNTT,PRINCDAT,PRINCTIM,PRINCUID,PRINUDAT:
                             PRINUTIM,PRINUUID,PRINSPAR
          RETURN
.
RSPRIN4   RESET     KEY34
          READ      PRIINVO4,KEY34;;
          RETURN
.
RAPRIN4   RESET     KEY34
          MOVE      ZERO,OVRCD
          READ      PRIINVO4,KEY34;ANS
          GOTO      OVERCOND IF OVER
          RETURN
.
RDPRIN4   RESET     KEY34
          MOVE      ZERO,OVRCD
          READ      PRIINVO4,KEY34;PRINNUMB,PRINDATE,PRINNAME,PRINDEBT:
                             DPRINSCN,DPRINUNQ,PRINPRAC,PRINDOCT,PRINCLAM:
                             PRINITOT,PRINPAMT,PRINHAMT,PRINIAMT,PRINMAMT:
                             PRINVAMT,PRINOTHA,PRINJAMT,PRINPEND,PRINTRAN:
                             PRINNAMR,PRINPRA1,PRINPRA2,PRINPRA3,PRINPRA4:
                             PRINPOST,PRINTELP,PRINTELB,PRINMPHN,PRINRELP:
                             PRINCNUM,PRINADTE,PRINGSTA,PRINGSTJ,PRINCNST:
                             PRINCNTT,PRINCDAT,PRINCTIM,PRINCUID,PRINUDAT:
                             PRINUTIM,PRINUUID,PRINSPAR
          GOTO      OVERCOND IF OVER
          MOVE      DPRINSCN,PRINSCAN
          MOVE      DPRINUNQ,PRINUNIQ
          RETURN
.
RKPRIN4   MOVE      ZERO,OVRCD
          READKS    PRIINVO4;PRINNUMB,PRINDATE,PRINNAME,PRINDEBT:
                             DPRINSCN,DPRINUNQ,PRINPRAC,PRINDOCT,PRINCLAM:
                             PRINITOT,PRINPAMT,PRINHAMT,PRINIAMT,PRINMAMT:
                             PRINVAMT,PRINOTHA,PRINJAMT,PRINPEND,PRINTRAN:
                             PRINNAMR,PRINPRA1,PRINPRA2,PRINPRA3,PRINPRA4:
                             PRINPOST,PRINTELP,PRINTELB,PRINMPHN,PRINRELP:
                             PRINCNUM,PRINADTE,PRINGSTA,PRINGSTJ,PRINCNST:
                             PRINCNTT,PRINCDAT,PRINCTIM,PRINCUID,PRINUDAT:
                             PRINUTIM,PRINUUID,PRINSPAR
          GOTO      OVERCOND IF OVER
          MOVE      DPRINSCN,PRINSCAN
          MOVE      DPRINUNQ,PRINUNIQ
          RETURN
.
RPPRIN4   MOVE      ZERO,OVRCD
          READKP    PRIINVO4;PRINNUMB,PRINDATE,PRINNAME,PRINDEBT:
                             DPRINSCN,DPRINUNQ,PRINPRAC,PRINDOCT,PRINCLAM:
                             PRINITOT,PRINPAMT,PRINHAMT,PRINIAMT,PRINMAMT:
                             PRINVAMT,PRINOTHA,PRINJAMT,PRINPEND,PRINTRAN:
                             PRINNAMR,PRINPRA1,PRINPRA2,PRINPRA3,PRINPRA4:
                             PRINPOST,PRINTELP,PRINTELB,PRINMPHN,PRINRELP:
                             PRINCNUM,PRINADTE,PRINGSTA,PRINGSTJ,PRINCNST:
                             PRINCNTT,PRINCDAT,PRINCTIM,PRINCUID,PRINUDAT:
                             PRINUTIM,PRINUUID,PRINSPAR
          GOTO      OVERCOND IF OVER
          MOVE      DPRINSCN,PRINSCAN
          MOVE      DPRINUNQ,PRINUNIQ
          RETURN
