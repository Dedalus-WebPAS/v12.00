. *----------------------------------------------------------------------
. * Include Name  :   WEBB2BTM.INC
. *
. * Function      :   CGI variables for WEBB2BFD - webb2baf.dat
. *----------------------------------------------------------------------
.  Modifications Done :
.------------------------------------------------------------------------
.  V11.00.02  29/06/2020  Peter Vela    Task 0892408
.             Added Hospital Description
.  V11.00.01  23/06/2020  Peter Vela    Task 0892408
.             Created include
.------------------------------------------------------------------------
.
.------------------------------------------------------------
.clear cgi vars for webservices proda b2b device file
.------------------------------------------------------------
CPWEB200  MOVE      Z70,WEB2B001
          MOVE      Z70,WEB2B002
          MOVE      Z70,WEB2B003
          MOVE      Z70,WEB2B004
          PACK      WEB2B005,Z70,Z70,Z70
          PACK      WEB2B006,Z70,Z70,Z70
.         MOVE      Z70,WEB2B007
          MOVE      Z70,WEB2B008
.         MOVE      Z70,WEB2B009
.         MOVE      Z70,WEB2B010
.         MOVE      Z70,WEB2B011
.         MOVE      Z70,WEB2B012
.         MOVE      Z70,WEB2B013
.         MOVE      Z70,WEB2B014
.         MOVE      Z70,WEB2B015
.         MOVE      Z70,WEB2B016
.         MOVE      Z70,WEB2B017
          MOVE      Z70,WEB2B018
.         MOVE      Z70,WEB2B019
.         MOVE      Z70,WEB2B020
.         MOVE      Z70,WEB2B021
.         MOVE      Z70,WEB2B022
.         MOVE      Z70,WEB2B023
.         MOVE      Z70,WEB2B024
.
CPWEB299  RETURN
.------------------------------------------------------------
. Add webservices proda b2b device file
.------------------------------------------------------------
WEB20000  BRANCH    FLDITMNO,WEB20100,WEB20200,WEB20300,WEB20400,WEB20500:
                             WEB20600,WEB20700,WEB20800,WEB20900,WEB21000:
                             WEB21100,WEB21200,WEB21300,WEB21400,WEB21500:
                             WEB21600,WEB21700,WEB21800,WEB21900,WEB22000:
                             WEB22100,WEB22200,WEB22300,WEB22400,WEB22500
.
          WRITE     HTMLFILE;"Invalid IBA Tag";
          GOTO      WEB29999
.
WEB20100  WRITE     HTMLFILE;WBB2DNAM;
          GOTO      WEB29999
.
WEB20200  WRITE     HTMLFILE;WBB2ORGR;
          GOTO      WEB29999
.
WEB20300  WRITE     HTMLFILE;WBB2LOCN;
          GOTO      WEB29999
.
WEB20400  WRITE     HTMLFILE;WBB2HOSP;
          GOTO      WEB29999
.
WEB20500  WRITE     HTMLFILE;WBB2ORGN;
          GOTO      WEB29999
.
WEB20600  WRITE     HTMLFILE;WBB2DDES;
          GOTO      WEB29999
.
WEB20700  WRITE     HTMLFILE;WBB2DSTA;
          GOTO      WEB29999
.
WEB20800  WRITE     HTMLFILE;WBB2DGDT;
          GOTO      WEB29999
.
WEB20900  WRITE     HTMLFILE;WBB2DEDT;
          GOTO      WEB29999
.
WEB21000  WRITE     HTMLFILE;WBB2ADKS;
          GOTO      WEB29999
.
WEB21100  WRITE     HTMLFILE;WBB2ADKE;
          GOTO      WEB29999
.
WEB21200  WRITE     HTMLFILE;WBB2ADDE;
          GOTO      WEB29999
.
WEB21300  WRITE     HTMLFILE;WBB2GTTK;
          GOTO      WEB29999
.
WEB21400  WRITE     HTMLFILE;WBB2GTDE;
          GOTO      WEB29999
.
WEB21500  WRITE     HTMLFILE;WBB2GTKE;
          GOTO      WEB29999
.
WEB21600  WRITE     HTMLFILE;WBB2GTBR;
          GOTO      WEB29999
.
WEB21700  WRITE     HTMLFILE;WBB2GTEX;
          GOTO      WEB29999
.
WEB21800  WRITE     HTMLFILE;WBB2DPTH;
          GOTO      WEB29999
.
WEB21900  WRITE     HTMLFILE;WBB2CUID;
          GOTO      WEB29999
.
WEB22000  MATCH     WBB2CDAT,SP70
          GOTO      WEB29999 IF EQUAL
.
          UNPACK    WBB2CDAT,CCENT,CYEAR,CMON,CDAY
          MOVE      CMON,F2
          LOAD      MTHNAM3,F2,JAN,FEB,MAR,APR,MAY,JUN,JUL,AUG,SEP,OCT,NOV,DEC
          WRITE     HTMLFILE;CDAY,SP1,MTHNAM3,SP1,CCENT,CYEAR;
          GOTO      WEB29999
.
WEB22100  WRITE     HTMLFILE;WBB2CTIM;
          GOTO      WEB29999
.
WEB22200  WRITE     HTMLFILE;WBB2UUID;
          GOTO      WEB29999
.
WEB22300  MATCH     WBB2UDAT,SP70
          GOTO      WEB29999 IF EQUAL
.
          UNPACK    WBB2UDAT,CCENT,CYEAR,CMON,CDAY
          MOVE      CMON,F2
          LOAD      MTHNAM3,F2,JAN,FEB,MAR,APR,MAY,JUN,JUL,AUG,SEP,OCT,NOV,DEC
          WRITE     HTMLFILE;CDAY,SP1,MTHNAM3,SP1,CCENT,CYEAR;
          GOTO      WEB29999
.
WEB22400  WRITE     HTMLFILE;WBB2UUID;
          GOTO      WEB29999
.
WEB22500  MATCH     SP70,WBB2HOSP
          GOTO      WEB29999 IF EQUAL
.
          PACK      KEY3,WBB2HOSP,SP70
          CALL      RDPTHSP1
          IF        OVRCD=0
            WRITE     HTMLFILE;PTHSNAME; 
          ENDIF
          GOTO      WEB29999
.
WEB29999  RETURN
.
.------------------------------------------------------------
.   Set Parameters for webservices proda b2b device table file
.------------------------------------------------------------
SPWEB000  MOVE      ZERO,EXIT
          UNPACK    QRYNAME,KEY5,KEY3
          MOVE      KEY3,F3
          BRANCH    F3,SPWEB001,SPWEB002,SPWEB003,SPWEB004,SPWEB005:
                       SPWEB006,SPWEB007,SPWEB008,SPWEB009,SPWEB010:
                       SPWEB011,SPWEB012,SPWEB013,SPWEB014,SPWEB015:
                       SPWEB016,SPWEB017,SPWEB018,SPWEB019,SPWEB020:
                       SPWEB021,SPWEB022,SPWEB023,SPWEB024
.
          MOVE      ONE,EXIT
          GOTO      SPWEB999
.
SPWEB001  PACK      WEB2B001,QRYDATA,SP70
          GOTO      SPWEB999
.
SPWEB002  PACK      WEB2B002,QRYDATA,SP70
          GOTO      SPWEB999
.
SPWEB003  PACK      WEB2B003,QRYDATA,SP70
          GOTO      SPWEB999
.
SPWEB004  PACK      WEB2B004,QRYDATA,SP70
          GOTO      SPWEB999
.
SPWEB005  PACK      WEB2B005,QRYDATA,SP70
          GOTO      SPWEB999
.
SPWEB006  PACK      WEB2B006,QRYDATA,SP70
          GOTO      SPWEB999
.
SPWEB007  PACK      WEB2B007,QRYDATA,SP70
          GOTO      SPWEB999
.
SPWEB008  PACK      WEB2B008,QRYDATA,SP70
          GOTO      SPWEB999
.
SPWEB009  PACK      WEB2B009,QRYDATA,SP70
          GOTO      SPWEB999
.
SPWEB010  PACK      WEB2B010,QRYDATA,SP70
          GOTO      SPWEB999
.
SPWEB011  PACK      WEB2B011,QRYDATA,SP70
          GOTO      SPWEB999
.
SPWEB012  PACK      WEB2B012,QRYDATA,SP70
          GOTO      SPWEB999
.
SPWEB013  PACK      WEB2B013,QRYDATA,SP70
          GOTO      SPWEB999
.
SPWEB014  PACK      WEB2B014,QRYDATA,SP70
          GOTO      SPWEB999
.
SPWEB015  PACK      WEB2B015,QRYDATA,SP70
          GOTO      SPWEB999
.
SPWEB016  PACK      WEB2B016,QRYDATA,SP70
          GOTO      SPWEB999
.
SPWEB017  PACK      WEB2B017,QRYDATA,SP70
          GOTO      SPWEB999
.
SPWEB018  PACK      WEB2B018,QRYDATA,SP70
          GOTO      SPWEB999
.
SPWEB019  PACK      WEB2B019,QRYDATA,SP70
          GOTO      SPWEB999
.
SPWEB020  UNPACK    QRYDATA,CDAY,KEY1,MTHNAM3,KEY1,CCENT,CYEAR
          CALL      SETMTH00                *Set CMON from MTHNAM3
          PACK      WEB2B020,CCENT,CYEAR,CMON,CDAY
          GOTO      SPWEB999
.
SPWEB021  MOVE      QRYDATA,WEB2B021
          GOTO      SPWEB999
.
SPWEB022  MOVE      QRYDATA,WEB2B022
          GOTO      SPWEB999
.
SPWEB023  UNPACK    QRYDATA,CDAY,KEY1,MTHNAM3,KEY1,CCENT,CYEAR
          CALL      SETMTH00                *Set CMON from MTHNAM3
          PACK      WEB2B023,CCENT,CYEAR,CMON,CDAY
          GOTO      SPWEB999
.
SPWEB024  MOVE      QRYDATA,WEB2B024
          GOTO      SPWEB999
.
SPWEB999  RETURN  
.
.------------------------------------------------------------
.  Update webservices proda b2b device table file
.------------------------------------------------------------
MVWEB200  MATCH     WEB2B001,Z70
          IF        !@EQUAL
            MOVE      WEB2B001,WBB2DNAM
          ENDIF
. 
          MATCH     WEB2B002,Z70
          IF        !@EQUAL
            MOVE      WEB2B002,WBB2ORGR
          ENDIF
. 
          MATCH     WEB2B003,Z70
          IF        !@EQUAL
            MOVE      WEB2B003,WBB2LOCN
          ENDIF
. 
          MATCH     WEB2B004,Z70
          IF        !@EQUAL
            MOVE      WEB2B004,WBB2HOSP
          ENDIF
. 
          MATCH     WEB2B005,Z70
          IF        !@EQUAL
            MOVE      WEB2B005,WBB2ORGN
          ENDIF
. 
          MATCH     WEB2B006,Z70
          IF        !@EQUAL
            MOVE      WEB2B006,WBB2DDES
          ENDIF
. 
.         MATCH     WEB2B007,Z70
.         IF        !@EQUAL
.           MOVE      WEB2B007,WBB2DSTA
.         ENDIF
. 
          MATCH     WEB2B008,Z70
          IF        !@EQUAL
            MOVE      WEB2B008,WBB2DGDT
          ENDIF
. 
.         MATCH     WEB2B009,Z70
.         IF        !@EQUAL
.           MOVE      WEB2B009,WBB2DEDT
.         ENDIF
. 
.         MATCH     WEB2B010,Z70
.         IF        !@EQUAL
.           MOVE      WEB2B010,WBB2ADKS
.         ENDIF
. 
.         MATCH     WEB2B011,Z70
.         IF        !@EQUAL
.           MOVE      WEB2B011,WBB2ADKE
.         ENDIF
. 
.         MATCH     WEB2B012,Z70
.         IF        !@EQUAL
.           MOVE      WEB2B012,WBB2ADDE
.         ENDIF
. 
.         MATCH     WEB2B013,Z70
.         IF        !@EQUAL
.           MOVE      WEB2B013,WBB2GTTK
.         ENDIF
. 
.         MATCH     WEB2B014,Z70
.         IF        !@EQUAL
.           MOVE      WEB2B014,WBB2GTDE
.         ENDIF
. 
.         MATCH     WEB2B015,Z70
.         IF        !@EQUAL
.           MOVE      WEB2B015,WBB2GTKE
.         ENDIF
. 
.         MATCH     WEB2B016,Z70
.         IF        !@EQUAL
.           MOVE      WEB2B016,WBB2GTBR
.         ENDIF
. 
.         MATCH     WEB2B017,Z70
.         IF        !@EQUAL
.           MOVE      WEB2B017,WBB2GTEX
.         ENDIF
. 
          MATCH     WEB2B018,Z70
          IF        !@EQUAL
            MOVE      WEB2B018,WBB2DPTH
          ENDIF
. 
.         MATCH     WEB2B019,Z70
.         IF        !@EQUAL
.           MOVE      WEB2B019,WBB2CUID
.         ENDIF
. 
.         MATCH     WEB2B020,Z70
.         IF        !@EQUAL
.           MOVE      WEB2B020,WBB2CDAT
.         ENDIF
. 
.         MATCH     WEB2B021,Z70
.         IF        !@EQUAL
.           MOVE      WEB2B021,WBB2CTIM
.         ENDIF
. 
.         MATCH     WEB2B022,Z70
.         IF        !@EQUAL
.           MOVE      WEB2B022,WBB2UUID
.         ENDIF
.
.         MATCH     WEB2B023,Z70
.         IF        !@EQUAL
.           MOVE      WEB2B023,WBB2UDAT
.         ENDIF
.
.         MATCH     WEB2B024,Z70
.         IF        !@EQUAL
.           MOVE      WEB2B024,WBB2UTIM
.         ENDIF
.
MVWEB299  RETURN
.
