.
.  ****************************************************************************
.  *                                                                          *
.  *     Include Name : WATCONTM.PBL                                          *
.  *                                                                          *
.  *     Function     : File Definition include for                           *
.  *                    Waiting List    Control File cgi variable functions   *
.  *                                                                          *
.  *     Modifications:                                                       *
.  *      V10.11.01 16/08/2017  Davin          TSK 0837617                    *
.  *                Added HL7 Triggers WTCNI12M,WTCNI13M,WTCNI14M (S.111/P.32)*
.  *                                   WATCN014,WATCN015,WATCN016             *
.  *      V10.09.01 01/12/2014  Ken Bell       TSK 0813230                    *
.  *                Added WATCN012 - WTCNBRSR UDF for Booking Referral Source *
.  *                Added WATCN013 - WTCNCSID Destination for CPAC Scoring Id *
.  *      V10.05.01 30/09/2014  Don Nguyen     CAR 303882                     *
.  *                Added WATCN011 - Next NBRS Extract Batch Number           *
.  *      V10.03.01 26/07/2012 Jill Parkinson CAR 267503                      *
.  *                Added WATCN010                                            *
.  *      V10.02.01 05/10/2011  Mike Laming      CAR 246036                   *
.  *                Added HL7 Triggers WATCN007(A05) WATCN008(A08) WATCN009(A38)
.  *      V10.00.01 11/10/2010  Ebon Clements    CAR 169450                   *
.  *                Added WATCN005 and WATCN006                               *
.  *      V9.09.01  27/02/2008  Jill Habasque  CAR 142726                     *
.  *                Added WATCN004 - Using ESIS RFC calculation               *
.  *      V9.04.02  27/09/2005  Ebon Clements  CAR 75351                      *
.  *                Added WATCN003 - Procedure code/HDP for NBRS extract      *
.  *      V9.04.01  25/01/2005  Davin          CAR 54869                      *
.  *                Added watcn002/hwdsour - Source of Ref. when admitting    *
.  *      V9.03.00  09/11/2003  Jill Habasque  CAR 54731                      *
.  *                Created include                                           *
.  ****************************************************************************
.
.------------------------------------------------------------------------
.   Clear Parameters for WATCONFD
.------------------------------------------------------------------------
CPWL0000  MOVE      Z70,WATCN001
          MOVE      Z70,WATCN002
          MOVE      Z70,WATCN003
          MOVE      Z70,WATCN004
          MOVE      Z70,WATCN005
          MOVE      Z70,WATCN006
          MOVE      Z70,WATCN007
          MOVE      Z70,WATCN008
          MOVE      Z70,WATCN009
          MOVE      Z70,WATCN010
          MOVE      Z70,WATCN011
          MOVE      Z70,WATCN012
          MOVE      Z70,WATCN013
          MOVE      Z70,WATCN014
          MOVE      Z70,WATCN015
          MOVE      Z70,WATCN016
.
CPWL9999  RETURN
.
.------------------------------------------------------------
. Display fields from WATCONFD
.------------------------------------------------------------
WLCN0000  BRANCH    FLDITMNO,WLCN0010,WLCN0020,WLCN0030,WLCN0040,WLCN0050:
                             WLCN0060,WLCN0070,WLCN0080,WLCN0090,WLCN0100:
                             WLCN0110,WLCN0120,WLCN0130,WLCN0140,WLCN0150:
                             WLCN0160
.
          WRITE     HTMLFILE;"Invalid IBA Tag";
          GOTO      WLCN9999
.
WLCN0010  WRITE     HTMLFILE;WTCNECNT;
          GOTO      WLCN9999
.
WLCN0020  MOVE      "S ",CATEGORY
          MOVE      HWDSOUR,CODE           
          CALL      CODITM00
          GOTO      WLCN9999
.
WLCN0030  WRITE     HTMLFILE;WTCNPCOD;
          GOTO      WLCN9999
.
WLCN0040  WRITE     HTMLFILE;WTCNERFC;
          GOTO      WLCN9999
.
WLCN0050  WRITE     HTMLFILE;WTCNPACC;
          GOTO      WLCN9999
.
WLCN0060  WRITE     HTMLFILE;WTCNPASC;
          GOTO      WLCN9999
.
WLCN0070  WRITE     HTMLFILE;WTCNA05M;
          GOTO      WLCN9999
.
WLCN0080  WRITE     HTMLFILE;WTCNA08M;
          GOTO      WLCN9999
.
WLCN0090  WRITE     HTMLFILE;WTCNA38M;
          GOTO      WLCN9999
.
WLCN0100  WRITE     HTMLFILE;WTCNNRTS;
          GOTO      WLCN9999
.
WLCN0110  WRITE     HTMLFILE;"Invalid IBA Tag";
          GOTO      WLCN9999
.
WLCN0120  WRITE     HTMLFILE;WTCNBRSR;
          GOTO      WLCN9999
.
WLCN0130  WRITE     HTMLFILE;WTCNCSID;
          GOTO      WLCN9999
.
WLCN0140  WRITE     HTMLFILE;WTCNI12M;
          GOTO      WLCN9999
.
WLCN0150  WRITE     HTMLFILE;WTCNI13M;
          GOTO      WLCN9999
.
WLCN0160  WRITE     HTMLFILE;WTCNI14M;
          GOTO      WLCN9999
.
WLCN9999  RETURN
.
.------------------------------------------------------------
.   Set Parameters for WATCONFD
.------------------------------------------------------------
SPWAT000  MOVE      ZERO,EXIT
          UNPACK    QRYNAME,KEY5,KEY3
          MOVE      KEY3,F3
          BRANCH    F3,SPWAT001,SPWAT002,SPWAT003,SPWAT004,SPWAT005:
                       SPWAT006,SPWAT007,SPWAT008,SPWAT009,SPWAT010:
                       SPWAT011,SPWAT012,SPWAT013,SPWAT014,SPWAT015:
                       SPWAT016
.
          MOVE      ONE,EXIT
          GOTO      SPWAT999
.
SPWAT001  MOVE      QRYDATA,WATCN001
          GOTO      SPWAT999
.
SPWAT002  MOVE      QRYDATA,WATCN002
          GOTO      SPWAT999
.
SPWAT003  MOVE      QRYDATA,WATCN003
          GOTO      SPWAT999
.
SPWAT004  MOVE      QRYDATA,WATCN004
          GOTO      SPWAT999
.
SPWAT005  MOVE      QRYDATA,WATCN005
          GOTO      SPWAT999
.
SPWAT006  MOVE      QRYDATA,WATCN006
          GOTO      SPWAT999
.
SPWAT007  MOVE      QRYDATA,WATCN007
          GOTO      SPWAT999
.
SPWAT008  MOVE      QRYDATA,WATCN008
          GOTO      SPWAT999
.
SPWAT009  MOVE      QRYDATA,WATCN009
          GOTO      SPWAT999
.
SPWAT010  MOVE      QRYDATA,WATCN010
          GOTO      SPWAT999
.
SPWAT011  MOVE      QRYDATA,WATCN011
          GOTO      SPWAT999
.
SPWAT012  MOVE      QRYDATA,WATCN012
          GOTO      SPWAT999
.
SPWAT013  MOVE      QRYDATA,WATCN013
          GOTO      SPWAT999
.
SPWAT014  MOVE      QRYDATA,WATCN014
          GOTO      SPWAT999
.
SPWAT015  MOVE      QRYDATA,WATCN015
          GOTO      SPWAT999
.
SPWAT016  MOVE      QRYDATA,WATCN016
          GOTO      SPWAT999
.
SPWAT999  RETURN
.
.------------------------------------------------------------
.  Update WATCONFD file variables
.------------------------------------------------------------
MVWL0000  MATCH     Z70,WATCN001
          IF        !@EQUAL
            MOVE      WATCN001,WTCNECNT
          ENDIF
.
          MATCH     Z70,WATCN002
          IF        !@EQUAL
            MOVE      WATCN002,HWDSOUR
          ENDIF
.
          MATCH     Z70,WATCN003
          IF        !@EQUAL
            MOVE      WATCN003,WTCNPCOD
          ENDIF
.
          MATCH     Z70,WATCN004
          IF        !@EQUAL
            MOVE      WATCN004,WTCNERFC
          ENDIF
.
          MATCH     Z70,WATCN005
          IF        !@EQUAL
            MOVE      WATCN005,WTCNPACC
          ENDIF
.
          MATCH     Z70,WATCN006
          IF        !@EQUAL
            MOVE      WATCN006,WTCNPASC
          ENDIF
.
          MATCH     Z70,WATCN007
          IF        !@EQUAL
            MOVE      WATCN007,WTCNA05M
          ENDIF
.
          MATCH     Z70,WATCN008
          IF        !@EQUAL
            MOVE      WATCN008,WTCNA08M
          ENDIF
.
          MATCH     Z70,WATCN009
          IF        !@EQUAL
            MOVE      WATCN009,WTCNA38M
          ENDIF
.
          MATCH     Z70,WATCN010
          IF        !@EQUAL
            MOVE      WATCN010,WTCNNRTS
          ENDIF
.
          MATCH     Z70,WATCN011
          IF        !@EQUAL
            MOVE      WATCN011,PTCNBRSB
          ENDIF
.
          MATCH     Z70,WATCN012
          IF        !@EQUAL
            MOVE      WATCN012,WTCNBRSR
          ENDIF
.
          MATCH     Z70,WATCN013
          IF        !@EQUAL
            MOVE      WATCN013,WTCNCSID
          ENDIF
.
          MATCH     Z70,WATCN014
          IF        !@EQUAL
            MOVE      WATCN014,WTCNI12M
          ENDIF
.
          MATCH     Z70,WATCN015
          IF        !@EQUAL
            MOVE      WATCN015,WTCNI13M
          ENDIF
.
          MATCH     Z70,WATCN016
          IF        !@EQUAL
            MOVE      WATCN016,WTCNI14M
          ENDIF
.
MVWL9999  RETURN
