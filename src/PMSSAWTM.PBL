. *----------------------------------------------------------------------
. * Include Name  :   PMSSAWTM.PBL
. *
. * Function      :   CGI variables for PMSSAWFD - pmssawaf.dat
. *
. * Includes Needed : PMSSAWFD - ABF Sub-Acute Price Weights
. *                   PMSSAWIO - IO for ABF Sub-Acute Price Weights
. * Modifications :
. * V11.02.01 19/08/2022 Bella Turco     TSK 0906597
. *           Adjusted code for CGI rearrangement of PMSAW004/PMSACCOD
. * V11.02.00 02/08/2022 Bella Turco     TSK 0906597
. *           Created
. *----------------------------------------------------------------------
.
.------------------------------------------------------------------------
.   Clear CGIs for ABF Sub-Acute Price Weights
.------------------------------------------------------------------------
.
CLCSAW00  MOVE      SP70,PMSAW001
          MOVE      SP70,PMSAW002
          MOVE      SP70,PMSAW003
          MOVE      SP70,PMSAW004
          MOVE      SP70,PMSAW005
          MOVE      SP70,PMSAW006
          MOVE      SP70,PMSAW007
          MOVE      ZERO,PMSAW008
          MOVE      ZERO,PMSAW009
          MOVE      ZERO,PMSAW010
          MOVE      ZERO,PMSAW011
          MOVE      ZERO,PMSAW012
          MOVE      ZERO,PMSAW013
          MOVE      ZERO,PMSAW014
          MOVE      SP70,PMSAW015
          MOVE      SP70,PMSAW016
          MOVE      SP70,PMSAW017
          MOVE      SP70,PMSAW018
          MOVE      SP70,PMSAW019
          MOVE      SP70,PMSAW020
.
CLCSAW99  RETURN
.
.------------------------------------------------------------------------
.   Clear Parameters for ABF Sub-Acute Price Weights
.------------------------------------------------------------------------
.
CLRSAW00  MOVE      SP70,PMSACNTR
          MOVE      SP70,PMSACLCD
          MOVE      SP70,PMSAASVR
          MOVE      SP70,PMSACCOD
          MOVE      SP70,PMSAADSC
          MOVE      SP70,PMSAEDSC
          MOVE      SP70,PMSASDOV
          MOVE      ZERO,PMSAALOS
          MOVE      ZERO,PMSALBIN
          MOVE      ZERO,PMSAUBIN
          MOVE      ZERO,PMSASDPW
          MOVE      ZERO,PMSASSOP
          MOVE      ZERO,PMSAINPW
          MOVE      ZERO,PMSALSOP
          MOVE      SP70,PMSACDAT
          MOVE      SP70,PMSACTIM
          MOVE      SP70,PMSACUID
          MOVE      SP70,PMSAUDAT
          MOVE      SP70,PMSAUTIM
          MOVE      SP70,PMSAUUID
.
CLRSAW99  RETURN
.
.------------------------------------------------------------
. ABF Sub-Acute Price Weight Fields
.------------------------------------------------------------
PMSA0000  BRANCH    FLDITMNO,PMSA0010,PMSA0020,PMSA0030,PMSA0040,PMSA0050:
                             PMSA0060,PMSA0070,PMSA0080,PMSA0090,PMSA0100:
                             PMSA0110,PMSA0120,PMSA0130,PMSA0140,PMSA0150:
                             PMSA0160,PMSA0170,PMSA0180,PMSA0190,PMSA0200
.
          WRITE     HTMLFILE;"Invalid IBA Tag";
          GOTO      PMSA9999
.
PMSA0010  UNPACK    DIM127,D1,KEY1,DIM127        * Contract ID
          MOVE      KEY1,F1
          BRANCH    F1,PMSA0012
.
          WRITE     HTMLFILE;PMSACNTR;
          GOTO      PMSA9999
.
PMSA0012  PACK      KEY6,PMSACNTR,SP70           * Contract ID Description
          CALL      RDPMCID1
          BRANCH    OVRCD,PMSA9999
.
          WRITE     HTMLFILE;PMCIDESC;
          GOTO      PMSA9999
.
PMSA0020  UNPACK    DIM127,D1,KEY1,DIM127
          MOVE      ZERO,F1
          MOVE      KEY1,F1
          BRANCH    F1,PMSA0021,PMSA0030
.
          PACK      KEY13,PMSACLCD,PMSAASVR,PMSACCOD,PMSACNTR,SP70
          CALL      RDPMSAW2
          BRANCH    OVRCD,PMSA9999
.
          WRITE     HTMLFILE;PMSAADSC;
          GOTO      PMSA9999
.
PMSA0021  WRITE     HTMLFILE;PMSACLCD;
          GOTO      PMSA9999
.
PMSA0030  WRITE     HTMLFILE;PMSAASVR;
          GOTO      PMSA9999
.
PMSA0040  WRITE     HTMLFILE;PMSACCOD;
          GOTO      PMSA9999
.
PMSA0050  WRITE     HTMLFILE;PMSAADSC;
          GOTO      PMSA9999
.
PMSA0060  WRITE     HTMLFILE;PMSAEDSC;
          GOTO      PMSA9999
.
PMSA0070  MATCH     "1",PMSASDOV
          IF        !@EQUAL
            MOVE      "0",PMSASDOV
          ENDIF
          WRITE     HTMLFILE;PMSASDOV;
          GOTO      PMSA9999
.
PMSA0080  WRITE     HTMLFILE;PMSAALOS;
          GOTO      PMSA9999
.
PMSA0090  WRITE     HTMLFILE;PMSALBIN;
          GOTO      PMSA9999
.
PMSA0100  WRITE     HTMLFILE;PMSAUBIN;
          GOTO      PMSA9999
.
PMSA0110  WRITE     HTMLFILE;PMSASDPW;
          GOTO      PMSA9999
.
PMSA0120  WRITE     HTMLFILE;PMSASSOP;
          GOTO      PMSA9999
.
PMSA0130  WRITE     HTMLFILE;PMSAINPW;
          GOTO      PMSA9999
.
PMSA0140  WRITE     HTMLFILE;PMSALSOP;
          GOTO      PMSA9999
.
PMSA0150  WRITE     HTMLFILE;PMSACDAT;
          GOTO      PMSA9999
.
PMSA0160  WRITE     HTMLFILE;PMSACTIM;
          GOTO      PMSA9999
.
PMSA0170  WRITE     HTMLFILE;PMSACUID;
          GOTO      PMSA9999
.
PMSA0180  WRITE     HTMLFILE;PMSAUDAT;
          GOTO      PMSA9999
.
PMSA0190  WRITE     HTMLFILE;PMSAUTIM;
          GOTO      PMSA9999
.
PMSA0200  WRITE     HTMLFILE;PMSAUUID;
          GOTO      PMSA9999
.
PMSA9999  RETURN
.
.------------------------------------------------------------
.   Set Parameters for ABF Sub-Acute Price Weights
.------------------------------------------------------------
SPPSA000  MOVE      ZERO,EXIT
          UNPACK    QRYNAME,KEY5,KEY3
          MOVE      KEY3,F3
          BRANCH    F3,SPPSA001,SPPSA002,SPPSA003,SPPSA004,SPPSA005:
                       SPPSA006,SPPSA007,SPPSA008,SPPSA009,SPPSA010:
                       SPPSA011,SPPSA012,SPPSA013,SPPSA014,SPPSA015:
                       SPPSA016,SPPSA017,SPPSA018,SPPSA019,SPPSA020
.
          MOVE      ONE,EXIT
          GOTO      SPPSA999
.
SPPSA001  MOVE      QRYDATA,PMSAW001
          PACK      PMSAW001,PMSAW001,SP70
          GOTO      SPPSA999
.
SPPSA002  MOVE      QRYDATA,PMSAW002
          PACK      PMSAW002,PMSAW002,SP70
          GOTO      SPPSA999
.
SPPSA003  MOVE      QRYDATA,PMSAW003
          PACK      PMSAW003,PMSAW003,SP70
          GOTO      SPPSA999
.
SPPSA004  MOVE      QRYDATA,PMSAW004
          PACK      PMSAW004,PMSAW004,SP70
          GOTO      SPPSA999
.
SPPSA005  MOVE      QRYDATA,PMSAW005
          PACK      PMSAW005,PMSAW005,SP70
          GOTO      SPPSA999
.
SPPSA006  MOVE      QRYDATA,PMSAW006
          PACK      PMSAW006,PMSAW006,SP70
          GOTO      SPPSA999
.
SPPSA007  MOVE      QRYDATA,PMSAW007
          PACK      PMSAW007,PMSAW007,SP70
          GOTO      SPPSA999
.
SPPSA008  SQUEEZE   QRYDATA
          MOVE      QRYDATA,PMSAW008
          GOTO      SPPSA999
.
SPPSA009  SQUEEZE   QRYDATA
          MOVE      QRYDATA,PMSAW009
          GOTO      SPPSA999
.
SPPSA010  SQUEEZE   QRYDATA
          MOVE      QRYDATA,PMSAW010
          GOTO      SPPSA999
.
SPPSA011  SQUEEZE   QRYDATA
          MOVE      QRYDATA,PMSAW011
          GOTO      SPPSA999
.
SPPSA012  SQUEEZE   QRYDATA
          MOVE      QRYDATA,PMSAW012
          GOTO      SPPSA999
.
SPPSA013  SQUEEZE   QRYDATA
          MOVE      QRYDATA,PMSAW013
          GOTO      SPPSA999
.
SPPSA014  SQUEEZE   QRYDATA
          MOVE      QRYDATA,PMSAW014
          GOTO      SPPSA999
.
SPPSA015  MOVE      QRYDATA,PMSAW015
          PACK      PMSAW015,PMSAW015,SP70
          GOTO      SPPSA999
.
SPPSA016  MOVE      QRYDATA,PMSAW016
          PACK      PMSAW016,PMSAW016,SP70
          GOTO      SPPSA999
.
SPPSA017  MOVE      QRYDATA,PMSAW017
          PACK      PMSAW017,PMSAW017,SP70
          GOTO      SPPSA999
.
SPPSA018  MOVE      QRYDATA,PMSAW018
          PACK      PMSAW018,PMSAW018,SP70
          GOTO      SPPSA999
.
SPPSA019  MOVE      QRYDATA,PMSAW019
          PACK      PMSAW019,PMSAW019,SP70
          GOTO      SPPSA999
.
SPPSA020  MOVE      QRYDATA,PMSAW020
          PACK      PMSAW020,PMSAW020,SP70
          GOTO      SPPSA999
.
SPPSA999  RETURN
+
.------------------------------------------------------------------------
.         Move work variables to ABF Sub-Acute PW file variables
.------------------------------------------------------------------------
MVPSSA00  MOVE      PMSAW001,PMSACNTR
          MOVE      PMSAW002,PMSACLCD
          MOVE      PMSAW003,PMSAASVR
          MOVE      PMSAW004,PMSACCOD
          MOVE      PMSAW005,PMSAADSC
          MOVE      PMSAW006,PMSAEDSC
          MOVE      PMSAW007,PMSASDOV
          MOVE      PMSAW008,PMSAALOS
          MOVE      PMSAW009,PMSALBIN
          MOVE      PMSAW010,PMSAUBIN
          MOVE      PMSAW011,PMSASDPW
          MOVE      PMSAW012,PMSASSOP
          MOVE      PMSAW013,PMSAINPW
          MOVE      PMSAW014,PMSALSOP
          MOVE      PMSAW015,PMSACDAT
          MOVE      PMSAW016,PMSACTIM
          MOVE      PMSAW017,PMSACUID
          MOVE      PMSAW018,PMSAUDAT
          MOVE      PMSAW019,PMSAUTIM
          MOVE      PMSAW020,PMSAUUID
.
MVPSSA99  RETURN
+
