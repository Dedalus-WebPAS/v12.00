.*****************************************************************************
.*                                                                           *
.*    Include        :  SVRSPMI                                              *
.*                                                                           *
.*    Function       :  Save/Restore ALL PMI details                         *
.*                                   ---                                     *
.*                      EXCEPT THE U/R NUMBER FIELD PURNO                    *
.*                      ---------------------------------                    *
.*                                                                           *
.*    Author         :  Whirlpool                                            *
.*                                                                           *
.*    Date           :  8/11/93    (My Birthday)                             *
.*                                                                           *
.*    Labels         :  SAVEPMI  -  Save master file variables to save vars  *
.*                      RESTPMI  -  Restore save variables to Master         *
.*                                                                           *
.*    Other includes :  SAVPMIFD.INC                                         *
.*                                                                           *
.*    Modifications  :                                                       *
.*                                                                           *
.*        V10.07.01 02/02/2016  Peter Vela     CAR 0809659                   *
.*                  Validate PLDDATE in SVRSPMI                              *
.*        V10.03.02 23/02/2012  Ebon Clements  CAR 260407                    *
.*                  Added demographics confirmed fields                      *
.*        V10.03.01 06/02/2012  Ebon Clements  CAR 257079                    *
.*                  Added patient surname PTMASNAM save var SVRSSNM2         *
.*        V9.03.01  15/07/2003  CAR 37193   Mike Laming                      *
.*                  Port V5.10 changes for PMS05 -                           *
.*                  Added save/restore for Results Indicator PTMXSIN2        *
.*                30/05/2000  Tonii                                          *
.*                            Added save/restore for Medicare Ref. Number    *
.*                                                                           *
.*****************************************************************************
.                   08/10/1998  Glenn Berry      5.07 changes
.******************************************************************************
.*****************************************************************************
.
.>>>>>>>>  Save the PMI Variables     <<<<<<<<<<<<
.
SAVEPMI
          MOVE      PPORT,SVRSPORT
          MOVE      PCHGDTE,SVRSCDTE
          MOVE      PTITL,SVRSTITL
          MOVE      PHOSP,SVRSHOSP
          MOVE      PLDAYS,SVRSLDAY
          MOVE      PBDEBT,SVRSBDBT
          MOVE      PSNAME,SVRSSNAM
          MOVE      PGNAME,SVRSGNAM
          MOVE      PTMASNAM,SVRSSNM2
          MOVE      PPSNAME,SVRSPSNM
          MOVE      PADD1,SVRSPAD1
          MOVE      PADD2,SVRSPAD2
          MOVE      PSUBRB,SVRSPAD3
          MOVE      PADD4,SVRSPAD4
          MOVE      PPOST,SVRSPOST
          MOVE      PTELEP,SVRSTELP
          MOVE      PTELEB,SVRSTELB
          MOVE      PSEX,SVRSPSEX
          MOVE      PMSTAT,SVRSMSTA
          MOVE      PBDATE,SVRSDATE
          MOVE      PSAGE,SVRSPAGE
          MOVE      PCONT,SVRSCONT
          MOVE      PREG,SVRSPREG
          MOVE      PTYPE,SVRSTYPE
          MOVE      POCCUP,SVRSOCCU
          MOVE      PLDDATE,SVRSLDDT
          MOVE      PMEDI,SVRSMEDI
          MOVE      PPENNO,SVRSPENO
          MOVE      PPNDTE,SVRSPNXD
          MOVE      PREPAT,SVRSRPAT
          MOVE      PSMOK,SVRSSMOK
          MOVE      PSTAT,SVRSSTAT
          MOVE      SVRSmicr,pmicro
          MOVE      PCEASE,SVRSCEAS
          MOVE      PCASE,SVRSCASE
          MOVE      PAUTOPY,SVRSAUTO
          MOVE      PHIGH1,SVRSHIH1
          MOVE      PHIGH2,SVRSHIH2
          MOVE      PHIGH3,SVRSHIG3
          MOVE      PLOCDOC,SVRSLDOC
          MOVE      PFUNDH,SVRSFNDH
          MOVE      PFNDTB,SVRSFDTB
          MOVE      PFNDMM,SVRSFDMM
          MOVE      PUSR1,SVRSUSR1
          MOVE      PUSR2,SVRSUSR2
          MOVE      PUSR3,SVRSUSR3
          MOVE      PUSR4,SVRSUSR4
          MOVE      PUSR5,SVRSUSR5
          MOVE      PUSR6,SVRSUSR6
          MOVE      PUYN1,SVRSUYN1
          MOVE      PUYN2,SVRSUYN2
          MOVE      PUYN3,SVRSUYN3
          MOVE      PYRRES,SVRSYRES 
          MOVE      PNKNAME,SVRSNKNM
          MOVE      PNKADD1,SVRSNKA1
          MOVE      PNKADD2,SVRSNKA2
          MOVE      PNKSUBR,SVRSNKA3
          MOVE      PNKADD4,SVRSNKA4
          MOVE      PNKPOST,SVRSNKPC
          MOVE      PNKTELP,SVRSNKTP
          MOVE      PNKTELB,SVRSNKTB
          MOVE      PNKRELP,SVRSNKRL
          MOVE      PLSTINP,SVRSLINP
          MOVE      PLSTOUT,SVRSLOUT
          MOVE      PNXRAY,SVRSXRAY
          MOVE      PFNDYY,SVRSFDYY
          MOVE      PFNDCG,SVRSFNDC
          MOVE      PDECDTE,SVRSDDTE
          MOVE      PHCNOTES,SVRSNOTE
          MOVE      PDIET,SVRSDIET
          MOVE      PINITHOS,SVRSIHOS
          MOVE      PHKADUNI,SVRSHKAU
          MOVE      PTMADCDT,SVRSDCDT
          MOVE      PTMADCUD,SVRSDCUD
          MOVE      PTMADCUT,SVRSDCUT
          MOVE      PTMADCUU,SVRSDCUU
          MOVE      PTMXCELL,SVRSCELL
          MOVE      PTMXRDAT,SVRSRDAT
          MOVE      PTMXMEAL,SVRSMEAL
          MOVE      PTMXLGA,SVRSLGA
          MOVE      PTMXLS,SVRSLS
          MOVE      PTMXLSDT,SVRSLSDT
          MOVE      PTMXFHMD,SVRSFHMD
          MOVE      PTMXMHU1,SVRSMHU1
          MOVE      PTMXMHU2,SVRSMHU2
          MOVE      PTMXMHU3,SVRSMHU3
          MOVE      PTMXECNM,SVRSECNM
          MOVE      PTMXECA1,SVRSECA1
          MOVE      PTMXECA2,SVRSECA2
          MOVE      PTMXECA3,SVRSECA3
          MOVE      PTMXECA4,SVRSECA4
          MOVE      PTMXECPC,SVRSECPC
          MOVE      PTMXECPP,SVRSECPP
          MOVE      PTMXECBP,SVRSECBP
          MOVE      PTMXECRE,SVRSECRE
          MOVE      PTMXNRNM,SVRSNRNM
          MOVE      PTMXNRA1,SVRSNRA1
          MOVE      PTMXNRA2,SVRSNRA2
          MOVE      PTMXNRA3,SVRSNRA3
          MOVE      PTMXNRA4,SVRSNRA4
          MOVE      PTMXNRPC,SVRSNRPC
          MOVE      PTMXNRPP,SVRSNRPP
          MOVE      PTMXNRBP,SVRSNRBP
          MOVE      PTMXNRRE,SVRSNRRE
          MOVE      PTMX3BEX,SVRS3BEX
          MOVE      PTMXCARD,SVRSCARD
          MOVE      PTMXCEXP,SVRSCEXP
          MOVE      PTMXCXMP,SVRSCXMP
          MOVE      PTMXFMLY,SVRSFMLY
          MOVE      PTMXCHNM,SVRSCHNM
          MOVE      PTMXDOFR,SVRSDOFR
          MOVE      PMPXRHC1,SVRSREGP
          MOVE      PMPXRH1G,SVRSGPPC
          MOVE      PTMXSPID,SVRSSPID
          MOVE      PTMXMCCD,SVRSMREF
          MOVE      PTMXSIN2,SVRSRESI                                  *I-90301
.
          RETURN
.
.>>>>>>>>  Restore the pmi variables  <<<<<<<<<<<<
.
RESTPMI
          MOVE      SVRSPORT,PPORT
          MOVE      SVRSCDTE,PCHGDTE
          MOVE      SVRSTITL,PTITL
          MOVE      SVRSHOSP,PHOSP
          MOVE      SVRSLDAY,PLDAYS
          MOVE      SVRSBDBT,PBDEBT
          MOVE      SVRSSNAM,PSNAME
          MOVE      SVRSGNAM,PGNAME
          MOVE      SVRSSNM2,PTMASNAM
          MOVE      SVRSPSNM,PPSNAME
          MOVE      SVRSPAD1,PADD1
          MOVE      SVRSPAD2,PADD2
          MOVE      SVRSPAD3,PSUBRB
          MOVE      SVRSPAD4,PADD4
          MOVE      SVRSPOST,PPOST
          MOVE      SVRSTELP,PTELEP
          MOVE      SVRSTELB,PTELEB
          MOVE      SVRSPSEX,PSEX
          MOVE      SVRSMSTA,PMSTAT
          MOVE      SVRSDATE,PBDATE
          MOVE      SVRSPAGE,PSAGE
          MOVE      SVRSCONT,PCONT
          MOVE      SVRSPREG,PREG
          MOVE      SVRSTYPE,PTYPE
          MOVE      SVRSOCCU,POCCUP
.
          MATCH     SVRSLDDT,PLDDATE
          IF        @LESS
            MOVE      SVRSLDDT,PLDDATE
          ENDIF
.
          MOVE      SVRSMEDI,PMEDI
          MOVE      SVRSPENO,PPENNO
          MOVE      SVRSPNXD,PPNDTE
          MOVE      SVRSRPAT,PREPAT
          MOVE      SVRSSMOK,PSMOK
          MOVE      SVRSSTAT,PSTAT
          MOVE      SVRSmicr,pmicro
          MOVE      SVRSCEAS,PCEASE
          MOVE      SVRSCASE,PCASE
          MOVE      SVRSAUTO,PAUTOPY
          MOVE      SVRSHIH1,PHIGH1
          MOVE      SVRSHIH2,PHIGH2
          MOVE      SVRSHIG3,PHIGH3
          MOVE      SVRSLDOC,PLOCDOC
          MOVE      SVRSFNDH,PFUNDH
          MOVE      SVRSFDTB,PFNDTB
          MOVE      SVRSFDMM,PFNDMM
          MOVE      SVRSUSR1,PUSR1
          MOVE      SVRSUSR2,PUSR2
          MOVE      SVRSUSR3,PUSR3
          MOVE      SVRSUSR4,PUSR4
          MOVE      SVRSUSR5,PUSR5
          MOVE      SVRSUSR6,PUSR6
          MOVE      SVRSUYN1,PUYN1
          MOVE      SVRSUYN2,PUYN2
          MOVE      SVRSUYN3,PUYN3
          MOVE      SVRSYRES,PYRRES 
          MOVE      SVRSNKNM,PNKNAME
          MOVE      SVRSNKA1,PNKADD1
          MOVE      SVRSNKA2,PNKADD2
          MOVE      SVRSNKA3,PNKSUBR
          MOVE      SVRSNKA4,PNKADD4
          MOVE      SVRSNKPC,PNKPOST
          MOVE      SVRSNKTP,PNKTELP
          MOVE      SVRSNKTB,PNKTELB
          MOVE      SVRSNKRL,PNKRELP
          MOVE      SVRSLINP,PLSTINP
          MOVE      SVRSLOUT,PLSTOUT
          MOVE      SVRSXRAY,PNXRAY
          MOVE      SVRSFDYY,PFNDYY
          MOVE      SVRSFNDC,PFNDCG
          MOVE      SVRSDDTE,PDECDTE
          MOVE      SVRSNOTE,PHCNOTES
          MOVE      SVRSDIET,PDIET
          MOVE      SVRSIHOS,PINITHOS
          MOVE      SVRSHKAU,PHKADUNI
          MOVE      SVRSDCDT,PTMADCDT
          MOVE      SVRSDCUD,PTMADCUD
          MOVE      SVRSDCUT,PTMADCUT
          MOVE      SVRSDCUU,PTMADCUU
          MOVE      SVRSCELL,PTMXCELL
          MOVE      SVRSRDAT,PTMXRDAT
          MOVE      SVRSMEAL,PTMXMEAL
          MOVE      SVRSLGA,PTMXLGA
          MOVE      SVRSLS,PTMXLS
          MOVE      SVRSLSDT,PTMXLSDT
          MOVE      SVRSFHMD,PTMXFHMD
          MOVE      SVRSMHU1,PTMXMHU1
          MOVE      SVRSMHU2,PTMXMHU2
          MOVE      SVRSMHU3,PTMXMHU3
          MOVE      SVRSECNM,PTMXECNM
          MOVE      SVRSECA1,PTMXECA1
          MOVE      SVRSECA2,PTMXECA2
          MOVE      SVRSECA3,PTMXECA3
          MOVE      SVRSECA4,PTMXECA4
          MOVE      SVRSECPC,PTMXECPC
          MOVE      SVRSECPP,PTMXECPP
          MOVE      SVRSECBP,PTMXECBP
          MOVE      SVRSECRE,PTMXECRE
          MOVE      SVRSNRNM,PTMXNRNM
          MOVE      SVRSNRA1,PTMXNRA1
          MOVE      SVRSNRA2,PTMXNRA2
          MOVE      SVRSNRA3,PTMXNRA3
          MOVE      SVRSNRA4,PTMXNRA4
          MOVE      SVRSNRPC,PTMXNRPC
          MOVE      SVRSNRPP,PTMXNRPP
          MOVE      SVRSNRBP,PTMXNRBP
          MOVE      SVRSNRRE,PTMXNRRE
          MOVE      SVRS3BEX,PTMX3BEX
          MOVE      SVRSCARD,PTMXCARD
          MOVE      SVRSCEXP,PTMXCEXP
          MOVE      SVRSCXMP,PTMXCXMP
          MOVE      SVRSFMLY,PTMXFMLY
          MOVE      SVRSCHNM,PTMXCHNM
          MOVE      SVRSDOFR,PTMXDOFR
          MOVE      SVRSREGP,PMPXRHC1
          MOVE      SVRSGPPC,PMPXRH1G
          MOVE      SVRSSPID,PTMXSPID
          MOVE      SVRSMREF,PTMXMCCD
          MOVE      SVRSRESI,PTMXSIN2                                  *I-90301
.
          RETURN
.
