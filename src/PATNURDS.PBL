.*********************************************************************
.*                                                                   *
.*                              PATNURDS                             *
.*                                                                   *
.*    Include to display all station numbers from the Nursing Station*
.*    File                                                           *
.*                                                                   *
.*    AUTHOR : Neeriem Dye                                           *
.*                                                                   *
.*    VARIABLES NEEDED :                                             *
.*                                                                   *
.*    FILES NEEDED     : PATNURS1    Nursing Station Numbers         *
.*                                                                   *
.*    MODIFICATIONS    : V5.01.01    Lined Up Heading                *
.*                                                                   *
.*********************************************************************
PATNURDS  MOVE      SP6,KEY6      
          CALL      RDSNURS1
.
.------ Display Heading, and then loop over entries ------
.
          DISPLAY   *P1:4,*EF,*P20:4,*V2LON,*ULON,"NURSING STATIONS"
          MOVE      FIVE,CVERT
          MOVE      ONE,CCOL
.
.>>>>>>>  TRAP      NURDS300 IF F1
.
NURDS100  CALL      RDKNURS1
          BRANCH    OVRCD,NURDS500
.
          MATCH     NWARD,SP3
          GOTO      NURDS100 IF NOT EQUAL
.
          DISPLAY   *PCCOL:CVERT,*V2LON,NSTAT,SP2,*HOFF,NSDESC;
          ADD       ONE,CVERT
          COMPARE   TWENTY3,CVERT
          GOTO      NURDS100 IF LESS
.
          MOVE      FIVE,CVERT
          ADD       "40",CCOL
          COMPARE   "70",CCOL
          GOTO      NURDS100 IF LESS
.
.>>>>>>>  TRAPCLR   F1
.
          KEYIN     *P1:24,*EL," (",*V2LON,"C",*HOFF,")ontinue, (":
                    *V2LON,"F",*HOFF,")irst Screen, (":
                    *V2LON,"N",*HOFF,")ext Screen : ",*V2LON,ANS;
.
          REP       UPPLOW,ANS
          CMATCH    ANSC,ANS
          GOTO      NURDS500 IF EQUAL
          CMATCH    ANSF,ANS
          GOTO      PATNURDS IF EQUAL
.
          MOVE      FIVE,CVERT
          MOVE      ONE,CCOL
          DISPLAY   *P1:5,*EF
.
.>>>>>>>  TRAP      NURDS300 IF F1
.
          GOTO      NURDS100
.
.         F1 escape used
.
NURDS300  NORETURN
.>>>>>>>  TRAPCLR   F1
.
.------ End of codes ------
.
NURDS500  MOVE      ZERO,OVRCD
.
NURDS999  RETURN
