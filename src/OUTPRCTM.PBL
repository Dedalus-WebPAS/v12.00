. *----------------------------------------------------------------------
. * Include Name  :   OUTPRCTM.PBL
. *
. * Function      :   CGI variables for OUTPRCFD - outprcaf.dat
. *
. * Includes Needed :
. *
. * Modifications   :
. * V10.06.00 18/05/2015 Ebon Clements      CAR 303890
. *           Created include
. *----------------------------------------------------------------------
.
.------------------------------------------------------------------------
.   Clear Parameters for Outpatients outprcaf Table
.------------------------------------------------------------------------
CPOTPC00  MOVE      Z70,OTPRC001
          MOVE      Z70,OTPRC002
          MOVE      Z70,OTPRC003
          MOVE      Z70,OTPRC004
          MOVE      Z70,OTPRC005 
          MOVE      Z70,OTPRC006
          MOVE      Z70,OTPRC007
          MOVE      Z70,OTPRC008
          MOVE      Z70,OTPRC009
          MOVE      Z70,OTPRC010
          MOVE      Z70,OTPRC011
          MOVE      Z70,OTPRC012
          MOVE      Z70,OTPRC013
          MOVE      Z70,OTPRC014
.
CPOTPC99  RETURN
.
.------------------------------------------------------------
. Add fields for Outpatients outprcaf Table
.------------------------------------------------------------
OTPR0000  BRANCH    FLDITMNO,OTPR0100,OTPR0200,OTPR0300,OTPR0400,OTPR0500:
                             OTPR0600,OTPR0700,OTPR0800,OTPR0900,OTPR1000:
                             OTPR1100,OTPR1200,OTPR1300,OTPR1400
.
          WRITE     HTMLFILE;"Invalid IBA Tag";
          GOTO      OTPR9999
.
OTPR0100  WRITE     HTMLFILE;OTPROUTN;
          GOTO      OTPR9999
.
OTPR0200  WRITE     HTMLFILE;OTPRCODE;
          GOTO      OTPR9999
.
OTPR0300  WRITE     HTMLFILE;OTPRDESC;
          GOTO      OTPR9999
.
OTPR0400  WRITE     HTMLFILE;OTPRCOD2;
          GOTO      OTPR9999
.
OTPR0500  WRITE     HTMLFILE;OTPRDES2;
          GOTO      OTPR9999
.
OTPR0600  WRITE     HTMLFILE;OTPRCOD3;
          GOTO      OTPR9999
.
OTPR0700  WRITE     HTMLFILE;OTPRDES3;
          GOTO      OTPR9999
.
OTPR0800  WRITE     HTMLFILE;OTPRCOD4;
          GOTO      OTPR9999
.
OTPR0900  WRITE     HTMLFILE;OTPRDES4;
          GOTO      OTPR9999
.
OTPR1000  WRITE     HTMLFILE;OTPRCOD5;
          GOTO      OTPR9999
.
OTPR1100  WRITE     HTMLFILE;OTPRDES5;
          GOTO      OTPR9999
.
OTPR1200  UNPACK    DIM127,D1,KEY1,DIM127
          MOVE      ZERO,F1
          MOVE      KEY1,F1
          BRANCH    F1,OTPR1210
.
          PACK      KEY21,OBASITE,OBACTYP,OTPRPRB1,SP70
          CALL      RDOTCPB1
          IF        OVRCD=1
            MOVE      OTPRPRB1,OTPBDESC
          ENDIF
          WRITE     HTMLFILE;OTPBDESC;
          GOTO      OTPR9999
.
OTPR1210  WRITE     HTMLFILE;OTPRPRB1;
          GOTO      OTPR9999
.
OTPR1300  UNPACK    DIM127,D1,KEY1,DIM127
          MOVE      ZERO,F1
          MOVE      KEY1,F1
          BRANCH    F1,OTPR1310
.
          PACK      KEY21,OBASITE,OBACTYP,OTPRPRB2,SP70
          CALL      RDOTCPB1
          IF        OVRCD=1
            MOVE      OTPRPRB2,OTPBDESC
          ENDIF
          WRITE     HTMLFILE;OTPBDESC;
          GOTO      OTPR9999
.
OTPR1310  WRITE     HTMLFILE;OTPRPRB2;
          GOTO      OTPR9999
.
OTPR1400  UNPACK    DIM127,D1,KEY1,DIM127
          MOVE      ZERO,F1
          MOVE      KEY1,F1
          BRANCH    F1,OTPR1410
.
          PACK      KEY21,OBASITE,OBACTYP,OTPRPRB3,SP70
          CALL      RDOTCPB1
          IF        OVRCD=1
            MOVE      OTPRPRB3,OTPBDESC
          ENDIF
          WRITE     HTMLFILE;OTPBDESC;
          GOTO      OTPR9999
.
OTPR1410  WRITE     HTMLFILE;OTPRPRB3;
          GOTO      OTPR9999
.
OTPR9999  RETURN
.
.------------------------------------------------------------
.   Set Parameters for Outpatients outprcaf
.------------------------------------------------------------
SPOTPR00  MOVE      ZERO,EXIT
          UNPACK    QRYNAME,KEY5,KEY3
          MOVE      KEY3,F3
          BRANCH    F3,SPOTPR01,SPOTPR02,SPOTPR03,SPOTPR04,SPOTPR05:
                       SPOTPR06,SPOTPR07,SPOTPR08,SPOTPR09,SPOTPR10:
                       SPOTPR11,SPOTPR12,SPOTPR13,SPOTPR14
.
          MOVE      ONE,EXIT
          GOTO      SPOTPR99
.
SPOTPR01  PACK      OTPRC001,QRYDATA,SP70
          GOTO      SPOTPR99
.
SPOTPR02  PACK      OTPRC002,QRYDATA,SP70
          GOTO      SPOTPR99
.
SPOTPR03  PACK      OTPRC003,QRYDATA,SP70
          GOTO      SPOTPR99
.
SPOTPR04  PACK      OTPRC004,QRYDATA,SP70
          GOTO      SPOTPR99
.
SPOTPR05  PACK      OTPRC005,QRYDATA,SP70
          GOTO      SPOTPR99
.
SPOTPR06  PACK      OTPRC006,QRYDATA,SP70
          GOTO      SPOTPR99
.
SPOTPR07  PACK      OTPRC007,QRYDATA,SP70
          GOTO      SPOTPR99
.
SPOTPR08  PACK      OTPRC008,QRYDATA,SP70
          GOTO      SPOTPR99
.
SPOTPR09  PACK      OTPRC009,QRYDATA,SP70
          GOTO      SPOTPR99
.
SPOTPR10  PACK      OTPRC010,QRYDATA,SP70
          GOTO      SPOTPR99
.
SPOTPR11  PACK      OTPRC011,QRYDATA,SP70
          GOTO      SPOTPR99
.
SPOTPR12  PACK      OTPRC012,QRYDATA,SP70
          GOTO      SPOTPR99
.
SPOTPR13  PACK      OTPRC013,QRYDATA,SP70
          GOTO      SPOTPR99
.
SPOTPR14  PACK      OTPRC014,QRYDATA,SP70
          GOTO      SPOTPR99
.
SPOTPR99  RETURN
.
.------------------------------------------------------------
.  Update outpatient outprcaf table
.------------------------------------------------------------
MVOTPC00  MATCH     OTPRC001,Z70
          IF        !@EQUAL
            MOVE      OTPRC001,OTPROUTN
          ENDIF
.
          MATCH     OTPRC002,Z70
          IF        !@EQUAL
            MOVE      OTPRC002,OTPRCODE
          ENDIF
.
          MATCH     OTPRC003,Z70
          IF        !@EQUAL
            MOVE      OTPRC003,OTPRDESC
          ENDIF
.
          MATCH     OTPRC004,Z70
          IF        !@EQUAL
            MOVE      OTPRC004,OTPRCOD2
          ENDIF
.
          MATCH     OTPRC005,Z70
          IF        !@EQUAL
            MOVE      OTPRC005,OTPRDES2
          ENDIF
.
          MATCH     OTPRC006,Z70
          IF        !@EQUAL
            MOVE      OTPRC006,OTPRCOD3
          ENDIF
.
          MATCH     OTPRC007,Z70
          IF        !@EQUAL
            MOVE      OTPRC007,OTPRDES3
          ENDIF
.
          MATCH     OTPRC008,Z70
          IF        !@EQUAL
            MOVE      OTPRC008,OTPRCOD4
          ENDIF
.
          MATCH     OTPRC009,Z70
          IF        !@EQUAL
            MOVE      OTPRC009,OTPRDES4
          ENDIF
.
          MATCH     OTPRC010,Z70
          IF        !@EQUAL
            MOVE      OTPRC010,OTPRCOD5
          ENDIF
.
          MATCH     OTPRC011,Z70
          IF        !@EQUAL
            MOVE      OTPRC011,OTPRDES5
          ENDIF
.
          MATCH     OTPRC012,Z70
          IF        !@EQUAL
            MOVE      OTPRC012,OTPRPRB1
          ENDIF
.
          MATCH     OTPRC013,Z70
          IF        !@EQUAL
            MOVE      OTPRC013,OTPRPRB2
          ENDIF
.
          MATCH     OTPRC014,Z70
          IF        !@EQUAL
            MOVE      OTPRC014,OTPRPRB3
          ENDIF
.
MVOTPC99  RETURN
