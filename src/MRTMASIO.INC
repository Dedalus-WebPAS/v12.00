.
. MRTMASIO.INC
. ------------
. Filename     : mrtmasaf
. Description  : New Medical Records Tracking Master File I/O Subroutines 
. Variables    : OVRCD   FORM    1
.                KEY20   DIM     20
.                KEY10   DIM     10
.
RAMRMAS1  MOVE      ZERO,OVRCD
          RESET     KEY20
          READ      MRTMASA1,KEY20;ANS
          GOTO      OVERCOND IF OVER
          RETURN
.
RSMRMAS1  MOVE      ZERO,OVRCD
          RESET     KEY20
          READ      MRTMASA1,KEY20;;
          GOTO      OVERCOND IF OVER
          RETURN
.
RLMRMAS1  MOVE      ZERO,OVRCD
          RESET     KEY20
          READL     MRTMASA1,KEY20;MRMAURNO,MRMAHHOS,MRMAHLOC,MRMADOTY,DMRMAVOL:
                        MRMASTAT,MRMACOMM,MRMAKEY,MRMACHOS,MRMACLOC,MRMAFILM:
                        MRMAEPDT,MRMADTCR,MRMATMCR,MRMACUID,MRMADTUP,MRMATMUP:
                        MRMAUUID,MRMAOHOS,MRMASPAR    
          GOTO      OVERLOCK IF LOCKED
          GOTO      OVERCOND IF OVER
          MOVE      DMRMAVOL,MRMAVOLN
          RETURN
.
RDMRMAS1  MOVE      ZERO,OVRCD
          RESET     KEY20
          READ      MRTMASA1,KEY20;MRMAURNO,MRMAHHOS,MRMAHLOC,MRMADOTY,DMRMAVOL:
                        MRMASTAT,MRMACOMM,MRMAKEY,MRMACHOS,MRMACLOC,MRMAFILM:
                        MRMAEPDT,MRMADTCR,MRMATMCR,MRMACUID,MRMADTUP,MRMATMUP:
                        MRMAUUID,MRMAOHOS,MRMASPAR    
          GOTO      OVERCOND IF OVER
          MOVE      DMRMAVOL,MRMAVOLN
          RETURN
.
RKMRMAS1  MOVE      ZERO,OVRCD
          READKS    MRTMASA1;MRMAURNO,MRMAHHOS,MRMAHLOC,MRMADOTY,DMRMAVOL:
                        MRMASTAT,MRMACOMM,MRMAKEY,MRMACHOS,MRMACLOC,MRMAFILM:
                        MRMAEPDT,MRMADTCR,MRMATMCR,MRMACUID,MRMADTUP,MRMATMUP:
                        MRMAUUID,MRMAOHOS,MRMASPAR    
          GOTO      OVERCOND IF OVER
          MOVE      DMRMAVOL,MRMAVOLN
          RETURN
.
RPMRMAS1  MOVE      ZERO,OVRCD
          READKP    MRTMASA1;MRMAURNO,MRMAHHOS,MRMAHLOC,MRMADOTY,DMRMAVOL:
                        MRMASTAT,MRMACOMM,MRMAKEY,MRMACHOS,MRMACLOC,MRMAFILM:
                        MRMAEPDT,MRMADTCR,MRMATMCR,MRMACUID,MRMADTUP,MRMATMUP:
                        MRMAUUID,MRMAOHOS,MRMASPAR    
          GOTO      OVERCOND IF OVER
          MOVE      DMRMAVOL,MRMAVOLN
          RETURN
.
UPMRMAS1  MOVE      MRMAVOLN,DMRMAVOL 
          UPDATE    MRTMASA1;MRMAURNO,MRMAHHOS,MRMAHLOC,MRMADOTY,DMRMAVOL:
                        MRMASTAT,MRMACOMM,MRMAKEY,MRMACHOS,MRMACLOC,MRMAFILM:
                        MRMAEPDT,MRMADTCR,MRMATMCR,MRMACUID,MRMADTUP,MRMATMUP:
                        MRMAUUID,MRMAOHOS,MRMASPAR    
          RETURN
.
WRTMAS1
WRMRMAS1  RESET     KEY20
          MOVE      MRMAVOLN,DMRMAVOL 
          WRITE     MRTMASA1,KEY20;MRMAURNO,MRMAHHOS,MRMAHLOC,MRMADOTY,DMRMAVOL:
                        MRMASTAT,MRMACOMM,MRMAKEY,MRMACHOS,MRMACLOC,MRMAFILM:
                        MRMAEPDT,MRMADTCR,MRMATMCR,MRMACUID,MRMADTUP,MRMATMUP:
                        MRMAUUID,MRMAOHOS,MRMASPAR    
          RETURN
.
DETMAS1
DEMRMAS1  RESET     KEY20
          DELETE    MRTMASA1,KEY20
          RETURN
.
ULMRMAS1  UNLOCK    MRTMASA1 
          RETURN
.
RAMRMAS2  MOVE      ZERO,OVRCD
          RESET     KEY10
          READ      MRTMASA2,KEY10;ANS
          GOTO      OVERCOND IF OVER
          RETURN
.
RSMRMAS2  MOVE      ZERO,OVRCD
          RESET     KEY10
          READ      MRTMASA2,KEY10;;
          GOTO      OVERCOND IF OVER
          RETURN
.
RDMRMAS2  MOVE      ZERO,OVRCD
          RESET     KEY10
          READ      MRTMASA2,KEY10;MRMAURNO,MRMAHHOS,MRMAHLOC,MRMADOTY,DMRMAVOL:
                        MRMASTAT,MRMACOMM,MRMAKEY,MRMACHOS,MRMACLOC,MRMAFILM:
                        MRMAEPDT,MRMADTCR,MRMATMCR,MRMACUID,MRMADTUP,MRMATMUP:
                        MRMAUUID,MRMAOHOS,MRMASPAR    
          GOTO      OVERCOND IF OVER
          MOVE      DMRMAVOL,MRMAVOLN
          RETURN
.
RKMRMAS2  MOVE      ZERO,OVRCD
          READKS    MRTMASA2;MRMAURNO,MRMAHHOS,MRMAHLOC,MRMADOTY,DMRMAVOL:
                        MRMASTAT,MRMACOMM,MRMAKEY,MRMACHOS,MRMACLOC,MRMAFILM:
                        MRMAEPDT,MRMADTCR,MRMATMCR,MRMACUID,MRMADTUP,MRMATMUP:
                        MRMAUUID,MRMAOHOS,MRMASPAR    
          GOTO      OVERCOND IF OVER
          MOVE      DMRMAVOL,MRMAVOLN
          RETURN
.
UPMRMAS2  MOVE      MRMAVOLN,DMRMAVOL 
          UPDATE    MRTMASA2;MRMAURNO,MRMAHHOS,MRMAHLOC,MRMADOTY,DMRMAVOL:
                        MRMASTAT,MRMACOMM,MRMAKEY,MRMACHOS,MRMACLOC,MRMAFILM:
                        MRMAEPDT,MRMADTCR,MRMATMCR,MRMACUID,MRMADTUP,MRMATMUP:
                        MRMAUUID,MRMAOHOS,MRMASPAR    
          RETURN
.
.
. 3rd Index
.
RAMRMAS3  MOVE      ZERO,OVRCD
          RESET     KEY20
          READ      MRTMASA3,KEY20;ANS
          GOTO      OVERCOND IF OVER
          RETURN
.
RSMRMAS3  MOVE      ZERO,OVRCD
          RESET     KEY20
          READ      MRTMASA3,KEY20;;
          GOTO      OVERCOND IF OVER
          RETURN
.
RDMRMAS3  MOVE      ZERO,OVRCD
          RESET     KEY20
          READ      MRTMASA3,KEY20;MRMAURNO,MRMAHHOS,MRMAHLOC,MRMADOTY,DMRMAVOL:
                        MRMASTAT,MRMACOMM,MRMAKEY,MRMACHOS,MRMACLOC,MRMAFILM:
                        MRMAEPDT,MRMADTCR,MRMATMCR,MRMACUID,MRMADTUP,MRMATMUP:
                        MRMAUUID,MRMAOHOS,MRMASPAR    
          GOTO      OVERCOND IF OVER
          MOVE      DMRMAVOL,MRMAVOLN
          RETURN
.
RKMRMAS3  MOVE      ZERO,OVRCD
          READKS    MRTMASA3;MRMAURNO,MRMAHHOS,MRMAHLOC,MRMADOTY,DMRMAVOL:
                        MRMASTAT,MRMACOMM,MRMAKEY,MRMACHOS,MRMACLOC,MRMAFILM:
                        MRMAEPDT,MRMADTCR,MRMATMCR,MRMACUID,MRMADTUP,MRMATMUP:
                        MRMAUUID,MRMAOHOS,MRMASPAR    
          GOTO      OVERCOND IF OVER
          MOVE      DMRMAVOL,MRMAVOLN
          RETURN
.
RPMRMAS3  MOVE      ZERO,OVRCD
          READKP    MRTMASA3;MRMAURNO,MRMAHHOS,MRMAHLOC,MRMADOTY,DMRMAVOL:
                        MRMASTAT,MRMACOMM,MRMAKEY,MRMACHOS,MRMACLOC,MRMAFILM:
                        MRMAEPDT,MRMADTCR,MRMATMCR,MRMACUID,MRMADTUP,MRMATMUP:
                        MRMAUUID,MRMAOHOS,MRMASPAR    
          GOTO      OVERCOND IF OVER
          MOVE      DMRMAVOL,MRMAVOLN
          RETURN
.
.
. 4th Index
.
RAMRMAS4  MOVE      ZERO,OVRCD
          RESET     KEY20
          READ      MRTMASA4,KEY20;ANS
          GOTO      OVERCOND IF OVER
          RETURN
.
RSMRMAS4  MOVE      ZERO,OVRCD
          RESET     KEY20
          READ      MRTMASA4,KEY20;;
          GOTO      OVERCOND IF OVER
          RETURN
.
RDMRMAS4  MOVE      ZERO,OVRCD
          RESET     KEY20
          READ      MRTMASA4,KEY20;MRMAURNO,MRMAHHOS,MRMAHLOC,MRMADOTY,DMRMAVOL:
                        MRMASTAT,MRMACOMM,MRMAKEY,MRMACHOS,MRMACLOC,MRMAFILM:
                        MRMAEPDT,MRMADTCR,MRMATMCR,MRMACUID,MRMADTUP,MRMATMUP:
                        MRMAUUID,MRMAOHOS,MRMASPAR    
          GOTO      OVERCOND IF OVER
          MOVE      DMRMAVOL,MRMAVOLN
          RETURN
.
RKMRMAS4  MOVE      ZERO,OVRCD
          READKS    MRTMASA4;MRMAURNO,MRMAHHOS,MRMAHLOC,MRMADOTY,DMRMAVOL:
                        MRMASTAT,MRMACOMM,MRMAKEY,MRMACHOS,MRMACLOC,MRMAFILM:
                        MRMAEPDT,MRMADTCR,MRMATMCR,MRMACUID,MRMADTUP,MRMATMUP:
                        MRMAUUID,MRMAOHOS,MRMASPAR    
          GOTO      OVERCOND IF OVER
          MOVE      DMRMAVOL,MRMAVOLN
          RETURN
.
RPMRMAS4  MOVE      ZERO,OVRCD
          READKP    MRTMASA4;MRMAURNO,MRMAHHOS,MRMAHLOC,MRMADOTY,DMRMAVOL:
                        MRMASTAT,MRMACOMM,MRMAKEY,MRMACHOS,MRMACLOC,MRMAFILM:
                        MRMAEPDT,MRMADTCR,MRMATMCR,MRMACUID,MRMADTUP,MRMATMUP:
                        MRMAUUID,MRMAOHOS,MRMASPAR    
          GOTO      OVERCOND IF OVER
          MOVE      DMRMAVOL,MRMAVOLN
          RETURN
.
