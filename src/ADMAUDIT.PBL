.******************************************************************************
.* System         : Patient Management System                                 *
.*                                                                            *
.* Include Name   : ADMAUDIT.PBL                                              *
.*                                                                            *
.* Function       : Writes an admission audit record                          *
.*                                                                            *
.* Author         : Steve Armstrong  03/11/1997                               *
.*                                                                            *
.* Parameters     :                                                           *
.*                                                                            *
.*                                                                            *
.* Modifications  :                                                           *
.******************************************************************************
.
          DEFPROC   ADMAUDIT
.
          INC       PATAA1FD/INC
.
          BRANCH    CAUDA,ADMAUD99
.
          CALL      SETAUD00
          GOTO      ADMAUD99
.
.****************************************************************************
.*                                                                          *
.*                 Load audit variables                                     * 
.****************************************************************************
.
SETAUD00  OPEN      PATAUAA1,"pataa1af"                     * open audit file
.
          MOVE      ANSA,ACTION
          MOVE      AADMNO,SAADMNO
          MOVE      AURNO,SAURNO
          MOVE      ADATE,SADATE
          MOVE      ATIME,SATIME
          MOVE      ASTAT,SASTAT
          MOVE      APORT,SAPORT
          MOVE      ATRANNO,SATRANNO
          MOVE      AINVPRT,SAINVPRT
          MOVE      ALACDTE,SALACDTE
          MOVE      ACANCEL,SACANCEL
          MOVE      AWARD,SAWARD
          MOVE      ABED,SABED
.
          MOVE      ADOCTR,SADOCTR
          MOVE      ADOCTA,SADOCTA
          MOVE      ADOCTL,SADOCTL
.
          MOVE      ASRCE,SASRCE
          MOVE      ATYPE,SATYPE
          MOVE      ACLSS,SACLSS
          MOVE      ACARE,SACARE
.
          MOVE      AFUNDH,SAFUNDH
          MOVE      AFNDTB,SAFNDTB
          MOVE      AFNDMM,SAFNDMM
          MOVE      AELIG,SAELIG
.
          MOVE      AVISIT,SAVISIT
          MOVE      AALERG,SAALERG
          MOVE      AILLN,SAILLN
          MOVE      ADIAG1,SADIAG1
          MOVE      ADIAG2,SADIAG2
.
          MOVE      ADISC,SADISC
          MOVE      ADOCTT,SADOCTT
          MOVE      ACLSSFT,SACLSSFT
          MOVE      AALLOW,SAALLOW
          MOVE      AMBS,SAMBS
          MOVE      ACLAIM,SACLAIM
          MOVE      ADIET,SADIET
          MOVE      APLOCCR,SAPLOCCR
          MOVE      ASTAY,SASTAY
          MOVE      ADYHOSP,SADYHOSP
          MOVE      AMEMB,SAMEMB
          MOVE      AMEMBNO,SAMEMBNO
          MOVE      ACOMM1,SACOMM1
          MOVE      ACOMM2,SACOMM2
          MOVE      APLUR,SAPLUR
          MOVE      APURGE,SAPURGE
.
          MOVE      AUSR1,SAUSR1
          MOVE      AUSR2,SAUSR2
          MOVE      AUSR3,SAUSR3
          MOVE      AUSR4,SAUSR4
          MOVE      AUSR5,SAUSR5
          MOVE      AUSR6,SAUSR6
          MOVE      AUSR7,SAUSR7
          MOVE      ADSCHI,SADSCHI
          MOVE      ARDRNAM,SARDRNAM
          MOVE      AFNDYY,SAFNDYY
          MOVE      AFNDCG,SAFNDCG
          MOVE      AOCCDTE,SAOCCDTE
          MOVE      ACODDTE,SACODDTE
          MOVE      ARETDTE,SARETDTE
          MOVE      AMUMADM,SAMUMADM
.
          MOVE      DPTMIPVI,SDPTMIPV
          MOVE      ABWGHT,SABWGHT
          MOVE      PTMSRFGP,SPTMSRFG
          MOVE      PTMSGPPC,SPTMSGPP
          MOVE      PTMSFHAN,SPTMSFHA
          MOVE      PTMSECRA,SPTMSECR
          MOVE      PTMSMGIN,SPTMSMGI
.
          MOVE      PTMIDDIG,SPTMIDIG
          MOVE      PTMIGPPT,SPTMIGPT
          MOVE      PTMIDOFR,SPTMIDOF
          MOVE      PTMIREFD,SPTMIREF
          MOVE      PTMIDFCN,SPTMIDFC
          MOVE      PTMIPHPU,SPTMIPHP
          MOVE      PTMIAGNC,SPTMIAGN
          MOVE      PTMIESSF,SPTMIESS
          MOVE      PTMIUSR8,SPTMIUS8
          MOVE      PTMIUSR9,SPTMIUS9
          MOVE      PTMIUSR0,SPTMIUS0
          MOVE      PTMIPDRG,SPTMSDRG
          MOVE      PTMIOPER,SPTMIOPE
          MOVE      PTMIXWRD,SPTMIXWD
          MOVE      PTMIADOC,SPTMIADC
          MOVE      PTMIREGS,SPTMIREG
          MOVE      PTMIUYN1,SPTMIUY1
          MOVE      PTMIUYN2,SPTMIUY2
.
          CALL      WRAAUD                       * write audit record
.
          CLOSE     PATAUAA1                     * close audit file
.
SETAUD99  RETURN
+
+
          INC       IBAOVRIO/INC
          INC       PATAA1IO/INC
.
ADMAUD99  ENDPROC
+
