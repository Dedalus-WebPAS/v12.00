. *-----------------------------------------------------------------------------
. * Include Name  :  PMSLADTM.PBL
. *
. * Function      :  CGI Variables for PMSLADFD - pmsladaf
. *
. * Mods          :  V10.03.00 02/05/2012   Patrick Adair     CAR 257776
. *                            Created include
. *-----------------------------------------------------------------------------
.-------------------------------------------------------------------------------
. Clear Lawtons Assessment of Daily Living Parameters
.-------------------------------------------------------------------------------
CPPLAD00  MOVE      Z70,PMLAD001
          MOVE      Z70,PMLAD002
          MOVE      Z70,PMLAD003
          MOVE      Z70,PMLAD004
          MOVE      Z70,PMLAD005
          MOVE      Z70,PMLAD006
          MOVE      Z70,PMLAD007
          MOVE      Z70,PMLAD008
          MOVE      Z70,PMLAD009
          MOVE      Z70,PMLAD010
          MOVE      Z70,PMLAD011
.
CPPLAD99  RETURN
.
.-------------------------------------------------------------------------------
. Set Lawtons Assessment of Daily Living Parameters
.-------------------------------------------------------------------------------
SPPLAD00  MOVE      ZERO,EXIT
          UNPACK    QRYNAME,KEY5,KEY3
          MOVE      KEY3,F3
          BRANCH    F3,SPPLAD01,SPPLAD02,SPPLAD03,SPPLAD04,SPPLAD05:
                       SPPLAD06,SPPLAD07,SPPLAD08,SPPLAD09,SPPLAD10:
                       SPPLAD11
          GOTO      SPPLAD99
.
SPPLAD01  PACK      PMLAD001,QRYDATA,SP70
          GOTO      SPPLAD99
.
SPPLAD02  UNPACK    QRYDATA,CDAY,KEY1,MTHNAM3,KEY1,CCENT,CYEAR
          CALL      SETMTH00                *Set CMON from MTHNAM3
          PACK      PMLAD002,CCENT,CYEAR,CMON,CDAY
          GOTO      SPPLAD99
.
SPPLAD03  PACK      PMLAD003,QRYDATA,SP70
          GOTO      SPPLAD99
.
SPPLAD04  PACK      PMLAD004,QRYDATA,SP70
          GOTO      SPPLAD99
.
SPPLAD05  PACK      PMLAD005,QRYDATA,SP70
          GOTO      SPPLAD99
.
SPPLAD06  PACK      PMLAD006,QRYDATA,SP70
          GOTO      SPPLAD99
.
SPPLAD07  PACK      PMLAD007,QRYDATA,SP70
          GOTO      SPPLAD99
.
SPPLAD08  PACK      PMLAD008,QRYDATA,SP70
          GOTO      SPPLAD99
.
SPPLAD09  PACK      PMLAD009,QRYDATA,SP70
          GOTO      SPPLAD99
.
SPPLAD10  PACK      PMLAD010,QRYDATA,SP70
          GOTO      SPPLAD99
.
SPPLAD11  PACK      PMLAD011,QRYDATA,SP70
          GOTO      SPPLAD99
.
SPPLAD99  RETURN
.
.-------------------------------------------------------------------------------
. Output Lawtons Assessment of Daily Living tags
.-------------------------------------------------------------------------------
PLAD0000  BRANCH    FLDITMNO,PLAD0100,PLAD0200,PLAD0300,PLAD0400,PLAD0500:
                             PLAD0600,PLAD0700,PLAD0800,PLAD0900,PLAD1000:
                             PLAD1100,PLAD1200,PLAD1300
.
          WRITE     HTMLFILE;"Invalid IBA Tag";
          GOTO      PLAD9999
.
PLAD0100  WRITE     HTMLFILE;PMLAVISN;
          GOTO      PLAD9999
.
PLAD0200  MATCH     PMLAADAT,SP70
          GOTO      PLAD9999 IF EQUAL
          UNPACK    PMLAADAT,CCENT,CYEAR,CMON,CDAY
          MOVE      CMON,F2
          LOAD      MTHNAM3,F2,JAN,FEB,MAR,APR,MAY,JUN,JUL,AUG,SEP,OCT,NOV,DEC
          PACK      DISPDACT,CDAY,SP1,MTHNAM3,SP1,CCENT,CYEAR
          WRITE     HTMLFILE;DISPDACT;
          GOTO      PLAD9999
.
PLAD0300  WRITE     HTMLFILE;PMLAATIM;
          GOTO      PLAD9999
.
PLAD0400  WRITE     HTMLFILE;PMLAFONE;
          GOTO      PLAD9999
.
PLAD0500  WRITE     HTMLFILE;PMLASHOP;
          GOTO      PLAD9999
.
PLAD0600  WRITE     HTMLFILE;PMLAFDPR;
          GOTO      PLAD9999
.
PLAD0700  WRITE     HTMLFILE;PMLAHKEP;
          GOTO      PLAD9999
.
PLAD0800  WRITE     HTMLFILE;PMLALAUN;
          GOTO      PLAD9999
.
PLAD0900  WRITE     HTMLFILE;PMLAMTRN;
          GOTO      PLAD9999
.
PLAD1000  WRITE     HTMLFILE;PMLARMED;
          GOTO      PLAD9999
.
PLAD1100  WRITE     HTMLFILE;PMLAFINC;
          GOTO      PLAD9999
.
PLAD1200  WRITE     HTMLFILE;VISITDTE;
          GOTO      PMMS9999
.
PLAD1300  WRITE     HTMLFILE;VISITTME;
          GOTO      PMMS9999
.
PLAD9999  RETURN
.
.-------------------------------------------------------------------------------
. Move Lawtons Assessment of Daily Living cgi variables to file variables
.-------------------------------------------------------------------------------
MVPLAD00  MATCH     Z70,ADMISSNO
          IF        !@EQUAL
            MOVE      ADMISSNO,PMLAVISN
          ENDIF
.
          MATCH     Z70,PMLAD002
          IF        !@EQUAL
            MOVE      PMLAD002,PMLAADAT
          ENDIF
.
          MATCH     Z70,PMLAD003
          IF        !@EQUAL
            MOVE      PMLAD003,PMLAATIM
          ENDIF
.
          MATCH     Z70,PMLAD004
          IF        !@EQUAL
            MOVE      PMLAD004,PMLAFONE
          ENDIF
.
          MATCH     Z70,PMLAD005
          IF        !@EQUAL
            MOVE      PMLAD005,PMLASHOP
          ENDIF
.
          MATCH     Z70,PMLAD006
          IF        !@EQUAL
            MOVE      PMLAD006,PMLAFDPR
          ENDIF
.
          MATCH     Z70,PMLAD007
          IF        !@EQUAL
            MOVE      PMLAD007,PMLAHKEP
          ENDIF
.
          MATCH     Z70,PMLAD008
          IF        !@EQUAL
            MOVE      PMLAD008,PMLALAUN
          ENDIF
.
          MATCH     Z70,PMLAD009
          IF        !@EQUAL
            MOVE      PMLAD009,PMLAMTRN
          ENDIF
.
          MATCH     Z70,PMLAD010
          IF        !@EQUAL
            MOVE      PMLAD010,PMLARMED
          ENDIF
.
          MATCH     Z70,PMLAD011
          IF        !@EQUAL
            MOVE      PMLAD011,PMLAFINC
          ENDIF
.
MVPLAD99  RETURN
.
.-------------------------------------------------------------------------------
. Clear Lawtons Assessment of Daily Living file variables
.-------------------------------------------------------------------------------
CLPLAD00  MOVE      SP70,PMLAVISN
          MOVE      SP70,PMLAADAT
          MOVE      SP70,PMLAATIM
          MOVE      SP70,PMLAFONE
          MOVE      SP70,PMLASHOP
          MOVE      SP70,PMLAFDPR
          MOVE      SP70,PMLAHKEP
          MOVE      SP70,PMLALAUN
          MOVE      SP70,PMLAMTRN
          MOVE      SP70,PMLARMED
          MOVE      SP70,PMLAFINC
          MOVE      SP70,PMLACDAT
          MOVE      SP70,PMLACTIM
          MOVE      SP70,PMLACUID
          MOVE      SP70,PMLAUDAT
          MOVE      SP70,PMLAUTIM
          MOVE      SP70,PMLAUUID
.
CLPLAD99  RETURN
