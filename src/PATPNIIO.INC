.
.         INCLUDE NAME : PATPNIIO.INC
.
.         FILE I/O REQUESTS FOR PRE-ADMISSIONS NATIONAL ID NUMBER FILE
.
.OVRCD    FORM       1        0 = NOT OVER
.                             1 = OVER
.KEY10    DIM       10        KEY FOR PATPNIA1
.KEY30    DIM       30        KEY FOR PATPNIA2
.
RAPTPNI1  MOVE      ZERO,OVRCD
          RESET     KEY10
          READ      PATPNIA1,KEY10;ANS
          GOTO      OVERCOND IF OVER
          RETURN
.
RSPTPNI1  RESET     KEY10
          READ      PATPNIA1,KEY10;;
          RETURN
.
RKPTPNI1  MOVE      ZERO,OVRCD
          READKS    PATPNIA1;DPTPNHNU,PTPNADNO,PTPNNMPI,PTPNSPAR
          GOTO      OVERCOND IF OVER
          MOVE      DPTPNHNU,PTPNHNUM
          RETURN
.
RPPTPNI1  MOVE      ZERO,OVRCD
          READKP    PATPNIA1;DPTPNHNU,PTPNADNO,PTPNNMPI,PTPNSPAR
          GOTO      OVERCOND IF OVER
          MOVE      DPTPNHNU,PTPNHNUM
          RETURN
.
RDPTPNI1  MOVE      ZERO,OVRCD
          RESET     KEY10
          READ      PATPNIA1,KEY10;DPTPNHNU,PTPNADNO,PTPNNMPI,PTPNSPAR
          GOTO      OVERCOND IF OVER
          MOVE      DPTPNHNU,PTPNHNUM
          RETURN
.
UPPTPNI1  MOVE      PTPNHNUM,DPTPNHNU
          UPDATE    PATPNIA1;DPTPNHNU,PTPNADNO,PTPNNMPI,PTPNSPAR
          RETURN
.
DEPTPNI1  RESET     KEY10
          MOVE      PTPNHNUM,DPTPNHNU
          DELETE    PATPNIA1,KEY10
          RETURN
.
WRPTPNI1  MOVE      ZERO,OVRCD
          RESET     KEY10
          MOVE      PTPNHNUM,DPTPNHNU
          WRITE     PATPNIA1,KEY10;DPTPNHNU,PTPNADNO,PTPNNMPI,PTPNSPAR
          RETURN
.
.        SECOND NATIONAL ID NUMBER I/O 
.
RSPTPNI2  RESET     KEY30
          READ      PATPNIA2,KEY30;;
          RETURN
.
RDPTPNI2  MOVE      ZERO,OVRCD
          RESET     KEY30
          READ      PATPNIA2,KEY30;DPTPNHNU,PTPNADNO,PTPNNMPI,PTPNSPAR
          GOTO      OVERCOND IF OVER
          MOVE      DPTPNHNU,PTPNHNUM
          RETURN
.
RKPTPNI2  MOVE      ZERO,OVRCD
          READKS    PATPNIA2;DPTPNHNU,PTPNADNO,PTPNNMPI,PTPNSPAR
          GOTO      OVERCOND IF OVER
          MOVE      DPTPNHNU,PTPNHNUM
          RETURN
.
RPPTPNI2  MOVE      ZERO,OVRCD
          READKP    PATPNIA2;DPTPNHNU,PTPNADNO,PTPNNMPI,PTPNSPAR
          GOTO      OVERCOND IF OVER
          MOVE      DPTPNHNU,PTPNHNUM
          RETURN
.
