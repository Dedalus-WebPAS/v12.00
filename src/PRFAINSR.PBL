. Program  : PRFAINSR
. Function : This include sets default PRFA from Insurance based on a Claim code
.            (Cat CL) indic 24=P)
.
. Parameters: KEY3 = Claim code
.
. Return    : OVRCD = 1 (Not a valid Insusrance code for the Claim)
.                   = 0 (Found Insurance details for the Claim)
.
.*******************************************************************************
. Modification :
.            V11.02.01 19/05/2022  J.Tan          TSK 0837128
.                      Mod using Cat CL Indicator 24 instead of indicator 22
.            V11.02.00 19/04/2022  J.Tan          TSK 0837128
.                      Created a common routine for PRFA
.*******************************************************************************
.
PRFAINSR  PACK      KEY3,KEY3,SP70
          MATCH     SP70,KEY3
          GOTO      PRFA9000 IF EQUAL
.
          PACK      KEY5,ANSC,ANSL,KEY3,SP70
          CALL      RDCODE1
          BRANCH    OVRCD,PRFA9000
.
          MATCH     "P",TCINDC24
          GOTO      PRFA9000 IF NOT EQUAL
.
          MATCH     SP70,PTCDASC5             * Insurance code 
          GOTO      PRFA9000 IF EQUAL
.
          OPEN      PATIN1A1,"patin1af"
          PACK      KEY6,PTCDASC5,SP70
          CALL      RDINSR1
          BRANCH    OVRCD,PRFA9999
.
          CALL      CLPATRE1
          PACK      PKNAME,INAME,SP70
          PACK      PKADD1,IADD1,SP70
          PACK      PKADD2,IADD2,SP70
          PACK      PKSUBR,IADD3,SP70
          PACK      PKADD4,IADD4,SP70
          PACK      PKPOST,IPOST,SP70
          PACK      PKTELEB,ITELEB,SP70
          GOTO      PRFA9999
.
PRFA9000  MOVE      ONE,OVRCD
PRFA9999  RETURN
+
.




