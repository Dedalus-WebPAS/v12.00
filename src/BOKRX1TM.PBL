. *---------------------------------------------------------------------- . * Include Name  :   BOKRX1TM.INC
. *
. * Function      :   CGI variables for BOKRX1FD - bokrx1af.dat
. *
. * Includes Needed : PATWR1FD - Ward file
. *                   PATWR1IO - IO for ward file
. *                   PMSHCPFD - Health care professional file
. *                   PMSHCPIO - IO for healthcare professional file
. *                   WATLETFD - Waiting list letters file
. *                   WATLETIO - IO for waiting List Letters file
. *
. * V11.00.01  23/03/2020 Peter Vela     TSK 0889143
. *                       Fixed WATLET IO calls
. * V10.12.02  30/05/2018 Richa Phogat   TSK 0850937
. *                       Added PACAFLAG (BKRX5200)
. * V10.12.01  02/05/2018 Richa Phogat   TSK 0843171
. *                       Updated MVBKRX00 by adding FIRSTBOK
. * V10.05.02  30/07/2014 Peter Vela     CAR 283332
. *                       Added BKRXPACA
. * V10.05.01  30/07/2014 Peter Vela     CAR 299131
. *                       Added BKRXDROR
. *                       Added BKRXUDF6
. *                       Added BKRXUDF7  
. * V10.04.01  06/05/2014 Peter Vela     CAR 279020
. *                       Added BKRXEABR
. *                       Added BKRXAUBY
. *                       Added BKRXEAID
. * V10.03.01  20/03/2012 Jill Parkinson CAR 243341 
. *                       Changed BKRXUDF5 to be category VI
. * V10.12.01  27/06/2011 Peter McMullen CAR 240725 
. *                       Change ward selection list to WSEL0000
. *  V9.11.02  17/02/2009 Peter Vela    CAR 183976
. *                       Added BKRXPOEC
. *  V9.11.01  24/11/2008 Ebon Clements CAR 174077
. *                       Added BKRXPOBD
. *  V9.08.01  12/11/2007 Jill Habasque CAR 154184
. *                       Added check for hospital code in BKRXPS00
. *  V9.09.01  21/09/2007 Jill Habasque  CAR 150323
. *                       Added BKRXUDT1 and BKRXUDT2                        
. *  V9.05.B01 25/01/2006 Peter Vela CAR 89644
. *                       Added code to display BKREBKDT if BKRXCRDT is spaces
. *                       Added code to display BKREOPER if BKRXWEBC is spaces
. *  V9.02.03  07/03/2003 J.Tan  
. *                       Changed bkrxadwd to use Code Category ap  
. *  V9.02.02  07/02/2002 Ebon Clements
. *                       Added BKRXCNTM - confirmation time                 
. *  V9.02.01  08/12/2001 Ebon Clements
. *                       Added selection lists for Admitting/Post Op Wards
. *----------------------------------------------------------------------
.
.------------------------------------------------------------------------
.   Clear Parameters for booking details extension file
.------------------------------------------------------------------------
.
CPBKRX00  MOVE      Z70,BOKRX001
          MOVE      Z70,BOKRX002
          MOVE      Z70,BOKRX003
          MOVE      Z70,BOKRX004
          MOVE      Z70,BOKRX005
          MOVE      Z70,BOKRX006
          MOVE      Z70,BOKRX007
          MOVE      Z70,BOKRX008
          MOVE      Z70,BOKRX009
          MOVE      Z70,BOKRX010
          MOVE      Z70,BOKRX011
          MOVE      Z70,BOKRX012
          MOVE      Z70,BOKRX013
          MOVE      Z70,BOKRX014
          MOVE      Z70,BOKRX015
          MOVE      Z70,BOKRX016
          MOVE      Z70,BOKRX017
          MOVE      Z70,BOKRX018
          MOVE      Z70,BOKRX019
          MOVE      Z70,BOKRX020
          MOVE      Z70,BOKRX021
          MOVE      Z70,BOKRX022
          MOVE      Z70,BOKRX023
          MOVE      Z70,BOKRX024
          MOVE      Z70,BOKRX025
          MOVE      Z70,BOKRX026
          MOVE      Z70,BOKRX027
          MOVE      Z70,BOKRX028
          MOVE      Z70,BOKRX029
          MOVE      Z70,BOKRX030
          MOVE      Z70,BOKRX031
          MOVE      Z70,BOKRX032
          MOVE      Z70,BOKRX033
          MOVE      Z70,BOKRX034
          MOVE      Z70,BOKRX035
          MOVE      Z70,BOKRX036
          MOVE      Z70,BOKRX037
          MOVE      Z70,BOKRX038
          MOVE      Z70,BOKRX039
          MOVE      Z70,BOKRX040
          MOVE      Z70,BOKRX041
          MOVE      Z70,BOKRX042
          MOVE      Z70,BOKRX043
          MOVE      Z70,BOKRX044
          MOVE      Z70,BOKRX045
          MOVE      Z70,BOKRX046
          MOVE      Z70,BOKRX047
          MOVE      Z70,BOKRX048
          MOVE      Z70,BOKRX049
          MOVE      Z70,BOKRX050
          MOVE      Z70,BOKRX051
.
CPBKRX99  RETURN 
.------------------------------------------------------------
. Add waiting list Extension Fields
.------------------------------------------------------------
BKRX0000  BRANCH    FLDITMNO,BKRX0100,BKRX0200,BKRX0300,BKRX0400,BKRX0500:
                             BKRX0600,BKRX0700,BKRX0800,BKRX0900,BKRX1000:
                             BKRX1100,BKRX1200,BKRX1300,BKRX1400,BKRX1500:
                             BKRX1600,BKRX1700,BKRX1800,BKRX1900,BKRX2000:
                             BKRX2100,BKRX2200,BKRX2300,BKRX2400,BKRX2500:
                             BKRX2600,BKRX2700,BKRX2800,BKRX2900,BKRX3000:
                             BKRX3100,BKRX3200,BKRX3300,BKRX3400,BKRX3500:
                             BKRX3600,BKRX3700,BKRX3800,BKRX3900,BKRX4000:
                             BKRX4100,BKRX4200,BKRX4300,BKRX4400,BKRX4500:
                             BKRX4600,BKRX4700,BKRX4800,BKRX4900,BKRX5000:
                             BKRX5100,BKRX5200
.
          WRITE     HTMLFILE;"Invalid IBA Tag";
          GOTO      BKRX9999
.
BKRX0100  WRITE     HTMLFILE;BKRXBNUM;
          GOTO      BKRX9999
.
BKRX0200  UNPACK    DIM127,D1,KEY1,DIM127
          MOVE      ZERO,F1
          MOVE      KEY1,F1
          BRANCH    F1,BKRX0210,BKRX0220
          PACK      KEY6,BKRXPOWD,SP30
          CALL      RDWARD1
          BRANCH    OVRCD,BKRX9999
          WRITE     HTMLFILE;WBDESC;
          GOTO      BKRX9999
.
BKRX0210  WRITE     HTMLFILE;BKRXPOWD;
          GOTO      BKRX9999
.
BKRX0220  PACK      DFLTWARD,BKRXPOWD  *post op ward selection list 
          CALL      WSEL0000
          GOTO      BKRX9999
.
BKRX0300  MOVE      "ap",CATEGORY
          MOVE      BKRXADWD,CODE
          CALL      CODITM00    
          GOTO      BKRX9999
.
BKRX0400  MATCH     BKRXCDTE,SP70
          GOTO      BKRX9999 IF EQUAL
          UNPACK    BKRXCDTE,CCENT,CYEAR,CMON,CDAY
          MOVE      CMON,F2
          LOAD      MTHNAM3,F2,JAN,FEB,MAR,APR,MAY,JUN,JUL,AUG,SEP,OCT,NOV,DEC
          WRITE     HTMLFILE;CDAY,SP1,MTHNAM3,SP1,CCENT,CYEAR
          GOTO      BKRX9999
.
BKRX0500  MOVE      NO,YESNO
          MATCH     "1",BKRXPSTY
          IF       @EQUAL
            MOVE      YES,YESNO
          ENDIF
          WRITE     HTMLFILE;YESNO;
          GOTO      BKRX9999
.
BKRX0600  MATCH     BKRXCNDT,SP70
          GOTO      BKRX9999 IF EQUAL
          MOVE      ZERO,F2 
          MOVE      SP70,MTHNAM3
          MOVE      ZERO,CCENT
          MOVE      ZERO,CYEAR
          MOVE      ZERO,CMON
          MOVE      ZERO,CDAY
          MATCH     Z70,BKRXCNDT
          GOTO      BKRX9999 IF EQUAL
          UNPACK    BKRXCNDT,CCENT,CYEAR,CMON,CDAY
          MOVE      CMON,F2
          LOAD      MTHNAM3,F2,JAN,FEB,MAR,APR,MAY,JUN,JUL,AUG,SEP,OCT,NOV,DEC
          WRITE     HTMLFILE;CDAY,SP1,MTHNAM3,SP1,CCENT,CYEAR
          GOTO      BKRX9999
.
BKRX0700  MOVE      "BE",CATEGORY
          MOVE      BKRXUDF1,CODE
          CALL      CODITM00
          GOTO      BKRX9999
.
BKRX0800  MOVE      "BF",CATEGORY
          MOVE      BKRXUDF2,CODE
          CALL      CODITM00
          GOTO      BKRX9999
.
BKRX0900  MOVE      "BG",CATEGORY
          MOVE      BKRXUDF3,CODE
          CALL      CODITM00
          GOTO      BKRX9999
.
BKRX1000  MOVE      "BH",CATEGORY
          MOVE      BKRXUDF4,CODE
          CALL      CODITM00
          GOTO      BKRX9999
.
BKRX1100  MOVE      "VI",CATEGORY
          MOVE      BKRXUDF5,CODE
          CALL      CODITM00
          GOTO      BKRX9999
.
BKRX1200  MATCH     BKRXUDD1,SP70
          GOTO      BKRX9999 IF EQUAL
          UNPACK    BKRXUDD1,CCENT,CYEAR,CMON,CDAY
          MOVE      CMON,F2
          LOAD      MTHNAM3,F2,JAN,FEB,MAR,APR,MAY,JUN,JUL,AUG,SEP,OCT,NOV,DEC
          WRITE     HTMLFILE;CDAY,SP1,MTHNAM3,SP1,CCENT,CYEAR
          GOTO      BKRX9999
.
BKRX1300  MATCH     BKRXUDD2,SP70
          GOTO      BKRX9999 IF EQUAL
          UNPACK    BKRXUDD2,CCENT,CYEAR,CMON,CDAY
          MOVE      CMON,F2
          LOAD      MTHNAM3,F2,JAN,FEB,MAR,APR,MAY,JUN,JUL,AUG,SEP,OCT,NOV,DEC
          WRITE     HTMLFILE;CDAY,SP1,MTHNAM3,SP1,CCENT,CYEAR
          GOTO      BKRX9999
.
BKRX1400  MATCH     BKRXUDD3,SP70
          GOTO      BKRX9999 IF EQUAL
          UNPACK    BKRXUDD3,CCENT,CYEAR,CMON,CDAY
          MOVE      CMON,F2
          LOAD      MTHNAM3,F2,JAN,FEB,MAR,APR,MAY,JUN,JUL,AUG,SEP,OCT,NOV,DEC
          WRITE     HTMLFILE;CDAY,SP1,MTHNAM3,SP1,CCENT,CYEAR
          GOTO      BKRX9999
.
BKRX1500  MATCH     BKRXUDD4,SP70
          GOTO      BKRX9999 IF EQUAL
          UNPACK    BKRXUDD4,CCENT,CYEAR,CMON,CDAY
          MOVE      CMON,F2
          LOAD      MTHNAM3,F2,JAN,FEB,MAR,APR,MAY,JUN,JUL,AUG,SEP,OCT,NOV,DEC
          WRITE     HTMLFILE;CDAY,SP1,MTHNAM3,SP1,CCENT,CYEAR
          GOTO      BKRX9999
.
BKRX1600  WRITE     HTMLFILE;BKRXUFF1;
          GOTO      BKRX9999
.
BKRX1700  WRITE     HTMLFILE;BKRXUFF2;
          GOTO      BKRX9999
.
BKRX1800  WRITE     HTMLFILE;BKRXUFF3;
          GOTO      BKRX9999
.
BKRX1900  WRITE     HTMLFILE;BKRXUFF4;
          GOTO      BKRX9999
.
BKRX2000  UNPACK    DIM127,D1,KEY1,DIM127
          MOVE      ZERO,F1
          MOVE      KEY1,F1
          BRANCH    F1,BKRX2010
          PACK      KEY10,BKRXEDC1
          CALL      RDPMHCP1
          BRANCH    OVRCD,BKRX9999
          MOVE      PMHCTITL,FMTTITLE
          MOVE      PMHCGNAM,FMTGNAME
          MOVE      PMHCSNAM,FMTSNAME
          CALL      DOCNM000
          WRITE     HTMLFILE;DOCFNAME;
          GOTO      BKRX9999
.
BKRX2010  WRITE     HTMLFILE;BKRXEDC1;
          GOTO      BKRX9999
.
BKRX2100  UNPACK    DIM127,D1,KEY1,DIM127
          MOVE      ZERO,F1
          MOVE      KEY1,F1
          BRANCH    F1,BKRX2110
          PACK      KEY10,BKRXEDC2
          CALL      RDPMHCP1
          BRANCH    OVRCD,BKRX9999
          MOVE      PMHCTITL,FMTTITLE
          MOVE      PMHCGNAM,FMTGNAME
          MOVE      PMHCSNAM,FMTSNAME
          CALL      DOCNM000
          WRITE     HTMLFILE;DOCFNAME;
          GOTO      BKRX9999
.
BKRX2110  WRITE     HTMLFILE;BKRXEDC2;
          GOTO      BKRX9999
.
BKRX2200  UNPACK    DIM127,D1,KEY1,DIM127
          MOVE      ZERO,F1
          MOVE      KEY1,F1
          BRANCH    F1,BKRX2210
          PACK      KEY10,BKRXEDC3
          CALL      RDPMHCP1
          BRANCH    OVRCD,BKRX9999
          MOVE      PMHCTITL,FMTTITLE
          MOVE      PMHCGNAM,FMTGNAME
          MOVE      PMHCSNAM,FMTSNAME
          CALL      DOCNM000
          WRITE     HTMLFILE;DOCFNAME;
          GOTO      BKRX9999
.
BKRX2210  WRITE     HTMLFILE;BKRXEDC3;
          GOTO      BKRX9999
.
BKRX2300  MATCH     BKRXODTE,SP70
          GOTO      BKRX9999 IF EQUAL
          MOVE      ZERO,F2
          MOVE      SP70,MTHNAM3
          MOVE      ZERO,CCENT
          MOVE      ZERO,CYEAR
          MOVE      ZERO,CMON
          MOVE      ZERO,CDAY
          UNPACK    BKRXODTE,CCENT,CYEAR,CMON,CDAY
          MOVE      CMON,F2
          LOAD      MTHNAM3,F2,JAN,FEB,MAR,APR,MAY,JUN,JUL,AUG,SEP,OCT,NOV,DEC
          WRITE     HTMLFILE;CDAY,SP1,MTHNAM3,SP1,CCENT,CYEAR
          GOTO      BKRX9999
.
BKRX2400  MOVE      "SP",CATEGORY
          MOVE      BKRXOPRD,CODE
          CALL      CODITM00
          GOTO      BKRX9999
.
BKRX2500  MATCH     BKRXCRDT,SP70
          GOTO      BKRX2510 IF EQUAL
          UNPACK    BKRXCRDT,CCENT,CYEAR,CMON,CDAY
          MOVE      CMON,F2
          LOAD      MTHNAM3,F2,JAN,FEB,MAR,APR,MAY,JUN,JUL,AUG,SEP,OCT,NOV,DEC
          WRITE     HTMLFILE;CDAY,SP1,MTHNAM3,SP1,CCENT,CYEAR
          GOTO      BKRX9999
.
BKRX2510  MATCH     BKREBKDT,SP70
          GOTO      BKRX9999 IF EQUAL
.
          UNPACK    BKREBKDT,CCENT,CYEAR,CMON,CDAY
          MOVE      CMON,F2
          LOAD      MTHNAM3,F2,JAN,FEB,MAR,APR,MAY,JUN,JUL,AUG,SEP,OCT,NOV,DEC
          WRITE     HTMLFILE;CDAY,SP1,MTHNAM3,SP1,CCENT,CYEAR
          GOTO      BKRX9999
.
BKRX2600  WRITE     HTMLFILE;BKRXCRTM;
          GOTO      BKRX9999
.
BKRX2700  MATCH     SP70,BKRXWEBC
          GOTO      BKRX2710 IF EQUAL
          PACK      KEY10,BKRXWEBC
          CALL      RDWBSE1
          IF        OVRCD=1
            MOVE      BKRXWEBC,WBSENAM
          ENDIF
          WRITE     HTMLFILE;WBSENAM;
          GOTO      BKRX9999
.
BKRX2710  MATCH     SP70,BKREOPER
          GOTO      BKRX9999 IF EQUAL
.
          PACK      KEY14,BKREOPER,WBSEUID
          CALL      RDWBSE3
          IF        OVRCD=1
            MOVE      BKREOPER,WBSENAM
          ENDIF
          WRITE     HTMLFILE;WBSENAM;
          GOTO      BKRX9999
.
BKRX2800  MATCH     BKRXLUPD,SP70
          GOTO      BKRX9999 IF EQUAL
          UNPACK    BKRXLUPD,CCENT,CYEAR,CMON,CDAY
          MOVE      CMON,F2
          LOAD      MTHNAM3,F2,JAN,FEB,MAR,APR,MAY,JUN,JUL,AUG,SEP,OCT,NOV,DEC
          WRITE     HTMLFILE;CDAY,SP1,MTHNAM3,SP1,CCENT,CYEAR
          GOTO      BKRX9999
.
BKRX2900  WRITE     HTMLFILE;BKRXLUPT;
          GOTO      BKRX9999
.
BKRX3000  MATCH     SP70,BKRXWEBU
          GOTO      BKRX9999 IF EQUAL
          PACK      KEY10,BKRXWEBU
          CALL      RDWBSE1
          IF        OVRCD=1
            MOVE      BKRXWEBU,WBSENAM
          ENDIF
          WRITE     HTMLFILE;WBSENAM;
          GOTO      BKRX9999
.
BKRX3100  MOVE      "S ",CATEGORY
          MOVE      BKRXASRC,CODE
          CALL      CODITM00
          GOTO      BKRX9999
.
BKRX3200  MOVE      "BO",CATEGORY
          MOVE      BKRXBLDT,CODE
          CALL      CODITM00
          GOTO      BKRX9999
.
BKRX3300  UNPACK    DIM127,D1,KEY1,DIM127
          MOVE      ZERO,F1
          MOVE      KEY1,F1
          BRANCH    F1,BKRX3310
          PACK      KEY6,BKRXCTTY,SP1,SP1,ZERO
          CALL      RDLET1
          BRANCH    OVRCD,BKRX9999
          WRITE     HTMLFILE;WLTEXT;
          GOTO      BKRX9999
.
BKRX3310  WRITE     HTMLFILE;BKRXCTTY;
          GOTO      BKRX9999
.
BKRX3400  MOVE      NO,YESNO
          MATCH     "1",BKRXSGBK
          IF       @EQUAL
            MOVE      YES,YESNO
          ENDIF
          WRITE     HTMLFILE;YESNO;
          GOTO      BKRX9999
.
BKRX3500  WRITE     HTMLFILE;BKRXCNTM;
          GOTO      BKRX9999
.
BKRX3600  WRITE     HTMLFILE;BKRXUDT1;
          GOTO      BKRX9999
.
BKRX3700  WRITE     HTMLFILE;BKRXUDT2;
          GOTO      BKRX9999
.
BKRX3800  UNPACK    DIM127,D1,KEY1,DIM127
          MOVE      ZERO,F1
          MOVE      KEY1,F1
          BRANCH    F1,BKRX3810
.
          WRITE     HTMLFILE;BKRXPOBD;
          GOTO      BKRX9999
.
BKRX3810  MATCH     SP70,BKRXPOWD
          GOTO      BKRX9999 IF EQUAL
.             
          PACK      KEY6,BKRXPOWD,SP70
          CALL      RDSWARD1
BKRX3820  CALL      RDKWARD1
          BRANCH    OVRCD,BKRX9999
.           
          MATCH     BKRXPOWD,WWARD
          GOTO      BKRX9999 IF NOT EQUAL
.
          MATCH     SP70,WBED
          GOTO      BKRX3820 IF EQUAL
.
          PACK      KEY5,QUOTE,WBED,QUOTE
.
          MATCH     BKRXPOBD,WBED
          IF        @EQUAL
            WRITE     HTMLFILE;"<option value=",KEY5,"selected>",WBED:
                               "</option>";
          ELSE
            WRITE     HTMLFILE;"<option value=",KEY5,">",WBED:
                               "</option>";
          ENDIF
.
          GOTO      BKRX3820
.
BKRX3900  WRITE     HTMLFILE;BKRXPOEC;
          GOTO      BKRX9999
.
BKRX4000  MOVE      "DC",CATEGORY
          MOVE      BKRXDIET,CODE
          CALL      CODITM00
          GOTO      BKRX9999
.
BKRX4100  MOVE      "OB",CATEGORY
          MOVE      BKRXTRAN,CODE
          CALL      CODITM00
          GOTO      BKRX9999
.
BKRX4200  MOVE      "SI",CATEGORY
          MOVE      BKRXATRN,CODE
          CALL      CODITM00
          GOTO      BKRX9999
.
BKRX4300  MOVE      "OA",CATEGORY
          MOVE      BKRXANTY,CODE
          CALL      CODITM00
          GOTO      BKRX9999
.
BKRX4400  WRITE     HTMLFILE;BKRXESOP;
          GOTO      BKRX9999
.
BKRX4500  MOVE      "b1",CATEGORY
          MOVE      BKRXEABR,CODE
          CALL      CODITM00
          GOTO      BKRX9999
.
BKRX4600  MOVE      "b2",CATEGORY
          MOVE      BKRXAUBY,CODE 
          CALL      CODITM00
          GOTO      BKRX9999
.
BKRX4700  MATCH     SP70,BKRXEAID
          GOTO      BKRX9999 IF EQUAL
          PACK      KEY10,BKRXEAID,SP70
          CALL      RDWBSE1
          IF        OVRCD=1
            MOVE      BKRXEAID,WBSENAM
          ENDIF
          WRITE     HTMLFILE;WBSENAM;
          GOTO      BKRX9999
.
BKRX4800  MOVE      "Ba",CATEGORY
          MOVE      BKRXDROR,CODE
          CALL      CODITM00
          GOTO      BKRX9999
.
BKRX4900  MOVE      "Bb",CATEGORY
          MOVE      BKRXUDF6,CODE
          CALL      CODITM00
          GOTO      BKRX9999
.
BKRX5000  MOVE      "Bc",CATEGORY
          MOVE      BKRXUDF7,CODE
          CALL      CODITM00
          GOTO      BKRX9999
.
BKRX5100  MOVE      NO,YESNO
          MATCH     "1",BKRXPACA
          IF       @EQUAL
            MOVE      YES,YESNO
          ENDIF
          WRITE     HTMLFILE;YESNO;
          GOTO      BKRX9999
.
BKRX5200  WRITE     HTMLFILE;PACAFLAG;
          GOTO      BKRX9999
.
BKRX9999  RETURN
.
.------------------------------------------------------------
.   Set Parameters for waiting list extension file
.------------------------------------------------------------
SPBKRX00  MOVE      ZERO,EXIT
          UNPACK    QRYNAME,KEY5,KEY3
          MOVE      KEY3,F3
          BRANCH    F3,SPBKRX01,SPBKRX02,SPBKRX03,SPBKRX04,SPBKRX05:
                       SPBKRX06,SPBKRX07,SPBKRX08,SPBKRX09,SPBKRX10:
                       SPBKRX11,SPBKRX12,SPBKRX13,SPBKRX14,SPBKRX15:
                       SPBKRX16,SPBKRX17,SPBKRX18,SPBKRX19,SPBKRX20:
                       SPBKRX21,SPBKRX22,SPBKRX23,SPBKRX24,SPBKRX25:
                       SPBKRX26,SPBKRX27,SPBKRX28,SPBKRX29,SPBKRX30:
                       SPBKRX31,SPBKRX32,SPBKRX33,SPBKRX34,SPBKRX35:
                       SPBKRX36,SPBKRX37,SPBKRX38,SPBKRX39,SPBKRX40:
                       SPBKRX41,SPBKRX42,SPBKRX43,SPBKRX44,SPBKRX45:
                       SPBKRX46,SPBKRX47,SPBKRX48,SPBKRX49,SPBKRX50:
                       SPBKRX51
.
          MOVE      ONE,EXIT
          GOTO      SPBKRX99
.
SPBKRX01  SQUEEZE   QRYDATA 
          MOVE      QRYDATA,BOKRX001
          PACK      BOKRX001,BOKRX001,SP70
          GOTO      SPBKRX99
.
SPBKRX02  MOVE      QRYDATA,BOKRX002
          GOTO      SPBKRX99
.
SPBKRX03  MOVE      QRYDATA,BOKRX003
          GOTO      SPBKRX99
.
SPBKRX04  UNPACK    QRYDATA,CDAY,KEY1,MTHNAM3,KEY1,CCENT,CYEAR
          CALL      SETMTH00                *Set CMON from MTHNAM3
          PACK      BOKRX004,CCENT,CYEAR,CMON,CDAY
          GOTO      SPBKRX99
.
SPBKRX05  MOVE      QRYDATA,BOKRX005
          GOTO      SPBKRX99
.
SPBKRX06  UNPACK    QRYDATA,CDAY,KEY1,MTHNAM3,KEY1,CCENT,CYEAR
          CALL      SETMTH00                *Set CMON from MTHNAM3
          PACK      BOKRX006,CCENT,CYEAR,CMON,CDAY
          GOTO      SPBKRX99
.
SPBKRX07  MOVE      QRYDATA,BOKRX007
          GOTO      SPBKRX99
.
SPBKRX08  MOVE      QRYDATA,BOKRX008
          GOTO      SPBKRX99
.
SPBKRX09  MOVE      QRYDATA,BOKRX009
          GOTO      SPBKRX99
.
SPBKRX10  MOVE      QRYDATA,BOKRX010
          GOTO      SPBKRX99
.
SPBKRX11  MOVE      QRYDATA,BOKRX011
          GOTO      SPBKRX99
.
SPBKRX12  UNPACK    QRYDATA,CDAY,KEY1,MTHNAM3,KEY1,CCENT,CYEAR
          CALL      SETMTH00                *Set CMON from MTHNAM3
          PACK      BOKRX012,CCENT,CYEAR,CMON,CDAY
          GOTO      SPBKRX99
.
SPBKRX13  UNPACK    QRYDATA,CDAY,KEY1,MTHNAM3,KEY1,CCENT,CYEAR
          CALL      SETMTH00                *Set CMON from MTHNAM3
          PACK      BOKRX013,CCENT,CYEAR,CMON,CDAY
          GOTO      SPBKRX99
.
SPBKRX14  UNPACK    QRYDATA,CDAY,KEY1,MTHNAM3,KEY1,CCENT,CYEAR
          CALL      SETMTH00                *Set CMON from MTHNAM3
          PACK      BOKRX014,CCENT,CYEAR,CMON,CDAY
          GOTO      SPBKRX99
.
SPBKRX15  UNPACK    QRYDATA,CDAY,KEY1,MTHNAM3,KEY1,CCENT,CYEAR
          CALL      SETMTH00                *Set CMON from MTHNAM3
          PACK      BOKRX015,CCENT,CYEAR,CMON,CDAY
          GOTO      SPBKRX99
.
SPBKRX16  MOVE      QRYDATA,BOKRX016
          GOTO      SPBKRX99
.
SPBKRX17  MOVE      QRYDATA,BOKRX017
          GOTO      SPBKRX99
.
SPBKRX18  MOVE      QRYDATA,BOKRX018
          GOTO      SPBKRX99
.
SPBKRX19  MOVE      QRYDATA,BOKRX019
          GOTO      SPBKRX99
.
SPBKRX20  MOVE      QRYDATA,BOKRX020
          GOTO      SPBKRX99
.
SPBKRX21  MOVE      QRYDATA,BOKRX021
          GOTO      SPBKRX99
.
SPBKRX22  MOVE      QRYDATA,BOKRX022
          GOTO      SPBKRX99
.
SPBKRX23  UNPACK    QRYDATA,CDAY,KEY1,MTHNAM3,KEY1,CCENT,CYEAR
          CALL      SETMTH00                *Set CMON from MTHNAM3
          PACK      BOKRX023,CCENT,CYEAR,CMON,CDAY
          GOTO      SPBKRX99
.
SPBKRX24  MOVE      QRYDATA,BOKRX024
          GOTO      SPBKRX99
.
SPBKRX25  UNPACK    QRYDATA,CDAY,KEY1,MTHNAM3,KEY1,CCENT,CYEAR
          CALL      SETMTH00                *Set CMON from MTHNAM3
          PACK      BOKRX025,CCENT,CYEAR,CMON,CDAY
          GOTO      SPBKRX99
.
SPBKRX26  MOVE      QRYDATA,BOKRX026
          GOTO      SPBKRX99
.
SPBKRX27  MOVE      QRYDATA,BOKRX027
          GOTO      SPBKRX99
.
SPBKRX28  UNPACK    QRYDATA,CDAY,KEY1,MTHNAM3,KEY1,CCENT,CYEAR
          CALL      SETMTH00                *Set CMON from MTHNAM3
          PACK      BOKRX028,CCENT,CYEAR,CMON,CDAY
          GOTO      SPBKRX99
.
SPBKRX29  MOVE      QRYDATA,BOKRX029
          GOTO      SPBKRX99
.
SPBKRX30  MOVE      QRYDATA,BOKRX030
          GOTO      SPBKRX99
.
SPBKRX31  MOVE      QRYDATA,BOKRX031
          GOTO      SPBKRX99
.
SPBKRX32  MOVE      QRYDATA,BOKRX032
          GOTO      SPBKRX99
.
SPBKRX33  MOVE      QRYDATA,BOKRX033
          GOTO      SPBKRX99
.
SPBKRX34  MOVE      QRYDATA,BOKRX034
          GOTO      SPBKRX99
.
SPBKRX35  MOVE      QRYDATA,BOKRX035
          GOTO      SPBKRX99
.
SPBKRX36  MOVE      QRYDATA,BOKRX036
          GOTO      SPBKRX99
.
SPBKRX37  MOVE      QRYDATA,BOKRX037
          GOTO      SPBKRX99
.
SPBKRX38  MOVE      QRYDATA,BOKRX038
          GOTO      SPBKRX99
.
SPBKRX39  MOVE      QRYDATA,BOKRX039
          GOTO      SPBKRX99
.
SPBKRX40  MOVE      QRYDATA,BOKRX040
          GOTO      SPBKRX99
.
SPBKRX41  MOVE      QRYDATA,BOKRX041
          GOTO      SPBKRX99
.
SPBKRX42  MOVE      QRYDATA,BOKRX042
          GOTO      SPBKRX99
.
SPBKRX43  MOVE      QRYDATA,BOKRX043
          GOTO      SPBKRX99
.
SPBKRX44  MOVE      QRYDATA,BOKRX044
          GOTO      SPBKRX99
.
SPBKRX45  MOVE      QRYDATA,BOKRX045
          GOTO      SPBKRX99
.
SPBKRX46  MOVE      QRYDATA,BOKRX046
          GOTO      SPBKRX99
.
SPBKRX47  MOVE      QRYDATA,BOKRX047
          GOTO      SPBKRX99
.
SPBKRX48  MOVE      QRYDATA,BOKRX048
          GOTO      SPBKRX99
.
SPBKRX49  MOVE      QRYDATA,BOKRX049
          GOTO      SPBKRX99
.
SPBKRX50  MOVE      QRYDATA,BOKRX050
          GOTO      SPBKRX99
.
SPBKRX51  MOVE      QRYDATA,BOKRX051
          GOTO      SPBKRX99
.
SPBKRX99  RETURN
.
.------------------------------------------------------------
.  Update booking  extension file
.------------------------------------------------------------
MVBKRX00  MATCH     BOKRX001,Z70
          IF        !@EQUAL
            MOVE      BOKRX001,BKRXBNUM
          ENDIF
.
          MATCH     BOKRX002,Z70
          IF        !@EQUAL
            MATCH      "1",FIRSTBOK
            IF         @EQUAL
              MOVE      BOKRX002,BKRXPOWD
            ENDIF
          ENDIF
.
          MATCH     BOKRX003,Z70
          IF        !@EQUAL
            MOVE      BOKRX003,BKRXADWD
          ENDIF
.
          MATCH     BOKRX004,Z70
          IF        !@EQUAL
            MOVE      BOKRX004,BKRXCDTE
          ENDIF
.
          MATCH     BOKRX005,Z70
          IF        !@EQUAL
            MOVE      BOKRX005,BKRXPSTY
          ELSE
            MOVE      ZERO,BKRXPSTY
          ENDIF
.
          MATCH     BOKRX006,Z70
          IF        !@EQUAL
            MOVE      BOKRX006,BKRXCNDT
          ENDIF
.
          MATCH     BOKRX007,Z70
          IF        !@EQUAL
            MOVE      BOKRX007,BKRXUDF1
          ENDIF
.
          MATCH     BOKRX008,Z70
          IF        !@EQUAL
            MOVE      BOKRX008,BKRXUDF2
          ENDIF
.
          MATCH     BOKRX009,Z70
          IF        !@EQUAL
            MOVE      BOKRX009,BKRXUDF3
          ENDIF
.
          MATCH     BOKRX010,Z70
          IF        !@EQUAL
            MOVE      BOKRX010,BKRXUDF4
          ENDIF
.
          MATCH     BOKRX011,Z70
          IF        !@EQUAL
            MOVE      BOKRX011,BKRXUDF5
          ENDIF
.
          MATCH     BOKRX012,Z70
          IF        !@EQUAL
            MOVE      BOKRX012,BKRXUDD1
          ENDIF
.
          MATCH     BOKRX013,Z70
          IF        !@EQUAL
            MOVE      BOKRX013,BKRXUDD2
          ENDIF
.
          MATCH     BOKRX014,Z70
          IF        !@EQUAL
            MOVE      BOKRX014,BKRXUDD3
          ENDIF
.
          MATCH     BOKRX015,Z70
          IF        !@EQUAL
            MOVE      BOKRX015,BKRXUDD4
          ENDIF
.
          MATCH     BOKRX016,Z70
          IF        !@EQUAL
            MOVE      BOKRX016,BKRXUFF1
          ENDIF
.
          MATCH     BOKRX017,Z70
          IF        !@EQUAL
            MOVE      BOKRX017,BKRXUFF2
          ENDIF
.
          MATCH     BOKRX018,Z70
          IF        !@EQUAL
            MOVE      BOKRX018,BKRXUFF3
          ENDIF
.
          MATCH     BOKRX019,Z70
          IF        !@EQUAL
            MOVE      BOKRX019,BKRXUFF4
          ENDIF
.
          MATCH     BOKRX020,Z70
          IF        !@EQUAL
            MOVE      BOKRX020,BKRXEDC1
          ENDIF
.
          MATCH     BOKRX021,Z70
          IF        !@EQUAL
            MOVE      BOKRX021,BKRXEDC2
          ENDIF
.
          MATCH     BOKRX022,Z70
          IF        !@EQUAL
            MOVE      BOKRX022,BKRXEDC3
          ENDIF
.
          MATCH     BOKRX023,Z70
          IF        !@EQUAL
            MOVE      BOKRX023,BKRXODTE
          ENDIF
.
          MATCH     BOKRX024,Z70
          IF        !@EQUAL
            MOVE      BOKRX024,BKRXOPRD
          ENDIF
.
          MATCH     BOKRX025,Z70
          IF        !@EQUAL
            MOVE      BOKRX025,BKRXCRDT
          ENDIF
.
          MATCH     BOKRX026,Z70
          IF        !@EQUAL
            MOVE      BOKRX026,BKRXCRTM
          ENDIF
.
          MATCH     BOKRX027,Z70
          IF        !@EQUAL
            MOVE      BOKRX027,BKRXWEBC
          ENDIF
.
          MATCH     BOKRX028,Z70
          IF        !@EQUAL
            MOVE      BOKRX028,BKRXLUPD
          ENDIF
.
          MATCH     BOKRX029,Z70
          IF        !@EQUAL
            MOVE      BOKRX029,BKRXLUPT
          ENDIF
.
          MATCH     BOKRX030,Z70
          IF        !@EQUAL
            MOVE      BOKRX030,BKRXWEBU
          ENDIF
.
          MATCH     BOKRX031,Z70
          IF        !@EQUAL
            MOVE      BOKRX031,BKRXASRC
          ENDIF
.
          MATCH     BOKRX032,Z70
          IF        !@EQUAL
            MOVE      BOKRX032,BKRXBLDT
          ENDIF
.
          MATCH     BOKRX033,Z70
          IF        !@EQUAL
            MOVE      BOKRX033,F3
            MOVE      F3,BKRXCTTY
          ENDIF
.
          MATCH     BOKRX034,Z70
          IF        !@EQUAL
            MOVE      BOKRX034,BKRXSGBK
          ENDIF
.
          MATCH     BOKRX035,Z70
          IF        !@EQUAL
            MOVE      BOKRX035,BKRXCNTM
          ENDIF
.
          MATCH     BOKRX036,Z70
          IF        !@EQUAL
            MOVE      BOKRX036,BKRXUDT1
          ENDIF
.
          MATCH     BOKRX037,Z70
          IF        !@EQUAL
            MOVE      BOKRX037,BKRXUDT2
          ENDIF
.
          MATCH     BOKRX038,Z70
          IF        !@EQUAL
            MOVE      BOKRX038,BKRXPOBD
          ENDIF
.
          MATCH     BOKRX039,Z70
          IF        !@EQUAL
            MOVE      BOKRX039,BKRXPOEC
          ENDIF
.
          MATCH     BOKRX040,Z70
          IF        !@EQUAL
            MOVE      BOKRX040,BKRXDIET
          ENDIF
.
          MATCH     BOKRX041,Z70
          IF        !@EQUAL
            MOVE      BOKRX041,BKRXTRAN
          ENDIF
.
          MATCH     BOKRX042,Z70
          IF        !@EQUAL
            MOVE      BOKRX042,BKRXATRN
          ENDIF
.
          MATCH     BOKRX043,Z70
          IF        !@EQUAL
            MOVE      BOKRX043,BKRXANTY
          ENDIF
.
          MATCH     BOKRX044,Z70
          IF        !@EQUAL
            MOVE      BOKRX044,BKRXESOP
          ENDIF
.
          MATCH     BOKRX045,Z70
          IF        !@EQUAL
            MOVE      BOKRX045,BKRXEABR
          ENDIF
.
          MATCH     BOKRX046,Z70
          IF        !@EQUAL
            MOVE      BOKRX046,BKRXAUBY
          ENDIF
.
          MATCH     BOKRX047,Z70
          IF        !@EQUAL
            MOVE      BOKRX047,BKRXEAID
          ENDIF
.
          MATCH     BOKRX048,Z70
          IF        !@EQUAL
            MOVE      BOKRX048,BKRXDROR
          ENDIF
.
          MATCH     BOKRX049,Z70
          IF        !@EQUAL
            MOVE      BOKRX049,BKRXUDF6
          ENDIF
.
          MATCH     BOKRX050,Z70
          IF        !@EQUAL
            MOVE      BOKRX050,BKRXUDF7
          ENDIF
.
          MATCH     BOKRX051,Z70
          IF        !@EQUAL
            MOVE      BOKRX051,BKRXPACA
          ENDIF
.
MVBKRX99  RETURN
.
