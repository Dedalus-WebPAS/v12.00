. *----------------------------------------------------------------------
. * Include Name  :   PRICTCTM.PBL
. *
. * Function      :   CGI Variables for PRICTCFD - prictcaf 
. *
. * Mods          :  
. *                  V10.03.01 25/02/2013 Ania P         CAR 281021
. *                            Removed unnecessary modification of constants. 
. *                   V9.03.01 23/04/2004 Ebon Clements  CAR 49200
. *                            Removed SQUEEZE from PRCTC001
. *                   V9.03.00 24/03/04 J.Tan
. *                            Created include
. *----------------------------------------------------------------------
.------------------------------------------------------------------------
.   Clear Parameters for doctor referral
.------------------------------------------------------------------------
CPPRCT00  MOVE      SP70,PRCTC001
          MOVE      SP70,PRCTC002 
          MOVE      SP70,PRCTC003
          MOVE      SP70,PRCTC004
          MOVE      SP70,PRCTC005
          MOVE      SP70,PRCTC006
          MOVE      SP70,PRCTC007
          MOVE      SP70,PRCTC008
          MOVE      SP70,PRCTC009
.
CPPRCT99  RETURN
.
.------------------------------------------------------------
.   Set Parameters for Doctor referral file
.------------------------------------------------------------
SPPRCT00  MOVE      ZERO,EXIT
          UNPACK    QRYNAME,KEY5,KEY3
          MOVE      KEY3,F3
          BRANCH    F3,SPPRCT01,SPPRCT02,SPPRCT03,SPPRCT04,SPPRCT05:
                       SPPRCT06,SPPRCT07,SPPRCT08,SPPRCT09
.
          MOVE      ONE,EXIT
          GOTO      SPPRCT99
.
SPPRCT01  PACK      PRCTC001,QRYDATA,SP70
          GOTO      SPPRCT99
.
SPPRCT02  PACK      PRCTC002,QRYDATA,SP70
          GOTO      SPPRCT99
.
SPPRCT03  PACK      PRCTC003,QRYDATA,SP70
          GOTO      SPPRCT99 
.
SPPRCT04  PACK      PRCTC004,QRYDATA,SP70
          GOTO      SPPRCT99
.
SPPRCT05  PACK      PRCTC005,QRYDATA,SP70
          GOTO      SPPRCT99
.
SPPRCT06  PACK      PRCTC006,QRYDATA,SP70
          GOTO      SPPRCT99
.
SPPRCT07  PACK      PRCTC007,QRYDATA,SP70
          GOTO      SPPRCT99
.
SPPRCT08  PACK      PRCTC008,QRYDATA,SP70
          GOTO      SPPRCT99
.
SPPRCT09  PACK      PRCTC009,QRYDATA,SP70
          GOTO      SPPRCT99 
.
SPPRCT99  RETURN
.------------------------------------------------------------
. Clear General Variables
.------------------------------------------------------------
CLPRCT00  MOVE      SP70,PRCTSNAM     * Solicitor Name
          MOVE      SP70,PRCTSAD1     * Solicitor Address Line 1
          MOVE      SP70,PRCTSAD2     * Solicitor Address Line 2
          MOVE      SP70,PRCTSAD3     * Solicitor Address Line 3
          MOVE      SP70,PRCTSAD4     * Solicitor Address Line 4
          MOVE      SP70,PRCTSPCO     * Solicitor Postcode
          MOVE      SP70,PRCTSPHN     * Solicitor Telephone
          MOVE      SP70,PRCTCONT     * Contact Name
          MOVE      SP70,PRCTREFN     * Reference number
CLPRCT99  RETURN
.------------------------------------------------------------
. Add General  Fields
.------------------------------------------------------------
PRCT0000  BRANCH    FLDITMNO,PRCT0100,PRCT0200,PRCT0300,PRCT0400,PRCT0500:
                             PRCT0600,PRCT0700,PRCT0800,PRCT0900
.
          WRITE     HTMLFILE;"Invalid IBA Tag";
          GOTO      PRCT9999
.
PRCT0100  WRITE     HTMLFILE;PRCTSNAM; 
          GOTO      PRCT9999
.
PRCT0200  WRITE     HTMLFILE;PRCTSAD1; 
          GOTO      PRCT9999
.
PRCT0300  WRITE     HTMLFILE;PRCTSAD2; 
          GOTO      PRCT9999 
.
PRCT0400  WRITE     HTMLFILE;PRCTSAD3; 
          GOTO      PRCT9999 
.
PRCT0500  WRITE     HTMLFILE;PRCTSAD4; 
          GOTO      PRCT9999 
.
PRCT0600  WRITE     HTMLFILE;PRCTSPCO; 
          GOTO      PRCT9999 
.
PRCT0700  WRITE     HTMLFILE;PRCTSPHN; 
          GOTO      PRCT9999 
.
PRCT0800  WRITE     HTMLFILE;PRCTCONT; 
          GOTO      PRCT9999 
.
PRCT0900  WRITE     HTMLFILE;PRCTREFN; 
          GOTO      PRCT9999
.
PRCT9999  RETURN
.------------------------------------------------------------
.  move CGI variable to file variable 
.------------------------------------------------------------
MVPRCT00  MATCH     PRCTC001,SP70
          IF        !@EQUAL
            MOVE      PRCTC001,PRCTSNAM
          ENDIF
.
          MATCH     PRCTC002,SP70
          IF        !@EQUAL
            MOVE      PRCTC002,PRCTSAD1
          ENDIF
.
          MATCH     PRCTC003,SP70
          IF        !@EQUAL
            MOVE      PRCTC003,PRCTSAD2
          ENDIF
.
          MATCH     PRCTC004,SP70
          IF        !@EQUAL
            MOVE      PRCTC004,PRCTSAD3
          ENDIF
.
          MATCH     PRCTC005,SP70
          IF        !@EQUAL
            MOVE      PRCTC005,PRCTSAD4
          ENDIF
.
          MATCH     PRCTC006,SP70
          IF        !@EQUAL
            MOVE      PRCTC006,PRCTSPCO
          ENDIF
.
          MATCH     PRCTC007,SP70
          IF        !@EQUAL
            MOVE      PRCTC007,PRCTSPHN
          ENDIF
.
          MATCH     PRCTC008,SP70
          IF        !@EQUAL
            MOVE      PRCTC008,PRCTCONT
          ENDIF
.
          MATCH     PRCTC009,SP70
          IF        !@EQUAL
            MOVE      PRCTC009,PRCTREFN
          ENDIF
.
MVPRCT99  RETURN
.
