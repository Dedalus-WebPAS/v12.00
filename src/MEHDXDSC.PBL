.******************************************************************************
.* System         : Mental Health                                             *
.*                                                                            *
.* Include Name   : MEHDXDSC.PBL                                              *
.*                                                                            *
.* Function       : Display the value of a variable                           *
.*                                                                            *
.* Author         : Justin Coates                                             *
.*                                                                            *
.* Date Written   : 22/08/1991                                                *
.*                                                                            *
.* Parameters     : SCRPSTFD      Screen Position record                      *
.*                                                                            *
.* Variables Req. : VAR       DIM       80                                    *
.*                  FORM5     FORM      5                                     *
.*                  DYES      INIT      "Yes"                                 *
.*                  DNO       INIT      "No "                                 *
.*                                                                            *
.* Includes Req'd : DISPITEM/PBL  display the variable                        *
.*                  DXPATCOD/PBL  display for patcodfd descriptions           *
.*                                                                            *
.* Modifications  : 15/10/1992    Justin Coates                               *
.*                  changed to use DISPITEM (not dxsetval)                    *
.*                  09/10/1994    Rob Leonard  SRF 130954                     *
.*                  Added Address going to 4                                  *
.******************************************************************************
.
.         Displays for Discharge File - MEHDS1FD.INC 
.
MEHDXDSC  MOVE      SCPSITM,FORM5           * get variable number
          BRANCH    FORM5,CDSADMN0,CDSADD10,CDSADD20,CDSSUBR0,CDSADD40:
                          CDSPOST0,CDSSPR10,CDSACTY0,CDSREFT0,CDSSTAY0:
                          CDSLDOM0,CDSLGP0,CDSTRST0,CDSDOHN0,CDSOUTP0:
                          CDSCSRG0,CDSCSDT0,CDSCFUT0,CDSCFUD0,CDSUSR10:
                          CDSUSR20,CDSUSR30,CDSUSR40,CDSUSR50,CDSMXLS0:
                          CDSLSRV0,CDSBENE0,CDSBEPD0,CDSSUPP0,CDSS76R0:
                          DZMEHDSC,DZMEHDSC,DZMEHDSC,DZMEHDSC,DZMEHDSC:
                          DZMEHDSC,DZMEHDSC,DZMEHDSC,DZMEHDSC,DZMEHDSC:
                          DZMEHDSC,DZMEHDSC,DZMEHDSC,DZMEHDSC,DZMEHDSC:
                          DZMEHDSC,DZMEHDSC,DZMEHDSC,DZMEHDSC,DDSACTY0:
                          DDSREFT0,DDSSTAY0,DDSCFUT0,DDSUSR10,DDSUSR20:
                          DDSUSR30,DDSUSR40,DDSUSR50,DDSMXLS0,DDSBENE0
DZMEHDSC  RETURN
+
.*********************************************************************
.         Admission Number - MHDSADMN
.*********************************************************************
CDSADMN0  PACK      VAR,MHDSADMN,SP30,SP30,SP30
          CALL      DISPITEM
          RETURN
.
.*********************************************************************
.         Address going to One - MHDSADD1
.*********************************************************************
CDSADD10  PACK      VAR,MHDSADD1,SP30,SP30,SP30
          CALL      DISPITEM
          RETURN
.
.*********************************************************************
.         Address going to Two - MHDSADD2
.*********************************************************************
CDSADD20  PACK      VAR,MHDSADD2,SP30,SP30,SP30
          CALL      DISPITEM
          RETURN
.
.*********************************************************************
.         Address going to Four - MHDSADD4
.*********************************************************************
CDSADD40  PACK      VAR,MHDSADD4,SP30,SP30,SP30
          CALL      DISPITEM
          RETURN
.
.*********************************************************************
.         Address going to Three - MHDSSUBR
.*********************************************************************
CDSSUBR0  PACK      VAR,MHDSSUBR,SP30,SP30,SP30
          CALL      DISPITEM
          RETURN
.
.*********************************************************************
.         Postcode going to - MHDSPOST
.*********************************************************************
CDSPOST0  PACK      VAR,MHDSPOST,SP30,SP30,SP30
          CALL      DISPITEM
          RETURN
.
.*********************************************************************
.         Postcode going to Spare Variable - MHDSSPR1
.*********************************************************************
CDSSPR10  PACK      VAR,MHDSSPR1,SP30,SP30,SP30
          CALL      DISPITEM
          RETURN
.
.*********************************************************************
.         Accommodation Type (Cat AY) - MHDSACTY
.*********************************************************************
CDSACTY0  PACK      VAR,MHDSACTY,SP30,SP30,SP30
          CALL      DISPITEM
          RETURN
.
.*********************************************************************
.         Referred to (Cat RE) - MHDSREFT
.*********************************************************************
CDSREFT0  PACK      VAR,MHDSREFT,SP30,SP30,SP30
          CALL      DISPITEM
          RETURN
.
.*********************************************************************
.         Staying with (Cat SW) - MHDSSTAY
.*********************************************************************
CDSSTAY0  PACK      VAR,MHDSSTAY,SP30,SP30,SP30
          CALL      DISPITEM
          RETURN
.
.*********************************************************************
.         Letter to DOM Nurse - MHDSLDOM
.*********************************************************************
CDSLDOM0  MOVE      SP3,ACODE
          LOAD      ACODE,MHDSLDOM,DYES,DNO
          PACK      VAR,ACODE,SP30,SP30,SP30
          CALL      DISPITEM
          RETURN
.
.*********************************************************************
.         Letter to G.P. - MHDSLGP 
.*********************************************************************
CDSLGP0   MOVE      SP3,ACODE
          LOAD      ACODE,MHDSLGP,DYES,DNO
          PACK      VAR,ACODE,SP30,SP30,SP30
          CALL      DISPITEM
          RETURN
.
.*********************************************************************
.         Notice to Trustee - MHDSTRST
.*********************************************************************
CDSTRST0  MOVE      SP3,ACODE
          LOAD      ACODE,MHDSTRST,DYES,DNO
          PACK      VAR,ACODE,SP30,SP30,SP30
          CALL      DISPITEM
          RETURN
.
.*********************************************************************
.         DOH informed of Notifiable Disease - MHDSDOHN
.*********************************************************************
CDSDOHN0  MOVE      SP3,ACODE
          LOAD      ACODE,MHDSDOHN,DYES,DNO
          PACK      VAR,ACODE,SP30,SP30,SP30
          CALL      DISPITEM
          RETURN
.
.*********************************************************************
.         Oupatient Appointment - MHDSOUTP
.*********************************************************************
CDSOUTP0  MOVE      SP3,ACODE
          LOAD      ACODE,MHDSOUTP,DYES,DNO
          PACK      VAR,ACODE,SP30,SP30,SP30
          CALL      DISPITEM
          RETURN
.
.*********************************************************************
.         Community Service Register - MHDSCSRG
.*********************************************************************
CDSCSRG0  MOVE      SP3,ACODE
          LOAD      ACODE,MHDSCSRG,DYES,DNO
          PACK      VAR,ACODE,SP30,SP30,SP30
          CALL      DISPITEM
          RETURN
.
.*********************************************************************
.         Date on Community Service Register - MHDSCSDT
.*********************************************************************
CDSCSDT0  PACK      VAR,SP30,SP30,SP20
          MATCH     SP8,MHDSCSDT
          GOTO      CDSCSDT5 IF EQUAL                 * no date to display
.
          UNPACK    MHDSCSDT,CCENT,CYEAR,CMON,CDAY
          CALL      PACDATE
          PACK      VAR,CPCDATE,SP30,SP30,SP30      * default to xx/xx/xxxx
.
          COMPARE   "10",SCPSLEN
          GOTO      CDSCSDT5 IF EQUAL                 * leave as xx/xx/xxxx
.
          PACK      VAR,CPDATE,SP30,SP30,SP30       * set to xx/xx/xx
.
CDSCSDT5  CALL      DISPITEM
.
CDSCSDT9  RETURN
.
.*********************************************************************
.         Comm. Service follow up Type - MHDSCFUT
.*********************************************************************
CDSCFUT0  PACK      VAR,MHDSCFUT,SP30,SP30,SP30
          CALL      DISPITEM
          RETURN
.
.*********************************************************************
.         Comm. Service follow up Date - MHDSCFUD
.*********************************************************************
CDSCFUD0  PACK      VAR,SP30,SP30,SP20
          MATCH     SP8,MHDSCFUD
          GOTO      CDSCFUD5 IF EQUAL                 * no date to display
.
          UNPACK    MHDSCFUD,CCENT,CYEAR,CMON,CDAY
          CALL      PACDATE
          PACK      VAR,CPCDATE,SP30,SP30,SP30      * default to xx/xx/xxxx
.
          COMPARE   "10",SCPSLEN
          GOTO      CDSCFUD5 IF EQUAL                 * leave as xx/xx/xxxx
.
          PACK      VAR,CPDATE,SP30,SP30,SP30       * set to xx/xx/xx
.
CDSCFUD5  CALL      DISPITEM
.
CDSCFUD9  RETURN
.
.*********************************************************************
.         UD field 1 (Cat W5) - MHDSUSR1
.*********************************************************************
CDSUSR10  PACK      VAR,MHDSUSR1,SP30,SP30,SP30
          CALL      DISPITEM
          RETURN
.
.*********************************************************************
.         UD field 2 (Cat W6) - MHDSUSR2
.*********************************************************************
CDSUSR20  PACK      VAR,MHDSUSR2,SP30,SP30,SP30
          CALL      DISPITEM
          RETURN
.
.*********************************************************************
.         UD field 3 (Cat W7) - MHDSUSR3
.*********************************************************************
CDSUSR30  PACK      VAR,MHDSUSR3,SP30,SP30,SP30
          CALL      DISPITEM
          RETURN
.
.*********************************************************************
.         UD field 4 (Cat W8) - MHDSUSR4
.*********************************************************************
CDSUSR40  PACK      VAR,MHDSUSR4,SP30,SP30,SP30
          CALL      DISPITEM
          RETURN
.
.*********************************************************************
.         UD field 5 (Cat W9) - MHDSUSR5
.*********************************************************************
CDSUSR50  PACK      VAR,MHDSUSR5,SP30,SP30,SP30
          CALL      DISPITEM
          RETURN
.
.*********************************************************************
.         Accommodation Type Description (Cat AY) - MHDSACTY
.*********************************************************************
DDSACTY0  MOVE      "AY",TCODE              * set category
          MOVE      MHDSACTY,ACODE          * set code
          CALL      DXPATCOD                * set up the description
          RETURN
.
.*********************************************************************
.         Referred to Description (Cat RE) - MHDSREFT
.*********************************************************************
DDSREFT0  MOVE      "RE",TCODE              * set category
          MOVE      MHDSREFT,ACODE          * set code
          CALL      DXPATCOD                * set up the description
          RETURN
.
.*********************************************************************
.         Staying with Description (Cat SW) - MHDSSTAY
.*********************************************************************
DDSSTAY0  MOVE      "SW",TCODE              * set category
          MOVE      MHDSSTAY,ACODE          * set code
          CALL      DXPATCOD                * set up the description
          RETURN
.
.*********************************************************************
.         Community Service Follow up Type (Cat FU) - MHDSCFUT
.*********************************************************************
DDSCFUT0  MOVE      "FU",TCODE              * set category
          MOVE      MHDSCFUT,ACODE          * set code
          CALL      DXPATCOD                * set up the description
          RETURN
.
.*********************************************************************
.         UD field 1 Description (Cat W5) - MHDSUSR1
.*********************************************************************
DDSUSR10  MOVE      "W5",TCODE              * set category
          MOVE      MHDSUSR1,ACODE          * set code
          CALL      DXPATCOD                * set up the description
          RETURN
.
.*********************************************************************
.         UD field 2 Description (Cat W6) - MHDSUSR2
.*********************************************************************
DDSUSR20  MOVE      "W6",TCODE              * set category
          MOVE      MHDSUSR2,ACODE          * set code
          CALL      DXPATCOD                * set up the description
          RETURN
.
.*********************************************************************
.         UD field 3 Description (Cat W7) - MHDSUSR3
.*********************************************************************
DDSUSR30  MOVE      "W7",TCODE              * set category
          MOVE      MHDSUSR3,ACODE          * set code
          CALL      DXPATCOD                * set up the description
          RETURN
.
.*********************************************************************
.         UD field 4 Description (Cat W8) - MHDSUSR4
.*********************************************************************
DDSUSR40  MOVE      "W8",TCODE              * set category
          MOVE      MHDSUSR4,ACODE          * set code
          CALL      DXPATCOD                * set up the description
          RETURN
.
.*********************************************************************
.         UD field 5 Description (Cat W9) - MHDSUSR5
.*********************************************************************
DDSUSR50  MOVE      "W9",TCODE              * set category
          MOVE      MHDSUSR5,ACODE          * set code
          CALL      DXPATCOD                * set up the description
          RETURN
.
.*********************************************************************
.         Discharge to Leave Date - MHDLDATE   (Display only)
.*********************************************************************
DDSDLDT0  MATCH     SP8,MHDLDATE
          GOTO      DDSDLDT9 IF EQUAL       * no date to display
.
          UNPACK    MHDLDATE,CCENT,CYEAR,CMON,CDAY
          CALL      PACDATE
          PACK      VAR,CPCDATE,SP30,SP30,SP30      * default to xx/xx/xxxx
.
          COMPARE   "10",SCPSLEN
          GOTO      DDSDLDT5 IF EQUAL                 * leave as xx/xx/xxxx
.
          PACK      VAR,CPDATE,SP30,SP30,SP30       * set to xx/xx/xx
.
DDSDLDT5  CALL      DISPITEM
.
DDSDLDT9  RETURN
+
.*********************************************************************
.         Discharge to Leave Time - MHDLTIME   (Display only)
.*********************************************************************
DDSDLTM0  PACK      VAR,MHDLTIME,SP30,SP30,SP30
          CALL      DISPITEM
          RETURN
.
.*********************************************************************
.         Legal Status - PTMXLS
.*********************************************************************
CDSMXLS0  PACK      VAR,PTMXLS,SP30,SP30,SP30
          CALL      DISPITEM
          RETURN
.
.*********************************************************************
.         Next Legal Status Review Date - MHVILSRV
.*********************************************************************
CDSLSRV0  MATCH     SP8,MHVILSRV
          GOTO      CDSLSRV9 IF EQUAL       * no date to display
.
          UNPACK    MHVILSRV,CCENT,CYEAR,CMON,CDAY
          CALL      PACDATE
          PACK      VAR,CPCDATE,SP30,SP30,SP30      * default to xx/xx/xxxx
.
          COMPARE   "10",SCPSLEN
          GOTO      CDSLSRV5 IF EQUAL                 * leave as xx/xx/xxxx
.
          PACK      VAR,CPDATE,SP30,SP30,SP30       * set to xx/xx/xx
.
CDSLSRV5  CALL      DISPITEM
.
CDSLSRV9  RETURN
.
.*********************************************************************
.         Type of Benefit - MHVIBENE
.*********************************************************************
CDSBENE0  PACK      VAR,MHVIBENE,SP30,SP30,SP30
          CALL      DISPITEM
          RETURN
.
.*********************************************************************
.         Benefit paid to - MHVIBEPD
.*********************************************************************
CDSBEPD0  PACK      VAR,MHVIBEPD,SP30,SP30,SP30
          CALL      DISPITEM
          RETURN
.
.*********************************************************************
.         Supported by a Benefit - MHVISUPP
.*********************************************************************
CDSSUPP0  MOVE      SP3,ACODE
          LOAD      ACODE,MHVISUPP,DYES,DNO
          PACK      VAR,ACODE,SP30,SP30,SP30
          CALL      DISPITEM
          RETURN
.
.*********************************************************************
.         Legal Staus Description (Cat LS) - PTMXLS
.*********************************************************************
DDSMXLS0  MOVE      "LS",TCODE              * set category
          MOVE      PTMXLS,ACODE            * set code
          CALL      DXPATCOD                * set up the description
          RETURN
.
.*********************************************************************
.         Type of Benefit Description (Cat BY) - MHVIBENE
.*********************************************************************
DDSBENE0  MOVE      "BY",TCODE              * set category
          MOVE      MHVIBENE,ACODE          * set code
          CALL      DXPATCOD                * set up the description
          RETURN
.
.*********************************************************************
.         Next S.76 Review Date - MHVIS76R 
.*********************************************************************
CDSS76R0  MATCH     SP8,MHVIS76R
          GOTO      CDSS76R9 IF EQUAL       * no date to display
.
          UNPACK    MHVIS76R,CCENT,CYEAR,CMON,CDAY
          CALL      PACDATE
          PACK      VAR,CPCDATE,SP30,SP30,SP30      * default to xx/xx/xxxx
.
          COMPARE   "10",SCPSLEN
          GOTO      CDSS76R5 IF EQUAL                 * leave as xx/xx/xxxx
.
          PACK      VAR,CPDATE,SP30,SP30,SP30       * set to xx/xx/xx
.
CDSS76R5  CALL      DISPITEM
.
CDSS76R9  RETURN
