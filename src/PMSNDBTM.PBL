. *----------------------------------------------------------------------
. * Include Name  :   PMSNDBTM.INC
. *
. * Function      :   CGI variables for PMSNDBFD - pmsndbaf.dat
. *----------------------------------------------------------------------
.  Modifications Done :
.------------------------------------------------------------------------
.  V11.04.01  10/01/2024  Peter Vela    Task 0939978
.             Added NIHC Episode End Point and NIHC Upload MyHR End Point
.  V11.03.02  10/10/2023  Peter Vela    Task 0935874
.             Added NIHC Path URL, Patient Summary URL, MyHR Viewer URL
.  V11.03.01  31/08/2023  Peter Vela    Task 0935874
.             Created include
.------------------------------------------------------------------------
.
.------------------------------------------------------------
.clear cgi vars for nihc ihi dashboard device file
.------------------------------------------------------------
CPPMND00  MOVE      Z70,PMNDB001
          PACK      PMNDB002,Z70,Z70
          MOVE      Z70,PMNDB003
          PACK      PMNDB004,Z70,Z70,Z70,Z70,Z70,Z70,Z70,Z70
          MOVE      Z70,PMNDB005
          MOVE      Z70,PMNDB006
          PACK      PMNDB007,Z70,Z70,Z70,Z70
          PACK      PMNDB008,Z70,Z70,Z70,Z70
          PACK      PMNDB009,Z70,Z70,Z70,Z70
          PACK      PMNDB010,Z70,Z70,Z70,Z70
          PACK      PMNDB011,Z70,Z70,Z70,Z70
.
CPPMND99  RETURN
.
.
.------------------------------------------------------------
. Add  nihc ihi dashboard device file
.------------------------------------------------------------
PMND0000  BRANCH    FLDITMNO,PMND0100,PMND0200,PMND0300,PMND0400,PMND0500:
                             PMND0600,PMND0700,PMND0800,PMND0900,PMND1000:
                             PMND1100,PMND1200,PMND1300,PMND1400,PMND1500:
                             PMND1600,PMND1700,PMND1800
.
          WRITE     HTMLFILE;"Invalid IBA Tag";
          GOTO      PMND9999
.
PMND0100  WRITE     HTMLFILE;PMNBDNAM;
          GOTO      PMND9999
.
PMND0200  WRITE     HTMLFILE;PMNBDDSC;
          GOTO      PMND9999
.
PMND0300  WRITE     HTMLFILE;PMNBGDAT;
          GOTO      PMND9999
.
PMND0400  WRITE     HTMLFILE;PMNBDPTH;
          GOTO      PMND9999
.
PMND0500  WRITE     HTMLFILE;PMNBHOSP;
          GOTO      PMND9999
.
PMND0600  WRITE     HTMLFILE;PMNBEDAT;
          GOTO      PMND9999
.
PMND0700  MATCH     SP70,PMNBHOSP
          GOTO      PMND9999 IF EQUAL
.
          PACK      KEY3,PMNBHOSP,SP70
          CALL      RDPTHSP1
          IF        OVRCD=0
            WRITE     HTMLFILE;PTHSNAME; 
          ENDIF
          GOTO      PMND9999
.
PMND0800  WRITE     HTMLFILE;PMNBCUID;
          GOTO      PMND9999
.
PMND0900  MATCH     PMNBCDAT,SP70
          GOTO      PMND9999 IF EQUAL
.
          UNPACK    PMNBCDAT,CCENT,CYEAR,CMON,CDAY
          MOVE      CMON,F2
          LOAD      MTHNAM3,F2,JAN,FEB,MAR,APR,MAY,JUN,JUL,AUG,SEP,OCT,NOV,DEC
          WRITE     HTMLFILE;CDAY,SP1,MTHNAM3,SP1,CCENT,CYEAR;
          GOTO      PMND9999
.
PMND1000  WRITE     HTMLFILE;PMNBCTIM;
          GOTO      PMND9999
.
PMND1100  WRITE     HTMLFILE;PMNBUUID;
          GOTO      PMND9999
.
PMND1200  MATCH     PMNBUDAT,SP70
          GOTO      PMND9999 IF EQUAL
.
          UNPACK    PMNBUDAT,CCENT,CYEAR,CMON,CDAY
          MOVE      CMON,F2
          LOAD      MTHNAM3,F2,JAN,FEB,MAR,APR,MAY,JUN,JUL,AUG,SEP,OCT,NOV,DEC
          WRITE     HTMLFILE;CDAY,SP1,MTHNAM3,SP1,CCENT,CYEAR;
          GOTO      PMND9999
.
PMND1300  WRITE     HTMLFILE;PMNBUTIM;
          GOTO      PMND9999
.
PMND1400  WRITE     HTMLFILE;PMNBNPUR;
          GOTO      PMND9999
.
PMND1500  WRITE     HTMLFILE;PMNBNSUR;
          GOTO      PMND9999
.
PMND1600  WRITE     HTMLFILE;PMNBNMUR;
          GOTO      PMND9999
.
PMND1700  WRITE     HTMLFILE;PMNBEPUR;
          GOTO      PMND9999
.
PMND1800  WRITE     HTMLFILE;PMNBUPUR;
          GOTO      PMND9999
.
PMND9999  RETURN
.
.------------------------------------------------------------
.   Set Parameters for nihc ihi dashboard device table file
.------------------------------------------------------------
SPPMN000  MOVE      ZERO,EXIT
          UNPACK    QRYNAME,KEY5,KEY3
          MOVE      KEY3,F3
          BRANCH    F3,SPPMN001,SPPMN002,SPPMN003,SPPMN004,SPPMN005:
                       SPPMN006,SPPMN007,SPPMN008,SPPMN009,SPPMN010:
                       SPPMN011
.
          MOVE      ONE,EXIT
          GOTO      SPPMN999
.
SPPMN001  PACK      PMNDB001,QRYDATA,SP70
          GOTO      SPPMN999
.
SPPMN002  PACK      PMNDB002,QRYDATA,SP70
          GOTO      SPPMN999
.
SPPMN003  PACK      PMNDB003,QRYDATA,SP70
          GOTO      SPPMN999
.
SPPMN004  PACK      PMNDB004,QRYDATA,SP70
          GOTO      SPPMN999
.
SPPMN005  PACK      PMNDB005,QRYDATA,SP70
          GOTO      SPPMN999
.
SPPMN006  PACK      PMNDB006,QRYDATA,SP70
          GOTO      SPPMN999
.
SPPMN007  PACK      PMNDB007,QRYDATA,SP70
          GOTO      SPPMN999
.
SPPMN008  PACK      PMNDB008,QRYDATA,SP70
          GOTO      SPPMN999
.
SPPMN009  PACK      PMNDB009,QRYDATA,SP70
          GOTO      SPPMN999
.
SPPMN010  PACK      PMNDB010,QRYDATA,SP70
          GOTO      SPPMN999
.
SPPMN011  PACK      PMNDB011,QRYDATA,SP70
          GOTO      SPPMN999
.
SPPMN999  RETURN  
.
.------------------------------------------------------------
.  Update nihc ihi dashboard device table file
.------------------------------------------------------------
MVPMND00  MATCH     PMNDB001,Z70
          IF        !@EQUAL
            MOVE      PMNDB001,PMNBDNAM
          ENDIF
. 
          MATCH     PMNDB002,Z70
          IF        !@EQUAL
            MOVE      PMNDB002,PMNBDDSC
          ENDIF
. 
          MATCH     PMNDB003,Z70
          IF        !@EQUAL
            MOVE      PMNDB003,PMNBGDAT
          ENDIF
. 
          MATCH     PMNDB004,Z70
          IF        !@EQUAL
            MOVE      PMNDB004,PMNBDPTH
          ENDIF
. 
          MATCH     PMNDB005,Z70
          IF        !@EQUAL
            MOVE      PMNDB005,PMNBHOSP
          ENDIF
. 
          MATCH     PMNDB006,Z70
          IF        !@EQUAL
            MOVE      PMNDB006,PMNBEDAT
          ENDIF
.
          MATCH     PMNDB007,Z70
          IF        !@EQUAL
            MOVE      PMNDB007,PMNBNPUR
          ENDIF
.
          MATCH     PMNDB008,Z70
          IF        !@EQUAL
            MOVE      PMNDB008,PMNBNSUR
          ENDIF
.
          MATCH     PMNDB009,Z70
          IF        !@EQUAL
            MOVE      PMNDB009,PMNBNMUR
          ENDIF
.
          MATCH     PMNDB010,Z70
          IF        !@EQUAL
            MOVE      PMNDB010,PMNBEPUR
          ENDIF
.
          MATCH     PMNDB011,Z70
          IF        !@EQUAL
            MOVE      PMNDB011,PMNBUPUR
          ENDIF
. 
MVPMND99  RETURN
.
