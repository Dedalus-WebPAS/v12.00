.----------------------------------------------------------------------
. Modifications
.
. V10.02.01  12/07/2011  Peter Vela CAR 246347
.            Created include
.
.------------------------------------------------------------------------
.   Clear Parameters for Mental Health Matrix Table
.------------------------------------------------------------------------
.
CMHLSM00  MOVE      SP70,MHLSM001
          MOVE      SP70,MHLSM002
          MOVE      SP70,MHLSM003
          MOVE      SP70,MHLSM004
          MOVE      SP70,MHLSM005
          MOVE      SP70,MHLSM006
          MOVE      SP70,MHLSM007
          MOVE      SP70,MHLSM008
          MOVE      SP70,MHLSM009
          MOVE      SP70,MHLSM010
CMHLSM99  RETURN
+
.------------------------------------------------------------
. Add Mental Health Matrix Field
.------------------------------------------------------------
MHLM0000  BRANCH    FLDITMNO,MHLM0100,MHLM0200,MHLM0300,MHLM0400,MHLM0500:
                             MHLM0600,MHLM0700,MHLM0800,MHLM0900,MHLM1000 
.
MHLM0100  WRITE     HTMLFILE;MHLMCRLS;
          GOTO      MHLM9999
.
MHLM0200  WRITE     HTMLFILE;MHLMVNLS;
          GOTO      MHLM9999
.
MHLM0300  WRITE     HTMLFILE;MHLMACTV;
          GOTO      MHLM9999
.
MHLM0400  WRITE     HTMLFILE;MHLMDINA;    
          GOTO      MHLM9999        
.
MHLM0500  WRITE     HTMLFILE;MHLMCUID;
          GOTO      MHLM9999
.
MHLM0600  MATCH     SP70,MHLMCDAT
          GOTO      MHLM9999 IF EQUAL
          UNPACK    MHLMCDAT,CCENT,CYEAR,CMON,CDAY
          MOVE      CMON,F2
          LOAD      MTHNAM3,F2,JAN,FEB,MAR,APR,MAY,JUN,JUL,AUG,SEP,OCT,NOV,DEC
          WRITE     HTMLFILE;CDAY,SP1,MTHNAM3,SP1,CCENT,CYEAR;
          GOTO      MHLM9999
.
MHLM0700  WRITE     HTMLFILE;MHLMCTIM;
          GOTO      MHLM9999
.
MHLM0800  WRITE     HTMLFILE;MHLMIUID;
          GOTO      MHLM9999
.
MHLM0900  MATCH     SP70,MHLMIDAT
          GOTO      MHLM9999 IF EQUAL
          UNPACK    MHLMIDAT,CCENT,CYEAR,CMON,CDAY
          MOVE      CMON,F2
          LOAD      MTHNAM3,F2,JAN,FEB,MAR,APR,MAY,JUN,JUL,AUG,SEP,OCT,NOV,DEC
          WRITE     HTMLFILE;CDAY,SP1,MTHNAM3,SP1,CCENT,CYEAR;
          GOTO      MHLM9999
.
MHLM1000  WRITE     HTMLFILE;MHLMITIM;
          GOTO      MHLM9999
.
MHLM9999  RETURN
+
.------------------------------------------------------------
.   Set Parameters for mental health legal status matrix table
.------------------------------------------------------------
SMHLSM00  MOVE      ZERO,EXIT
          UNPACK    QRYNAME,KEY5,KEY3
          MOVE      KEY3,F3
          BRANCH    F3,SMHLSM01,SMHLSM02,SMHLSM03,SMHLSM04,SMHLSM05:
                       SMHLSM06,SMHLSM07,SMHLSM08,SMHLSM09,SMHLSM10 
.
          MOVE      ONE,EXIT
          GOTO      SMHLSM99
.
SMHLSM01  MOVE      QRYDATA,MHLSM001
          GOTO      SMHLSM99
.
SMHLSM02  MOVE      QRYDATA,MHLSM002
          GOTO      SMHLSM99
.
SMHLSM03  MOVE      QRYDATA,MHLSM003
          GOTO      SMHLSM99
.
SMHLSM04  MOVE      QRYDATA,MHLSM004
          GOTO      SMHLSM99
.
SMHLSM05  MOVE      QRYDATA,MHLSM005
          GOTO      SMHLSM99
.
SMHLSM06  MATCH     SP70,QRYDATA
          GOTO      SMHLSM99 IF EQUAL
          GOTO      SMHLSM99 IF EOS
.
          UNPACK    QRYDATA,CDAY,KEY1,MTHNAM3,KEY1,CCENT,CYEAR
          CALL      SETMTH00                *Set CMON from MTHNAM3
          PACK      MHLSM006,CCENT,CYEAR,CMON,CDAY
          GOTO      SMHLSM99
.
SMHLSM07  MOVE      QRYDATA,MHLSM007
          GOTO      SMHLSM99
.
SMHLSM08  MOVE      QRYDATA,MHLSM008
          GOTO      SMHLSM99
.
SMHLSM09  MATCH     SP70,QRYDATA
          GOTO      SMHLSM99 IF EQUAL
          GOTO      SMHLSM99 IF EOS
.
          UNPACK    QRYDATA,CDAY,KEY1,MTHNAM3,KEY1,CCENT,CYEAR
          CALL      SETMTH00                *Set CMON from MTHNAM3
          PACK      MHLSM009,CCENT,CYEAR,CMON,CDAY
          GOTO      SMHLSM99
.
SMHLSM10  MOVE      QRYDATA,MHLSM010
          GOTO      SMHLSM99
.
SMHLSM99  RETURN
.------------------------------------------------------------------------
.         Update boarders file
.------------------------------------------------------------------------
MVMEHLSM  PACK      MHLMCRLS,MHLSM001,SP70
          PACK      MHLMVNLS,MHLSM002,SP70
          PACK      MHLMACTV,MHLSM003,SP70
          PACK      MHLMDINA,MHLSM004,SP70
          PACK      MHLMCUID,MHLSM005,SP70
          PACK      MHLMCDAT,MHLSM006,SP70
          PACK      MHLMCTIM,MHLSM007,SP70
          PACK      MHLMIUID,MHLSM008,SP70
          PACK      MHLMIDAT,MHLSM009,SP70
          PACK      MHLMITIM,MHLSM010,SP70
          RETURN
