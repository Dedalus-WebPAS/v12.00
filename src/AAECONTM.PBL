.
.  ****************************************************************************
.  *                                                                          *
.  *     Include Name : AAECONTM.INC                                          *
.  *                                                                          *
.  *     Function     : CGI Definition include for A&E Control File           *
.  *                                                                          *
.  *     Modifications:                                                       *
.  *    V11.01.01  30/08/2021  J.Tan  TSK 0905305                             *
.  *               Added AECNAECC - Start date for AECC Class ABF calculation *
.  *    V10.05.02  31/07/2014  Steve Armstrong  CAR 294204                    *
.  *               Replaced HETYPLAB with AECNLABL                            *
.  *    V10.05.01  31/07/2014  Ebon Clements    CAR 294204                    *
.  *               Added AECNLABL functionality - AAECN004                    *
.  *     V9.12.01  09/07/2009  J.Tan          CAR 199760                      *
.  *               Added AECNAERH,AECNAERT-receipt header/tail template       *
.  *     V9.09.02  25/10/2007  J.Tan          CAR 151803                      *
.  *               Add AAECN009 (HYSYST) - Type of Fee                        *
.  *     V9.09.01  12/07/2007  Mike Laming    CAR 140395                      *
.  *               Add AAECN007 (AECNAEIH) - User defined Emer.Invoice Header *
.  *     V9.04.01  18/05/2005  Peter Vela     CAR 60166                       *
.  *               Changed variable names to AAE                              *
.  *     V9.04.00  12/04/2005  Ebon Clements  CAR 58443                       *
.  *               Created include                                            *
.  ****************************************************************************
.
.------------------------------------------------------------------------
.   Clear Parameters for AAECONFD
.------------------------------------------------------------------------
CPAE0000  MOVE      Z70,AAECN001
          MOVE      Z70,AAECN002
          MOVE      Z70,AAECN003
          MOVE      Z70,AAECN004
          MOVE      Z70,AAECN005
          MOVE      Z70,AAECN006
          MOVE      Z70,AAECN007
          MOVE      Z70,AAECN008
          MOVE      Z70,AAECN009
          MOVE      Z70,AAECN010
          MOVE      Z70,AAECN011
          MOVE      Z70,AAECN012
.
CPAE9999  RETURN
.
.------------------------------------------------------------
. Display fields from AAECONFD - Sector 30 and 78
.------------------------------------------------------------
AECN0000  BRANCH    FLDITMNO,AECN1010,AECN1020,AECN1030,AECN1040,AECN1050:
                             AECN1060,AECN1070,AECN1080,AECN1090,AECN1100:
                             AECN1110,AECN1120
.
          WRITE     HTMLFILE;"Invalid IBA Tag";
          GOTO      AECN9999
.
AECN1010  WRITE     HTMLFILE;HELPAGE;  * No of Labels across page
          GOTO      AECN9999 
.
AECN1020  WRITE     HTMLFILE;HELPRNT;  * No of Labels to print
          GOTO      AECN9999 
.
AECN1030  WRITE     HTMLFILE;HELSIZE;  * Label Size used in Hospital
          GOTO      AECN9999 
.
AECN1040  WRITE     HTMLFILE;AECNLABL; * Type of Label Used in Hospital 
          GOTO      AECN9999 
.
AECN1050  WRITE     HTMLFILE;HADDLAB;  * No. of Additional Blank labels to print
          GOTO      AECN9999 
.
AECN1060  WRITE     HTMLFILE;AECNAELT; * Using Eltron printer for A&E labels 
          GOTO      AECN9999 
.
AECN1070  MOVE      "  9",STNTYPE        * AA&E Invoice Header (templated)
          MOVE      AECNAEIH,STNCODE
          CALL      STNCOD00             * Stationery Code list (Type "9")
          GOTO      AECN9999 
.
AECN1080  MOVE      " 10",STNTYPE        * AA&E Invoice Tail   (templated)
          MOVE      AECNAEIT,STNCODE
          CALL      STNCOD00             * Stationery Code list (Type "10")
          GOTO      AECN9999 
.
AECN1090  WRITE     HTMLFILE;HESYST;     * Type of Fee
          GOTO      AECN9999 
.
AECN1100  MOVE      " 15",STNTYPE        * AA&E Receipt Header (templated)
          MOVE      AECNAERH,STNCODE
          CALL      STNCOD00             * Stationery Code list (Type "15")
          GOTO      AECN9999 
.
AECN1110  MOVE      " 16",STNTYPE        * AA&E Receipt Tail (templated)
          MOVE      AECNAERT,STNCODE
          CALL      STNCOD00             * Stationery Code list (Type "16")
          GOTO      AECN9999 
.
AECN1120  UNPACK    AECNAECC,CCENT,CYEAR,CMON,CDAY
          MOVE      CMON,F2
          LOAD      MTHNAM3,F2,JAN,FEB,MAR,APR,MAY,JUN,JUL,AUG,SEP,OCT,NOV,DEC
          WRITE     HTMLFILE;CDAY,SP1,MTHNAM3,SP1,CCENT,CYEAR;
          GOTO      AECN9999 
.
AECN9999  RETURN
.
.------------------------------------------------------------
.   Set Parameters for AAECONFD
.------------------------------------------------------------
SPAAE000  MOVE      ZERO,EXIT
          UNPACK    QRYNAME,KEY5,KEY3
          MOVE      KEY3,F3
          BRANCH    F3,SPAAE001,SPAAE002,SPAAE003,SPAAE004,SPAAE005:
                       SPAAE006,SPAAE007,SPAAE008,SPAAE009,SPAAE010:
                       SPAAE011,SPAAE012
.
          MOVE      ONE,EXIT
          GOTO      SPAAE999
.
SPAAE001  MOVE      QRYDATA,AAECN001
          GOTO      SPAAE999
.
SPAAE002  MOVE      QRYDATA,AAECN002
          GOTO      SPAAE999
.
SPAAE003  MOVE      QRYDATA,AAECN003
          GOTO      SPAAE999
.
SPAAE004  MOVE      QRYDATA,AAECN004
          GOTO      SPAAE999
.
SPAAE005  MOVE      QRYDATA,AAECN005
          GOTO      SPAAE999
.
SPAAE006  MOVE      QRYDATA,AAECN006
          GOTO      SPAAE999
.
SPAAE007  MOVE      QRYDATA,AAECN007
          GOTO      SPAAE999
.
SPAAE008  MOVE      QRYDATA,AAECN008
          GOTO      SPAAE999
.
SPAAE009  MOVE      QRYDATA,AAECN009
          GOTO      SPAAE999
.
SPAAE010  MOVE      QRYDATA,AAECN010
          GOTO      SPAAE999
.
SPAAE011  MOVE      QRYDATA,AAECN011
          GOTO      SPAAE999
.
SPAAE012  PACK      QRYDATA,QRYDATA,SP70
          MATCH     SP70,QRYDATA
          GOTO      SPAAE999 IF EQUAL
.
          UNPACK    QRYDATA,CDAY,KEY1,MTHNAM3,KEY1,CCENT,CYEAR
          CALL      SETMTH00            * Set CMON from MTHNAM3
          PACK      AAECN012,CCENT,CYEAR,CMON,CDAY
          REP       " 0",AAECN012
          GOTO      SPAAE999
.
SPAAE999  RETURN
.
.------------------------------------------------------------
.  Update AAECONFD file variables
.------------------------------------------------------------
MVAE0000  MATCH     Z70,AAECN001
          IF        !@EQUAL
            MOVE      AAECN001,HELPAGE
          ENDIF
.
          MATCH     Z70,AAECN002
          IF        !@EQUAL
            MOVE      AAECN002,HELPRNT
          ENDIF
.
          MATCH     Z70,AAECN003
          IF        !@EQUAL
            MOVE      AAECN003,HELSIZE
          ENDIF
.
          MATCH     Z70,AAECN004
          IF        !@EQUAL
            MOVE      AAECN004,AECNLABL
          ENDIF
.
          MATCH     Z70,AAECN005
          IF        !@EQUAL
            MOVE      AAECN005,HADDLAB
          ENDIF
.
          MATCH     Z70,AAECN006
          IF        !@EQUAL
            MOVE      AAECN006,AECNAELT
          ENDIF
.
          MATCH     Z70,AAECN007
          IF        !@EQUAL
            MOVE      AAECN007,AECNAEIH
          ENDIF
.
          MATCH     Z70,AAECN008
          IF        !@EQUAL
            MOVE      AAECN008,AECNAEIT
          ENDIF
.
          MATCH     Z70,AAECN009
          IF        !@EQUAL
            MOVE      AAECN009,HESYST
          ENDIF
.
          MATCH     Z70,AAECN010
          IF        !@EQUAL
            MOVE      AAECN010,AECNAERH
          ENDIF
.
          MATCH     Z70,AAECN011
          IF        !@EQUAL
            MOVE      AAECN011,AECNAERT
          ENDIF
.
          MATCH     Z70,AAECN012
          IF        !@EQUAL
            MOVE      AAECN012,AECNAECC
          ENDIF
.
MVAMVAE9  RETURN
