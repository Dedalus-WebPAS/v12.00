. MRTLOCIO.INC
. ============
.
.         FILE I/O REQUESTS FOR MEDICAL RECORDS TRACKING LOCATION FILE
.
.         OVRCD   FORM     1        0 = NOT OVER
.                                   1 = OVER
.         KEY7    DIM      7        KEY FOR MRTLOCA1
.         KEY8    DIM      8        KEY FOR MRTLOCA2
.         KEY37   DIM      37       KEY FOR MRTLOCA3
.
RAMRLOC1  MOVE     ZERO,OVRCD
          RESET    KEY7
          READ     MRTLOCA1,KEY7;ANS
          GOTO     OVERCOND IF OVER
          RETURN
.
RSMRLOC1  MOVE     ZERO,OVRCD
          RESET    KEY7
          READ     MRTLOCA1,KEY7;;
          RETURN
.
RPMRLOC1  MOVE     ZERO,OVRCD
          READKP   MRTLOCA1;MRLOCODE,MRLODESC,MRLOTYPE,MRLOINDC,MRLOSTAT:
                            MRLOUSAG,MRLOPRNT,MRLOSTCD,MRLOHOSP,MRLOPRLC:
                            MRLOBPRN,MRLOTREC,MRLOSPAR
          GOTO     OVERCOND IF OVER
          RETURN
.
RKMRLOC1  MOVE     ZERO,OVRCD
          READKS   MRTLOCA1;MRLOCODE,MRLODESC,MRLOTYPE,MRLOINDC,MRLOSTAT:
                            MRLOUSAG,MRLOPRNT,MRLOSTCD,MRLOHOSP,MRLOPRLC:
                            MRLOBPRN,MRLOTREC,MRLOSPAR
          GOTO     OVERCOND IF OVER
          RETURN
.
RLMRLOC1  MOVE     ZERO,OVRCD
          RESET    KEY7
          READL     MRTLOCA1,KEY7;MRLOCODE,MRLODESC,MRLOTYPE,MRLOINDC,MRLOSTAT:
                            MRLOUSAG,MRLOPRNT,MRLOSTCD,MRLOHOSP,MRLOPRLC:
                            MRLOBPRN,MRLOTREC,MRLOSPAR
          GOTO     OVERLOCK IF LOCKED
          GOTO     OVERCOND IF OVER
          RETURN
.
RDMRLOC1  MOVE     ZERO,OVRCD
          RESET    KEY7
          READ     MRTLOCA1,KEY7;MRLOCODE,MRLODESC,MRLOTYPE,MRLOINDC,MRLOSTAT:
                            MRLOUSAG,MRLOPRNT,MRLOSTCD,MRLOHOSP,MRLOPRLC:
                            MRLOBPRN,MRLOTREC,MRLOSPAR
          GOTO     OVERCOND IF OVER
          RETURN
.
UPMRLOC1  UPDATE   MRTLOCA1;MRLOCODE,MRLODESC,MRLOTYPE,MRLOINDC,MRLOSTAT:
                            MRLOUSAG,MRLOPRNT,MRLOSTCD,MRLOHOSP,MRLOPRLC:
                            MRLOBPRN,MRLOTREC,MRLOSPAR     
          RETURN
.
DEMRLOC1  RESET    KEY7
          DELETE   MRTLOCA1,KEY7
          RETURN
.
WRMRLOC1  MOVE     ZERO,OVRCD
          RESET    KEY7
          WRITE    MRTLOCA1,KEY7;MRLOCODE,MRLODESC,MRLOTYPE,MRLOINDC,MRLOSTAT:
                            MRLOUSAG,MRLOPRNT,MRLOSTCD,MRLOHOSP,MRLOPRLC:
                            MRLOBPRN,MRLOTREC,MRLOSPAR
          RETURN
.
ULTLOC1   UNLOCK   MRTLOCA1
          RETURN
.
RAMRLOC2  MOVE     ZERO,OVRCD
          RESET    KEY8
          READ     MRTLOCA2,KEY8;ANS
          GOTO     OVERCOND IF OVER
          RETURN
.
RSMRLOC2  MOVE     ZERO,OVRCD
          RESET    KEY8
          READ     MRTLOCA2,KEY8;;
          RETURN
.
RKMRLOC2  MOVE     ZERO,OVRCD
          READKS   MRTLOCA2;MRLOCODE,MRLODESC,MRLOTYPE,MRLOINDC,MRLOSTAT:
                            MRLOUSAG,MRLOPRNT,MRLOSTCD,MRLOHOSP,MRLOPRLC:
                            MRLOBPRN,MRLOTREC,MRLOSPAR
          GOTO     OVERCOND IF OVER
          RETURN
.
RDMRLOC2  MOVE     ZERO,OVRCD
          RESET    KEY8
          READ     MRTLOCA2,KEY8;MRLOCODE,MRLODESC,MRLOTYPE,MRLOINDC,MRLOSTAT:
                            MRLOUSAG,MRLOPRNT,MRLOSTCD,MRLOHOSP,MRLOPRLC:
                            MRLOBPRN,MRLOTREC,MRLOSPAR
          GOTO     OVERCOND IF OVER
          RETURN
.
RAMRLOC3  MOVE     ZERO,OVRCD
          RESET    KEY37
          READ     MRTLOCA3,KEY37;ANS
          GOTO     OVERCOND IF OVER
          RETURN
.
RSMRLOC3  MOVE     ZERO,OVRCD
          RESET    KEY37
          READ     MRTLOCA3,KEY37;;
          RETURN
.
RKMRLOC3  MOVE     ZERO,OVRCD
          READKS   MRTLOCA3;MRLOCODE,MRLODESC,MRLOTYPE,MRLOINDC,MRLOSTAT:
                            MRLOUSAG,MRLOPRNT,MRLOSTCD,MRLOHOSP,MRLOPRLC:
                            MRLOBPRN,MRLOTREC,MRLOSPAR
          GOTO     OVERCOND IF OVER
          RETURN
.
RDMRLOC3  MOVE     ZERO,OVRCD
          RESET    KEY37
          READ     MRTLOCA3,KEY37;MRLOCODE,MRLODESC,MRLOTYPE,MRLOINDC,MRLOSTAT:
                            MRLOUSAG,MRLOPRNT,MRLOSTCD,MRLOHOSP,MRLOPRLC:
                            MRLOBPRN,MRLOTREC,MRLOSPAR
          GOTO     OVERCOND IF OVER
          RETURN
.
RAMRLOC4  MOVE     ZERO,OVRCD
          RESET    KEY7
          READ     MRTLOCA4,KEY7;ANS
          GOTO     OVERCOND IF OVER
          RETURN
.
RSMRLOC4  MOVE     ZERO,OVRCD
          RESET    KEY7
          READ     MRTLOCA4,KEY7;;
          RETURN
.
RKMRLOC4  MOVE     ZERO,OVRCD
          READKS   MRTLOCA4;MRLOCODE,MRLODESC,MRLOTYPE,MRLOINDC,MRLOSTAT:
                            MRLOUSAG,MRLOPRNT,MRLOSTCD,MRLOHOSP,MRLOPRLC:
                            MRLOBPRN,MRLOTREC,MRLOSPAR
          GOTO     OVERCOND IF OVER
          RETURN
.
RDMRLOC4  MOVE     ZERO,OVRCD
          RESET    KEY7
          READ     MRTLOCA4,KEY7;MRLOCODE,MRLODESC,MRLOTYPE,MRLOINDC,MRLOSTAT:
                            MRLOUSAG,MRLOPRNT,MRLOSTCD,MRLOHOSP,MRLOPRLC:
                            MRLOBPRN,MRLOTREC,MRLOSPAR
          GOTO     OVERCOND IF OVER
          RETURN

