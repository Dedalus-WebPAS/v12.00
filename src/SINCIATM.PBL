. *----------------------------------------------------------------------
. * Include Name  :   SINCIATM.PBL
. *
. * Function      :   CGI variable functions for SINCIAFD - sinciaaf.dat
. *
. * Modifications :
. *
. * V10.03.01  30/07/2012 Patrick Adair            CAR 243843
. *            Deactivating supplies
. * V9.04.00 25/02/2005 Lina Vo                  CAR 56404
. *          Created include
. *----------------------------------------------------------------------
.
.------------------------------------------------------------------------
.   Clear parameters for the catalog master file
.------------------------------------------------------------------------
CPSCIA00  MOVE      Z70,SICIA001
          MOVE      Z70,SICIA002
          MOVE      Z70,SICIA003
          MOVE      Z70,SICIA004
          MOVE      Z70,SICIA005
          MOVE      Z70,SICIA006
          MOVE      Z70,SICIA007
          MOVE      Z70,SICIA008
          MOVE      Z70,SICIA009
          MOVE      Z70,SICIA010
          MOVE      Z70,SICIA011
          MOVE      Z70,SICIA012
          MOVE      Z70,SICIA013
          MOVE      Z70,SICIA014
          MOVE      Z70,SICIA015
          MOVE      Z70,SICIA016
          MOVE      Z70,SICIA017
          MOVE      Z70,SICIA018
          MOVE      Z70,SICIA019
          MOVE      Z70,SICIA020
          MOVE      Z70,SICIA021
          MOVE      Z70,SICIA022
          MOVE      Z70,SICIA023
          MOVE      Z70,SICIA024
          MOVE      Z70,SICIA025
          MOVE      Z70,SICIA026
          MOVE      Z70,SICIA027
          MOVE      Z70,SICIA028
.
CPSCIA99  RETURN
.
.------------------------------------------------------------
. catalog master file standard tags
.------------------------------------------------------------
SCIA0000  BRANCH    FLDITMNO,SCIA0010,SCIA0020,SCIA0030,SCIA0040,SCIA0050:
                             SCIA0060,SCIA0070,SCIA0080,SCIA0090,SCIA0100:
                             SCIA0110,SCIA0120,SCIA0130,SCIA0140,SCIA0150:
                             SCIA0160,SCIA0170,SCIA0180,SCIA0190,SCIA0200:
                             SCIA0210,SCIA0220,SCIA0230,SCIA0240,SCIA0250:
                             SCIA0260,SCIA0270,SCIA0280
.
          WRITE     HTMLFILE;"Invalid IBA Tag";
          GOTO      SCIA9999
.
SCIA0010  WRITE     HTMLFILE;SIIACAT;  
          GOTO      SCIA9999
.
SCIA0020  WRITE     HTMLFILE;SIIADES;  
          GOTO      SCIA9999
.
SCIA0030  UNPACK    DIM127,D1,KEY1,DIM127
          MOVE      ZERO,F1
          MOVE      KEY1,F1
.
          BRANCH    F1,SCIA0031,SCIA0032
          WRITE     HTMLFILE;SIIASUB;  
          GOTO      SCIA9999
.
SCIA0031  PACK      KEY5,SIIASUB,SP10
          CALL      RDSISA1
          BRANCH    OVRCD,SCIA9999
.
          WRITE     HTMLFILE;SISADESC;
          GOTO      SCIA9999
.
SCIA0032  PACK      KEY5,SP10
          CALL      RSSISA1
SCIA0033  CALL      RKSISA1
          BRANCH    OVRCD,SCIA9999
.
          PACK      KEY7,QUOTE,SISACODE,QUOTE,SP10
          MATCH     SIIASUB,SISACODE
          IF        @EQUAL
            WRITE     HTMLFILE;"<option value=",KEY7," selected>",SISADESC:
                               "</option>";
          ELSE
            WRITE     HTMLFILE;"<option value=",KEY7,">",SISADESC:
                               "</option>";
          ENDIF
          GOTO      SCIA0033
.
SCIA0040  WRITE     HTMLFILE;SIIAISS;
          GOTO      SCIA9999
.
SCIA0050  WRITE     HTMLFILE;SIIASTI;
          GOTO      SCIA9999
.
SCIA0060  WRITE     HTMLFILE;SIIAAVC;
          GOTO      SCIA9999
.
SCIA0070  WRITE     HTMLFILE;SIIANAT;
          GOTO      SCIA9999
.
SCIA0080  WRITE     HTMLFILE;SIIAABC;
          GOTO      SCIA9999
.
SCIA0090  WRITE     HTMLFILE;SIIAPSC;
          GOTO      SCIA9999
.
SCIA0100  WRITE     HTMLFILE;SIIAREX;
          GOTO      SCIA9999
.
SCIA0110  WRITE     HTMLFILE;SIIANON;
          GOTO      SCIA9999
.
SCIA0120  WRITE     HTMLFILE;SIIASAB;
          GOTO      SCIA9999
.
SCIA0130  WRITE     HTMLFILE;SIIASUS;
          GOTO      SCIA9999
.
SCIA0140  MATCH     SIIADTC,SP70
          GOTO      SCIA9999 IF EQUAL
.
          UNPACK    SIIADTC,CCENT,CYEAR,CMON,CDAY
          MOVE      CMON,F2
          LOAD      MTHNAM3,F2,JAN,FEB,MAR,APR,MAY,JUN,JUL,AUG,SEP,OCT,NOV,DEC
          WRITE     HTMLFILE;CDAY,SP1,MTHNAM3,SP1,CCENT,CYEAR;
          GOTO      SCIA9999
.
SCIA0150  WRITE     HTMLFILE;SIIATMC;
          GOTO      SCIA9999
.
SCIA0160  WRITE     HTMLFILE;SIIAUSC;
          GOTO      SCIA9999
.
SCIA0170  WRITE     HTMLFILE;SIIAUR1;
          GOTO      SCIA9999
.
SCIA0180  WRITE     HTMLFILE;SIIAUR2;
          GOTO      SCIA9999
.
SCIA0190  MATCH     SIIAUD1,SP70
          GOTO      SCIA9999 IF EQUAL
.
          UNPACK    SIIAUD1,CCENT,CYEAR,CMON,CDAY
          MOVE      CMON,F2
          LOAD      MTHNAM3,F2,JAN,FEB,MAR,APR,MAY,JUN,JUL,AUG,SEP,OCT,NOV,DEC
          WRITE     HTMLFILE;CDAY,SP1,MTHNAM3,SP1,CCENT,CYEAR;
          GOTO      SCIA9999
.
SCIA0200  MATCH     SIIAUD2,SP70
          GOTO      SCIA9999 IF EQUAL
.
          UNPACK    SIIAUD2,CCENT,CYEAR,CMON,CDAY
          MOVE      CMON,F2
          LOAD      MTHNAM3,F2,JAN,FEB,MAR,APR,MAY,JUN,JUL,AUG,SEP,OCT,NOV,DEC
          WRITE     HTMLFILE;CDAY,SP1,MTHNAM3,SP1,CCENT,CYEAR;
          GOTO      SCIA9999
.
SCIA0210  MOVE      "IA1",KEY3
          PACK      KEY6,KEY3,SIIAUC1,SP10
          CALL      RDSICD1
          BRANCH    OVRCD,SCIA9999
          WRITE     HTMLFILE;SICDDESC;
          GOTO      SCIA9999
.
SCIA0220  MOVE      "IA2",KEY3
          PACK      KEY6,KEY3,SIIAUC2,SP10
          CALL      RDSICD1
          BRANCH    OVRCD,SCIA9999
          WRITE     HTMLFILE;SICDDESC;
          GOTO      SCIA9999
.
SCIA0230  WRITE     HTMLFILE;SIIAUY1;
          GOTO      SCIA9999
.
SCIA0240  WRITE     HTMLFILE;SIIAUY2;
          GOTO      SCIA9999
.
SCIA0250  WRITE     HTMLFILE;SIIAQIN;
          GOTO      SCIA9999
.
SCIA0260  WRITE     HTMLFILE;SIIADUN;
          GOTO      SCIA9999
.
SCIA0270  WRITE     HTMLFILE;SIIAGST;
          GOTO      SCIA9999
.
SCIA0280  MATCH     "1",SIIAACTV
          IF        @EQUAL
            WRITE     HTMLFILE;SIIAACTV;
          ELSE
            WRITE     HTMLFILE;"0";
          ENDIF
          GOTO      SCIA9999
.
SCIA9999  RETURN
.------------------------------------------------------------
.   Set Parameters for the catalog master file
.------------------------------------------------------------
SPCIA000  MOVE      ZERO,EXIT
          UNPACK    QRYNAME,KEY5,KEY3
          MOVE      KEY3,F3
          BRANCH    F3,SPCIA010,SPCIA020,SPCIA030,SPCIA040,SPCIA050:
                       SPCIA060,SPCIA070,SPCIA080,SPCIA090,SPCIA100:
                       SPCIA110,SPCIA120,SPCIA130,SPCIA140,SPCIA150:
                       SPCIA160,SPCIA170,SPCIA180,SPCIA190,SPCIA200:
                       SPCIA210,SPCIA220,SPCIA230,SPCIA240,SPCIA250:
                       SPCIA260,SPCIA270,SPCIA280
.
          MOVE      ONE,EXIT
          GOTO      SPCIA999
.
SPCIA010  IF        INCNNATO=0
            MOVE      QRYDATA,SICIA001
          ELSE
            SQUEEZE   QRYDATA
            MOVE      QRYDATA,F7
            MOVE      F7,SICIA001
          ENDIF
          GOTO      SPCIA999
.
SPCIA020  MOVE      QRYDATA,SICIA002
          GOTO      SPCIA999
.
SPCIA030  MOVE      QRYDATA,SICIA003
          GOTO      SPCIA999
.
SPCIA040  MOVE      QRYDATA,SICIA004
          GOTO      SPCIA999
.
SPCIA050  MOVE      QRYDATA,SICIA005
          GOTO      SPCIA999
.
SPCIA060  MOVE      QRYDATA,SICIA006
          GOTO      SPCIA999
.
SPCIA070  MOVE      QRYDATA,SICIA007
          GOTO      SPCIA999
.
SPCIA080  MOVE      QRYDATA,SICIA008
          GOTO      SPCIA999
.
SPCIA090  MOVE      QRYDATA,SICIA009
          GOTO      SPCIA999
.
SPCIA100  MOVE      QRYDATA,SICIA010
          GOTO      SPCIA999
.
SPCIA110  MOVE      QRYDATA,SICIA011
          GOTO      SPCIA999
.
SPCIA120  MOVE      QRYDATA,SICIA012
          GOTO      SPCIA999
.
SPCIA130  MOVE      QRYDATA,SICIA013
          GOTO      SPCIA999
.
SPCIA140  UNPACK    QRYDATA,CDAY,KEY1,MTHNAM3,KEY1,CCENT,CYEAR
          CALL      SETMTH00                *Set CMON from MTHNAM3
          PACK      SICIA014,CCENT,CYEAR,CMON,CDAY
          GOTO      SPCIA999
.
SPCIA150  MOVE      QRYDATA,SICIA015
          GOTO      SPCIA999
.
SPCIA160  MOVE      QRYDATA,SICIA016
          GOTO      SPCIA999
.
SPCIA170  MOVE      QRYDATA,SICIA017
          GOTO      SPCIA999
.
SPCIA180  MOVE      QRYDATA,SICIA018
          GOTO      SPCIA999
.
SPCIA190  UNPACK    QRYDATA,CDAY,KEY1,MTHNAM3,KEY1,CCENT,CYEAR
          CALL      SETMTH00                *Set CMON from MTHNAM3
          PACK      SICIA019,CCENT,CYEAR,CMON,CDAY
          GOTO      SPCIA999
.
SPCIA200  UNPACK    QRYDATA,CDAY,KEY1,MTHNAM3,KEY1,CCENT,CYEAR
          CALL      SETMTH00                *Set CMON from MTHNAM3
          PACK      SICIA020,CCENT,CYEAR,CMON,CDAY
          GOTO      SPCIA999
.
SPCIA210  MOVE      QRYDATA,SICIA021
          GOTO      SPCIA999
.
SPCIA220  MOVE      QRYDATA,SICIA022
          GOTO      SPCIA999
.
SPCIA230  MOVE      QRYDATA,SICIA023
          GOTO      SPCIA999
.
SPCIA240  MOVE      QRYDATA,SICIA024
          GOTO      SPCIA999
.
SPCIA250  MOVE      QRYDATA,SICIA025
          GOTO      SPCIA999
.
SPCIA260  MOVE      QRYDATA,SICIA026
          GOTO      SPCIA999
.
SPCIA270  MOVE      QRYDATA,SICIA027
          GOTO      SPCIA999
.
SPCIA280  MOVE      QRYDATA,SICIA028
          GOTO      SPCIA999
.
SPCIA999  RETURN
.
.------------------------------------------------------------
.  Update catalog master file
.------------------------------------------------------------
MVSCIA00  MATCH     SICIA001,Z70
          IF        !@EQUAL
            MOVE      SICIA001,SIIACAT
          ENDIF
.
          MATCH     SICIA002,Z70
          IF        !@EQUAL
            MOVE      SICIA002,SIIADES
          ENDIF
.
          MATCH     SICIA003,Z70
          IF        !@EQUAL
            MOVE      SICIA003,SIIASUB
          ENDIF
.
          MATCH     SICIA004,Z70
          IF        !@EQUAL
            MOVE      SICIA004,SIIAISS
          ENDIF
.
          MATCH     SICIA005,Z70
          IF        !@EQUAL
            MOVE      SICIA005,SIIASTI
          ENDIF
.
          MATCH     SICIA006,Z70
          IF        !@EQUAL
            MOVE      SICIA006,SIIAAVC
          ENDIF
.
          MATCH     SICIA007,Z70
          IF        !@EQUAL
            MOVE      SICIA007,SIIANAT
          ENDIF
.
          MATCH     SICIA008,Z70
          IF        !@EQUAL
            MOVE      SICIA008,SIIAABC
          ENDIF
.
          MATCH     SICIA009,Z70
          IF        !@EQUAL
            MOVE      SICIA009,SIIAPSC
          ENDIF
.
          MATCH     SICIA010,Z70
          IF        !@EQUAL
            MOVE      SICIA010,SIIAREX
          ENDIF
.
          MATCH     SICIA011,Z70
          IF        !@EQUAL
            MOVE      SICIA011,SIIANON
          ENDIF
.
          MATCH     SICIA012,Z70
          IF        !@EQUAL
            MOVE      SICIA012,SIIASAB
          ENDIF
.
          MATCH     SICIA013,Z70
          IF        !@EQUAL
            MOVE      SICIA013,SIIASUS
          ENDIF
.
          MATCH     SICIA014,Z70
          IF        !@EQUAL
            MOVE      SICIA014,SIIADTC
          ENDIF
.
          MATCH     SICIA015,Z70
          IF        !@EQUAL
            MOVE      SICIA015,SIIATMC
          ENDIF
.
          MATCH     SICIA016,Z70
          IF        !@EQUAL
            MOVE      SICIA016,SIIAUSC
          ENDIF
.
          MATCH     SICIA017,Z70
          IF        !@EQUAL
            MOVE      SICIA017,SIIAUR1
          ENDIF
.
          MATCH     SICIA018,Z70
          IF        !@EQUAL
            MOVE      SICIA018,SIIAUR2
          ENDIF
.
          MATCH     SICIA019,Z70
          IF        !@EQUAL
            MOVE      SICIA019,SIIAUD1
          ENDIF
.
          MATCH     SICIA020,Z70
          IF        !@EQUAL
            MOVE      SICIA020,SIIAUD2
          ENDIF
.
          MATCH     SICIA021,Z70
          IF        !@EQUAL
            MOVE      SICIA021,SIIAUC1
          ENDIF
.
          MATCH     SICIA022,Z70
          IF        !@EQUAL
            MOVE      SICIA022,SIIAUC2
          ENDIF
.
          MATCH     SICIA023,Z70
          IF        !@EQUAL
            MOVE      SICIA023,SIIAUY1
          ENDIF
.
          MATCH     SICIA024,Z70
          IF        !@EQUAL
            MOVE      SICIA024,SIIAUY2
          ENDIF
.
          MATCH     SICIA025,Z70
          IF        !@EQUAL
            MOVE      SICIA025,SIIAQIN
          ENDIF
.
          MATCH     SICIA026,Z70
          IF        !@EQUAL
            MOVE      SICIA026,SIIADUN
          ENDIF
.
          MATCH     SICIA027,Z70
          IF        !@EQUAL
            MOVE      SICIA027,SIIAGST
          ENDIF
.
          MATCH     SICIA028,Z70
          IF        !@EQUAL
            MOVE      SICIA028,SIIAACTV
          ENDIF
.
MVSCIA99  RETURN
.
.-----------------------------------------------------------
. Initialize's file data
.-----------------------------------------------------------
CLSCIA00  MOVE      SP70,SIIACAT  
          MOVE      SP70,SIIADES  
          MOVE      SP70,SIIASUB  
          MOVE      SP70,SIIAISS        
          MOVE      SP70,SIIASTI  
          MOVE      ZERO,SIIAAVC  
          MOVE      SP70,SIIANAT  
          MOVE      SP70,SIIAABC  
          MOVE      SP70,SIIAPSC  
          MOVE      ZERO,SIIAREX  
          MOVE      ZERO,SIIANON  
          MOVE      ZERO,SIIASAB  
          MOVE      ZERO,SIIASUS  
          MOVE      SP70,SIIADTC  
          MOVE      SP70,SIIATMC  
          MOVE      SP70,SIIAUSC  
          MOVE      SP70,SIIAUR1  
          MOVE      SP70,SIIAUR2  
          MOVE      SP70,SIIAUD1  
          MOVE      SP70,SIIAUD2  
          MOVE      SP70,SIIAUC1  
          MOVE      SP70,SIIAUC2  
          MOVE      SP70,SIIAUY1  
          MOVE      SP70,SIIAUY2  
          MOVE      SP70,SIIAQIN  
          MOVE      SP70,SIIADUN  
          MOVE      SP70,SIIAGST  
          MOVE      SP70,SIIAACTV 
          MOVE      SP70,SIIASPA  
.
CLSCIA99  RETURN
