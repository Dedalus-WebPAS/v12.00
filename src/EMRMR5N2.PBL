.-----------------------------------------------------------------------------
. Program  : EMRMR5N2
.
. Function : This include prints the EMR MR-5 details - Layout 2 - User Defined
.
. Modifications : 
.
.-----------------------------------------------------------------------------
. V12.00.01 08/09/2025  Thanh T          TSK 0949457
.           Added PRFC2056 to PRFC2083
. V11.05.05 07/04/2025  PJ Le Febour     TSK 0949428b
.           PRFC2055 - pmsvx1af.PMVXUDF7 if 1 Variable YES if 0 Variable NO
. V11.05.04 26/02/2025  PJ Le Febour     TSK 0957621
.           PRFLS530 - test if PREG(religion) is blank to prevent default
.                      printing of the word Religion - EMR Registration Forms
. V11.05.03 21/02/2025  PJ Le Febour     TSK 0949428
.           Added PRFC2055 retrieve pmsvx1af.PMVXUDF7(upload to MyHR)
. V11.05.02 30/01/2025  Thanh T          TSK 0956569
.           Changed PRFC2030, PRFC2032, PRFC2034 and PRFC2036 to fix issue
.           with Ethnicity and Lang Spoken At Home description not printing
.           correct
. V11.05.01 30/01/2025  Thanh T          TSK 0956569
.           Changed PRFC2038 and PRFC2040 to fix issue with NOK main
.           language description not printing correct  
. V11.04.06 07/06/2024  Alina Bhari     TSK 0934133
.           Displayed Doctor detail correctly -PRFC2049-PRFC2052           
. V11.04.05 28/05/2024  Alina Bhari     TSK 0934133
.           Added Fields Meet and Greet Assessment Nurse Code,Nurse Title,
.           Nurse Given Name,Nurse Surname,Nurse Full Name,Nurse Date Seen,
.           Nurse Time Seen - PRFC2041-PRFC2047
.           Meet and Greet Assessment Doctor Code,Nurse Title,Doctor Given Name,
.           Doctor Surname,Doctor Full Name,Doctor Date Seen,
.           Doctor Time Seen - PRFC2047-PRFC2054
. V11.04.04 24/05/2024  Thanh T          TSK 0941543
.           Moved GPMCEX00 to INC file
. V11.04.03 10/05/2024  Thanh T          TSK 0941543
.           Added PRFC2029-PRFC2040 for Ethnicity and Main Language Spoken
.           at home variables (2029-2040)
. V11.04.02 23/04/2024  Sunny           TSK 0931173
.           Added PRFC2028,AVFTX000 - Presenting complaints 
. V11.04.01 27/11/2023  Peter Vela      TSK 0935874
.           Added validation for PTCNUNET = 3 
. V11.03.03 22/11/2023  Thanh T         TSK 0914124
.           Changed PALRT200 to print out blank when reaction code is
.           not entered
. V11.03.02 20/09/2023  Thanh T          TSK 0914124
.           Changed PALRT000 to save WBSEUID
. V11.03.01 30/08/2022  Thanh T          TSK 0914124
.           Changed SETALI00 to match surname, given names, dob and sex 
.           against patma1af and pmspx2af tables  
. V11.02.04 29/08/2022  Thanh T          TSK 0914124
.           Changed PALRT000 to write out requsted by id
. V11.02.03 02/08/2022  Thanh T          TSK 0914124
.           Added PRFC1962-PRFC1971 (var 1962-1971) for patient alerts & notes
.           variables. PRFC1972-PRFC2021 (var 1972-2021) for 1st 10 Alias
.           details. PRFC2022-PRFC2027 (var 2022-2027) for Visit code type 005
.           details  
. V11.02.02 13/04/2022  Thanh T          TSK 0903453                        
.           Added PRFLB121 to PRFLB126 for Identifying gender/pronoun and   
.           free text fields
. V11.02.01 21/01/2022  Jacob Jackson  TSK 0864505
.           Added preferred name option fields -
.           PRFLB116, PRFLB117, PRFLB118, PRFLB119, PRFLB120
. V11.01.01 18/08/2021  Sunny          TSK 0893817
.           Added PRFLB104 - PRFLB115 
.-----------------------------------------------------------------------------
. V11.00.04 16/11/2020  Thanh T        TSK 0878747
.           Added PRFLB103 for multiple birth details 
. V11.00.03 03/04/2020  Thanh T        TSK 0879163                    
.           Changed PRNTT982 for Sex category changes.                               
.           Added PRFLB102 for sex long description        
. V11.00.02 31/03/2020  J.Tan            TSK 0868813
.           Changed PKNAME from DIM30 to DIM 80
. V11.00.01 24/02/2020  J.Tan          TSK 0838262
.           Added Effective from and to date to MBS Item file
.-----------------------------------------------------------------------------
. V10.15.01 20/09/2019  Ken Bell         TSK 0875392
.           Suppress WC details for Cancelled Claims
. V10.14.02 19/02/2019  Ebon Clements    TSK 0867703
.           Changed NHI ethnicity file reads to use KEY5
. V10.14.01 08/02/2019  Don Nguyen       TSK 0833548
.           Added PRFLA000 (process data fields 1734 - 1835) &
.           PRFLB000 (process data fields 1836 - xxxx)
. V10.13.01 19/11/2018  Ebon Clements    TSK 0862730
.           Added var 1733 - HCP Practice post code - PRNTM150
. V10.12.02 20/04/2018  Ania P           TSK 0853187
.           Added PRNTM130/PRNTM140
. V10.12.01 15/01/2018  Richa Phogat     TSK 0825792
.           Modified Triage Nurse Name/Description, Attending Nurse Name/
.           Description to read pmshcpaf if EMCNURSE = 1
. V10.11.03 17/11/2017  Ania P           TSK 0847796
.           Added output for vismtxaf - all lines
. V10.11.02 13/11/2017  Peter Vela       TSK 0847796
.           Added PRNTM110 - vismtxaf type 007 Emergency Doctors Notes
.           Print all lines.
. V10.11.01 11/09/2017  Ania P           TSK 0839053
.           Added variable 1629 - PMHCPRV1
. V10.10.02 17/03/2017  Thanh T.         TSK 0832066
.           Changed DVA PREPAT/PMPXDVAC fields to use the new
.           concession card PMCDCNUM/PMCDDVAC fields 
. V10.10.01 15/03/2017  Ebon Clements    TSK 0814747
.           Added ED breach vars - 1620 to 1628 - PRNTM010
. V10.09.02 17/01/2017  Ebon Clements    TSK 0823900
.           Read correct concession card record for vars 1040 - 1043 - PRNTT610
. V10.09.01 12/12/2016  Davin            TSK 0814742
.           Added Paediatric Hydration visit based coded fields (vars 1590-1619)
. V10.08.01 10/08/2016  Davin            TSK 0321234
.           Added Alert Care Pathway Fields (vars 1455-1589)
. V10.07.02 08/10/2015  Peter Vela       CAR 321082
.           If weight=0 move spaces into print variable in PRNTQ190
. V10.07.01 08/10/2015  Peter Vela       CAR 321082
.           Fixed read to VISCODFD in PRTVCD00
. V10.06.01 09/06/2015  Peter Vela       CAR 317189
.           Added type 011 and 012 to AVCOM000
. V10.05.01 13/10/2014  Ania P           CAR 303879
.           Added HP code output
. V10.04.01 24/02/2014  J.Tan            CAR 285504
.           Added PRNTK260 (var 1449) - First name in sentence case
.           Added PRNTK270 (var 1450) - Second name in sentence case
.           18/02/2014  Don Nguyen       CAR 291879
.           Added variable 1448 (PRNTK250)
.           03/02/2014  Ania P           CAR 275582
.           Added variable 1447 in PRNTK000
. V10.03.07 18/07/2013  Don Nguyen       CAR 288603
.           Added PRNTK211 & PRNTK212 - Patient Type/Description
. V10.03.06 11/02/2013  Don Nguyen       CAR 277835
.           Removed SP70 from APPEND call in PRNTJ480
. V10.03.05 12/10/2012  Peter Vela       CAR 274569
.           Fixed User Defined Code 5 variable 80
. V10.03.04 03/10/2012  Ebon Clements    CAR 273463
.           Added triage assessment variables - VISCODFD
. V10.03.03 25/05/2012  Peter Vela       CAR 264245
.           Added Patient Note variables
. V10.03.02 31/01/2012  J.Tan            CAR 247090
.           Added new variables for Multiple Card Type
. V10.03.02 29/11/2011  Jill Parkinson   CAR 249362 
.           Changed alert table keys                                 
. V10.03.01 10/11/2011  Ebon Clements    CAR 248529
.           Added multiple contacts of the same type functionality
.
.                 V10.02.08 18/10/2011 Davin          CAR 253080
.                           Added var 1403 - 1404
.                 V10.02.07 26/09/2011 Davin          CAR 248749
.                           Added var 1386 - 1402
.                 V10.02.06 19/09/2011 Ebon Clements  CAR 250135
.                           Added vars 1384 - Transfer source description
.                 V10.02.05 13/09/2011 Davin          CAR 248749
.                           Added new vars 1380,1381,1382,1383
.                           Changed field 1 (surname) to allow 40 char field
.                 V10.02.04 31/08/2011 Davin          CAR 249921
.                           Clear wcacdat before reading record (prntt680)
.                 V10.02.03 10/06/2011 Ebon Clements  CAR 239530
.                           Added print extra contact functionality
.                 V10.02.02 05/05/2011 Saroeun Soeur  CAR 240081
.                           PRNTT957 - 1090 - inform GP
.                 V10.02.01 28/04/2011 Saroeun Soeur  CAR 237496
.                           fixed bug in PRNTJ460 - variable 1371 
.                           - local gp or practice name
.                 V10.01.02 14/12/2010 Jill Parkinson CAR 235074
.                           Mods to check currrow to ibdtrow before adding 1
.                           at PR2M5110
.                 V10.01.01 03/12/2010 Ebon Clements  CAR 233551
.                           Don't print deleted clinical notes - PRCOM000
.                 V10.00.06 08/09/2010 Mike Laming    CAR 216634
.                           Added variable 1379 - "User Defined 1 Doctor Name"
.                 V10.00.05 30/08/2010 Jill Parkinson CAR 216634
.                           Added variables 1373-1378
.                 V10.00.04 15/06/2010 Peter Vela     CAR 216620
.                           Added EMVCFTXT Primary Diagnosis Free Format Desc
.                 V10.00.03 07/05/2010 Peter Vela     CAR 221547
.                           Added functionality to read alerts from PATALTFD
.                 V10.00.02 15/04/2010 Jill Parkinson CAR 216634
.                           Added discharge fields for knox (var 1368,69,70)
.                 V10.10.01 22/03/2010 Peter Vela    CAR 215079
.                           Added Basic Observation Action/Comment 1,2,3
.                           Comments 1,2,3
.                 V9.12.24  11/03/2010 Ebon Clements CAR 216621 
.                           Added vars 1253 to 1352 - Management notes
.                 V9.12.06  13/01/2010  Jill Parkinson CAR 207035  
.                           Mods to print PMRLDESC for PTMXECRE
.                 V9.12.05  17/12/2009  Ebon Clements    CAR 202314
.                           Fixed PRFA when deceased - PRFLD310
.                 V9.12.04  10/11/2009 Peter Vela       CAR 199757
.                           Added Next Stationery Code for Stationery Type 7
.                 V9.12.03 15/20/2009  Ebon Clements    CAR 202699
.                           Fixed clear of doctor name - ATTDOC00
.                 V9.12.02  25/05/2009  Ebon Clements     CAR 192431
.                           Added vars 1243 to 1251 - Observation vars
.                 V9.12.01  05/05/2009  Saroeun Soeur     CAR 193658
.                           fixed field text length problem PR2M5300 by adding
.                           LENSET.  Added attending doc variables:
.                           PRNTI120,PRNTI130,PRNTI140,PRNTI150
.-----------------------------------------------------------------------------
.                 V9.11.03  30/04/2009  Ebon Clements     CAR 195740
.                           Added vars 1228 - 1238 - Injury and observation vars
.                 V9.11.02  28/04/2009  Ebon Clements     CAR 195452
.                           Added var 1128 to 1227 - Clinical notes
.                 V9.11.01  04/03/2009  Jill Habasque     CAR 134681
.                           Added var 1119 to 1127  
.                 V9.10.04  09/09/2008  Ebon Clements     CAR 175728
.                           Added var 1116 to 1118 -
.                           Compensable vars and pmi address
.                 V9.10.03  17/07/2008  Ebon Clements     CAR 172849
.                           Added var 1115 - PMI Sex Desc
.                 V9.10.02  20/05/2008  Ebon Clements    CAR 166566
.                           Added vars 1090 to 1114
.                 V9.10.01  14/05/2008  Ebon Clements    CAR 166566
.                           Added vars 1073 to 1090
.                 V9.09.06  04/03/2008  Peter Vela       CAR 150710
.                           Added Insurance Name for Workers Comp
.                 V9.09.05  21/02/2008  Peter Vela       CAR 150710
.                           Added all remaining variables
.                           from PATWC1,PATWMA and PATWVE
.                 V9.09.04  12/12/2007  Ebon Clements    CAR 157081
.                           Added patient e-mail address
.                 V9.09.03  29/10/2007  Peter Vela       CAR 151159
.                           Added new Emergency Cancellation status
.                 V9.09.02  18/07/2007  Peter Vela       CAR 142913
.                           Added PMSCCD Concession Card variables:
.                           Card Type (Code and Desc) Card Number and Card
.                           Number and Card Expiry Date
.                 V9.09.01  16/07/2007  Peter Vela       CAR 144312
.                           Added Procedures Type 6
.                           Added Medicare Expiry Date
.                 V9.08.03  06/02/2007  Neelkamal Pyla     CAR 120594
.                           Added NOK Relation Desc and Title Desc
.                 V9.08.02  13/12/2006  J.Tan              CAR 127625
.                           Mods to Singapore HRN
.                 V9.08.01  15/11/2006  Steve Armstrong    CAR 124160
.                           Added Singapore HRN
.------------------------------------------------------------
.                 V9.05.01  24/03/2006  Peter Vela         CAR 61299
.                           Increased field no size from DIM3 to DIM5  
.                           Added 2 lines of comments for each Highlight 
.                           variable
.------------------------------------------------------------
.                 V9.04.18  14/11/2005  Jill Habasque      CAR 84500
.                           Added NHI ethnicity fields and resident status
.                 V9.04.17  03/11/2005  Peter Vela         CAR 79842
.                           Added Next of Kin Mobile number
.                           Added Next of Kin Email Address
.                           Added Emergency Contact Mobile number
.                           Added Emergency Contact Email Address
.                           Added Nearest Relative Mobile Number
.                           Added Nearest Relative Email Address
.                 V9.04.16  18/08/2005  Peter Vela         CAR 69456
.                           Added Local GP Formatted full name
.                 V9.04.15  12/08/2005  Peter Vela         CAR 67204
.                           Added following variables:
.                           HCP Practice Code
.                           HCP Practice Name
.                           HCP Practice Address 1-6
.                           HCP Practice Telephone Number
.                           HCP Practice Fax Number
.                           HCP Practice Provider Number
.                           Local GP Mobile Number
.                           Local GP Pager Telephone Number
.                           Local GP Pager Number
.                           Local GP Provider Number
.                 V9.04.14  27/07/2005  Steve Armstrong    CAR 66545
.                           Added Local GP Preferred Contact Code (915) and
.                           Description (916).
.                 V9.04.13  19/07/2005 Peter Vela    CAR 63023
.                           Added Local GP Practice Email Address
.                 V9.04.12  04/05/2005 Peter Vela    CAR 60700
.                           Added Patient Name formatted
.                 V9.04.11  28/04/2005 Peter Vela    CAR 55214
.                           Added Highlight Category Codes H1 - H9
.                 V9.04.10  15/04/2005 Jill Habasque CAR 58756
.                           Fixed branch after printing complaint line 1 and 2
.                 V9.04.09  22/03/05 Peter Vela      CAR 59548
.                           Added variables for Neuro and Fluid Obervations
.                           1, 2 and 3.
.                 V9.04.08  09/02/05 Peter Vela      CAR 55217
.                           Added GCS - Total Neuro
.                 V9.04.07  28/01/05 Peter Vela      CAR 56012
.                           Corrected Key to read patvadaf
.                 V9.04.06  22/12/04 Lina Vo         CAR 55990
.                           Changed PMVXPWGT - retrieve Form 4.2 from Form 6 
.                           by Dividing PMVXPWGT by 100.
.                           06/12/04 Peter Vela      CAR 55217
.                           Added Observations 1-3 Variables:
.                           - BSL
.                           - Observation Date
.                 V9.04.05  26/11/04 Peter Vela      CAR 55214
.                           Added GP (HCP) Title
.                           Added Observations Weight
.                 V9.04.04  08/11/04 Peter Vela      CAR 54627
.                           Added Consent for info release
.                           03/11/04 Peter Vela      CAR 54309
.                           Added First Seen Doctor Name
.                           Added First Seen Nurse Name
.                 V9.04.03  26/10/04 Peter Vela      CAR 54627
.                           Added 9 Lines of Diagnosis Codes
.                           Added Interpreter Required
.                           Added Preferred Language 1,2,3 Description
.                           Added Aboriginality Description
.                           Added 5 Allergy Codes and Descriptions
.                           Added more Allergies Indicator
.                           Added 3 Observations (10 Variables each)
.                           Added Company Name
.                 V9.04.02  16/09/04 Peter Vela      CAR 53465
.                           Fixed format of Attending Doctor
.                 V9.04.01  19/08/04 Peter Vela      CAR 50421
.                           Added 100 Lines Management Notes
.                           Added 100 lines Procedures
.                           Added 100 lines Medical History notes
.                           Added diagnosis line
.                           Added lines 16 - 100 for clinical notes
.                           Added title to Doctor
.                 V9.03.02  13/07/04 Ebon Clements   CAR 50421
.                           Added GP address, treating nurse, medical history
.                           and transfer destination description  
.                 V9.03.01  14/02/04 Jill Habasque           
.                           Added diagnosis lines
.                 V9.02.03  24/02/03 Dean Cramer CAR 36564
.                           Fixed were triage nurse accessing codes file and
.                           not Theatre Nurses File. 
.                           21/02/03 Dean Cramer CAR 35451
.                           Fixed were EMVICOM5 also picked up for COM6
.                 V9.02.02  23/01/03 J.Tan
.                           Added EMVICOM3,EMVICOM4,EMVICOM5,EMVICOM6,GP Fax no.
.                 V9.02.01  21/03/2002  Dean Crmer
.                           Removed PRINT *N from start so blank line removed   
.                 V9.02.00  08/11/2001  Bronko Sosic  
.                           Added New Variables to be printed
.                 V9.00.01  13/07/2001  Sandra Barcham
.                           Replace GP with HCP
.-----------------------------------------------------------
.               : V5.08.00  08/05/2000  Nicole Harrington
.                           Added PTMXMCCD
.-----------------------------------------------------------
.                 V5.07.00  11/01/2000  Nicole Harrington
.                           Added new variables
.-----------------------------------------------------------
.                 V6.06.01  27/04/1999  Katie Nelson
.                           Matched space on variables used to read patcodes 
.                 V6.06.00  22/03/1999  Katie Nelson
.                           Created Program
.-----------------------------------------------------------
.  Linup routine from AAEMR5N2
.-----------------------------------------------------------
LINMR5N2  DISPLAY   *P1:24,*EL,*P40:24,*V2LON,"** Generating Lineup **";
.
          CALL      OPNPRINT                  * open the spool file
.
          MOVE      ONE,CURRROW
          PACK      KEY12,HEMR5COD,SP6         * position on details file
          CALL      RSIBDET1
          CALL      RKIBDET1
          BRANCH    OVRCD,LN2M5990
.
          MATCH     HEMR5COD,IBDTSCOD          * match stationary codes
          GOTO      LN2M5990 IF NOT EQUAL
.
          MOVE      IBDTROW,LASTROW
.
          COMPARE   CURRROW,IBDTROW           * compare rows
          GOTO      LN2M5200 IF EQUAL
.
.------ print new-lines until current row equals the one read in ------
.
LN2M5000  COMPARE   CURRROW,IBDTROW           * compare rows
          GOTO      LN2M5200 IF EQUAL
.
          PRINT     *N;
          ADD       ONE,CURRROW
.
          GOTO      LN2M5000
.
.------ read through the details file ------
.
LN2M5100  CALL      RKIBDET1
          BRANCH    OVRCD,LN2M5900
.
          MATCH     HEMR5COD,IBDTSCOD          * match stationary codes
          GOTO      LN2M5900 IF NOT EQUAL
.
          MOVE      IBDTROW,LASTROW
.
          COMPARE   CURRROW,IBDTROW           * compare rows
          GOTO      LN2M5200 IF EQUAL
.
.------ print new-lines until current row equals the one read in ------
.
LN2M5110  PRINT     *N;
          ADD       ONE,CURRROW
.
          COMPARE   CURRROW,IBDTROW           * compare rows
          GOTO      LN2M5200 IF EQUAL
.
          GOTO      LN2M5110
.
.------ branch on field indicator ------
.
LN2M5200  BRANCH    IBDTINDC,LN2M5300,LN2M5400
.
.------ field is a text field ------
.
LN2M5300  PRINT     *IBDTCOL,IBDTTXFL;
          GOTO      LN2M5100
.
.------ field is a data field ------
.
LN2M5400  MOVE      IBDTTXFL,DIM5
          MOVE      DIM5,FORM5
.
          BRANCH    FORM5,LN2M5450,LN2M5450,LN2M5450,LN2M5430,LN2M5450:
                          LN2M5450,LN2M5450,LN2M5450,LN2M5450,LN2M5450:
                          LN2M5450,LN2M5450,LN2M5450,LN2M5450,LN2M5450:
                          LN2M5450,LN2M5450,LN2M5450,LN2M5450,LN2M5450:
                          LN2M5450,LN2M5440,LN2M5460,LN2M5450,LN2M5450:
                          LN2M5450,LN2M5470,LN2M5500,LN2M5450,LN2M5450:
                          LN2M5450,LN2M5450,LN2M5490,LN2M5460,LN2M5450:
                          LN2M5450,LN2M5450,LN2M5450,LN2M5510,LN2M5450:
                          LN2M5450,LN2M5450,LN2M5450,LN2M5450,LN2M5450:
                          LN2M5450,LN2M5450,LN2M5450,LN2M5450,LN2M5470:
                          LN2M5450,LN2M5450,LN2M5450,LN2M5450,LN2M5450:
                          LN2M5450,LN2M5450,LN2M5450,LN2M5450,LN2M5450:
                          LN2M5450,LN2M5450,LN2M5450,LN2M5450,LN2M5450:
                          LN2M5450,LN2M5450,LN2M5450,LN2M5450,LN2M5450:
                          LN2M5450,LN2M5450,LN2M5450,LN2M5450,LN2M5450:
                          LN2M5450,LN2M5450,LN2M5450,LN2M5450,LN2M5450:
                          LN2M5450,LN2M5450,LN2M5450,LN2M5450,LN2M5450:
                          LN2M5450,LN2M5450,LN2M5450,LN2M5450,LN2M5450:
                          LN2M5450,LN2M5450,LN2M5450
.
.------ format patients age ------
.
LN2M5430  MOVE      "999",VARIABLE
          GOTO      LN2M5600
.
.------ format full date fields ------
.
LN2M5440  MOVE      "99/99/9999",VARIABLE
          GOTO      LN2M5600
.
.------ format all other Dim fields ------
.
LN2M5450  PACK      VARIABLE,X100,X27
          GOTO      LN2M5600
.
.------ format time variables ------
.
LN2M5460  MOVE      "99:99",VARIABLE
          GOTO      LN2M5600
.
.------ format birth date ------
.
LN2M5470  MOVE      "99/99/99",VARIABLE
          GOTO      LN2M5600
.
.------ format doctors name ------
.
LN2M5490  MOVE      "X.XXXXXXXXXXXXXXXXXXXX",VARIABLE
          GOTO      LN2M5600
.
.------ format A & E number ------
.
LN2M5500  MOVE      "99999999",VARIABLE
          GOTO      LN2M5600
.
.------ format year variables ------
.
LN2M5510  MOVE      "99",VARIABLE
          GOTO      LN2M5600
.
.------ only print amount of variable specified ------
.
LN2M5600  RESET     VARIABLE,IBDTPLEN
          LENSET    VARIABLE
          RESET     VARIABLE
          PRINT     *IBDTCOL,*+,VARIABLE;
          GOTO      LN2M5100
.
.------ line-up completed ------
.
LN2M5900  MOVE      FALSE,EXIT
.
.------ print new-lines until we reach the end of the page ------
.
LN2M5910  COMPARE   LASTROW,IBTHLENG            * compare rows
          GOTO      LN2M5999 IF EQUAL
.
          PRINT     *N;
          ADD       ONE,LASTROW
.
          GOTO      LN2M5910
.
.------ no details on file ------
.
LN2M5990  MOVE      TRUE,EXIT
.
LN2M5999  CALL      CLSPRINT
          RETURN
.
.-----------------------------------------------------------
.------ get the V.A description if it exists ------
.
GETVA2    MOVE      SP3,VADESC
.
          UNPACK    SP5 WITH TCINDC1,TCINDC2,TCINDC3,TCINDC4,TCINDC5
          PACK      KEY5 WITH CODECL,EMVICOMP
          CALL      RDCODE1                    * read the patient codes file
.
          MOVE      ZERO,FORM2
.
.------ check the next indicator ------
.
NXTVA2    ADD       ONE,FORM2
.
          COMPARE   SIX,FORM2
          GOTO      ENDVA2 IF NOT LESS
.
          LOAD      ANS USING FORM2 OF TCINDC1,TCINDC2,TCINDC3:
                    TCINDC4,TCINDC5
.
          CMATCH    ANSV TO ANS
          GOTO      CLVA2 IF EQUAL
.
          GOTO      NXTVA2 
.
.------ claim is a vehicle accident ------
.
CLVA2     MOVE      "VA ",VADESC
.
ENDVA2    RETURN
.
.------ get the W.C.A description if it exists ------
.
GETWCA2   MOVE      SP3,WCDESC
.
          UNPACK    SP5 WITH TCINDC1,TCINDC2,TCINDC3,TCINDC4,TCINDC5
          PACK      KEY5 WITH CODECL,EMVICOMP
          CALL      RDCODE1                    * read the patient codes file
.
          MOVE      ZERO,FORM2
.
.------ check the next indicator ------
.
NXTWCA2   ADD       ONE,FORM2
.
          COMPARE   SIX,FORM2
          GOTO      ENDWCA2 IF NOT LESS
.
          LOAD      ANS USING FORM2 OF TCINDC1,TCINDC2,TCINDC3:
                    TCINDC4,TCINDC5
.
          CMATCH    ANSW TO ANS
          GOTO      CLWCO2 IF EQUAL
.
          GOTO      NXTWCA2
.
.------ claim is a workers compensation claim ------
.
CLWCO2    MOVE      "WCA",WCDESC
.
ENDWCA2   RETURN
.
.------ get MAB description if it exists ------
.
GETMAB2   MOVE      SP3,MADESC
.
          UNPACK    SP5 WITH TCINDC1,TCINDC2,TCINDC3,TCINDC4,TCINDC5
          PACK      KEY5 WITH CODECL,EMVICOMP
          CALL      RDCODE1                    * read the patient codes file
.
          MOVE      ZERO,FORM2
.
.------ check the next indicator ------
.
NXTMAB2   ADD       ONE,FORM2
.
          COMPARE   SIX,FORM2
          GOTO      ENDMAB2 IF NOT LESS
.
          LOAD      ANS USING FORM2 OF TCINDC1,TCINDC2,TCINDC3:
                    TCINDC4,TCINDC5
.
          CMATCH    ANSM TO ANS
          GOTO      CLMAB2 IF EQUAL
.
          GOTO      NXTMAB2 
.
.------ claim is a vehicle accident ------
.
CLMAB2    MOVE      "MAB",MADESC
.
ENDMAB2   RETURN
.
.----------------------------------------------------------------------------
. Initialize for printing
.----------------------------------------------------------------------------
INITPR00  MOVE      ZERO,F2
          REPEAT
            ADD     ONE,F2
            MOVE    SP70,ARYALIAS[F2]
          UNTIL     F2 = 50
.
          MOVE      ZERO,F2
          MOVE      ZERO,CNTALIAS
          MOVE      ZERO,ALISREAD
.
INITPR99  RETURN
.
.-----------------------------------------------------------
.  Print the patients MR5               
.-----------------------------------------------------------
PRTMR5N2  CALL      OPNPRINT
.
          CALL      INITPR00
.
          MOVE      ONE,CURRROW
          PACK      KEY12,HEMR5COD,SP6
          CALL      RSIBDET1                   * position on the details file
          CALL      RKIBDET1
          BRANCH    OVRCD,PR2M5990
.
          MATCH     HEMR5COD,IBDTSCOD           * match stationary codes
          GOTO      PR2M5990 IF NOT EQUAL
.
          MOVE      IBDTROW,LASTROW
.
          COMPARE   CURRROW,IBDTROW            * compare rows
          GOTO      PR2M5200 IF EQUAL
.
.------ print new-lines until current row equals the one read in ------
.
PR2M5000  PRINT     *N;
          ADD       ONE,CURRROW
.
          COMPARE   CURRROW,IBDTROW            * compare rows
          GOTO      PR2M5200 IF EQUAL
.
          GOTO      PR2M5000
.
.------ read through the details file ------
.
PR2M5100  CALL      RKIBDET1
          BRANCH    OVRCD,PR2M5900
.
          MATCH     HEMR5COD,IBDTSCOD           * match stationary codes
          GOTO      PR2M5900 IF NOT EQUAL
.
          MOVE      IBDTROW,LASTROW
.
          COMPARE   CURRROW,IBDTROW            * compare rows
          GOTO      PR2M5200 IF EQUAL
.
.------ print new-lines until current row equals the one read in ------
.
PR2M5110  COMPARE   CURRROW,IBDTROW            * compare rows
          GOTO      PR2M5200 IF EQUAL
.
          PRINT     *N;
          ADD       ONE,CURRROW
.
          GOTO      PR2M5110
.
.------ branch on the field type ------
.
PR2M5200  BRANCH    IBDTINDC,PR2M5300,PR2M5400
.
.------ the field is a text field ------
.
PR2M5300  RESET     IBDTTXFL,IBDTPLEN;
          LENSET    IBDTTXFL
          RESET     IBDTTXFL
          PRINT     *IBDTCOL,*+,IBDTTXFL;
          GOTO      PR2M5100
.
.------ the field is a data field ------
.
PR2M5400  MOVE      ZERO,MULTILIN
          CALL      PRFLD000                * Process Data Fields
          BRANCH    EXIT,PR2M5890
          BRANCH    MULTILIN,PR2M5100


PR2M5880  RESET     VARIABLE,IBDTPLEN
          LENSET    VARIABLE
          RESET     VARIABLE
          PRINT     *IBDTCOL,*+,VARIABLE;
          GOTO      PR2M5100
.
.------ formatting for Form fields and right justified variables ------
.
PR2M5890  COMPARE   ZERO,PRNTSTRT          * don't bump if printing full length
          GOTO      PR2M5895 IF EQUAL
.
          BUMP      VARIABLE,PRNTSTRT      * bump to starting position
.
.------ print the variable ------
.
PR2M5895  PRINT     *IBDTCOL,*+,VARIABLE;
          GOTO      PR2M5100
.
.------ end of MR5 reached ------
.
PR2M5900  MOVE      FALSE,EXIT
.
.------ print new-lines until the end of page is reached ------
.
PR2M5910  COMPARE   LASTROW,IBTHLENG          * test page length
          GOTO      PR2M5999 IF EQUAL
.
          PRINT     *N;
          ADD       ONE,LASTROW
.
          GOTO      PR2M5910
.
.------ no details on file ------
.
PR2M5990  MOVE      TRUE,EXIT
.
PR2M5999  CALL      CLSPRINT
          RETURN

.------------------------------------------------------------
.    Process Data Fields   (1 - 89)
.------------------------------------------------------------
PRFLD000  MOVE      ZERO,EXIT
          MOVE      IBDTTXFL,DIM5
          MOVE      DIM5,FORM5
.
          PACK      VARIABLE,SP30,SP30,SP30,SP30,SP10
          BRANCH    FORM5,PRFLD010,PRFLD020,PRFLD030,PRFLD040,PRFLD050: * 1
                          PRFLD060,PRFLD070,PRFLD080,PRFLD090,PRFLD100: * 6
                          PRFLD110,PRFLD120,PRFLD130,PRFLD140,PRFLD150: * 11
                          PRFLD160,PRFLD170,PRFLD180,PRFLD190,PRFLD200: * 16
                          PRFLD210,PRFLD220,PRFLD230,PRFLD240,PRFLD250: * 21
                          PRFLD260,PRFLD270,PRFLD280,PRFLD290,PRFLD300: * 26
                          PRFLD310,PRFLD320,PRFLD330,PRFLD340,PRFLD350: * 31
                          PRFLD360,PRFLD370,PRFLD380,PRFLD390,PRFLD400: * 36
                          PRFLD410,PRFLD420,PRFLD430,PRFLD440,PRFLD450: * 41
                          PRFLD460,PRFLD470,PRFLD480,PRFLD490,PRFLD500: * 46
                          PRFLD510,PRFLD520,PRFLD530,PRFLD540,PRFLD550: * 51
                          PRFLD560,PRFLD570,PRFLD580,PRFLD590,PRFLD600: * 56
                          PRFLD610,PRFLD620,PRFLD630,PRFLD640,PRFLD650: * 61
                          PRFLD660,PRFLD670,PRFLD680,PRFLD690,PRFLD700: * 66
                          PRFLD710,PRFLD720,PRFLD730,PRFLD740,PRFLD750: * 71
                          PRFLD760,PRFLD770,PRFLD780,PRFLD790,PRFLD800: * 76
                          PRFLD810,PRFLD820,PRFLD830,PRFLD840,PRFLD850: * 81
                          PRFLD860,PRFLD870,PRFLD880,PRFLD890           * 86
          GOTO PRFLD900
.
.------ format the patients surname ------
.
PRFLD010  MATCH     SP70,PTMASNAM
          IF        !@EQUAL
            MOVE      PTMASNAM,VARIABLE        * 40 char Surname
          ELSE
            MOVE      PSNAME,VARIABLE          * 20 char Surname
          ENDIF
          GOTO      PRFLD990
.
.------ format the patients given name ------
.
PRFLD020  MOVE      PGNAME,VARIABLE
          GOTO      PRFLD990
.
.------ format the patients title ------
.
PRFLD030  MOVE      PTITL,VARIABLE
          GOTO      PRFLD990
.
.------ format the patients age ------
.
PRFLD040  MOVE      PSAGE,VARIABLE
          MOVE      THREE,PRNTSTRT
          SUB       IBDTPLEN,PRNTSTRT
          GOTO      PRFLD991
.
.------ format the U/R number ------
.
PRFLD050  MOVE      EMVIURNO,VARIABLE
          MOVE      EIGHT,PRNTSTRT
          SUB       IBDTPLEN,PRNTSTRT
          GOTO      PRFLD991
.
.------ format the case notes indicator ------
.
PRFLD060  MOVE      SP1,ANS
          LOAD      ANS,PCASE,CCNOTES
          MOVE      ANS,VARIABLE
          GOTO      PRFLD990
.
.------ format the patients address line 1 ------
.
PRFLD070  MOVE      PADD1,VARIABLE
          GOTO      PRFLD990
.
.------ format the patients address line 2 ------
.
PRFLD080  MOVE      PADD2,VARIABLE
          GOTO      PRFLD990
.
.------ format the suburb ------
.
PRFLD090  MOVE      PSUBRB,VARIABLE
          GOTO      PRFLD990
.
.------ format the post code ------
.
PRFLD100  MOVE      PPOST,VARIABLE
          GOTO      PRFLD990
.
.------ format the private telephone number ------
.
PRFLD110  MOVE      PTELEP,VARIABLE
          GOTO      PRFLD990
.
.------ format the patient medicare number ------
.
PRFLD120 MOVE      PMEDI,VARIABLE
         GOTO      PRFLD990
.
.------ format the local doctor ------
.
PRFLD130  MOVE      PLOCDOC,VARIABLE
          GOTO      PRFLD990
.
.------ format the patients occupation ------
.
PRFLD140  MOVE      POCCUP,VARIABLE
          GOTO      PRFLD990
.
.------ format the patients sex ------
.
PRFLD150  MOVE      PSEX,VARIABLE
          GOTO      PRFLD990
.
.------ format the patients birth date ------
.
PRFLD160  UNPACK    PBDATE,CCENT,CYEAR,CMON,CDAY
          CALL      PACDATE
          IF        IBDTPLEN=8
            MOVE      CPDATE,VARIABLE                     
          ELSE
            MOVE      CPCDATE,VARIABLE
          ENDIF
          GOTO      PRFLD990
.
.------ format the highlight code no 1 (HDP Eq.) ------
.
PRFLD170  MOVE      SP4,HIGH14
          MATCH     SP3,PHIGH1
          GOTO      PRFLD175 IF EQUAL
.
          PACK      KEY5 WITH CODEH1,PHIGH1
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PRFLD175
.
          MOVE      THCSCOD,HIGH14
.
PRFLD175  MOVE      HIGH14,VARIABLE
          GOTO      PRFLD990
.
.------ format the highlight code no 2 (HDP Eq.) ------
.
PRFLD180  MOVE      SP4,HIGH24
          MATCH     SP3,PHIGH2
          GOTO      PRFLD185 IF EQUAL
.
          PACK      KEY5 WITH CODEH2,PHIGH2
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PRFLD185
.
          MOVE      THCSCOD,HIGH24
.
PRFLD185  MOVE      HIGH24,VARIABLE
          GOTO      PRFLD990
.
.------ format the highlight code no 3 (HDP Eq.) ------
.
PRFLD190  MOVE      SP4,HIGH34
          MATCH     SP3,PHIGH3
          GOTO      PRFLD195 IF EQUAL
.
          PACK      KEY5 WITH CODEH3,PHIGH3
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PRFLD195
.
          MOVE      THCSCOD,HIGH34
.
PRFLD195  MOVE      HIGH34,VARIABLE
          GOTO      PRFLD990
.
.------ format the number of years resident ------
.
PRFLD200  MOVE      PYRRES,VARIABLE
          MOVE      TWO,PRNTSTRT
          SUB       IBDTPLEN,PRNTSTRT
          GOTO      PRFLD991
.
.------ format the health fund ------
.
PRFLD210  MOVE      PFUNDH,VARIABLE
          GOTO      PRFLD990
.
.------ format health fund table ------
.
PRFLD220  MOVE      PFNDTB,VARIABLE
          GOTO      PRFLD990
.
.------ format fund membership number ------
.
PRFLD230  MOVE      PFNDMM,VARIABLE
          GOTO      PRFLD990
.
.------ format repat. number ------
.
PRFLD240  MOVE      THREE,DIM1
          CALL      GCCARD00
          MOVE      PMCDCNUM,VARIABLE
          GOTO      PRFLD990
.
.------ format the highlight code no 1 -------
.
PRFLD250  MOVE      PHIGH1,VARIABLE
          GOTO      PRFLD990
.
.------ format the highlight code no 1 description -------
.
PRFLD260  MOVE      SP20,DANS1
          MATCH     SP3,PHIGH1
          GOTO      PRFLD265 IF EQUAL
.
          PACK      KEY5,CODEH1,PHIGH1
          CALL      RDCODE1
          BRANCH    OVRCD,PRFLD265
          MOVE      TDESC,DANS1
.
PRFLD265  MOVE      DANS1,VARIABLE
          GOTO      PRFLD990
.
.------ format the highlight code no 2 -------
.
PRFLD270  MOVE      PHIGH2,VARIABLE
          GOTO      PRFLD990
.
.------ format the highlight code no 2 description -------
.
PRFLD280  MOVE      SP20,DANS1
          MATCH     SP3,PHIGH2
          GOTO      PRFLD285 IF EQUAL
.
          PACK      KEY5,CODEH2,PHIGH2
          CALL      RDCODE1
          BRANCH    OVRCD,PRFLD285
          MOVE      TDESC,DANS1
.
PRFLD285  MOVE      DANS1,VARIABLE
          GOTO      PRFLD990
.
.------ format the highlight code no 3 -------
.
PRFLD290  MOVE      PHIGH3,VARIABLE
          GOTO      PRFLD990
.
.------ format the highlight code no 3 description -------
.
PRFLD300  MOVE      SP20,DANS1
          MATCH     SP3,PHIGH3
          GOTO      PRFLD305 IF EQUAL
.
          PACK      KEY5,CODEH3,PHIGH3
          CALL      RDCODE1
          BRANCH    OVRCD,PRFLD305
          MOVE      TDESC,DANS1
.
PRFLD305  MOVE      DANS1,VARIABLE
          GOTO      PRFLD990
.
.------ format the person financially responsible name ------
.
PRFLD310  PACK      PKNAME,SP70,SP20
          MOVE      EMVIADMN,KEY8
          CALL      RDRESP1
.
          MATCH     "1",PTCNDEES
          GOTO      PRFLD315 IF NOT EQUAL
.
          CMATCH    "$",PKNAME
          IF        @EQUAL
            STRIP     PTCNDDES
            MOVE      PTCNDDES,KEY80
            UNPACK    PKNAME,DIM2,KEY78
            PACK      KEY80,KEY80,SP1,KEY78,SP70
            MOVE      KEY80,VARIABLE
            GOTO      PRFLD990
          ENDIF
.
PRFLD315  MOVE      PKNAME,VARIABLE
          GOTO      PRFLD990
.
.------ format the person financially responsible address line 1 ------
.
PRFLD320  MOVE      SP30,PKADD1
          MOVE      EMVIADMN,KEY8
          CALL      RDRESP1               * read responsible for account file
          MOVE      PKADD1,VARIABLE
          GOTO      PRFLD990
.
.------ format the person financially responsible address line 2 ------
.
PRFLD330  MOVE      SP30,PKADD2
          MOVE      EMVIADMN,KEY8
          CALL      RDRESP1               * read responsible for account file
          MOVE      PKADD2,VARIABLE
          GOTO      PRFLD990
.
.------ format the person financially responsible suburb ------
.
PRFLD340  MOVE      SP20,PKSUBR
          MOVE      EMVIADMN,KEY8
          CALL      RDRESP1               * read responsible for account file
          MOVE      PKSUBR,VARIABLE
          GOTO      PRFLD990
.
.------ format the person financially responsible post code ------
.
PRFLD350  MOVE      SP4,PKPOST
          MOVE      EMVIADMN,KEY8
          CALL      RDRESP1               * read responsible for account file
          MOVE      PKPOST,VARIABLE
          GOTO      PRFLD990
.
.------ format employers address line 1 ------
.
PRFLD360  PACK      WCEADD1,SP20,SP10
          MOVE      EMVIADMN,KEY8
          OPEN      PATWC1A1,"patwc1af"
          CALL      RDWCOM1
          IF        OVRCD = 0
            OPEN      PMSWX1A1,"pmswx1af"
            MOVE      EMVIADMN,KEY8
            CALL      RDPMWX11
            IF        OVRCD = 0
              MATCH     "3",PMWXCSTA      * Cancelled
              IF        @EQUAL
                CLOSE     PMSWX1A1
                CLOSE     PATWC1A1
                GOTO      PRFLD990
              ENDIF
            ENDIF
            CLOSE     PMSWX1A1
          ENDIF
.
          CLOSE     PATWC1A1
          MOVE      WCEADD1,VARIABLE
          GOTO      PRFLD990
.
.------ format employers address line 2 ------
.
PRFLD370  PACK      WCEADD2,SP20,SP10
          MOVE      EMVIADMN,KEY8
          OPEN      PATWC1A1,"patwc1af"
          CALL      RDWCOM1
          IF        OVRCD = 0
            OPEN      PMSWX1A1,"pmswx1af"
            MOVE      EMVIADMN,KEY8
            CALL      RDPMWX11
            IF        OVRCD = 0
              MATCH     "3",PMWXCSTA      * Cancelled
              IF        @EQUAL
                CLOSE     PMSWX1A1
                CLOSE     PATWC1A1
                GOTO      PRFLD990
              ENDIF
            ENDIF
            CLOSE     PMSWX1A1
          ENDIF
.
          CLOSE     PATWC1A1
          MOVE      WCEADD2,VARIABLE
          GOTO      PRFLD990
.
.------ format employers address line 3 ------
.
PRFLD380  PACK      WCEADD3,SP20,SP10
          MOVE      EMVIADMN,KEY8
          OPEN      PATWC1A1,"patwc1af"
          CALL      RDWCOM1
          IF        OVRCD = 0
            OPEN      PMSWX1A1,"pmswx1af"
            MOVE      EMVIADMN,KEY8
            CALL      RDPMWX11
            IF        OVRCD = 0
              MATCH     "3",PMWXCSTA      * Cancelled
              IF        @EQUAL
                CLOSE     PMSWX1A1
                CLOSE     PATWC1A1
                GOTO      PRFLD990
              ENDIF
            ENDIF
            CLOSE     PMSWX1A1
          ENDIF
.
          CLOSE     PATWC1A1
          MOVE      WCEADD3,VARIABLE
          GOTO      PRFLD990
.
.------ format employers postcode ------
.
PRFLD390  MOVE      SP10,WCEPOST
          MOVE      EMVIADMN,KEY8
          OPEN      PATWC1A1,"patwc1af"
          CALL      RDWCOM1
          IF        OVRCD = 0
            OPEN      PMSWX1A1,"pmswx1af"
            MOVE      EMVIADMN,KEY8
            CALL      RDPMWX11
            IF        OVRCD = 0
              MATCH     "3",PMWXCSTA      * Cancelled
              IF        @EQUAL
                CLOSE     PMSWX1A1
                CLOSE     PATWC1A1
                GOTO      PRFLD990
              ENDIF
            ENDIF
            CLOSE     PMSWX1A1
          ENDIF
.
          CLOSE     PATWC1A1
          MOVE      WCEPOST,VARIABLE
          GOTO      PRFLD990
.
.------ format employers telephone ------
.
PRFLD400  MOVE      SP20,WCETELE
          MOVE      EMVIADMN,KEY8
          OPEN      PATWC1A1,"patwc1af"
          CALL      RDWCOM1
          IF        OVRCD = 0
            OPEN      PMSWX1A1,"pmswx1af"
            MOVE      EMVIADMN,KEY8
            CALL      RDPMWX11
            IF        OVRCD = 0
              MATCH     "3",PMWXCSTA      * Cancelled
              IF        @EQUAL
                CLOSE     PMSWX1A1
                CLOSE     PATWC1A1
                GOTO      PRFLD990
              ENDIF
            ENDIF
            CLOSE     PMSWX1A1
          ENDIF
.
          CLOSE     PATWC1A1
          MOVE      WCETELE,VARIABLE
          GOTO      PRFLD990
.
.------ format workcare claim number ------
.
PRFLD410  MOVE      SP20,WCCLMNO
          MOVE      EMVIADMN,KEY8
          OPEN      PATWC1A1,"patwc1af"
          CALL      RDWCOM1
          IF        OVRCD = 0
            OPEN      PMSWX1A1,"pmswx1af"
            MOVE      EMVIADMN,KEY8
            CALL      RDPMWX11
            IF        OVRCD = 0
              MATCH     "3",PMWXCSTA      * Cancelled
              IF        @EQUAL
                CLOSE     PMSWX1A1
                CLOSE     PATWC1A1
                GOTO      PRFLD990
              ENDIF
            ENDIF
            CLOSE     PMSWX1A1
          ENDIF
.
          CLOSE     PATWC1A1
          MOVE      WCCLMNO,VARIABLE
          GOTO      PRFLD990
.
.------ format M.A.B. Reference number ------
.
PRFLD420  MOVE      SP20,MREFNO
          MOVE      EMVIADMN,KEY8
          OPEN      PATWMAB1,"patwmabf"
          CALL      RDWMAB1
          CLOSE     PATWMAB1
          MOVE      MREFNO,VARIABLE
          GOTO      PRFLD990
.
.------ format date of accident ------
.
PRFLD430  MOVE      SP10,MACDAT
          MOVE      EMVIADMN,KEY8
          OPEN      PATWMAB1,"patwmabf"
          CALL      RDWMAB1
          CLOSE     PATWMAB1
          MATCH     SP8,MACDAT
          GOTO      PRFLD990 IF EQUAL
.
          UNPACK    MACDAT,CCENT,CYEAR,CMON,CDAY
          CALL      PACDATE
          IF        IBDTPLEN=8
            MOVE      CPDATE,VARIABLE
          ELSE
            MOVE      CPCDATE,VARIABLE
          ENDIF
          GOTO      PRFLD990
.
.------ format registration number of vehicle ------
.
PRFLD440  PACK      MCREGO,SP20,SP20
          MOVE      EMVIADMN,KEY8
          OPEN      PATWMAB1,"patwmabf"
          CALL      RDWMAB1
          CLOSE     PATWMAB1
          MOVE      MCREGO,VARIABLE
          GOTO      PRFLD990
.
.------ format accident location ------
.
PRFLD450  PACK      MACLOC,SP20,SP20
          MOVE      EMVIADMN,KEY8
          OPEN      PATWMAB1,"patwmabf"
          CALL      RDWMAB1
          CLOSE     PATWMAB1
          MOVE      MACLOC,VARIABLE
          GOTO      PRFLD990
.
.------- format veteran claim number ------
.
PRFLD460  MOVE      SP20,VCLMNO
          MOVE      EMVIADMN,KEY8
          OPEN      PATWVET1,"patwvetf"
          CALL      RDWVET1
          CLOSE     PATWVET1
          MOVE      VCLMNO,VARIABLE
          GOTO      PRFLD990
.
.------- format patient visit number ------
.
PRFLD470  MOVE      EMVIADMN,VARIABLE
          MOVE      EIGHT,PRNTSTRT
          SUB       IBDTPLEN,PRNTSTRT
          GOTO      PRFLD990
.
.------- format  patient visit status------
.
PRFLD480  LOAD      VARIABLE,EMVISTAT,CURRENT,INCOMPLE,COMPLETE,CANCLLED
          GOTO      PRFLD990
.
.------- format patient arrival date ------
.
PRFLD490  UNPACK    EMVIDATE,CCENT,CYEAR,CMON,CDAY
          PACK      VARIABLE,CDAY,SLASH,CMON,SLASH,CCENT,CYEAR
          GOTO      PRFLD990
.
.------- format patient arrival time------
.
PRFLD500  MOVE      EMVITIME,VARIABLE
          GOTO      PRFLD990
.
.------ format triage code ------
.
PRFLD510  MOVE      EMVITRIG,VARIABLE
          GOTO      PRFLD990
.
.------ format the complaint Line 1 ------
.
PRFLD520  MOVE      EMVICOM1,VARIABLE
          GOTO      PRFLD990
.
.------ format the complaint Line 2 ------
.
PRFLD530  MOVE      EMVICOM2,VARIABLE
          GOTO      PRFLD990
.
.------- format Location  ------
.
PRFLD540  MOVE      EMVILOCN,VARIABLE 
          GOTO      PRFLD990
.
.------- format Attending Doctor ------
.
PRFLD550  PACK      VARIABLE,SP30,SP30,SP30,SP30,SP7
          MATCH     SP6,EMVIDOCT
          GOTO      PRFLD990 IF EQUAL
.
          PACK      KEY6,EMVIDOCT,SP10
.                                           * read "patdo1af" Doctors file
          CALL      DOCNAM00                * gets DTITL DGNAME DSNAME & DFNAME
          MOVE      DFNAME,VARIABLE
.
          GOTO      PRFLD990
.
.------- format Compensation Code ------
.
PRFLD560  MOVE      EMVICOMP,VARIABLE
          GOTO      PRFLD990
.
.------- format Patient Classification  ------
.
PRFLD570  MOVE      EMVICLAS,VARIABLE
          GOTO      PRFLD990
.
.------- format Insurance Status  ------
.
PRFLD580  MOVE      EMVIINSR,VARIABLE
          GOTO      PRFLD990
.
.------- format Source of Referral ------
.
PRFLD590  MOVE      EMVISRCE,VARIABLE
          GOTO      PRFLD990
.
.------- format Situation  ------
.
PRFLD600  MOVE      EMVISITN,VARIABLE 
          GOTO      PRFLD990
.
.------ format the mode of arrival description ------
.
PRFLD610  MOVE      EMVIMODE,VARIABLE
          GOTO      PRFLD990
.
.------- format admitted to hospital ------
.
PRFLD620  MOVE      EMVIADMT,VARIABLE
          GOTO      PRFLD990
.
.------- format Duration of Waiting ------
.
PRFLD630  MOVE      EMVIDURN,VARIABLE
          GOTO      PRFLD990
.
.------- format Employer (Workcare) description ------
.
PRFLD640  MOVE      EMVIEMPL,VARIABLE
          GOTO      PRFLD990
.
.------- format Completion Wait Code  ------
.
PRFLD650  MOVE      EMVIWAIT,VARIABLE
          GOTO      PRFLD990
.
.------- format Previous A&E Attedndance ------
.
PRFLD660  MOVE      EMVIPREV,VARIABLE
          GOTO      PRFLD990
.
.------- format Referring GP  ------
.
PRFLD670  MOVE      EMVIREFG,VARIABLE
          GOTO      PRFLD990
.
.------- format Place of Incident  ------
.
PRFLD680  MOVE      EMVIPLIN,VARIABLE
          GOTO      PRFLD990
.
.------- format Initiator  ------
.
PRFLD690  MOVE      EMVIINIT,VARIABLE
          GOTO      PRFLD990
.
.------- format RTA Seatbelt Details  ------
.
PRFLD700  MOVE      EMVIRTAS,VARIABLE 
          GOTO      PRFLD990
.
.------- format Discharge Date (CCYYMMDD) ------
.
PRFLD710  UNPACK    EMVIDDAT,CCENT,CYEAR,CMON,CDAY
          PACK      VARIABLE,CDAY,SLASH,CMON,SLASH,CCENT,CYEAR
          GOTO      PRFLD990
.
.------- format Discharge Time (hh:mm:ss) ------
.
PRFLD720  MOVE      EMVIDTIM,VARIABLE
          GOTO      PRFLD990
.
.------- format Discharge Status  ------
.
PRFLD730  MOVE      EMVIDSTA,VARIABLE
          GOTO      PRFLD990
.
.------- format Operator who created event ------
.
PRFLD740  MOVE      EMVIOPR1,VARIABLE  
          GOTO      PRFLD990
.
.------- format Operator who discharged patient ------
.
PRFLD750  MOVE      EMVIOPR2,VARIABLE
          GOTO      PRFLD990
.
.------- format User Defined Code 1  ------
.
PRFLD760  MOVE      EMVIUC01,VARIABLE
          GOTO      PRFLD990
.
.------- format User Defined Code 2  ------
.
PRFLD770  MOVE      EMVIUC02,VARIABLE
          GOTO      PRFLD990
.
.------- format User Defined Code 3  ------
.
PRFLD780  MOVE      EMVIUC03,VARIABLE
          GOTO      PRFLD990
.
.------- format User Defined Code 4 ------
.
PRFLD790  MOVE      EMVIUC04,VARIABLE
          GOTO      PRFLD990
.
.------- format User Defined Code 5  ------
.
PRFLD800  MOVE      EMVIUC05,VARIABLE
          GOTO      PRFLD990
.
.------- format User Defined Code 6  ------
.
PRFLD810  MOVE      EMVIUC06,VARIABLE
          GOTO      PRFLD990
.
.------- format User Defined Code 7 ------
.
PRFLD820  MOVE      EMVIUC07,VARIABLE
          GOTO      PRFLD990
.
.------- format User Defined Code 8 ------
.
PRFLD830  MOVE      EMVIUC08,VARIABLE
          GOTO      PRFLD990
.
.------- format User Defined Code 9 ------
.
PRFLD840  MOVE      EMVIUC09,VARIABLE
          GOTO      PRFLD990
.
.------- format User Defined Code 10  ------
.
PRFLD850  MOVE      EMVIUC10,VARIABLE
          GOTO      PRFLD990
.
.------- format User Defined Code 11 ------
.
PRFLD860  MOVE      EMVIUC11,VARIABLE
          GOTO      PRFLD990
.
.------- format User Defined Code 12  ------
.
PRFLD870  MOVE      EMVIUC12,VARIABLE
          GOTO      PRFLD990
.
.------- format User Defined Code 13  ------
.
PRFLD880  MOVE      EMVIUC13,VARIABLE
          GOTO      PRFLD990
.
.------- format User Defined Code 14 ------
.
PRFLD890  MOVE      EMVIUC14,VARIABLE
          GOTO      PRFLD990
.
.------- Routine for variables 90 - 178 ------
.
PRFLD900  CALL      PROFL000                * Process data fields (90 - 178)  
.
PRFLD990  MOVE      ZERO,EXIT
          GOTO      PRFLD999
.
PRFLD991  MOVE      ONE,EXIT
PRFLD999  RETURN
.------------------------------------------------------------
.   Process data fields (90 - 178)  
.------------------------------------------------------------
PROFL000  SUB       "89",FORM5
          BRANCH    FORM5,PROFL010,PROFL020,PROFL030,PROFL040,PROFL050: * 90
                          PROFL060,PROFL070,PROFL080,PROFL090,PROFL100: * 95
                          PROFL110,PROFL120,PROFL130,PROFL140,PROFL150: * 100
                          PROFL160,PROFL170,PROFL180,PROFL190,PROFL200: * 105
                          PROFL210,PROFL220,PROFL230,PROFL240,PROFL250: * 110
                          PROFL260,PROFL270,PROFL280,PROFL290,PROFL300: * 115
                          PROFL310,PROFL320,PROFL330,PROFL340,PROFL350: * 120
                          PROFL360,PROFL370,PROFL380,PROFL390,PROFL400: * 125
                          PROFL410,PROFL420,PROFL430,PROFL440,PROFL450: * 130
                          PROFL460,PROFL470,PROFL480,PROFL490,PROFL500: * 135
                          PROFL510,PROFL520,PROFL530,PROFL540,PROFL550: * 140
                          PROFL560,PROFL570,PROFL580,PROFL590,PROFL600: * 145
                          PROFL610,PROFL620,PROFL630,PROFL640,PROFL650: * 150
                          PROFL660,PROFL670,PROFL680,PROFL690,PROFL700: * 155
                          PROFL710,PROFL720,PROFL730,PROFL740,PROFL750: * 160
                          PROFL760,PROFL770,PROFL780,PROFL790,PROFL800: * 165
                          PROFL810,PROFL820,PROFL830,PROFL840,PROFL850: * 170
                          PROFL860,PROFL870,PROFL880,PROFL890           * 175
          GOTO      PROFL900
.
.------- format User Defined Code 15 ------
.
PROFL010  MOVE      EMVIUC15,VARIABLE
          GOTO      PROFL999
.
.------- format User Defined Code 16 ------
.
PROFL020  MOVE      EMVIUC16,VARIABLE
          GOTO      PROFL999
.
.------- format User Defined Code 17 ------
.
PROFL030  MOVE      EMVIUC17,VARIABLE
          GOTO      PROFL999
.
.------- format User Defined Code 18 ------
.
PROFL040  MOVE      EMVIUC18,VARIABLE
          GOTO      PROFL999
.
.------- format User Defined Code 19 ------
.
PROFL050  MOVE      EMVIUC19,VARIABLE
          GOTO      PROFL999
.
.------- format User Defined Code 20 ------
.
PROFL060  MOVE      EMVIUC20,VARIABLE
          GOTO      PROFL999
.
.------- format User Defined Code 21 ------
.
PROFL070  MOVE      EMVIUC21,VARIABLE
          GOTO      PROFL999
.
.------- format User Defined Code 22 ------
.
PROFL080  MOVE      EMVIUC22,VARIABLE
          GOTO      PROFL999
.
.------- format User Defined Code 23 ------
.
PROFL090  MOVE      EMVIUC23,VARIABLE
          GOTO      PROFL999
.
.------- format User Defined Code 24  ------
.
PROFL100  MOVE      EMVIUC24,VARIABLE
          GOTO      PROFL999
.
.------- format User Defined Code 25 ------
.
PROFL110  MOVE      EMVIUC25,VARIABLE
          GOTO      PROFL999
.
.------- format User Defined Code 26  ------
.
PROFL120  MOVE      EMVIUC26,VARIABLE
          GOTO      PROFL999
.
.------- format User Defined Code 27 ------
.
PROFL130  MOVE      EMVIUC27,VARIABLE
          GOTO      PROFL999
.
.------- format User Defined Code 28 ------
.
PROFL140  MOVE      EMVIUC28,VARIABLE
          GOTO      PROFL999
.
.------- format User Defined Code 29 ------
.
PROFL150  MOVE      EMVIUC29,VARIABLE
          GOTO      PROFL999
.
.------- format User Defined Code 30  ------
.
PROFL160  MOVE      EMVIUC30,VARIABLE
          GOTO      PROFL999
.
.------- format User Defined Date 1 (CCYYMMDD) ------
.
PROFL170  UNPACK    EMVIUD01,CCENT,CYEAR,CMON,CDAY
          PACK      VARIABLE,CDAY,SLASH,CMON,SLASH,CCENT,CYEAR
          GOTO      PROFL999
.
.------- format User Defined Date 2 (CCYYMMDD) ------
.
PROFL180  UNPACK    EMVIUD02,CCENT,CYEAR,CMON,CDAY
          PACK      VARIABLE,CDAY,SLASH,CMON,SLASH,CCENT,CYEAR
          GOTO      PROFL999
.
.------- format User Defined Date 3 (CCYYMMDD) ------
.
PROFL190  UNPACK    EMVIUD03,CCENT,CYEAR,CMON,CDAY
          PACK      VARIABLE,CDAY,SLASH,CMON,SLASH,CCENT,CYEAR
          GOTO      PROFL999
.
.------- format User Defined Date 4 (CCYYMMDD) ------
.
PROFL200  UNPACK    EMVIUD04,CCENT,CYEAR,CMON,CDAY
          PACK      VARIABLE,CDAY,SLASH,CMON,SLASH,CCENT,CYEAR
          GOTO      PROFL999
.
.------- format User Defined Date 5 (CCYYMMDD) ------
.
PROFL210  UNPACK    EMVIUD05,CCENT,CYEAR,CMON,CDAY
          PACK      VARIABLE,CDAY,SLASH,CMON,SLASH,CCENT,CYEAR
          GOTO      PROFL999
.
.------- format User Defined Date 6 (CCYYMMDD) ------
.
PROFL220  UNPACK    EMVIUD06,CCENT,CYEAR,CMON,CDAY
          PACK      VARIABLE,CDAY,SLASH,CMON,SLASH,CCENT,CYEAR
          GOTO      PROFL999
.
.------- format User Defined Date 7 (CCYYMMDD) ------
.
PROFL230  UNPACK    EMVIUD07,CCENT,CYEAR,CMON,CDAY
          PACK      VARIABLE,CDAY,SLASH,CMON,SLASH,CCENT,CYEAR
          GOTO      PROFL999
.
.------- format User Defined Date 8 (CCYYMMDD) ------
.
PROFL240  UNPACK    EMVIUD08,CCENT,CYEAR,CMON,CDAY
          PACK      VARIABLE,CDAY,SLASH,CMON,SLASH,CCENT,CYEAR
          GOTO      PROFL999
.
.------- format User Defined Date 9 (CCYYMMDD) ------
.
PROFL250  UNPACK    EMVIUD09,CCENT,CYEAR,CMON,CDAY
          PACK      VARIABLE,CDAY,SLASH,CMON,SLASH,CCENT,CYEAR
          GOTO      PROFL999
.
.------- format User Defined Date 10 (CCYYMMDD) ------
.
PROFL260  UNPACK    EMVIUD10,CCENT,CYEAR,CMON,CDAY
          PACK      VARIABLE,CDAY,SLASH,CMON,SLASH,CCENT,CYEAR
          GOTO      PROFL999
.
.------- format User Defined Time 1 (hh:mm:ss) ------
.
PROFL270  MOVE      EMVIUT01,VARIABLE 
          GOTO      PROFL999
.
.------- format User Defined Time 2 (hh:mm:ss) ------
.
PROFL280  MOVE      EMVIUT02,VARIABLE 
          GOTO      PROFL999
.
.------- format User Defined Time 3 (hh:mm:ss) ------
.
PROFL290  MOVE      EMVIUT03,VARIABLE
          GOTO      PROFL999
.
.------- format User Defined Time 4 (hh:mm:ss) ------
.
PROFL300  MOVE      EMVIUT04,VARIABLE
          GOTO      PROFL999
.
.------- format User Defined Time 5 (hh:mm:ss) ------
.
PROFL310  MOVE      EMVIUT05,VARIABLE
          GOTO      PROFL999
.
.------- format User Defined Time 6 (hh:mm:ss) ------
.
PROFL320  MOVE      EMVIUT06,VARIABLE
          GOTO      PROFL999
.
.------- format User Defined Time 7 (hh:mm:ss) ------
.
PROFL330  MOVE      EMVIUT07,VARIABLE
          GOTO      PROFL999
.
.------- format User Defined Time 8 (hh:mm:ss) ------
.
PROFL340  MOVE      EMVIUT08,VARIABLE
          GOTO      PROFL999
.
.------- format User Defined Time 9 (hh:mm:ss) ------
.
PROFL350  MOVE      EMVIUT09,VARIABLE
          GOTO      PROFL999
.
.------- format User Defined Time 10 (hh:mm:ss) ------
.
PROFL360  MOVE      EMVIUT10,VARIABLE
          GOTO      PROFL999
.
.------- format User Defined Y/N Field 1 ------
.
PROFL370  COMPARE EMVIYN01,ONE       
          IF      @EQUAL
            MOVE      YES,VARIABLE
          ELSE
            MOVE      NO,VARIABLE
          ENDIF
          GOTO      PROFL999
.
.------- format User Defined Y/N Field 2 ------
.
PROFL380  COMPARE   EMVIYN02,ONE
          IF        @EQUAL 
            MOVE      YES,VARIABLE
          ELSE
            MOVE      NO,VARIABLE
          ENDIF
          GOTO      PROFL999
.
.------- format User Defined Y/N Field 3 ------
.
PROFL390  COMPARE   EMVIYN03,ONE
          IF        @EQUAL 
            MOVE      YES,VARIABLE
          ELSE
            MOVE      NO,VARIABLE
          ENDIF
          GOTO      PROFL999
.
.------- format User Defined Y/N Field 4 ------
.
PROFL400  COMPARE   EMVIYN04,ONE
          IF        @EQUAL 
            MOVE      YES,VARIABLE
          ELSE
            MOVE      NO,VARIABLE
          ENDIF
          GOTO      PROFL999
.
.------- format User Defined Y/N Field 5 ------
.
PROFL410  COMPARE   EMVIYN05,ONE
          IF        @EQUAL 
            MOVE      YES,VARIABLE
          ELSE
            MOVE      NO,VARIABLE
          ENDIF
          GOTO      PROFL999
.
.------- format User Defined Y/N Field 6 ------
.
PROFL420  COMPARE   EMVIYN06,ONE
          IF        @EQUAL 
            MOVE      YES,VARIABLE
          ELSE
            MOVE      NO,VARIABLE
          ENDIF
          GOTO      PROFL999
.
.------- format User Defined Y/N Field 7 ------
.
PROFL430  COMPARE   EMVIYN07,ONE
          IF        @EQUAL 
            MOVE      YES,VARIABLE
          ELSE
            MOVE      NO,VARIABLE
          ENDIF
          GOTO      PROFL999
.
.------- format User Defined Y/N Field 8 ------
.
PROFL440  COMPARE   EMVIYN08,ONE
          IF        @EQUAL 
            MOVE      YES,VARIABLE
          ELSE
            MOVE      NO,VARIABLE
          ENDIF
          GOTO      PROFL999
.
.------- format User Defined Y/N Field 9 ------
.
PROFL450  COMPARE   EMVIYN09,ONE
          IF        @EQUAL 
            MOVE      YES,VARIABLE
          ELSE
            MOVE      NO,VARIABLE
          ENDIF
          GOTO      PROFL999
.
.------- format User Defined Y/N Field 10 ------
.
PROFL460  COMPARE   EMVIYN10,ONE
          IF        @EQUAL 
            MOVE      YES,VARIABLE
          ELSE
            MOVE      NO,VARIABLE
          ENDIF
          GOTO      PROFL999
.
.------- format User Defined Text Field 1 ------
.
PROFL470  MOVE      EMVITXT1,VARIABLE
          GOTO      PROFL999
.
.------- format User Defined Text Field 2 ------
.
PROFL480  MOVE      EMVITXT2,VARIABLE
          GOTO      PROFL999
.
.------- format User Defined Text Field 3 ------
.
PROFL490  MOVE      EMVITXT3,VARIABLE
          GOTO      PROFL999
.
.------- format User Defined Text Field 4 ------
.
PROFL500  MOVE      EMVITXT4,VARIABLE
          GOTO      PROFL999
.
.------- format User Defined Text Field 5 ------
.
PROFL510  MOVE      EMVITXT5,VARIABLE
          GOTO      PROFL999
.
.------- format User Defined numeric Field 1 ------
.
PROFL520  MOVE      EMVIUN01,VARIABLE
          GOTO      PROFL999
.
.------- format User Defined numeric Field 2 ------
.
PROFL530  MOVE      EMVIUN02,VARIABLE
          GOTO      PROFL999
.
.------- format User Defined numeric Field 3 ------
.
PROFL540  MOVE      EMVIUN03,VARIABLE
          GOTO      PROFL999
.
.------- format User Defined numeric Field 4 ------
.
PROFL550  MOVE      EMVIUN04,VARIABLE
          GOTO      PROFL999
.
.------- format User Defined numeric Field 5 ------
.
PROFL560  MOVE      EMVIUN04,VARIABLE
          GOTO      PROFL999
.
.------- format Elapsed time since accident ------
.
PROFL570  MOVE      EMVIELAP,VARIABLE 
          GOTO      PROFL999
.
.------- format Date first seen by nurse ------
.
PROFL580  UNPACK    EMVINSDT,CCENT,CYEAR,CMON,CDAY
          PACK      VARIABLE,CDAY,SLASH,CMON,SLASH,CCENT,CYEAR
          GOTO      PROFL999
.
.------- format Time fist seen by nurse ------
.
PROFL590  MOVE      EMVINSTM,VARIABLE
          GOTO      PROFL999
.
.------- format Date first seen by doctor ------
.
PROFL600  UNPACK    EMVIDRDT,CCENT,CYEAR,CMON,CDAY
          PACK      VARIABLE,CDAY,SLASH,CMON,SLASH,CCENT,CYEAR
          GOTO      PROFL999
.
.------- format Time first seen by doctor ------
.
PROFL610  MOVE      EMVIDRTM,VARIABLE
          GOTO      PROFL999
.
.------- format No of previous attendances ------
.
PROFL620  MOVE      EMVIPATT,VARIABLE
          GOTO      PROFL999
.
.------- format Transfer source code  ------
.
PROFL630  MOVE      EMVITSRC,VARIABLE
          GOTO      PROFL999
.
.------- format Discharge Destination Code ------
.
PROFL640  MOVE      EMVIDEST,VARIABLE
          GOTO      PROFL999
.
.------- format Ambulance Case No ------
.
PROFL650  MOVE      EMVIAMBL,VARIABLE
          GOTO      PROFL999
.
.------- format Body Region ------
.
PROFL660  MOVE      EMVIREGN,VARIABLE
          GOTO      PROFL999
.
.------- format Extract Sent ------
.
PROFL670  MOVE      EMVISENT,VARIABLE
          GOTO      PROFL999
.
.------- format User Defined Doctor Field 1  ------
.
PROFL680  MOVE      EMVIUR01,VARIABLE
          GOTO      PROFL999
.
.------- format User Defined Doctor Field 2  ------
.
PROFL690  MOVE      EMVIUR02,VARIABLE
          GOTO      PROFL999
.
.------- format User Defined Doctor Field 3  ------
.
PROFL700  MOVE      EMVIUR03,VARIABLE
          GOTO      PROFL999
.
.------- format User Defined Doctor Field 4  ------
.
PROFL710  MOVE      EMVIUR04,VARIABLE
          GOTO      PROFL999
.
.------- format User Defined Doctor Field 5  ------
.
PROFL720  MOVE      EMVIUR05,VARIABLE
          GOTO      PROFL999
.
.------- format patient system admission number  ------
.
PROFL730  MOVE      EMVIPADM,VARIABLE
          GOTO      PROFL999
.
.------- format Expected Ward (patient sys) ------
.
PROFL740  MOVE      EMVIEWRD,VARIABLE
          GOTO      PROFL999
.
.------- format Expected Bed (patient sys) ------
.
PROFL750  MOVE      EMVIEBED,VARIABLE
          GOTO      PROFL999
.
.------- format Triage Code Description (AA) ------
.
PROFL760  MOVE      SP20,DANS1
          MATCH     SP3,EMVITRIG
          GOTO      PROFL765 IF EQUAL
.
          PACK      KEY5,CODEAA,EMVITRIG
          CALL      RDCODE1
          BRANCH    OVRCD,PROFL765
          MOVE      TDESC,DANS1
.
PROFL765  MOVE      DANS1,VARIABLE
          GOTO      PROFL999
.
.------- format Location Description (ew) ------
.
PROFL770  MOVE      SP20,EMLODESC
          MATCH     SP3,EMVILOCN
          GOTO      PROFL775 IF EQUAL
.
          PACK      KEY3,EMVILOCN,SP70
          CALL      RDEMLOC1
          IF        OVRCD=1
            MOVE      EMVILOCN,EMLODESC
          ENDIF
.
PROFL775  MOVE      EMLODESC,VARIABLE
          GOTO      PROFL999
.
.------- format Compensation Code Description (CL) ------
.
PROFL780  MOVE      SP20,DANS1
          MATCH     SP3,EMVICOMP
          GOTO      PROFL785 IF EQUAL
.
          PACK      KEY5,CODECL,EMVICOMP
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PROFL785
          MOVE      TDESC,DANS1
.
PROFL785  MOVE      DANS1,VARIABLE
          GOTO      PROFL999
.
.------- format Patient Classification Description (A) ------
.
PROFL790  MOVE      SP20,DANS1 
          MATCH     SP3,EMVICLAS
          GOTO      PROFL795 IF EQUAL
.
          PACK      KEY5 WITH CODEA,EMVICLAS
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PROFL795
          MOVE      TDESC,DANS1
.
PROFL795  MOVE      DANS1,VARIABLE
          GOTO      PROFL999
.
.------- format Insurance Status Description (U1) ------
.
PROFL800  MOVE      SP20,DANS1 
          MATCH     SP3,EMVIINSR
          GOTO      PROFL805 IF EQUAL
.
          PACK      KEY5 WITH CODEU1,EMVIINSR
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PROFL805
          MOVE      TDESC,DANS1
.
PROFL805  MOVE      DANS1,VARIABLE
          GOTO      PROFL999
.
.------- format Source of Referral Description (S) ------
.
PROFL810  MOVE      SP20,DANS1
          MATCH     SP3,EMVISRCE
          GOTO      PROFL815 IF EQUAL
.
          PACK      KEY5 WITH CODES,EMVISRCE
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PROFL815
          MOVE      TDESC,DANS1
.
PROFL815  MOVE      DANS1,VARIABLE
          GOTO      PROFL999
.
.------- format Situation Description (ES) ------
.
PROFL820  MOVE      SP20,DANS1
          MATCH     SP3,EMVISITN
          GOTO      PROFL825 IF EQUAL
.
          PACK      KEY5 WITH CODEES,EMVISITN
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PROFL825
          MOVE      TDESC,DANS1
.
PROFL825  MOVE      DANS1,VARIABLE
          GOTO      PROFL999
.
.------- format Mode of Arrival Description (EA) ------
.
PROFL830  MOVE      SP20,DANS1
          MATCH     SP3,EMVIMODE
          GOTO      PROFL835 IF EQUAL
.
          PACK      KEY5 WITH CODEEA,EMVIMODE
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PROFL835
          MOVE      TDESC,DANS1
.
PROFL835  MOVE      DANS1,VARIABLE
          GOTO      PROFL999
.
.------- format Completion Wait Code Description (EW)------
.
PROFL840  MOVE      SP20,DANS1 
          MATCH     SP3,EMVIWAIT
          GOTO      PROFL845 IF EQUAL
.
          PACK      KEY5 WITH CODEEW,EMVIWAIT
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PROFL845
          MOVE      TDESC,DANS1
.
PROFL845  MOVE      DANS1,VARIABLE
          GOTO      PROFL999
.
.------- format Previous A&E Attendance Description (EP) ------
.
PROFL850  MOVE      SP20,DANS1 
          MATCH     SP20,EMVIPREV
          GOTO      PROFL855 IF EQUAL
.
          PACK      KEY5 WITH CODEEP,EMVIPREV
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PROFL855
          MOVE      TDESC,DANS1
.
PROFL855  MOVE      DANS1,VARIABLE
          GOTO      PROFL999
.
.------- format Place of Incident Description (AP) ------
.
PROFL860  MOVE      SP20,DANS1
          MATCH     SP3,EMVIPLIN
          GOTO      PROFL865 IF EQUAL
.
          PACK      KEY5 WITH CODEAP,EMVIPLIN
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PROFL865
.
          MOVE      TDESC,DANS1
.
PROFL865  MOVE      DANS1,VARIABLE
          GOTO      PROFL999
.
.------- format Initiator Description (AI) ------
.
PROFL870  MOVE      SP20,DANS1
          MATCH     SP3,EMVIINIT
          GOTO      PROFL875 IF EQUAL
.
          PACK      KEY5 WITH CODEAI,EMVIINIT
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PROFL875
.
          MOVE      TDESC,DANS1
.
PROFL875  MOVE      DANS1,VARIABLE
          GOTO      PROFL999
.
.------- format RTA Seatbelt Details Description (AR) ------
.
PROFL880  MOVE      SP20,DANS1
          MATCH     SP3,EMVIRTAS
          GOTO      PROFL885 IF EQUAL
.
          PACK      KEY5 WITH CODEAR,EMVIRTAS
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PROFL885
.
          MOVE      TDESC,DANS1
.
PROFL885  MOVE      DANS1,VARIABLE
          GOTO      PROFL999
.
.------- format Discharge Status Description (ED)------
.
PROFL890  MOVE      SP20,DANS1
          MATCH     SP3,EMVIDSTA
          GOTO      PROFL895 IF EQUAL
.
          PACK      KEY5 WITH CODEED,EMVIDSTA
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PROFL895
.
          MOVE      TDESC,DANS1
.
PROFL895  MOVE      DANS1,VARIABLE
          GOTO      PROFL999
.
.------- format process data fields (179 - 267) ------
.
PROFL900  CALL      PRFLS000                * process fields
          GOTO      PROFL999
.
PROFL999  RETURN
.------------------------------------------------------------
.   Process data fields (179 - 267)  
.------------------------------------------------------------
PRFLS000  SUB       "89",FORM5
          BRANCH    FORM5,PRFLS010,PRFLS020,PRFLS030,PRFLS040,PRFLS050: * 179
                          PRFLS060,PRFLS070,PRFLS080,PRFLS090,PRFLS100: * 184
                          PRFLS110,PRFLS120,PRFLS130,PRFLS140,PRFLS150: * 189
                          PRFLS160,PRFLS170,PRFLS180,PRFLS190,PRFLS200: * 194
                          PRFLS210,PRFLS220,PRFLS230,PRFLS240,PRFLS250: * 199
                          PRFLS260,PRFLS270,PRFLS280,PRFLS290,PRFLS300: * 204
                          PRFLS310,PRFLS320,PRFLS330,PRFLS340,PRFLS350: * 209
                          PRFLS360,PRFLS370,PRFLS380,PRFLS390,PRFLS400: * 214
                          PRFLS410,PRFLS420,PRFLS430,PRFLS440,PRFLS450: * 219
                          PRFLS460,PRFLS470,PRFLS480,PRFLS490,PRFLS500: * 224
                          PRFLS510,PRFLS520,PRFLS530,PRFLS540,PRFLS550: * 229
                          PRFLS560,PRFLS570,PRFLS580,PRFLS590,PRFLS600: * 234
                          PRFLS610,PRFLS620,PRFLS630,PRFLS640,PRFLS650: * 239
                          PRFLS660,PRFLS670,PRFLS680,PRFLS690,PRFLS700: * 244
                          PRFLS710,PRFLS720,PRFLS730,PRFLS740,PRFLS750: * 249
                          PRFLS760,PRFLS770,PRFLS780,PRFLS790,PRFLS800: * 254
                          PRFLS810,PRFLS820,PRFLS830,PRFLS840,PRFLS850: * 259
                          PRFLS860,PRFLS870,PRFLS880,PRFLS890           * 264
.
          GOTO      PRFLS900
.
.------- format User Def Code 1 Description (A1)------
.
PRFLS010  MOVE      SP20,DANS1 
          MATCH     SP3,EMVIUC01
          GOTO      PRFLS015 IF EQUAL
.
          PACK      KEY5,CODEA1,EMVIUC01
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PRFLS015
          MOVE      TDESC,DANS1 
.
PRFLS015  MOVE      DANS1,VARIABLE
          GOTO      PRFLS999
.
.------- format User Def Code 2 Description (A2)------
.
PRFLS020  MOVE      SP20,DANS1 
          MATCH     SP3,EMVIUC02
          GOTO      PRFLS025 IF EQUAL
.
          PACK      KEY5,CODEA2,EMVIUC02
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PRFLS025
          MOVE      TDESC,DANS1 
.
PRFLS025  MOVE      DANS1,VARIABLE
          GOTO      PRFLS999
.
.------- format User Def Code 3 Description (A3)------
.
PRFLS030  MOVE      SP20,DANS1 
          MATCH     SP3,EMVIUC03
          GOTO      PRFLS035 IF EQUAL
.
          PACK      KEY5,CODEA3,EMVIUC03
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PRFLS035
          MOVE      TDESC,DANS1 
.
PRFLS035  MOVE      DANS1,VARIABLE
          GOTO      PRFLS999
.
.------- format User Def Code 4 Description (A4)------
.
PRFLS040  MOVE      SP20,DANS1 
          MATCH     SP3,EMVIUC04
          GOTO      PRFLS045 IF EQUAL
.
          PACK      KEY5,CODEA4,EMVIUC04
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PRFLS045
          MOVE      TDESC,DANS1 
.
PRFLS045  MOVE      DANS1,VARIABLE
          GOTO      PRFLS999
.
.------- format User Def Code 5 Description (A5)------
.
PRFLS050  MOVE      SP20,DANS1 
          MATCH     SP3,EMVIUC05
          GOTO      PRFLS055 IF EQUAL
.
          PACK      KEY5,CODEA5,EMVIUC05
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PRFLS055
          MOVE      TDESC,DANS1 
.
PRFLS055  MOVE      DANS1,VARIABLE
          GOTO      PRFLS999
.
.------- format User Def Code 6 Description (A6)------
.
PRFLS060  MOVE      SP20,DANS1 
          MATCH     SP3,EMVIUC06
          GOTO      PRFLS065 IF EQUAL
.
          PACK      KEY5,CODEA6,EMVIUC06
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PRFLS065
          MOVE      TDESC,DANS1 
.
PRFLS065  MOVE      DANS1,VARIABLE
          GOTO      PRFLS999
.
.------- format User Def Code 7 Description (A7)------
.
PRFLS070  MOVE      SP20,DANS1 
          MATCH     SP3,EMVIUC07
          GOTO      PRFLS075 IF EQUAL
.
          PACK      KEY5,CODEA7,EMVIUC07
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PRFLS075
          MOVE      TDESC,DANS1 
.
PRFLS075  MOVE      DANS1,VARIABLE
          GOTO      PRFLS999
.
.------- format User Def Code 8 Description (A8)------
.
PRFLS080  MOVE      SP20,DANS1 
          MATCH     SP3,EMVIUC08
          GOTO      PRFLS085 IF EQUAL
.
          PACK      KEY5,CODEA8,EMVIUC08
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PRFLS085
          MOVE      TDESC,DANS1 
.
PRFLS085  MOVE      DANS1,VARIABLE
          GOTO      PRFLS999
.
.------- format User Def Code 9 Description (ea)------
.
PRFLS090  MOVE      SP20,DANS1 
          MATCH     SP3,EMVIUC09
          GOTO      PRFLS095 IF EQUAL
.
          PACK      KEY5,CATEA,EMVIUC09
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PRFLS095
          MOVE      TDESC,DANS1 
.
PRFLS095  MOVE      DANS1,VARIABLE
          GOTO      PRFLS999
.
.------- format User Def Code 10 Description (eb)------
.
PRFLS100  MOVE      SP20,DANS1 
          MATCH     SP3,EMVIUC10
          GOTO      PRFLS105 IF EQUAL
.
          PACK      KEY5,CATEB,EMVIUC10
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PRFLS105
          MOVE      TDESC,DANS1 
.
PRFLS105  MOVE      DANS1,VARIABLE
          GOTO      PRFLS999
.
.------- format User Def Code 11 Description (ec)------
.
PRFLS110  MOVE      SP20,DANS1 
          MATCH     SP3,EMVIUC11
          GOTO      PRFLS115 IF EQUAL
.
          PACK      KEY5,CATEC,EMVIUC11
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PRFLS115
          MOVE      TDESC,DANS1 
.
PRFLS115  MOVE      DANS1,VARIABLE
          GOTO      PRFLS999
.
.------- format User Def Code 12 Description (ed)------
.
PRFLS120  MOVE      SP20,DANS1 
          MATCH     SP3,EMVIUC12
          GOTO      PRFLS125 IF EQUAL
.
          PACK      KEY5,CATED,EMVIUC12
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PRFLS125
          MOVE      TDESC,DANS1 
.
PRFLS125  MOVE      DANS1,VARIABLE
          GOTO      PRFLS999
.
.------- format User Def Code 13 Description (ee)------
.
PRFLS130  MOVE      SP20,DANS1 
          MATCH     SP3,EMVIUC13
          GOTO      PRFLS135 IF EQUAL
.
          PACK      KEY5,CATEE,EMVIUC13
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PRFLS135
          MOVE      TDESC,DANS1 
.
PRFLS135  MOVE      DANS1,VARIABLE
          GOTO      PRFLS999
.
.------- format User Def Code 14 Description (ef)------
.
PRFLS140  MOVE      SP20,DANS1 
          MATCH     SP3,EMVIUC14
          GOTO      PRFLS145 IF EQUAL
.
          PACK      KEY5,CATEF,EMVIUC14
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PRFLS145
          MOVE      TDESC,DANS1 
.
PRFLS145  MOVE      DANS1,VARIABLE
          GOTO      PRFLS999
.
.------- format User Def Code 15 Description (eg)------
.
PRFLS150  MOVE      SP20,DANS1 
          MATCH     SP3,EMVIUC15
          GOTO      PRFLS155 IF EQUAL
.
          PACK      KEY5,CATEG,EMVIUC15
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PRFLS155
          MOVE      TDESC,DANS1 
.
PRFLS155  MOVE      DANS1,VARIABLE
          GOTO      PRFLS999
.
.------- format User Def Code 16 Description (eh)------
.
PRFLS160  MOVE      SP20,DANS1 
          MATCH     SP3,EMVIUC16
          GOTO      PRFLS165 IF EQUAL
.
          PACK      KEY5,CATEH,EMVIUC16
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PRFLS165
          MOVE      TDESC,DANS1 
.
PRFLS165  MOVE      DANS1,VARIABLE
          GOTO      PRFLS999
.
.------- format User Def Code 17 Description (ei)------
.
PRFLS170  MOVE      SP20,DANS1 
          MATCH     SP3,EMVIUC17
          GOTO      PRFLS175 IF EQUAL
.
          PACK      KEY5,CATEI,EMVIUC17
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PRFLS175
          MOVE      TDESC,DANS1 
.
PRFLS175  MOVE      DANS1,VARIABLE
          GOTO      PRFLS999
.
.------- format User Def Code 18 Description (ej)------
.
PRFLS180  MOVE      SP20,DANS1 
          MATCH     SP3,EMVIUC18
          GOTO      PRFLS185 IF EQUAL
.
          PACK      KEY5,CATEJ,EMVIUC18
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PRFLS185
          MOVE      TDESC,DANS1 
.
PRFLS185  MOVE      DANS1,VARIABLE
          GOTO      PRFLS999
.
.------- format User Def Code 19 Description (ek)------
.
PRFLS190  MOVE      SP20,DANS1 
          MATCH     SP3,EMVIUC19
          GOTO      PRFLS195 IF EQUAL
.
          PACK      KEY5,CATEK,EMVIUC19
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PRFLS195
          MOVE      TDESC,DANS1 
.
PRFLS195  MOVE      DANS1,VARIABLE
          GOTO      PRFLS999
.
.------- format User Def Code 20 Description (el)------
.
PRFLS200  MOVE      SP20,DANS1 
          MATCH     SP3,EMVIUC20
          GOTO      PRFLS205 IF EQUAL
.
          PACK      KEY5,CATEL,EMVIUC20
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PRFLS205
          MOVE      TDESC,DANS1 
.
PRFLS205  MOVE      DANS1,VARIABLE
          GOTO      PRFLS999
.
.------- format User Def Code 21 escription (em)------
.
PRFLS210  MOVE      SP20,DANS1 
          MATCH     SP3,EMVIUC21
          GOTO      PRFLS215 IF EQUAL
.
          PACK      KEY5,CATEM,EMVIUC21
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PRFLS215
          MOVE      TDESC,DANS1 
.
PRFLS215  MOVE      DANS1,VARIABLE
          GOTO      PRFLS999
.
.------- format User Def Code 22 Description (en)------
.
PRFLS220  MOVE      SP20,DANS1 
          MATCH     SP3,EMVIUC22
          GOTO      PRFLS225 IF EQUAL
.
          PACK      KEY5,CATEN,EMVIUC22
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PRFLS225
          MOVE      TDESC,DANS1 
.
PRFLS225  MOVE      DANS1,VARIABLE
          GOTO      PRFLS999
.
.------- format User Def Code 23 Description (eo)------
.
PRFLS230  MOVE      SP20,DANS1 
          MATCH     SP3,EMVIUC23
          GOTO      PRFLS235 IF EQUAL
.
          PACK      KEY5,CATEO,EMVIUC23
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PRFLS235
          MOVE      TDESC,DANS1 
.
PRFLS235  MOVE      DANS1,VARIABLE
          GOTO      PRFLS999
.
.------- format User Def Code 24 Description (ep)------
.
PRFLS240  MOVE      SP20,DANS1 
          MATCH     SP3,EMVIUC24
          GOTO      PRFLS245 IF EQUAL
.
          PACK      KEY5,CATEP,EMVIUC24
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PRFLS245
          MOVE      TDESC,DANS1 
.
PRFLS245  MOVE      DANS1,VARIABLE
          GOTO      PRFLS999
.
.------- format User Def Code 25 Description (eq)------
.
PRFLS250  MOVE      SP20,DANS1 
          MATCH     SP3,EMVIUC25
          GOTO      PRFLS255 IF EQUAL
.
          PACK      KEY5,CATEQ,EMVIUC25
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PRFLS255
          MOVE      TDESC,DANS1 
.
PRFLS255  MOVE      DANS1,VARIABLE
          GOTO      PRFLS999
.
.------- format User Def Code 26 Description (er)------
.
PRFLS260  MOVE      SP20,DANS1 
          MATCH     SP3,EMVIUC26
          GOTO      PRFLS265 IF EQUAL
.
          PACK      KEY5,CATER,EMVIUC26
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PRFLS265
          MOVE      TDESC,DANS1 
.
PRFLS265  MOVE      DANS1,VARIABLE
          GOTO      PRFLS999
.
.------- format User Def Code 27 Description (es)------
.
PRFLS270  MOVE      SP20,DANS1 
          MATCH     SP3,EMVIUC27
          GOTO      PRFLS275 IF EQUAL
.
          PACK      KEY5,CATES,EMVIUC27
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PRFLS275
          MOVE      TDESC,DANS1 
.
PRFLS275  MOVE      DANS1,VARIABLE
          GOTO      PRFLS999
.
.------- format User Def Code 28 Description (et)------
.
PRFLS280  MOVE      SP20,DANS1 
          MATCH     SP3,EMVIUC28
          GOTO      PRFLS285 IF EQUAL
.
          PACK      KEY5,CATET,EMVIUC28
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PRFLS285
          MOVE      TDESC,DANS1 
.
PRFLS285  MOVE      DANS1,VARIABLE
          GOTO      PRFLS999
.
.------- format User Def Code 29 Description (eu)------
.
PRFLS290  MOVE      SP20,DANS1 
          MATCH     SP3,EMVIUC29
          GOTO      PRFLS295 IF EQUAL
.
          PACK      KEY5,CATEU,EMVIUC29
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PRFLS295
          MOVE      TDESC,DANS1 
.
PRFLS295  MOVE      DANS1,VARIABLE
          GOTO      PRFLS999
.
.------- format User Def Code 30 Description (ev)------
.
PRFLS300  MOVE      SP20,DANS1 
          MATCH     SP3,EMVIUC30
          GOTO      PRFLS305 IF EQUAL
.
          PACK      KEY5,CATEV,EMVIUC30
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PRFLS305
          MOVE      TDESC,DANS1 
.
PRFLS305  MOVE      DANS1,VARIABLE
          GOTO      PRFLS999
.
.------- format Elapsed tme since acc description (AE)------
.
PRFLS310  MOVE      SP20,DANS1 
          MATCH     SP3,EMVIELAP
          GOTO      PRFLS315 IF EQUAL
.
          PACK      KEY5,CODEAE,EMVIELAP
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PRFLS315
          MOVE      TDESC,DANS1 
.
PRFLS315  MOVE      DANS1,VARIABLE
          GOTO      PRFLS999
.
PRFLS320  UNPACK    EMVITRDT,CCENT,CYEAR,CMON,CDAY
          CALL      PACDATE
          MOVE      CPCDATE,VARIABLE
          GOTO      PRFLS999
.
PRFLS330  MOVE      EMVITRTM,VARIABLE
          GOTO      PRFLS999
.
PRFLS340  MOVE      PTMXCELL,VARIABLE
          GOTO      PRFLS999
.
PRFLS350  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "1",CONTTYPE          * Next of Kin
            CALL      XCON0000              * Get extra contact details
            MOVE      PMCESNAM,PACSNAME
            MOVE      PMCEGNAM,PACGNAME
            MOVE      PMCETITL,PACTITLE
            MOVE      "1",PACFRMT
            CALL      PACNAME
            MOVE      PACFNAME,VARIABLE
          ELSE 
            MOVE      PNKNAME,VARIABLE
          ENDIF
          GOTO      PRFLS999
.
PRFLS360  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "1",CONTTYPE          * Next of Kin
            CALL      XCON0000              * Get extra contact details
            MOVE      PMCEADD1,VARIABLE
          ELSE
            MOVE      PNKADD1,VARIABLE
          ENDIF
          GOTO      PRFLS999
.
PRFLS370  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "1",CONTTYPE          * Next of Kin
            CALL      XCON0000              * Get extra contact details
            MOVE      PMCEADD2,VARIABLE
          ELSE
            MOVE      PNKADD2,VARIABLE
          ENDIF
          GOTO      PRFLS999
.
PRFLS380  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "1",CONTTYPE          * Next of Kin
            CALL      XCON0000              * Get extra contact details
            MOVE      PMCEADD3,VARIABLE
          ELSE
            MOVE      PNKSUBR,VARIABLE
          ENDIF
          GOTO      PRFLS999
.
PRFLS390  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "1",CONTTYPE          * Next of Kin
            CALL      XCON0000              * Get extra contact details
            MOVE      PMCEADD4,VARIABLE
          ELSE
            MOVE      PNKADD4,VARIABLE
          ENDIF
          GOTO      PRFLS999
.
PRFLS400  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "1",CONTTYPE          * Next of Kin
            CALL      XCON0000              * Get extra contact details
            MOVE      PMCEPOST,VARIABLE
          ELSE
            MOVE      PNKPOST,VARIABLE
          ENDIF
          GOTO      PRFLS999
.
PRFLS410  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "1",CONTTYPE          * Next of Kin
            CALL      XCON0000              * Get extra contact details
            MOVE      PMCETELP,VARIABLE
          ELSE
            MOVE      PNKTELP,VARIABLE
          ENDIF
          GOTO      PRFLS999
.
PRFLS420  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "1",CONTTYPE          * Next of Kin
            CALL      XCON0000              * Get extra contact details
            MOVE      PMCETELB,VARIABLE
          ELSE
            MOVE      PNKTELB,VARIABLE
          ENDIF
          GOTO      PRFLS999
.
PRFLS430  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "1",CONTTYPE          * Next of Kin
            CALL      XCON0000              * Get extra contact details
            MOVE      PMCERELP,VARIABLE
          ELSE
            MOVE      PNKRELP,VARIABLE
          ENDIF
          GOTO      PRFLS999
.
PRFLS440  MOVE      EMVITRNS,VARIABLE     * Triage Nurse Code
          GOTO      PRFLS999
.
PRFLS450  MOVE      SP70,DIM60            * Triage Nurse Code Description
          MATCH     SP3,EMVITRNS
          GOTO      PRFLS455 IF EQUAL
.
.         C-0825792 CONTROL.EMCNURSE = 0 - Use oprnuraf for Nurse
          MATCH     "1",EMCNURSE                 * Use pmshcpaf for OT Nurse?
          GOTO      PRFLS451 IF EQUAL            * Yes
.
          PACK      KEY6,EMVITRNS,SP70
          CALL      RDOPNUR1
          BRANCH    OVRCD,PRFLS455
          SQUEEZE   OPNRSNAM
          SQUEEZE   OPNRGNAM
          PACK      DIM60,OPNRGNAM,SP1,OPNRSNAM
          GOTO      PRFLS455
.
.         C-0825792 CONTROL.EMCNURSE = 1 - Use pmshcpaf for Nurse
PRFLS451  PACK      KEY10,EMVITRNS,SP70
          CALL      RDPMHCP1
          BRANCH    OVRCD,PRFLS455
          CLEAR     DISPNAME
          SQUEEZE   PMHCGNAM
          SQUEEZE   PMHCSNAM
          PACK      DIM60,PMHCGNAM,SP1,PMHCSNAM
.
PRFLS455  MOVE      DIM60,VARIABLE
          GOTO      PRFLS999
.
PRFLS460  MOVE      PMPXRHC1,VARIABLE          * HCP Code
          GOTO      PRFLS999
.
PRFLS470  MOVE      SP70,PMHCSNAM              * HCP Surname
          PACK      KEY10,PMPXRHC1,SP70
          CALL      RDPMHCP1
          MOVE      PMHCSNAM,VARIABLE
          GOTO      PRFLS999
.
PRFLS480  MOVE      SP70,PMHCGNAM              * HCP Given Name  
          PACK      KEY10,PMPXRHC1,SP70
          CALL      RDPMHCP1
          MOVE      PMHCGNAM,VARIABLE
          GOTO      PRFLS999
.
PRFLS490  MOVE      SP70,PMHCSTEL              * HCP Phone Number
          PACK      KEY10,PMPXRHC1,SP70
          CALL      RDPMHCP1
          MOVE      PMHCSTEL,VARIABLE
          GOTO      PRFLS999
.
PRFLS500  MOVE      PTMXMCCD,VARIABLE          * Medicare Reference Number
          GOTO      PRFLS999
.
.
.------ format the marital status description ------
.
PRFLS510  PACK      KEY5,CODEM,PMSTAT
          CALL      RDCODE1                    * read the patient codes file
          IF        OVRCD=1
            MOVE      SP70,VARIABLE
            GOTO      PRFLS999
          ENDIF
          MOVE      TDESC,VARIABLE
          GOTO      PRFLS999
.
.------ format the business telephone number ------
.
PRFLS520  MOVE      PTELEB,VARIABLE
          GOTO      PRFLS999
.
.------ format the Religion ------
.
PRFLS530  MATCH     SP3,PREG
          IF        !@EQUAL
            PACK      KEY5,CODER,PREG
            CALL      RDCODE1                    * read the patient codes file
            IF        OVRCD=1
              MOVE      SP70,VARIABLE
              GOTO      PRFLS999
            ENDIF
            MOVE      TDESC,VARIABLE
            GOTO      PRFLS999
          ELSE
            PACK      VARIABLE,SP70,SP70,SP70    * religion blank
            GOTO      PRFLS999
          ENDIF
.
.------ format the country of birth description ------
.
PRFLS540  PACK      KEY5,CODEC,PCONT
          CALL      RDCODE1                    * read the patient codes file
          IF        OVRCD=1
            MOVE      SP70,VARIABLE                         
            GOTO      PRFLS999
          ENDIF
          MOVE      TDESC,VARIABLE
          GOTO      PRFLS999
.
. ------- Format Emergency contact name -------
.
PRFLS550  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "3",CONTTYPE          * Emergency Contact
            CALL      XCON0000              * Get extra contact details
            MOVE      PMCESNAM,PACSNAME
            MOVE      PMCEGNAM,PACGNAME
            MOVE      PMCETITL,PACTITLE
            MOVE      "1",PACFRMT
            CALL      PACNAME
            MOVE      PACFNAME,VARIABLE
          ELSE 
            MOVE      PTMXECNM,VARIABLE
          ENDIF
          GOTO      PRFLS999
.
. ------- Format Emergency contact relationship -------
.
PRFLS560  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "3",CONTTYPE          * Emergency Contact
            CALL      XCON0000              * Get extra contact details
            PACK      KEY10,PMCERELP,SP70
          ELSE
            PACK      KEY10,PTMXECRE,SP70
          ENDIF
          CALL      RDPMREL1
          BRANCH    OVRCD,PRFLS565
.
          MOVE      PMRLDESC,VARIABLE
          GOTO      PRFLS999
.
PRFLS565  MOVE      KEY10,VARIABLE
          GOTO      PRFLS999
.
. ------- Format Emergency contact private phone -------
.
PRFLS570  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "3",CONTTYPE          * Emergency Contact
            CALL      XCON0000              * Get extra contact details
            MOVE      PMCETELP,VARIABLE
          ELSE
            MOVE      PTMXECPP,VARIABLE
          ENDIF
          GOTO      PRFLS999
.
. ------- Format Emergency contact business phone -------
.
PRFLS580  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "3",CONTTYPE          * Emergency Contact
            CALL      XCON0000              * Get extra contact details
            MOVE      PMCETELB,VARIABLE
          ELSE
            MOVE      PTMXECBP,VARIABLE
          ENDIF
          GOTO      PRFLS999
.
. ------- Format Clinical Notes Line 1 -------
.
PRFLS590  MOVE      "  1",DIM3                 * Format Clinical Notes Line 1
          CALL      PRCLN000                                          *I-50421
          GOTO      PRFLS999
.
. ------- Format Clinical Notes Line 2 -------
.
PRFLS600  MOVE      "  2",DIM3                 * Format Clinical Notes Line 2 
          CALL      PRCLN000                                          *I-50421
          GOTO      PRFLS999
.
. ------- Format Clinical Notes Line 3 -------
.
PRFLS610  MOVE      "  3",DIM3                 * Format Clinical Notes Line 3
          CALL      PRCLN000                                          *I-50421
          GOTO      PRFLS999
.
. ------- Format Clinical Notes Line 4 -------
.
PRFLS620  MOVE      "  4",DIM3                 * Format Clinical Notes Line 4
          CALL      PRCLN000                                          *I-50421
          GOTO      PRFLS999
.
. ------- Format Clinical Notes Line 5 -------
.
PRFLS630  MOVE      "  5",DIM3                 * Format Clinical Notes Line 5
          CALL      PRCLN000                                          *I-50421
          GOTO      PRFLS999
.
. ------- Format Clinical Notes Line 6 -------
.
PRFLS640  MOVE      "  6",DIM3                 * Format Clinical Notes Line 6
          CALL      PRCLN000                                          *I-50421
          GOTO      PRFLS999
.
. ------- Format Clinical Notes Line 7 -------
.
PRFLS650  MOVE      "  7",DIM3                 * Format Clinical Notes Line 7
          CALL      PRCLN000                                          *I-50421
          GOTO      PRFLS999
.
. ------- Format Clinical Notes Line 8 -------
.
PRFLS660  MOVE      "  8",DIM3                 * Format Clinical Notes Line 8
          CALL      PRCLN000                                          *I-50421
          GOTO      PRFLS999
.
. ------- Format Clinical Notes Line 9 -------
.
PRFLS670  MOVE      "  9",DIM3                 * Format Clinical Notes Line 9
          CALL      PRCLN000                                          *I-50421
          GOTO      PRFLS999
.
. ------- Format Clinical Notes Line 10 -------
.
PRFLS680  MOVE      " 10",DIM3                 * Format Clinical Notes Line 10
          CALL      PRCLN000                                          *I-50421
          GOTO      PRFLS999
.
. ------- Format Clinical Notes Line 11 -------
.
PRFLS690  MOVE      " 11",DIM3                 * Format Clinical Notes Line 11
          CALL      PRCLN000                                          *I-50421
          GOTO      PRFLS999
.
. ------- Format Clinical Notes Line 12 -------
.
PRFLS700  MOVE      " 12",DIM3                 * Format Clinical Notes Line 12
          CALL      PRCLN000                                          *I-50421
          GOTO      PRFLS999
.
. ------- Format Clinical Notes Line 13 -------
.
PRFLS710  MOVE      " 13",DIM3                 * Format Clinical Notes Line 13
          CALL      PRCLN000                                          *I-50421
          GOTO      PRFLS999
.
. ------- Format Clinical Notes Line 14 -------
.
PRFLS720  MOVE      " 14",DIM3                 * Format Clinical Notes Line 14
          CALL      PRCLN000                                          *I-50421
          GOTO      PRFLS999
.
. ------- Format Clinical Notes Line 15 -------
.
PRFLS730  MOVE      " 15",DIM3                 * Format Clinical Notes Line 15
          CALL      PRCLN000                                          *I-50421
          GOTO      PRFLS999
.
.------ format the complaint Line 3 ------
.
PRFLS740  MOVE      EMVICOM3,VARIABLE
          GOTO      PRFLS999
.
.------ format the complaint Line 4 ------
.
PRFLS750  MOVE      EMVICOM4,VARIABLE
          GOTO      PRFLS999
.
.------ format the complaint Line 5 ------
.
PRFLS760  MOVE      EMVICOM5,VARIABLE
          GOTO      PRFLS999
.
.------ format the complaint Line 6 ------
.
PRFLS770  MOVE      EMVICOM6,VARIABLE
          GOTO      PRFLS999
.
PRFLS780  MOVE      SP70,PMHCFAXN              * HCP Fax Number
          PACK      KEY10,PMPXRHC1,SP70
          CALL      RDPMHCP1
          MOVE      PMHCFAXN,VARIABLE
          GOTO      PRFLS999
.
PRFLS790  MOVE      EMDCTXT1,VARIABLE          * Diagnosis line 1
          GOTO      PRFLS999
.
PRFLS800  MOVE      EMDCTXT2,VARIABLE          * Diagnosis line 2
          GOTO      PRFLS999
.
PRFLS810  MOVE      EMDCTXT3,VARIABLE          * Diagnosis line 3
          GOTO      PRFLS999
.
PRFLS820  MOVE      EMDCTXT4,VARIABLE          * Diagnosis line 4
          GOTO      PRFLS999
.
PRFLS830  MOVE      EMDCTXT5,VARIABLE          * Diagnosis line 5
          GOTO      PRFLS999
.
PRFLS840  MOVE      EMDCTXT6,VARIABLE          * Diagnosis line 6
          GOTO      PRFLS999
.
PRFLS850  MOVE      EMDCTXT7,VARIABLE          * Diagnosis line 7
          GOTO      PRFLS999
.
PRFLS860  MOVE      EMDCTXT8,VARIABLE          * Diagnosis line 8
          GOTO      PRFLS999
.
PRFLS870  MOVE      SP70,PMHCADR1              * HCP address line 1
          PACK      KEY10,PMPXRHC1,SP70
          CALL      RDPMHCP1
          MOVE      PMHCADR1,VARIABLE
          GOTO      PRFLS999
.
PRFLS880  MOVE      SP70,PMHCADR2              * HCP address line 2
          PACK      KEY10,PMPXRHC1,SP70
          CALL      RDPMHCP1
          MOVE      PMHCADR2,VARIABLE
          GOTO      PRFLS999
.
PRFLS890  MOVE      SP70,PMHCADR3              * HCP address line 3
          PACK      KEY10,PMPXRHC1,SP70
          CALL      RDPMHCP1
          MOVE      PMHCADR3,VARIABLE
          GOTO      PRFLS999
.
.
.------- format process data fields (268 - xxx) ------
.
PRFLS900  CALL      PRNFL000                * process fields
          GOTO      PROFL999
.
PRFLS999  RETURN
.------------------------------------------------------------
.   Process data fields (268 - 356)
.------------------------------------------------------------
PRNFL000  SUB       "89",FORM5
          BRANCH    FORM5,PRNFL010,PRNFL020,PRNFL030,PRNFL040,PRNFL050: * 268
                          PRNFL060,PRNFL070,PRNFL080,PRNFL090,PRNFL100: * 273
                          PRNFL110,PRNFL120,PRNFL130,PRNFL140,PRNFL150: * 278
                          PRNFL160,PRNFL170,PRNFL180,PRNFL190,PRNFL200: * 283
                          PRNFL210,PRNFL220,PRNFL230,PRNFL240,PRNFL250: * 288
                          PRNFL260,PRNFL270,PRNFL280,PRNFL290,PRNFL300: * 293
                          PRNFL310,PRNFL320,PRNFL330,PRNFL340,PRNFL350: * 298
                          PRNFL360,PRNFL370,PRNFL380,PRNFL390,PRNFL400: * 303
                          PRNFL410,PRNFL420,PRNFL430,PRNFL440,PRNFL450: * 308
                          PRNFL460,PRNFL470,PRNFL480,PRNFL490,PRNFL500: * 313
                          PRNFL510,PRNFL520,PRNFL530,PRNFL540,PRNFL550: * 318
                          PRNFL560,PRNFL570,PRNFL580,PRNFL590,PRNFL600: * 323
                          PRNFL610,PRNFL620,PRNFL630,PRNFL640,PRNFL650: * 328
                          PRNFL660,PRNFL670,PRNFL680,PRNFL690,PRNFL700: * 333
                          PRNFL710,PRNFL720,PRNFL730,PRNFL740,PRNFL750: * 338
                          PRNFL760,PRNFL770,PRNFL780,PRNFL790,PRNFL800: * 343
                          PRNFL810,PRNFL820,PRNFL830,PRNFL840,PRNFL850: * 348
                          PRNFL860,PRNFL870,PRNFL880,PRNFL890           * 353
.
          GOTO      PRNFL900
.
PRNFL010  MOVE      SP70,PMHCADR4              * HCP address line 4
          PACK      KEY10,PMPXRHC1,SP70
          CALL      RDPMHCP1
          MOVE      PMHCADR4,VARIABLE
          GOTO      PRNFL999
.
PRNFL020  MOVE      SP70,PMHCADR5              * HCP address line 5
          PACK      KEY10,PMPXRHC1,SP70
          CALL      RDPMHCP1
          MOVE      PMHCADR5,VARIABLE
          GOTO      PRNFL999
.
PRNFL030  MOVE      SP70,PMHCADR6              * HCP address line 6
          PACK      KEY10,PMPXRHC1,SP70
          CALL      RDPMHCP1
          MOVE      PMHCADR6,VARIABLE
          GOTO      PRNFL999
.
PRNFL040  MOVE      SP70,PMHCPOST              * HCP Post Code
          PACK      KEY10,PMPXRHC1,SP70
          CALL      RDPMHCP1
          MOVE      PMHCPOST,VARIABLE
          GOTO      PRNFL999
.
PRNFL050  MOVE      SP70,PMHCSTAT              * HCP State
          PACK      KEY10,PMPXRHC1,SP70
          CALL      RDPMHCP1
          MOVE      PMHCSTAT,VARIABLE
          GOTO      PRNFL999
.
PRNFL060  MOVE      EMVIATNS,VARIABLE          * Attending Nurse Code
          GOTO      PRNFL999
.
PRNFL070  MOVE      SP70,DIM60                * Attending Nurse Code Description
          MATCH     SP3,EMVIATNS
          GOTO      PRNFL075 IF EQUAL
.
.         C-0825792 CONTROL.EMCNURSE = 0 - Use oprnuraf for Nurse
          MATCH     "1",EMCNURSE           * Use pmshcpaf for ED Nurse?
          GOTO      PRNFL071 IF EQUAL      * Yes
.
          PACK      KEY6,EMVIATNS,SP70
          CALL      RDOPNUR1
          BRANCH    OVRCD,PRNFL075
          SQUEEZE   OPNRSNAM
          SQUEEZE   OPNRGNAM
          PACK      DIM60,OPNRGNAM,SP1,OPNRSNAM
          GOTO      PRNFL075
.
.         C-0825792 CONTROL.EMCNURSE=1 - Use pmshcpaf for nurse
PRNFL071  PACK      KEY10,EMVIATNS,SP70     * Get Nurses full name
          CALL      RDPMHCP1
          BRANCH    OVRCD,PRFLS455
          CLEAR     DISPNAME
          SQUEEZE   PMHCGNAM
          SQUEEZE   PMHCSNAM
          PACK      DIM60,PMHCGNAM,SP1,PMHCSNAM
.
PRNFL075  MOVE      DIM60,VARIABLE
          GOTO      PRNFL999
.
PRNFL080  MOVE      SP70,PTVADESC              * Discharge Destination Desc
          PACK      KEY5,EMVIDEST,SP70                                *C-56012
          CALL      RDPTVAD1
          MOVE      PTVADESC,VARIABLE 
          GOTO      PRNFL999
.
PRNFL090  MOVE      " 16",DIM3                 * Format Clinical Notes Line 16
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL100  MOVE      " 17",DIM3                 * Format Clinical Notes Line 17
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL110  MOVE      " 18",DIM3                 * Format Clinical Notes Line 18
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL120  MOVE      " 19",DIM3                 * Format Clinical Notes Line 19
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL130  MOVE      " 20",DIM3                 * Format Clinical Notes Line 20
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL140  MOVE      " 21",DIM3                 * Format Clinical Notes Line 21
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL150  MOVE      " 22",DIM3                 * Format Clinical Notes Line 22
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL160  MOVE      " 23",DIM3                 * Format Clinical Notes Line 23
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL170  MOVE      " 24",DIM3                 * Format Clinical Notes Line 24
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL180  MOVE      " 25",DIM3                 * Format Clinical Notes Line 25
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL190  MOVE      " 26",DIM3                 * Format Clinical Notes Line 26
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL200  MOVE      " 27",DIM3                 * Format Clinical Notes Line 27
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL210  MOVE      " 28",DIM3                 * Format Clinical Notes Line 28
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL220  MOVE      " 29",DIM3                 * Format Clinical Notes Line 29
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL230  MOVE      " 30",DIM3                 * Format Clinical Notes Line 30
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL240  MOVE      " 31",DIM3                 * Format Clinical Notes Line 31
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL250  MOVE      " 32",DIM3                 * Format Clinical Notes Line 32
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL260  MOVE      " 33",DIM3                 * Format Clinical Notes Line 33
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL270  MOVE      " 34",DIM3                 * Format Clinical Notes Line 34
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL280  MOVE      " 35",DIM3                 * Format Clinical Notes Line 35
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL290  MOVE      " 36",DIM3                 * Format Clinical Notes Line 36
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL300  MOVE      " 37",DIM3                 * Format Clinical Notes Line 37
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL310  MOVE      " 38",DIM3                 * Format Clinical Notes Line 38
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL320  MOVE      " 39",DIM3                 * Format Clinical Notes Line 39
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL330  MOVE      " 40",DIM3                 * Format Clinical Notes Line 40
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL340  MOVE      " 41",DIM3                 * Format Clinical Notes Line 41
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL350  MOVE      " 42",DIM3                 * Format Clinical Notes Line 42
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL360  MOVE      " 43",DIM3                 * Format Clinical Notes Line 43
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL370  MOVE      " 44",DIM3                 * Format Clinical Notes Line 44
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL380  MOVE      " 45",DIM3                 * Format Clinical Notes Line 45
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL390  MOVE      " 46",DIM3                 * Format Clinical Notes Line 46
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL400  MOVE      " 47",DIM3                 * Format Clinical Notes Line 47
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL410  MOVE      " 48",DIM3                 * Format Clinical Notes Line 48
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL420  MOVE      " 49",DIM3                 * Format Clinical Notes Line 49
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL430  MOVE      " 50",DIM3                 * Format Clinical Notes Line 50
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL440  MOVE      " 51",DIM3                 * Format Clinical Notes Line 51
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL450  MOVE      " 52",DIM3                 * Format Clinical Notes Line 52
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL460  MOVE      " 53",DIM3                 * Format Clinical Notes Line 53
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL470  MOVE      " 54",DIM3                 * Format Clinical Notes Line 54
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL480  MOVE      " 55",DIM3                 * Format Clinical Notes Line 55
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL490  MOVE      " 56",DIM3                 * Format Clinical Notes Line 56
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL500  MOVE      " 57",DIM3                 * Format Clinical Notes Line 57
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL510  MOVE      " 58",DIM3                 * Format Clinical Notes Line 58
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL520  MOVE      " 59",DIM3                 * Format Clinical Notes Line 59
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL530  MOVE      " 60",DIM3                 * Format Clinical Notes Line 60
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL540  MOVE      " 61",DIM3                 * Format Clinical Notes Line 61
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL550  MOVE      " 62",DIM3                 * Format Clinical Notes Line 62
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL560  MOVE      " 63",DIM3                 * Format Clinical Notes Line 63
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL570  MOVE      " 64",DIM3                 * Format Clinical Notes Line 64
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL580  MOVE      " 65",DIM3                 * Format Clinical Notes Line 65
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL590  MOVE      " 66",DIM3                 * Format Clinical Notes Line 66
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL600  MOVE      " 67",DIM3                 * Format Clinical Notes Line 67
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL610  MOVE      " 68",DIM3                 * Format Clinical Notes Line 68
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL620  MOVE      " 69",DIM3                 * Format Clinical Notes Line 69
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL630  MOVE      " 70",DIM3                 * Format Clinical Notes Line 70
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL640  MOVE      " 71",DIM3                 * Format Clinical Notes Line 71
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL650  MOVE      " 72",DIM3                 * Format Clinical Notes Line 72
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL660  MOVE      " 73",DIM3                 * Format Clinical Notes Line 73
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL670  MOVE      " 74",DIM3                 * Format Clinical Notes Line 74
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL680  MOVE      " 75",DIM3                 * Format Clinical Notes Line 75
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL690  MOVE      " 76",DIM3                 * Format Clinical Notes Line 76
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL700  MOVE      " 77",DIM3                 * Format Clinical Notes Line 77
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL710  MOVE      " 78",DIM3                 * Format Clinical Notes Line 78
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL720  MOVE      " 79",DIM3                 * Format Clinical Notes Line 79
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL730  MOVE      " 80",DIM3                 * Format Clinical Notes Line 80
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL740  MOVE      " 81",DIM3                 * Format Clinical Notes Line 81
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL750  MOVE      " 82",DIM3                 * Format Clinical Notes Line 82
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL760  MOVE      " 83",DIM3                 * Format Clinical Notes Line 83
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL770  MOVE      " 84",DIM3                 * Format Clinical Notes Line 84
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL780  MOVE      " 85",DIM3                 * Format Clinical Notes Line 85
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL790  MOVE      " 86",DIM3                 * Format Clinical Notes Line 86
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL800  MOVE      " 87",DIM3                 * Format Clinical Notes Line 87
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL810  MOVE      " 88",DIM3                 * Format Clinical Notes Line 88
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL820  MOVE      " 89",DIM3                 * Format Clinical Notes Line 89
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL830  MOVE      " 90",DIM3                 * Format Clinical Notes Line 90
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL840  MOVE      " 91",DIM3                 * Format Clinical Notes Line 91
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL850  MOVE      " 92",DIM3                 * Format Clinical Notes Line 92
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL860  MOVE      " 93",DIM3                 * Format Clinical Notes Line 93
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL870  MOVE      " 94",DIM3                 * Format Clinical Notes Line 94
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL880  MOVE      " 95",DIM3                 * Format Clinical Notes Line 95
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
PRNFL890  MOVE      " 96",DIM3                 * Format Clinical Notes Line 96
          CALL      PRCLN000                                          *I-50421
          GOTO      PRNFL999
.
.------- format process data fields (357 - xxx) ------
.
PRNFL900  CALL      PRTFL000                * process fields
          GOTO      PRNFL999
.
PRNFL999  RETURN
.------------------------------------------------------------
.   Process data fields (357 - 445)
.------------------------------------------------------------
PRTFL000  SUB       "89",FORM5
          BRANCH    FORM5,PRTFL010,PRTFL020,PRTFL030,PRTFL040,PRTFL050: * 357
                          PRTFL060,PRTFL070,PRTFL080,PRTFL090,PRTFL100: * 362
                          PRTFL110,PRTFL120,PRTFL130,PRTFL140,PRTFL150: * 367
                          PRTFL160,PRTFL170,PRTFL180,PRTFL190,PRTFL200: * 372
                          PRTFL210,PRTFL220,PRTFL230,PRTFL240,PRTFL250: * 377
                          PRTFL260,PRTFL270,PRTFL280,PRTFL290,PRTFL300: * 382
                          PRTFL310,PRTFL320,PRTFL330,PRTFL340,PRTFL350: * 387
                          PRTFL360,PRTFL370,PRTFL380,PRTFL390,PRTFL400: * 392
                          PRTFL410,PRTFL420,PRTFL430,PRTFL440,PRTFL450: * 397
                          PRTFL460,PRTFL470,PRTFL480,PRTFL490,PRTFL500: * 402
                          PRTFL510,PRTFL520,PRTFL530,PRTFL540,PRTFL550: * 407
                          PRTFL560,PRTFL570,PRTFL580,PRTFL590,PRTFL600: * 412
                          PRTFL610,PRTFL620,PRTFL630,PRTFL640,PRTFL650: * 417
                          PRTFL660,PRTFL670,PRTFL680,PRTFL690,PRTFL700: * 422
                          PRTFL710,PRTFL720,PRTFL730,PRTFL740,PRTFL750: * 427
                          PRTFL760,PRTFL770,PRTFL780,PRTFL790,PRTFL800: * 432
                          PRTFL810,PRTFL820,PRTFL830,PRTFL840,PRTFL850: * 437
                          PRTFL860,PRTFL870,PRTFL880,PRTFL890           * 442

.
          GOTO      PRTFL900
.
PRTFL010  MOVE      " 97",DIM3                 * Format Clinical Notes Line 97
          CALL      PRCLN000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL020  MOVE      " 98",DIM3                 * Format Clinical Notes Line 98
          CALL      PRCLN000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL030  MOVE      " 99",DIM3                 * Format Clinical Notes Line 99
          CALL      PRCLN000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL040  MOVE      "100",DIM3                 * Format Clinical Notes Line 100
          CALL      PRCLN000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL050  MOVE      EMDCTXT9,VARIABLE          * Diagnosis line 9
          GOTO      PRTFL999                                          *I-50421
.
PRTFL060  MOVE      "1",FORM3A                 * Format Med His Line 1
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL070  MOVE      "2",FORM3A                 * Format Med His Line 2       
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL080  MOVE      "3",FORM3A                 * Format Med His Line 3       
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL090  MOVE      "4",FORM3A                 * Format Med His Line 4       
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL100  MOVE      "5",FORM3A                 * Format Med His Line 5       
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL110  MOVE      "6",FORM3A                 * Format Med His Line 6       
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL120  MOVE      "7",FORM3A                 * Format Med His Line 7       
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL130  MOVE      "8",FORM3A                 * Format Med His Line 8       
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL140  MOVE      "9",FORM3A                 * Format Med His Line 9       
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL150  MOVE      "10",FORM3A                 * Format Med His Line 10      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL160  MOVE      "11",FORM3A                 * Format Med His Line 11      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL170  MOVE      "12",FORM3A                 * Format Med His Line 12      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL180  MOVE      "13",FORM3A                 * Format Med His Line 13      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL190  MOVE      "14",FORM3A                 * Format Med His Line 14      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL200  MOVE      "15",FORM3A                 * Format Med His Line 15      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL210  MOVE      "16",FORM3A                 * Format Med His Line 16      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL220  MOVE      "17",FORM3A                 * Format Med His Line 17      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL230  MOVE      "18",FORM3A                 * Format Med His Line 18      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL240  MOVE      "19",FORM3A                 * Format Med His Line 19      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL250  MOVE      "20",FORM3A                 * Format Med His Line 20      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL260  MOVE      "21",FORM3A                 * Format Med His Line 21      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL270  MOVE      "22",FORM3A                 * Format Med His Line 22      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL280  MOVE      "23",FORM3A                 * Format Med His Line 23      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL290  MOVE      "24",FORM3A                 * Format Med His Line 24      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL300  MOVE      "25",FORM3A                 * Format Med His Line 25      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL310  MOVE      "26",FORM3A                 * Format Med His Line 26      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL320  MOVE      "27",FORM3A                 * Format Med His Line 27      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL330  MOVE      "28",FORM3A                 * Format Med His Line 28      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL340  MOVE      "29",FORM3A                 * Format Med His Line 29      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL350  MOVE      "30",FORM3A                 * Format Med His Line 30      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL360  MOVE      "31",FORM3A                 * Format Med His Line 31      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
. 
PRTFL370  MOVE      "32",FORM3A                 * Format Med His Line 32      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL380  MOVE      "33",FORM3A                 * Format Med His Line 33      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL390  MOVE      "34",FORM3A                 * Format Med His Line 34      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL400  MOVE      "35",FORM3A                 * Format Med His Line 35      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL410  MOVE      "36",FORM3A                 * Format Med His Line 36      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL420  MOVE      "37",FORM3A                 * Format Med His Line 37      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL430  MOVE      "38",FORM3A                 * Format Med His Line 38      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL440  MOVE      "39",FORM3A                 * Format Med His Line 39      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL450  MOVE      "40",FORM3A                 * Format Med His Line 40      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL460  MOVE      "41",FORM3A                 * Format Med His Line 41      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL470  MOVE      "42",FORM3A                 * Format Med His Line 42      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL480  MOVE      "43",FORM3A                 * Format Med His Line 43      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL490  MOVE      "44",FORM3A                 * Format Med His Line 44      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL500  MOVE      "45",FORM3A                 * Format Med His Line 45      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL510  MOVE      "46",FORM3A                 * Format Med His Line 46      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL520  MOVE      "47",FORM3A                 * Format Med His Line 47      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL530  MOVE      "48",FORM3A                 * Format Med His Line 48      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL540  MOVE      "49",FORM3A                 * Format Med His Line 49      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL550  MOVE      "50",FORM3A                 * Format Med His Line 50      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL560  MOVE      "51",FORM3A                 * Format Med His Line 51      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL570  MOVE      "52",FORM3A                 * Format Med His Line 52      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL580  MOVE      "53",FORM3A                 * Format Med His Line 53      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL590  MOVE      "54",FORM3A                 * Format Med His Line 54      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL600  MOVE      "55",FORM3A                 * Format Med His Line 55      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL610  MOVE      "56",FORM3A                 * Format Med His Line 56      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL620  MOVE      "57",FORM3A                 * Format Med His Line 57      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL630  MOVE      "58",FORM3A                 * Format Med His Line 58      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL640  MOVE      "59",FORM3A                 * Format Med His Line 59      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL650  MOVE      "60",FORM3A                 * Format Med His Line 60      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL660  MOVE      "61",FORM3A                 * Format Med His Line 61      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL670  MOVE      "62",FORM3A                 * Format Med His Line 62      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL680  MOVE      "63",FORM3A                 * Format Med His Line 63      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL690  MOVE      "64",FORM3A                 * Format Med His Line 64      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL700  MOVE      "65",FORM3A                 * Format Med His Line 65      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL710  MOVE      "66",FORM3A                 * Format Med His Line 66      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL720  MOVE      "67",FORM3A                 * Format Med His Line 67      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL730  MOVE      "68",FORM3A                 * Format Med His Line 68      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL740  MOVE      "69",FORM3A                 * Format Med His Line 69      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL750  MOVE      "70",FORM3A                 * Format Med His Line 70      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL760  MOVE      "71",FORM3A                 * Format Med His Line 71      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL770  MOVE      "72",FORM3A                 * Format Med His Line 72      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL780  MOVE      "73",FORM3A                 * Format Med His Line 73      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL790  MOVE      "74",FORM3A                 * Format Med His Line 74      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL800  MOVE      "75",FORM3A                 * Format Med His Line 75      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL810  MOVE      "76",FORM3A                 * Format Med His Line 76      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL820  MOVE      "77",FORM3A                 * Format Med His Line 77      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL830  MOVE      "78",FORM3A                 * Format Med His Line 78      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL840  MOVE      "79",FORM3A                 * Format Med His Line 79      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL850  MOVE      "80",FORM3A                 * Format Med His Line 80      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL860  MOVE      "81",FORM3A                 * Format Med His Line 81      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL870  MOVE      "82",FORM3A                 * Format Med His Line 82      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL880  MOVE      "83",FORM3A                 * Format Med His Line 83      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRTFL890  MOVE      "84",FORM3A                 * Format Med His Line 84      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
.------- format process data fields (446 - xxx) ------
.
PRTFL900  CALL      PRNTF000                * process fields
          GOTO      PRTFL999
.
PRTFL999  RETURN
.------------------------------------------------------------
.   Process data fields (446 - 534)
.------------------------------------------------------------
PRNTF000  SUB       "89",FORM5
          BRANCH    FORM5,PRNTF010,PRNTF020,PRNTF030,PRNTF040,PRNTF050: * 446
                          PRNTF060,PRNTF070,PRNTF080,PRNTF090,PRNTF100: * 451
                          PRNTF110,PRNTF120,PRNTF130,PRNTF140,PRNTF150: * 456
                          PRNTF160,PRNTF170,PRNTF180,PRNTF190,PRNTF200: * 461
                          PRNTF210,PRNTF220,PRNTF230,PRNTF240,PRNTF250: * 466
                          PRNTF260,PRNTF270,PRNTF280,PRNTF290,PRNTF300: * 471
                          PRNTF310,PRNTF320,PRNTF330,PRNTF340,PRNTF350: * 476
                          PRNTF360,PRNTF370,PRNTF380,PRNTF390,PRNTF400: * 481
                          PRNTF410,PRNTF420,PRNTF430,PRNTF440,PRNTF450: * 486
                          PRNTF460,PRNTF470,PRNTF480,PRNTF490,PRNTF500: * 491
                          PRNTF510,PRNTF520,PRNTF530,PRNTF540,PRNTF550: * 496
                          PRNTF560,PRNTF570,PRNTF580,PRNTF590,PRNTF600: * 501
                          PRNTF610,PRNTF620,PRNTF630,PRNTF640,PRNTF650: * 506
                          PRNTF660,PRNTF670,PRNTF680,PRNTF690,PRNTF700: * 511
                          PRNTF710,PRNTF720,PRNTF730,PRNTF740,PRNTF750: * 516
                          PRNTF760,PRNTF770,PRNTF780,PRNTF790,PRNTF800: * 521
                          PRNTF810,PRNTF820,PRNTF830,PRNTF840,PRNTF850: * 526
                          PRNTF860,PRNTF870,PRNTF880,PRNTF890           * 531
.
          GOTO      PRNTF900
.
PRNTF010  MOVE      "85",FORM3A                 * Format Med His Line 85      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRNTF020  MOVE      "86",FORM3A                 * Format Med His Line 86      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRNTF030  MOVE      "87",FORM3A                 * Format Med His Line 87      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRNTF040  MOVE      "88",FORM3A                 * Format Med His Line 88      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRNTF050  MOVE      "89",FORM3A                 * Format Med His Line 89      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRNTF060  MOVE      "90",FORM3A                 * Format Med His Line 90      
          CALL      PRMHL000                                          *I-50421
          GOTO      PRTFL999
.
PRNTF070  MOVE      "91",FORM3A                 * Format Med His Line 91
          CALL      PRMHL000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF080  MOVE      "92",FORM3A                 * Format Med His Line 92
          CALL      PRMHL000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF090  MOVE      "93",FORM3A                 * Format Med His Line 93
          CALL      PRMHL000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF100  MOVE      "94",FORM3A                 * Format Med His Line 94
          CALL      PRMHL000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF110  MOVE      "95",FORM3A                 * Format Med His Line 95
          CALL      PRMHL000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF120  MOVE      "96",FORM3A                 * Format Med His Line 96
          CALL      PRMHL000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF130  MOVE      "97",FORM3A                 * Format Med His Line 97
          CALL      PRMHL000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF140  MOVE      "98",FORM3A                 * Format Med His Line 98
          CALL      PRMHL000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF150  MOVE      "99",FORM3A                 * Format Med His Line 99
          CALL      PRMHL000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF160  MOVE      "100",FORM3A                * Format Med His Line 100
          CALL      PRMHL000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF170  MOVE      "001",DIM3                  * Format Procedures Line 1
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF180  MOVE      "002",DIM3                  * Format Procedures Line 2
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF190  MOVE      "003",DIM3                  * Format Procedures Line 3
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF200  MOVE      "004",DIM3                  * Format Procedures Line 4
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF210  MOVE      "005",DIM3                  * Format Procedures Line 5
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF220  MOVE      "006",DIM3                  * Format Procedures Line 6
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF230  MOVE      "007",DIM3                  * Format Procedures Line 7
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF240  MOVE      "008",DIM3                  * Format Procedures Line 8
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF250  MOVE      "009",DIM3                  * Format Procedures Line 9
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF260  MOVE      "010",DIM3                  * Format Procedures Line 10
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF270  MOVE      "011",DIM3                  * Format Procedures Line 11
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF280  MOVE      "012",DIM3                  * Format Procedures Line 12
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF290  MOVE      "013",DIM3                  * Format Procedures Line 13
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF300  MOVE      "014",DIM3                  * Format Procedures Line 14
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF310  MOVE      "015",DIM3                  * Format Procedures Line 15
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF320  MOVE      "016",DIM3                  * Format Procedures Line 16
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF330  MOVE      "017",DIM3                  * Format Procedures Line 17
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF340  MOVE      "018",DIM3                  * Format Procedures Line 18
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF350  MOVE      "019",DIM3                  * Format Procedures Line 19
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF360  MOVE      "020",DIM3                  * Format Procedures Line 20
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF370  MOVE      "021",DIM3                  * Format Procedures Line 21
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF380  MOVE      "022",DIM3                  * Format Procedures Line 22
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF390  MOVE      "023",DIM3                  * Format Procedures Line 23
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF400  MOVE      "024",DIM3                  * Format Procedures Line 24
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF410  MOVE      "025",DIM3                  * Format Procedures Line 25
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF420  MOVE      "026",DIM3                  * Format Procedures Line 26
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF430  MOVE      "027",DIM3                  * Format Procedures Line 27
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF440  MOVE      "028",DIM3                  * Format Procedures Line 28
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF450  MOVE      "029",DIM3                  * Format Procedures Line 29
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF460  MOVE      "030",DIM3                  * Format Procedures Line 30
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF470  MOVE      "031",DIM3                  * Format Procedures Line 31
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF480  MOVE      "032",DIM3                  * Format Procedures Line 32
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF490  MOVE      "033",DIM3                  * Format Procedures Line 33
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF500  MOVE      "034",DIM3                  * Format Procedures Line 34
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF510  MOVE      "035",DIM3                  * Format Procedures Line 35
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF520  MOVE      "036",DIM3                  * Format Procedures Line 36
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF530  MOVE      "037",DIM3                  * Format Procedures Line 37
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF540  MOVE      "038",DIM3                  * Format Procedures Line 38
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF550  MOVE      "039",DIM3                  * Format Procedures Line 39
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF560  MOVE      "040",DIM3                  * Format Procedures Line 40
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF570  MOVE      "041",DIM3                  * Format Procedures Line 41
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF580  MOVE      "042",DIM3                  * Format Procedures Line 42
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF590  MOVE      "043",DIM3                  * Format Procedures Line 43
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF600  MOVE      "044",DIM3                  * Format Procedures Line 44
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF610  MOVE      "045",DIM3                  * Format Procedures Line 45
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF620  MOVE      "046",DIM3                  * Format Procedures Line 46
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF630  MOVE      "047",DIM3                  * Format Procedures Line 47
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF640  MOVE      "048",DIM3                  * Format Procedures Line 48
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF650  MOVE      "049",DIM3                  * Format Procedures Line 49
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF660  MOVE      "050",DIM3                  * Format Procedures Line 50
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF670  MOVE      "051",DIM3                  * Format Procedures Line 51
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF680  MOVE      "052",DIM3                  * Format Procedures Line 52
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF690  MOVE      "053",DIM3                  * Format Procedures Line 53
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF700  MOVE      "054",DIM3                  * Format Procedures Line 54
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF710  MOVE      "055",DIM3                  * Format Procedures Line 55
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF720  MOVE      "056",DIM3                  * Format Procedures Line 56
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF730  MOVE      "057",DIM3                  * Format Procedures Line 57
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF740  MOVE      "058",DIM3                  * Format Procedures Line 58
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF750  MOVE      "059",DIM3                  * Format Procedures Line 59
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF760  MOVE      "060",DIM3                  * Format Procedures Line 60
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF770  MOVE      "061",DIM3                  * Format Procedures Line 61
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF780  MOVE      "062",DIM3                  * Format Procedures Line 62
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF790  MOVE      "063",DIM3                  * Format Procedures Line 63
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF800  MOVE      "064",DIM3                  * Format Procedures Line 64
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF810  MOVE      "065",DIM3                  * Format Procedures Line 65
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF820  MOVE      "066",DIM3                  * Format Procedures Line 66
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF830  MOVE      "067",DIM3                  * Format Procedures Line 67
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF840  MOVE      "068",DIM3                  * Format Procedures Line 68
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF850  MOVE      "069",DIM3                  * Format Procedures Line 69
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF860  MOVE      "070",DIM3                  * Format Procedures Line 70
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF870  MOVE      "071",DIM3                  * Format Procedures Line 71
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF880  MOVE      "072",DIM3                  * Format Procedures Line 72
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
PRNTF890  MOVE      "073",DIM3                  * Format Procedures Line 73
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTF999
.
.------- format process data fields (535 - xxx) ------
.
PRNTF900  CALL      PRNTN000                * process fields
          GOTO      PRNTF999
.
PRNTF999  RETURN
.------------------------------------------------------------
.   Process data fields (535 - 623)
.------------------------------------------------------------
PRNTN000  SUB       "89",FORM5
          BRANCH    FORM5,PRNTN010,PRNTN020,PRNTN030,PRNTN040,PRNTN050: * 535
                          PRNTN060,PRNTN070,PRNTN080,PRNTN090,PRNTN100: * 540
                          PRNTN110,PRNTN120,PRNTN130,PRNTN140,PRNTN150: * 545
                          PRNTN160,PRNTN170,PRNTN180,PRNTN190,PRNTN200: * 550
                          PRNTN210,PRNTN220,PRNTN230,PRNTN240,PRNTN250: * 555
                          PRNTN260,PRNTN270,PRNTN280,PRNTN290,PRNTN300: * 560
                          PRNTN310,PRNTN320,PRNTN330,PRNTN340,PRNTN350: * 565
                          PRNTN360,PRNTN370,PRNTN380,PRNTN390,PRNTN400: * 570
                          PRNTN410,PRNTN420,PRNTN430,PRNTN440,PRNTN450: * 575
                          PRNTN460,PRNTN470,PRNTN480,PRNTN490,PRNTN500: * 580
                          PRNTN510,PRNTN520,PRNTN530,PRNTN540,PRNTN550: * 585
                          PRNTN560,PRNTN570,PRNTN580,PRNTN590,PRNTN600: * 590
                          PRNTN610,PRNTN620,PRNTN630,PRNTN640,PRNTN650: * 595
                          PRNTN660,PRNTN670,PRNTN680,PRNTN690,PRNTN700: * 600
                          PRNTN710,PRNTN720,PRNTN730,PRNTN740,PRNTN750: * 605
                          PRNTN760,PRNTN770,PRNTN780,PRNTN790,PRNTN800: * 610
                          PRNTN810,PRNTN820,PRNTN830,PRNTN840,PRNTN850: * 615
                          PRNTN860,PRNTN870,PRNTN880,PRNTN890           * 620
.
          GOTO      PRNTN900
.
PRNTN010  MOVE      "074",DIM3                  * Format Procedures Line 74
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN020  MOVE      "075",DIM3                  * Format Procedures Line 75
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN030  MOVE      "076",DIM3                  * Format Procedures Line 76
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN040  MOVE      "077",DIM3                  * Format Procedures Line 77
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN050  MOVE      "078",DIM3                  * Format Procedures Line 78
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN060  MOVE      "079",DIM3                  * Format Procedures Line 79
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN070  MOVE      "080",DIM3                  * Format Procedures Line 80
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN080  MOVE      "081",DIM3                  * Format Procedures Line 81
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN090  MOVE      "082",DIM3                  * Format Procedures Line 82
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN100  MOVE      "083",DIM3                  * Format Procedures Line 83
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN110  MOVE      "084",DIM3                  * Format Procedures Line 84
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN120  MOVE      "085",DIM3                  * Format Procedures Line 85
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN130  MOVE      "086",DIM3                  * Format Procedures Line 86
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN140  MOVE      "087",DIM3                  * Format Procedures Line 87
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN150  MOVE      "088",DIM3                  * Format Procedures Line 88
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN160  MOVE      "089",DIM3                  * Format Procedures Line 89
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN170  MOVE      "090",DIM3                  * Format Procedures Line 90
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN180  MOVE      "091",DIM3                  * Format Procedures Line 91
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN190  MOVE      "092",DIM3                  * Format Procedures Line 92
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN200  MOVE      "093",DIM3                  * Format Procedures Line 93
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN210  MOVE      "094",DIM3                  * Format Procedures Line 94
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN220  MOVE      "095",DIM3                  * Format Procedures Line 95
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN230  MOVE      "096",DIM3                  * Format Procedures Line 96
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN240  MOVE      "097",DIM3                  * Format Procedures Line 97
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN250  MOVE      "098",DIM3                  * Format Procedures Line 98
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN260  MOVE      "099",DIM3                  * Format Procedures Line 99
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN270  MOVE      "100",DIM3                  * Format Procedures Line 100
          CALL      PRPRO000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN280  MOVE      "  1",DIM3                  * Format Management Nt Line 1
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN290  MOVE      "  2",DIM3                  * Format Management Nt Line 2
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN300  MOVE      "  3",DIM3                  * Format Management Nt Line 3
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN310  MOVE      "  4",DIM3                  * Format Management Nt Line 4
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN320  MOVE      "  5",DIM3                  * Format Management Nt Line 5
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN330  MOVE      "  6",DIM3                  * Format Management Nt Line 6
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN340  MOVE      "  7",DIM3                  * Format Management Nt Line 7
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN350  MOVE      "  8",DIM3                  * Format Management Nt Line 8
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN360  MOVE      "  9",DIM3                  * Format Management Nt Line 9
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN370  MOVE      " 10",DIM3                  * Format Management Nt Line 10
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN380  MOVE      " 11",DIM3                  * Format Management Nt Line 11
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN390  MOVE      " 12",DIM3                  * Format Management Nt Line 12
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN400  MOVE      " 13",DIM3                  * Format Management Nt Line 13
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN410  MOVE      " 14",DIM3                  * Format Management Nt Line 14
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN420  MOVE      " 15",DIM3                  * Format Management Nt Line 15
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN430  MOVE      " 16",DIM3                  * Format Management Nt Line 16
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN440  MOVE      " 17",DIM3                  * Format Management Nt Line 17
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN450  MOVE      " 18",DIM3                  * Format Management Nt Line 18
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN460  MOVE      " 19",DIM3                  * Format Management Nt Line 19
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN470  MOVE      " 20",DIM3                  * Format Management Nt Line 20
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN480  MOVE      " 21",DIM3                  * Format Management Nt Line 21
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN490  MOVE      " 22",DIM3                  * Format Management Nt Line 22
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN500  MOVE      " 23",DIM3                  * Format Management Nt Line 23
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN510  MOVE      " 24",DIM3                  * Format Management Nt Line 24
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN520  MOVE      " 25",DIM3                  * Format Management Nt Line 25
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN530  MOVE      " 26",DIM3                  * Format Management Nt Line 26
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN540  MOVE      " 27",DIM3                  * Format Management Nt Line 27
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN550  MOVE      " 28",DIM3                  * Format Management Nt Line 28
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN560  MOVE      " 29",DIM3                  * Format Management Nt Line 29
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN570  MOVE      " 30",DIM3                  * Format Management Nt Line 30
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN580  MOVE      " 31",DIM3                  * Format Management Nt Line 31
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN590  MOVE      " 32",DIM3                  * Format Management Nt Line 32
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN600  MOVE      " 33",DIM3                  * Format Management Nt Line 33
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN610  MOVE      " 34",DIM3                  * Format Management Nt Line 34
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN620  MOVE      " 35",DIM3                  * Format Management Nt Line 35
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN630  MOVE      " 36",DIM3                  * Format Management Nt Line 36
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN640  MOVE      " 37",DIM3                  * Format Management Nt Line 37
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN650  MOVE      " 38",DIM3                  * Format Management Nt Line 38
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN660  MOVE      " 39",DIM3                  * Format Management Nt Line 39
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN670  MOVE      " 40",DIM3                  * Format Management Nt Line 40
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN680  MOVE      " 41",DIM3                  * Format Management Nt Line 41
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN690  MOVE      " 42",DIM3                  * Format Management Nt Line 42
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN700  MOVE      " 43",DIM3                  * Format Management Nt Line 43
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN710  MOVE      " 44",DIM3                  * Format Management Nt Line 44
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN720  MOVE      " 45",DIM3                  * Format Management Nt Line 45
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN730  MOVE      " 46",DIM3                  * Format Management Nt Line 46
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN740  MOVE      " 47",DIM3                  * Format Management Nt Line 47
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN750  MOVE      " 48",DIM3                  * Format Management Nt Line 48
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN760  MOVE      " 49",DIM3                  * Format Management Nt Line 49
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN770  MOVE      " 50",DIM3                  * Format Management Nt Line 50
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN780  MOVE      " 51",DIM3                  * Format Management Nt Line 51
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN790  MOVE      " 52",DIM3                  * Format Management Nt Line 52
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN800  MOVE      " 53",DIM3                  * Format Management Nt Line 53
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN810  MOVE      " 54",DIM3                  * Format Management Nt Line 54
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN820  MOVE      " 55",DIM3                  * Format Management Nt Line 55
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN830  MOVE      " 56",DIM3                  * Format Management Nt Line 56
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN840  MOVE      " 57",DIM3                  * Format Management Nt Line 57
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN850  MOVE      " 58",DIM3                  * Format Management Nt Line 58
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN860  MOVE      " 59",DIM3                  * Format Management Nt Line 59
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN870  MOVE      " 60",DIM3                  * Format Management Nt Line 60
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN880  MOVE      " 61",DIM3                  * Format Management Nt Line 61
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
PRNTN890  MOVE      " 62",DIM3                  * Format Management Nt Line 62
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTN999
.
.------- format process data fields (624 - xxx) ------
.
PRNTN900  CALL      PRNTP000                * process fields
          GOTO      PRNTF999
.
PRNTN999  RETURN
.------------------------------------------------------------
.   Process data fields (624 - 712)
.------------------------------------------------------------
PRNTP000  SUB       "89",FORM5
          BRANCH    FORM5,PRNTP010,PRNTP020,PRNTP030,PRNTP040,PRNTP050: * 624
                          PRNTP060,PRNTP070,PRNTP080,PRNTP090,PRNTP100: * 629
                          PRNTP110,PRNTP120,PRNTP130,PRNTP140,PRNTP150: * 634
                          PRNTP160,PRNTP170,PRNTP180,PRNTP190,PRNTP200: * 639
                          PRNTP210,PRNTP220,PRNTP230,PRNTP240,PRNTP250: * 644
                          PRNTP260,PRNTP270,PRNTP280,PRNTP290,PRNTP300: * 649
                          PRNTP310,PRNTP320,PRNTP330,PRNTP340,PRNTP350: * 654
                          PRNTP360,PRNTP370,PRNTP380,PRNTP390,PRNTP400: * 659
                          PRNTP410,PRNTP420,PRNTP430,PRNTP440,PRNTP450: * 664
                          PRNTP460,PRNTP470,PRNTP480,PRNTP490,PRNTP500: * 669
                          PRNTP510,PRNTP520,PRNTP530,PRNTP540,PRNTP550: * 674
                          PRNTP560,PRNTP570,PRNTP580,PRNTP590,PRNTP600: * 679
                          PRNTP610,PRNTP620,PRNTP630,PRNTP640,PRNTP650: * 684
                          PRNTP660,PRNTP670,PRNTP680,PRNTP690,PRNTP700: * 689
                          PRNTP710,PRNTP720,PRNTP730,PRNTP740,PRNTP750: * 694
                          PRNTP760,PRNTP770,PRNTP780,PRNTP790,PRNTP800: * 699
                          PRNTP810,PRNTP820,PRNTP830,PRNTP840,PRNTP850: * 704
                          PRNTP860,PRNTP870,PRNTP880,PRNTP890           * 709
.
          GOTO      PRNTP900
.
PRNTP010  MOVE      " 63",DIM3                  * Format Management Nt Line 63
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTP999
.
PRNTP020  MOVE      " 64",DIM3                  * Format Management Nt Line 64
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTP999
.
PRNTP030  MOVE      " 65",DIM3                  * Format Management Nt Line 65
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTP999
.
PRNTP040  MOVE      " 66",DIM3                  * Format Management Nt Line 66
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTP999
.
PRNTP050  MOVE      " 67",DIM3                  * Format Management Nt Line 67
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTP999
.
PRNTP060  MOVE      " 68",DIM3                  * Format Management Nt Line 68
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTP999
.
PRNTP070  MOVE      " 69",DIM3                  * Format Management Nt Line 69
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTP999
.
PRNTP080  MOVE      " 70",DIM3                  * Format Management Nt Line 70
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTP999
.
PRNTP090  MOVE      " 71",DIM3                  * Format Management Nt Line 71
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTP999
.
PRNTP100  MOVE      " 72",DIM3                  * Format Management Nt Line 72
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTP999
.
PRNTP110  MOVE      " 73",DIM3                  * Format Management Nt Line 73
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTP999
.
PRNTP120  MOVE      " 74",DIM3                  * Format Management Nt Line 74
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTP999
.
PRNTP130  MOVE      " 75",DIM3                  * Format Management Nt Line 75
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTP999
.
PRNTP140  MOVE      " 76",DIM3                  * Format Management Nt Line 76
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTP999
.
PRNTP150  MOVE      " 77",DIM3                  * Format Management Nt Line 77
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTP999
.
PRNTP160  MOVE      " 78",DIM3                  * Format Management Nt Line 78
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTP999
.
PRNTP170  MOVE      " 79",DIM3                  * Format Management Nt Line 79
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTP999
.
PRNTP180  MOVE      " 80",DIM3                  * Format Management Nt Line 80
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTP999
.
PRNTP190  MOVE      " 81",DIM3                  * Format Management Nt Line 81
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTP999
.
PRNTP200  MOVE      " 82",DIM3                  * Format Management Nt Line 82
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTP999
.
PRNTP210  MOVE      " 83",DIM3                  * Format Management Nt Line 83
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTP999
.
PRNTP220  MOVE      " 84",DIM3                  * Format Management Nt Line 84
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTP999
.
PRNTP230  MOVE      " 85",DIM3                  * Format Management Nt Line 85
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTP999
.
PRNTP240  MOVE      " 86",DIM3                  * Format Management Nt Line 86
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTP999
.
PRNTP250  MOVE      " 87",DIM3                  * Format Management Nt Line 87
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTP999
.
PRNTP260  MOVE      " 88",DIM3                  * Format Management Nt Line 88
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTP999
.
PRNTP270  MOVE      " 89",DIM3                  * Format Management Nt Line 89
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTP999
.
PRNTP280  MOVE      " 90",DIM3                  * Format Management Nt Line 90
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTP999
.
PRNTP290  MOVE      " 91",DIM3                  * Format Management Nt Line 91
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTP999
.
PRNTP300  MOVE      " 92",DIM3                  * Format Management Nt Line 92
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTP999
.
PRNTP310  MOVE      " 93",DIM3                  * Format Management Nt Line 93
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTP999
.
PRNTP320  MOVE      " 94",DIM3                  * Format Management Nt Line 94
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTP999
.
PRNTP330  MOVE      " 95",DIM3                  * Format Management Nt Line 95
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTP999
.
PRNTP340  MOVE      " 96",DIM3                  * Format Management Nt Line 96
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTP999
.
PRNTP350  MOVE      " 97",DIM3                  * Format Management Nt Line 97
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTP999
.
PRNTP360  MOVE      " 98",DIM3                  * Format Management Nt Line 98
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTP999
.
PRNTP370  MOVE      " 99",DIM3                  * Format Management Nt Line 99
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTP999
.
PRNTP380  MOVE      "100",DIM3                  * Format Management Nt Line 100
          CALL      PRVCM000                                          *I-50421
          GOTO      PRNTP999
.
PRNTP390  MATCH     "1",PMPXINTR                * Interpreter Required*I-54627
          IF        @EQUAL
            MOVE      "Yes",VARIABLE
          ELSE
            MATCH     "0",PMPXINTR
            IF        @EQUAL
              MOVE      "No",VARIABLE
            ELSE
              MOVE      "Not Stated",VARIABLE
            ENDIF
          ENDIF
          GOTO      PRNTP999
.
PRNTP400  MOVE      SP20,TDESC                  * Preferred Lang 1 Description
          MATCH     SP3,PMPXLNG1                                      *I-54627
          GOTO      PRNTP405 IF EQUAL
.
          PACK      KEY5,ANSL,ANSA,PMPXLNG1
          CALL      RDCODE1
          BRANCH    OVRCD OF PRNTP405
.
PRNTP405  MOVE      TDESC,VARIABLE
          GOTO      PRNTP999
.
PRNTP410  MOVE      SP20,TDESC                  * Preferred Lang 2 Description
          MATCH     SP3,PMPXLNG2                                      *I-54627
          GOTO      PRNTP415 IF EQUAL
.
          PACK      KEY5,ANSL,ANSA,PMPXLNG2
          CALL      RDCODE1
          BRANCH    OVRCD OF PRNTP415
.
PRNTP415  MOVE      TDESC,VARIABLE
          GOTO      PRNTP999
.
PRNTP420  MOVE      SP20,TDESC                  * Preferred Lang 3 Description
          MATCH     SP3,PMPXLNG3                                      *I-54627
          GOTO      PRNTP425 IF EQUAL
.
          PACK      KEY5,ANSL,ANSA,PMPXLNG3
          CALL      RDCODE1
          BRANCH    OVRCD OF PRNTP425
.
PRNTP425  MOVE      TDESC,VARIABLE
          GOTO      PRNTP999
.
PRNTP430  MOVE      SP20,TDESC                  * Aboriginality Description
          MATCH     SP3,PMPXABRG                                      *I-54627
          GOTO      PRNTP435 IF EQUAL
.
          PACK      KEY5,ANSV,ANSA,PMPXABRG
          CALL      RDCODE1
          BRANCH    OVRCD OF PRNTP435
.
PRNTP435  MOVE      TDESC,VARIABLE
          GOTO      PRNTP999
.
PRNTP440  MOVE      ONE,FORM1                   * Alert H1 1 Description
          MOVE      "H1",DIM2                                         *I-55214
          CALL      PRALR000                                          *I-54627
          GOTO      PRNTP999
.
PRNTP450  MOVE      TWO,FORM1                   * Alert H1 2 Description
          MOVE      "H1",DIM2                                         *I-55214
          CALL      PRALR000                                          *I-54627
          GOTO      PRNTP999
.
PRNTP460  MOVE      THREE,FORM1                 * Alert H1 3 Description
          MOVE      "H1",DIM2                                         *I-55214
          CALL      PRALR000                                          *I-54627
          GOTO      PRNTP999
.
PRNTP470  MOVE      FOUR,FORM1                  * Alert H1 4 Description
          MOVE      "H1",DIM2                                         *I-55214
          CALL      PRALR000                                          *I-54627
          GOTO      PRNTP999
.
PRNTP480  MOVE      FIVE,FORM1                  * Alert H1 5 Description
          MOVE      "H1",DIM2                                         *I-55214
          CALL      PRALR000                                          *I-54627
          GOTO      PRNTP999
.
PRNTP490  MOVE      SIX,FORM1                   * More Alert H1 Indicator
          MOVE      "H1",DIM2                                         *I-55214
          CALL      PRALR000                                          *I-54627
          GOTO      PRNTP999
.
PRNTP500  MOVE      ONE,FORM1                   * Alert H1 1 Code
          MOVE      "H1",DIM2                                         *I-55214
          CALL      PRALT000                                          *I-54627
          GOTO      PRNTP999
.
PRNTP510  MOVE      TWO,FORM1                   * Alert H1 2 Code
          MOVE      "H1",DIM2                                         *I-55214
          CALL      PRALT000                                          *I-54627
          GOTO      PRNTP999
.
PRNTP520  MOVE      THREE,FORM1                 * Alert H1 3 Code
          MOVE      "H1",DIM2                                         *I-55214
          CALL      PRALT000                                          *I-54627
          GOTO      PRNTP999
.
PRNTP530  MOVE      FOUR,FORM1                  * Alert H1 4 Code
          MOVE      "H1",DIM2                                         *I-55214
          CALL      PRALT000                                          *I-54627
          GOTO      PRNTP999
.
PRNTP540  MOVE      FIVE,FORM1                  * Alert H1 5 Code
          MOVE      "H1",DIM2                                         *I-55214
          CALL      PRALT000                                          *I-54627
          GOTO      PRNTP999
.
PRNTP550  MOVE      ONE,FORM1                   * Basic Observations 1 Time
          MOVE      ONE,FORM2                                         *I-54627
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTP999
.
PRNTP560  MOVE      ONE,FORM1                   * Basic Observations 1 Temp
          MOVE      TWO,FORM2                                         *I-54627
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTP999
.
PRNTP570  MOVE      ONE,FORM1                   * Basic Observations 1 Pulse
          MOVE      THREE,FORM2                                       *I-54627
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTP999
.
PRNTP580  MOVE      ONE,FORM1                   * Basic Observations 1 Resp Rate
          MOVE      FOUR,FORM2                                        *I-54627
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTP999
.
PRNTP590  MOVE      ONE,FORM1                   * Basic Observations 1 SYS BP
          MOVE      FIVE,FORM2                                        *I-54627
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTP999
.
PRNTP600  MOVE      ONE,FORM1                   * Basic Observations 1 DIA BP
          MOVE      SIX,FORM2                                         *I-54627
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTP999
.
PRNTP610  MOVE      ONE,FORM1                   * Basic Observations 1 Oxi SaO2
          MOVE      SEVEN,FORM2                                       *I-54627
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTP999
.
PRNTP620  MOVE      ONE,FORM1                   * Basic Observations 1 FO2
          MOVE      EIGHT,FORM2                                       *I-54627
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTP999
.
PRNTP630  MOVE      ONE,FORM1                   * Basic Observations 1 Peak Flow
          MOVE      NINE,FORM2                                        *I-54627
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTP999
.
PRNTP640  MOVE      ONE,FORM1                   * Basic Observations 1 PainScore
          MOVE      TEN,FORM2                                         *I-54627
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTP999
.
PRNTP650  MOVE      TWO,FORM1                   * Basic Observations 2 Time
          MOVE      ONE,FORM2                                         *I-54627
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTP999
.
PRNTP660  MOVE      TWO,FORM1                   * Basic Observations 2 Temp
          MOVE      TWO,FORM2                                         *I-54627
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTP999
.
PRNTP670  MOVE      TWO,FORM1                   * Basic Observations 2 Pulse
          MOVE      THREE,FORM2                                       *I-54627
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTP999
.
PRNTP680  MOVE      TWO,FORM1                   * Basic Observations 2 Resp Rate
          MOVE      FOUR,FORM2                                        *I-54627
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTP999
.
PRNTP690  MOVE      TWO,FORM1                   * Basic Observations 2 SYS BP
          MOVE      FIVE,FORM2                                        *I-54627
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTP999
.
PRNTP700  MOVE      TWO,FORM1                   * Basic Observations 2 DIA BP
          MOVE      SIX,FORM2                                         *I-54627
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTP999
.
PRNTP710  MOVE      TWO,FORM1                   * Basic Observations 2 Oxi SaO2
          MOVE      SEVEN,FORM2                                       *I-54627
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTP999
.
PRNTP720  MOVE      TWO,FORM1                   * Basic Observations 2 FO2
          MOVE      EIGHT,FORM2                                       *I-54627
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTP999
.
PRNTP730  MOVE      TWO,FORM1                   * Basic Observations 2 Peak Flow
          MOVE      NINE,FORM2                                        *I-54627
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTP999
.
PRNTP740  MOVE      TWO,FORM1                   * Basic Observations 2 PainScore
          MOVE      TEN,FORM2                                         *I-54627
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTP999
.
PRNTP750  MOVE      THREE,FORM1                 * Basic Observations 3 Time
          MOVE      ONE,FORM2                                         *I-54627
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTP999
.
PRNTP760  MOVE      THREE,FORM1                 * Basic Observations 3 Temp
          MOVE      TWO,FORM2                                         *I-54627
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTP999
.
PRNTP770  MOVE      THREE,FORM1                 * Basic Observations 3 Pulse
          MOVE      THREE,FORM2                                       *I-54627
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTP999
.
PRNTP780  MOVE      THREE,FORM1                 * Basic Observations 3 Resp Rate
          MOVE      FOUR,FORM2                                        *I-54627
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTP999
.
PRNTP790  MOVE      THREE,FORM1                 * Basic Observations 3 SYS BP
          MOVE      FIVE,FORM2                                        *I-54627
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTP999
.
PRNTP800  MOVE      THREE,FORM1                 * Basic Observations 3 DIA BP
          MOVE      SIX,FORM2                                         *I-54627
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTP999
.
PRNTP810  MOVE      THREE,FORM1                 * Basic Observations 3 Oxi SaO2
          MOVE      SEVEN,FORM2                                       *I-54627
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTP999
.
PRNTP820  MOVE      THREE,FORM1                 * Basic Observations 3 FO2
          MOVE      EIGHT,FORM2                                       *I-54627
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTP999
.
PRNTP830  MOVE      THREE,FORM1                 * Basic Observations 3 Peak Flow
          MOVE      NINE,FORM2                                        *I-54627
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTP999
.
PRNTP840  MOVE      THREE,FORM1                 * Basic Observations 3 PainScore
          MOVE      TEN,FORM2                                         *I-54627
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTP999
.
PRNTP850  MOVE      CSNAME,VARIABLE               * Company Name
          GOTO      PRNTP999                                          *I-54627
.
PRNTP860  MOVE      ONE,FORM1                     * Diagnosis 1
          MOVE      ONE,FORM1B
          CALL      PRDIA000                                          *I-54627
          GOTO      PRNTP999
.
PRNTP870  MOVE      TWO,FORM1                     * Diagnosis 2
          MOVE      ONE,FORM1B
          CALL      PRDIA000                                          *I-54627
          GOTO      PRNTP999
.
PRNTP880  MOVE      THREE,FORM1                   * Diagnosis 3
          MOVE      ONE,FORM1B
          CALL      PRDIA000                                          *I-54627
          GOTO      PRNTP999
.
PRNTP890  MOVE      FOUR,FORM1                    * Diagnosis 4
          MOVE      ONE,FORM1B
          CALL      PRDIA000                                          *I-54627
          GOTO      PRNTP999
.
.------- format process data fields (713 - xxx) ------
.
PRNTP900  CALL      PRNTQ000                * process fields
          GOTO      PRNTP999
.
PRNTP999  RETURN
.
.------------------------------------------------------------
.   Process data fields (713 - 801)                                   *I-54627
.------------------------------------------------------------
PRNTQ000  SUB       "89",FORM5
          BRANCH    FORM5,PRNTQ010,PRNTQ020,PRNTQ030,PRNTQ040,PRNTQ050:  * 713
                          PRNTQ060,PRNTQ070,PRNTQ080,PRNTQ090,PRNTQ100:  * 718
                          PRNTQ110,PRNTQ120,PRNTQ130,PRNTQ140,PRNTQ150:  * 723
                          PRNTQ160,PRNTQ170,PRNTQ180,PRNTQ190,PRNTQ200:  * 728
                          PRNTQ210,PRNTQ220,PRNTQ230,PRNTQ240,PRNTQ250:  * 733
                          PRNTQ260,PRNTQ270,PRNTQ280,PRNTQ290,PRNTQ300:  * 738
                          PRNTQ310,PRNTQ320,PRNTQ330,PRNTQ340,PRNTQ350:  * 743
                          PRNTQ360,PRNTQ370,PRNTQ380,PRNTQ390,PRNTQ400:  * 748
                          PRNTQ410,PRNTQ420,PRNTQ430,PRNTQ440,PRNTQ450:  * 753
                          PRNTQ460,PRNTQ470,PRNTQ480,PRNTQ490,PRNTQ500:  * 758
                          PRNTQ510,PRNTQ520,PRNTQ530,PRNTQ540,PRNTQ550:  * 763
                          PRNTQ560,PRNTQ570,PRNTQ580,PRNTQ590,PRNTQ600:  * 768
                          PRNTQ610,PRNTQ620,PRNTQ630,PRNTQ640,PRNTQ650:  * 773
                          PRNTQ660,PRNTQ670,PRNTQ680,PRNTQ690,PRNTQ700:  * 778
                          PRNTQ710,PRNTQ720,PRNTQ730,PRNTQ740,PRNTQ750:  * 783
                          PRNTQ760,PRNTQ770,PRNTQ780,PRNTQ790,PRNTQ800:  * 788
                          PRNTQ810,PRNTQ820,PRNTQ830,PRNTQ840,PRNTQ850:  * 793
                          PRNTQ860,PRNTQ870,PRNTQ880,PRNTQ890            * 798
.                                                                      *I-59548
          GOTO      PRNTQ900
.
PRNTQ010  MOVE      FIVE,FORM1                    * Diagnosis 5
          MOVE      ONE,FORM1B
          CALL      PRDIA000                                          *I-54627
          GOTO      PRNTQ999
.
PRNTQ020  MOVE      SIX,FORM1                     * Diagnosis 6
          MOVE      ONE,FORM1B
          CALL      PRDIA000                                          *I-54627
          GOTO      PRNTQ999
.
PRNTQ030  MOVE      SEVEN,FORM1                   * Diagnosis 7
          MOVE      ONE,FORM1B
          CALL      PRDIA000                                          *I-54627
          GOTO      PRNTQ999
.
PRNTQ040  MOVE      EIGHT,FORM1                   * Diagnosis 8
          MOVE      ONE,FORM1B
          CALL      PRDIA000                                          *I-54627
          GOTO      PRNTQ999
.
PRNTQ050  MOVE      NINE,FORM1                    * Diagnosis 9
          MOVE      ONE,FORM1B
          CALL      PRDIA000                                          *I-54627
          GOTO      PRNTQ999
.
PRNTQ060  MOVE      ONE,FORM1                     * Diagnosis 1 Description
          MOVE      ZERO,FORM1B
          CALL      PRDIA000                                          *I-54627
          GOTO      PRNTQ999
.
PRNTQ070  MOVE      TWO,FORM1                     * Diagnosis 2 Description
          MOVE      ZERO,FORM1B
          CALL      PRDIA000                                          *I-54627
          GOTO      PRNTQ999
.
PRNTQ080  MOVE      THREE,FORM1                   * Diagnosis 3 Description
          MOVE      ZERO,FORM1B
          CALL      PRDIA000                                          *I-54627
          GOTO      PRNTQ999
.
PRNTQ090  MOVE      FOUR,FORM1                    * Diagnosis 4 Description
          MOVE      ZERO,FORM1B
          CALL      PRDIA000                                          *I-54627
          GOTO      PRNTQ999
.
PRNTQ100  MOVE      FIVE,FORM1                    * Diagnosis 5 Description
          MOVE      ZERO,FORM1B
          CALL      PRDIA000                                          *I-54627
          GOTO      PRNTQ999
.
PRNTQ110  MOVE      SIX,FORM1                     * Diagnosis 6 Description
          MOVE      ZERO,FORM1B
          CALL      PRDIA000                                          *I-54627
          GOTO      PRNTQ999
.
PRNTQ120  MOVE      SEVEN,FORM1                   * Diagnosis 7 Description
          MOVE      ZERO,FORM1B
          CALL      PRDIA000                                          *I-54627
          GOTO      PRNTQ999
.
PRNTQ130  MOVE      EIGHT,FORM1                   * Diagnosis 8 Description
          MOVE      ZERO,FORM1B
          CALL      PRDIA000                                          *I-54627
          GOTO      PRNTQ999
.
PRNTQ140  MOVE      NINE,FORM1                    * Diagnosis 9 Description
          MOVE      ZERO,FORM1B
          CALL      PRDIA000                                          *I-54627
          GOTO      PRNTQ999
.
PRNTQ150  MOVE      "ALNUR",DIM5                  * First Seen Nurse Name
          CALL      PRFSE000                                          *I-54309
          GOTO      PRNTQ999
.
PRNTQ160  MOVE      "ALDOC",DIM5                  * First Seen Doctor Name
          CALL      PRFSE000                                          *I-54309
          GOTO      PRNTQ999
.
PRNTQ170  MATCH     "1",PMPXCRIN                  * Consent for info release
          IF        @EQUAL
            MOVE      "Yes",VARIABLE                                  *I-54627
          ELSE
            MATCH     "0",PMPXCRIN
            IF        @EQUAL
              MOVE      "No",VARIABLE
            ELSE
              MOVE      SP3,VARIABLE
            ENDIF
          ENDIF
          GOTO      PRNTQ999
.
PRNTQ180  MOVE      SP70,PMHCTITL              * HCP Title            *I-55214
          PACK      KEY10,PMPXRHC1,SP70
          CALL      RDPMHCP1
          MOVE      PMHCTITL,VARIABLE
          GOTO      PRNTQ999
.
PRNTQ190  MOVE      ZERO,PMVXPWGT              * Observations Weight  *I-55214
          PACK      KEY8,DEMVIADM,SP70
          CALL      RDPMVX11
          IF        PMVXPWGT=0
            MOVE      SP70,VARIABLE
          ELSE
            MOVE      PMVXPWGT,F6P2
            DIV       "100",F6P2
            MOVE      F6P2,VARIABLE
          ENDIF
          GOTO      PRNTQ999
.
PRNTQ200  MOVE      ONE,FORM1                  * Basic Observations 1 User Def 1
          MOVE      TEN1,FORM2                                       *I-55217
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ210  MOVE      ONE,FORM1                  * Basic Observations 1 Date
          MOVE      TEN2,FORM2                                       *I-55217
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ220  MOVE      TWO,FORM1                  * Basic Observations 2 User Def 1
          MOVE      TEN1,FORM2                                       *I-55217
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ230  MOVE      TWO,FORM1                  * Basic Observations 2 Date
          MOVE      TEN2,FORM2                                       *I-55217
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ240  MOVE      THREE,FORM1                * Basic Observations 3 User Def 1
          MOVE      TEN1,FORM2                                       *I-55217
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ250  MOVE      THREE,FORM1                * Basic Observations 3 Date
          MOVE      TEN2,FORM2                                       *I-55217
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ260  MOVE      ONE,FORM1                  * Neuro Observations 1 GCS-Total 
          MOVE      TEN3,FORM2                                       *I-55217
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ270  MOVE      TWO,FORM1                  * Neuro Observations 2 GCS-Total
          MOVE      TEN3,FORM2                                       *I-55217
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ280  MOVE      THREE,FORM1                * Neuro Observations 3 GCS-Total
          MOVE      TEN3,FORM2                                       *I-55217
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ290  MOVE      ONE,FORM1            * Neuro Observations 1 Pupil Size Left
          MOVE      TEN4,FORM2                                       *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ300  MOVE      TWO,FORM1            * Neuro Observations 2 Pupil Size Left
          MOVE      TEN4,FORM2                                       *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ310  MOVE      THREE,FORM1          * Neuro Observations 3 Pupil Size Left
          MOVE      TEN4,FORM2                                       *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ320  MOVE      ONE,FORM1            * Neuro Observations 1 Pupil Size Right
          MOVE      TEN5,FORM2                                       *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ330  MOVE      TWO,FORM1            * Neuro Observations 2 Pupil Size Right
          MOVE      TEN5,FORM2                                       *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ340  MOVE      THREE,FORM1          * Neuro Observations 3 Pupil Size Right
          MOVE      TEN5,FORM2                                       *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ350  MOVE      ONE,FORM1            * Neuro Observations 1 Pupil Rct Left
          MOVE      TEN6,FORM2                                       *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ360  MOVE      TWO,FORM1            * Neuro Observations 2 Pupil Rct Left
          MOVE      TEN6,FORM2                                       *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ370  MOVE      THREE,FORM1          * Neuro Observations 3 Pupil Rct Left
          MOVE      TEN6,FORM2                                       *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ380  MOVE      ONE,FORM1            * Neuro Observations 1 Pupil Rct Right
          MOVE      TEN7,FORM2                                       *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ390  MOVE      TWO,FORM1            * Neuro Observations 2 Pupil Rct Right
          MOVE      TEN7,FORM2                                       *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ400  MOVE      THREE,FORM1          * Neuro Observations 3 Pupil Rct Right
          MOVE      TEN7,FORM2                                       *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ410  MOVE      ONE,FORM1            * Neuro Observations 1 Limb Movement
          MOVE      TEN8,FORM2           * Left Arm                  *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ420  MOVE      TWO,FORM1            * Neuro Observations 2 Limb Movement  
          MOVE      TEN8,FORM2           * Left Arm                  *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ430  MOVE      THREE,FORM1          * Neuro Observations 3 Limb Movement
          MOVE      TEN8,FORM2           * Left Arm                  *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ440  MOVE      ONE,FORM1            * Neuro Observations 1 Limb Movement
          MOVE      TEN9,FORM2           * Right Arm                 *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ450  MOVE      TWO,FORM1            * Neuro Observations 2 Limb Movement
          MOVE      TEN9,FORM2           * Right Arm                 *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ460  MOVE      THREE,FORM1          * Neuro Observations 3 Limb Movement
          MOVE      TEN9,FORM2           * Right Arm                 *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ470  MOVE      ONE,FORM1            * Neuro Observations 1 Limb Movement
          MOVE      TWENTY,FORM2         * Left Leg                  *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ480  MOVE      TWO,FORM1            * Neuro Observations 2 Limb Movement
          MOVE      TWENTY,FORM2         * Left Leg                  *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ490  MOVE      THREE,FORM1          * Neuro Observations 3 Limb Movement
          MOVE      TWENTY,FORM2         * Left Leg                  *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ500  MOVE      ONE,FORM1            * Neuro Observations 1 Limb Movement
          MOVE      TWENTY1,FORM2        * Right Leg                 *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ510  MOVE      TWO,FORM1            * Neuro Observations 2 Limb Movement
          MOVE      TWENTY1,FORM2        * Right Leg                 *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ520  MOVE      THREE,FORM1          * Neuro Observations 3 Limb Movement
          MOVE      TWENTY1,FORM2        * Right Leg                 *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ530  MOVE      ONE,FORM1            * Neuro Observations 1 Time
          MOVE      ONE,FORM2                                        *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ540  MOVE      TWO,FORM1            * Neuro Observations 2 Time         
          MOVE      ONE,FORM2                                        *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ550  MOVE      THREE,FORM1          * Neuro Observations 3 Time
          MOVE      ONE,FORM2                                        *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ560  MOVE      ONE,FORM1            * Neuro Observations 1 Date
          MOVE      TEN2,FORM2                                       *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ570  MOVE      TWO,FORM1            * Neuro Observations 2 Date
          MOVE      TEN2,FORM2                                       *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ580  MOVE      THREE,FORM1          * Neuro Observations 3 Date
          MOVE      TEN2,FORM2                                       *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ590  MOVE      ONE,FORM1            * Neuro Observations 1 Actions/Comments
          MOVE      TWENTY6,FORM2        * Code                      *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ600  MOVE      TWO,FORM1            * Neuro Observations 2 Actions/Comments
          MOVE      TWENTY6,FORM2        * Code                      *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ610  MOVE      THREE,FORM1          * Neuro Observations 3 Actions/Comments
          MOVE      TWENTY6,FORM2        * Code                      *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ620  MOVE      ONE,FORM1            * Neuro Observations 1 Actions/Comments
          MOVE      TWENTY2,FORM2        * Description               *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ630  MOVE      TWO,FORM1            * Neuro Observations 2 Actions/Comments
          MOVE      TWENTY2,FORM2        * Description               *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ640  MOVE      THREE,FORM1          * Neuro Observations 3 Actions/Comments
          MOVE      TWENTY2,FORM2        * Description               *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ650  MOVE      ONE,FORM1            * Neuro Observations 1 Comments 1
          MOVE      TWENTY3,FORM2                                    *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ660  MOVE      TWO,FORM1            * Neuro Observations 2 Comments 1      
          MOVE      TWENTY3,FORM2                                    *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ670  MOVE      THREE,FORM1          * Neuro Observations 3 Comments 1
          MOVE      TWENTY3,FORM2                                    *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ680  MOVE      ONE,FORM1            * Neuro Observations 1 Comments 2
          MOVE      TWENTY4,FORM2                                    *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ690  MOVE      TWO,FORM1            * Neuro Observations 2 Comments 2
          MOVE      TWENTY4,FORM2                                    *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ700  MOVE      THREE,FORM1          * Neuro Observations 3 Comments 2
          MOVE      TWENTY4,FORM2                                    *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ710  MOVE      ONE,FORM1            * Neuro Observations 1 Comments 3
          MOVE      TWENTY5,FORM2                                    *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ720  MOVE      TWO,FORM1            * Neuro Observations 2 Comments 3
          MOVE      TWENTY5,FORM2                                    *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ730  MOVE      THREE,FORM1          * Neuro Observations 3 Comments 3
          MOVE      TWENTY5,FORM2                                    *I-59548
          MOVE      ANSN,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ740  MOVE      ONE,FORM1          * Fluids Observations 1 Time
          MOVE      ONE,FORM2                                    *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ750  MOVE      TWO,FORM1          * Fluids Observations 2 Time     
          MOVE      ONE,FORM2                                    *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ760  MOVE      THREE,FORM1        * Fluids Observations 3 Time
          MOVE      ONE,FORM2                                    *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ770  MOVE      ONE,FORM1          * Fluids Observations 1 Date
          MOVE      TEN2,FORM2                                   *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ780  MOVE      TWO,FORM1          * Fluids Observations 2 Date
          MOVE      TEN2,FORM2                                   *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ790  MOVE      THREE,FORM1        * Fluids Observations 3 Date
          MOVE      TEN2,FORM2                                   *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ800  MOVE      ONE,FORM1          * Fluids Observations 1 Input Type Code
          MOVE      TWENTY7,FORM2                                *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ810  MOVE      TWO,FORM1          * Fluids Observations 2 Input Type Code
          MOVE      TWENTY7,FORM2                                *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ820  MOVE      THREE,FORM1        * Fluids Observations 3 Input Type Code
          MOVE      TWENTY7,FORM2                                *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ830  MOVE      ONE,FORM1          * Fluids Observations 1 Input Type Desc
          MOVE      TWENTY8,FORM2                                *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ840  MOVE      TWO,FORM1          * Fluids Observations 2 Input Type Desc
          MOVE      TWENTY8,FORM2                                *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ850  MOVE      THREE,FORM1        * Fluids Observations 3 Input Type Desc
          MOVE      TWENTY8,FORM2                                *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ860  MOVE      ONE,FORM1          * Fluids Observations 1 Input Type Quant
          MOVE      TWENTY9,FORM2                                *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ870  MOVE      TWO,FORM1          * Fluids Observations 2 Input Type Quant
          MOVE      TWENTY9,FORM2                                *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ880  MOVE      THREE,FORM1        * Fluids Observations 3 Input Type Quant
          MOVE      TWENTY9,FORM2                                *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
PRNTQ890  MOVE      ONE,FORM1          * Fluids Observations 1 Output Type Code
          MOVE      THIRTY,FORM2                                *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTQ999
.
.------- format process data fields (802 - xxx) ------
.
PRNTQ900  CALL      PRNTR000                                    *I-59548
          GOTO      PRNTQ999
.
PRNTQ999  RETURN
.
.
.------------------------------------------------------------
.   Process data fields (802 - 890)                                   *I-59548
.------------------------------------------------------------
PRNTR000  SUB       "89",FORM5
          BRANCH    FORM5,PRNTR010,PRNTR020,PRNTR030,PRNTR040,PRNTR050:  * 802
                          PRNTR060,PRNTR070,PRNTR080,PRNTR090,PRNTR100:  * 807
                          PRNTR110,PRNTR120,PRNTR130,PRNTR140,PRNTR150:  * 812
                          PRNTR160,PRNTR170,PRNTR180,PRNTR190,PRNTR200:  * 817
                          PRNTR210,PRNTR220,PRNTR230,PRNTR240,PRNTR250:  * 822
                          PRNTR260,PRNTR270,PRNTR280,PRNTR290,PRNTR300:  * 827
                          PRNTR310,PRNTR320,PRNTR330,PRNTR340,PRNTR350:  * 832
                          PRNTR360,PRNTR370,PRNTR380,PRNTR390,PRNTR400:  * 837
                          PRNTR410,PRNTR420,PRNTR430,PRNTR440,PRNTR450:  * 842
                          PRNTR460,PRNTR470,PRNTR480,PRNTR490,PRNTR500:  * 847
                          PRNTR510,PRNTR520,PRNTR530,PRNTR540,PRNTR550:  * 852
                          PRNTR560,PRNTR570,PRNTR580,PRNTR590,PRNTR600:  * 857
                          PRNTR610,PRNTR620,PRNTR630,PRNTR640,PRNTR650:  * 862
                          PRNTR660,PRNTR670,PRNTR680,PRNTR690,PRNTR700:  * 867
                          PRNTR710,PRNTR720,PRNTR730,PRNTR740,PRNTR750:  * 872
                          PRNTR760,PRNTR770,PRNTR780,PRNTR790,PRNTR800:  * 877
                          PRNTR810,PRNTR820,PRNTR830,PRNTR840,PRNTR850:  * 882
                          PRNTR860,PRNTR870,PRNTR880,PRNTR890            * 887
.                                                                      *I-59548
          GOTO      PRNTR900
.
PRNTR010  MOVE      TWO,FORM1          * Fluids Observations 2 Output Type Code
          MOVE      THIRTY,FORM2                                *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTR999
.
PRNTR020  MOVE      THREE,FORM1        * Fluids Observations 3 Output Type Code
          MOVE      THIRTY,FORM2                                *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTR999
.
PRNTR030  MOVE      ONE,FORM1          * Fluids Observations 1 Output Type Desc
          MOVE      THIRTY1,FORM2                                *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTR999
.
PRNTR040  MOVE      TWO,FORM1          * Fluids Observations 2 Output Type Desc
          MOVE      THIRTY1,FORM2                                *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTR999
.
PRNTR050  MOVE      THREE,FORM1        * Fluids Observations 3 Output Type Desc
          MOVE      THIRTY1,FORM2                                *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTR999
.
PRNTR060  MOVE      ONE,FORM1          * Fluids Observations 1 Output Type Quant
          MOVE      THIRTY2,FORM2                                *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTR999
.
PRNTR070  MOVE      TWO,FORM1          * Fluids Observations 2 Output Type Quant
          MOVE      THIRTY2,FORM2                                *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTR999
.
PRNTR080  MOVE      THREE,FORM1        * Fluids Observations 3 Output Type Quant
          MOVE      THIRTY2,FORM2                                *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTR999
.
PRNTR090  MOVE      ONE,FORM1          * Fluids Observations 1 Actions/Comments
          MOVE      TWENTY6,FORM2      * Code                    *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTR999
.
PRNTR100  MOVE      TWO,FORM1          * Fluids Observations 2 Actions/Comments 
          MOVE      TWENTY6,FORM2      * Code                    *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTR999
.
PRNTR110  MOVE      THREE,FORM1        * Fluids Observations 3 Actions/Comments
          MOVE      TWENTY6,FORM2      * Code                    *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTR999
.
PRNTR120  MOVE      ONE,FORM1          * Fluids Observations 1 Actions/Comments
          MOVE      TWENTY2,FORM2      * Description             *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTR999
.
PRNTR130  MOVE      TWO,FORM1          * Fluids Observations 2 Actions/Comments
          MOVE      TWENTY2,FORM2      * Description             *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTR999
.
PRNTR140  MOVE      THREE,FORM1        * Fluids Observations 3 Actions/Comments
          MOVE      TWENTY2,FORM2      * Description             *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTR999
.
PRNTR150  MOVE      ONE,FORM1          * Fluids Observations 1 Comments 1
          MOVE      TWENTY3,FORM2                                *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTR999
.
PRNTR160  MOVE      TWO,FORM1          * Fluids Observations 2 Comments 1
          MOVE      TWENTY3,FORM2                                *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTR999
.
PRNTR170  MOVE      THREE,FORM1        * Fluids Observations 3 Comments 1
          MOVE      TWENTY3,FORM2                                *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTR999
.
PRNTR180  MOVE      ONE,FORM1          * Fluids Observations 1 Comments 2
          MOVE      TWENTY4,FORM2                                *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTR999
.
PRNTR190  MOVE      TWO,FORM1          * Fluids Observations 2 Comments 2
          MOVE      TWENTY4,FORM2                                *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTR999
.
PRNTR200  MOVE      THREE,FORM1        * Fluids Observations 3 Comments 2
          MOVE      TWENTY4,FORM2                                *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTR999
.
PRNTR210  MOVE      ONE,FORM1          * Fluids Observations 1 Comments 3
          MOVE      TWENTY5,FORM2                                *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTR999
.
PRNTR220  MOVE      TWO,FORM1          * Fluids Observations 2 Comments 3
          MOVE      TWENTY5,FORM2                                *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTR999
.
PRNTR230  MOVE      THREE,FORM1        * Fluids Observations 3 Comments 3
          MOVE      TWENTY5,FORM2                                *I-59548
          MOVE      ANSF,DIM3
          CALL      PROBS000
          GOTO      PRNTR999
.
PRNTR240  MOVE      ONE,FORM1                   * Alert H2 1 Description
          MOVE      "H2",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTR999
.
PRNTR250  MOVE      TWO,FORM1                   * Alert H2 2 Description
          MOVE      "H2",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTR999
.
PRNTR260  MOVE      THREE,FORM1                 * Alert H2 3 Description
          MOVE      "H2",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTR999
.
PRNTR270  MOVE      FOUR,FORM1                  * Alert H2 4 Description
          MOVE      "H2",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTR999
.
PRNTR280  MOVE      FIVE,FORM1                  * Alert H2 5 Description
          MOVE      "H2",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTR999
.
PRNTR290  MOVE      SIX,FORM1                   * More Alert H2 Indicator
          MOVE      "H2",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTR999
.
PRNTR300  MOVE      ONE,FORM1                   * Alert H2 1 Code
          MOVE      "H2",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTR999
.
PRNTR310  MOVE      TWO,FORM1                   * Alert H2 2 Code
          MOVE      "H2",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTR999
.
PRNTR320  MOVE      THREE,FORM1                 * Alert H2 3 Code
          MOVE      "H2",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTR999
.
PRNTR330  MOVE      FOUR,FORM1                  * Alert H2 4 Code
          MOVE      "H2",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTR999
.
PRNTR340  MOVE      FIVE,FORM1                  * Alert H2 5 Code
          MOVE      "H2",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTR999
.
PRNTR350  MOVE      ONE,FORM1                   * Alert H3 1 Description
          MOVE      "H3",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTR999
.
PRNTR360  MOVE      TWO,FORM1                   * Alert H3 2 Description
          MOVE      "H3",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTR999
.
PRNTR370  MOVE      THREE,FORM1                 * Alert H3 3 Description
          MOVE      "H3",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTR999
.
PRNTR380  MOVE      FOUR,FORM1                  * Alert H3 4 Description
          MOVE      "H3",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTR999
.
PRNTR390  MOVE      FIVE,FORM1                  * Alert H3 5 Description
          MOVE      "H3",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTR999
.
PRNTR400  MOVE      SIX,FORM1                   * More Alert H3 Indicator
          MOVE      "H3",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTR999
.
PRNTR410  MOVE      ONE,FORM1                   * Alert H3 1 Code
          MOVE      "H3",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTR999
.
PRNTR420  MOVE      TWO,FORM1                   * Alert H3 2 Code
          MOVE      "H3",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTR999
.
PRNTR430  MOVE      THREE,FORM1                 * Alert H3 3 Code
          MOVE      "H3",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTR999
.
PRNTR440  MOVE      FOUR,FORM1                  * Alert H3 4 Code
          MOVE      "H3",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTR999
.
PRNTR450  MOVE      FIVE,FORM1                  * Alert H3 5 Code
          MOVE      "H3",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTR999
.
PRNTR460  MOVE      ONE,FORM1                   * Alert H4 1 Description
          MOVE      "H4",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTR999
.
PRNTR470  MOVE      TWO,FORM1                   * Alert H4 2 Description
          MOVE      "H4",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTR999
.
PRNTR480  MOVE      THREE,FORM1                 * Alert H4 3 Description
          MOVE      "H4",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTR999
.
PRNTR490  MOVE      FOUR,FORM1                  * Alert H4 4 Description
          MOVE      "H4",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTR999
.
PRNTR500  MOVE      FIVE,FORM1                  * Alert H4 5 Description
          MOVE      "H4",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTR999
.
PRNTR510  MOVE      SIX,FORM1                   * More Alert H4 Indicator
          MOVE      "H4",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTR999
.
PRNTR520  MOVE      ONE,FORM1                   * Alert H4 1 Code
          MOVE      "H4",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTR999
.
PRNTR530  MOVE      TWO,FORM1                   * Alert H4 2 Code
          MOVE      "H4",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTR999
.
PRNTR540  MOVE      THREE,FORM1                 * Alert H4 3 Code
          MOVE      "H4",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTR999
.
PRNTR550  MOVE      FOUR,FORM1                  * Alert H4 4 Code
          MOVE      "H4",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTR999
.
PRNTR560  MOVE      FIVE,FORM1                  * Alert H4 5 Code
          MOVE      "H4",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTR999
.
PRNTR570  MOVE      ONE,FORM1                   * Alert H5 1 Description
          MOVE      "H5",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTR999
.
PRNTR580  MOVE      TWO,FORM1                   * Alert H5 2 Description
          MOVE      "H5",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTR999
.
PRNTR590  MOVE      THREE,FORM1                 * Alert H5 3 Description
          MOVE      "H5",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTR999
.
PRNTR600  MOVE      FOUR,FORM1                  * Alert H5 4 Description
          MOVE      "H5",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTR999
.
PRNTR610  MOVE      FIVE,FORM1                  * Alert H5 5 Description
          MOVE      "H5",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTR999
.
PRNTR620  MOVE      SIX,FORM1                   * More Alert H5 Indicator
          MOVE      "H5",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTR999
.
PRNTR630  MOVE      ONE,FORM1                   * Alert H5 1 Code
          MOVE      "H5",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTR999
.
PRNTR640  MOVE      TWO,FORM1                   * Alert H5 2 Code
          MOVE      "H5",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTR999
.
PRNTR650  MOVE      THREE,FORM1                 * Alert H5 3 Code
          MOVE      "H5",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTR999
.
PRNTR660  MOVE      FOUR,FORM1                  * Alert H5 4 Code
          MOVE      "H5",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTR999
.
PRNTR670  MOVE      FIVE,FORM1                  * Alert H5 5 Code
          MOVE      "H5",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTR999
.
PRNTR680  MOVE      ONE,FORM1                   * Alert H6 1 Description
          MOVE      "H6",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTR999
.
PRNTR690  MOVE      TWO,FORM1                   * Alert H6 2 Description
          MOVE      "H6",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTR999
.
PRNTR700  MOVE      THREE,FORM1                 * Alert H6 3 Description
          MOVE      "H6",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTR999
.
PRNTR710  MOVE      FOUR,FORM1                  * Alert H6 4 Description
          MOVE      "H6",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTR999
.
PRNTR720  MOVE      FIVE,FORM1                  * Alert H6 5 Description
          MOVE      "H6",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTR999
.
PRNTR730  MOVE      SIX,FORM1                   * More Alert H6 Indicator
          MOVE      "H6",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTR999
.
PRNTR740  MOVE      ONE,FORM1                   * Alert H6 1 Code
          MOVE      "H6",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTR999
.
PRNTR750  MOVE      TWO,FORM1                   * Alert H6 2 Code
          MOVE      "H6",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTR999
.
PRNTR760  MOVE      THREE,FORM1                 * Alert H6 3 Code
          MOVE      "H6",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTR999
.
PRNTR770  MOVE      FOUR,FORM1                  * Alert H6 4 Code
          MOVE      "H6",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTR999
.
PRNTR780  MOVE      FIVE,FORM1                  * Alert H6 5 Code
          MOVE      "H6",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTR999
.
PRNTR790  MOVE      ONE,FORM1                   * Alert H7 1 Description
          MOVE      "H7",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTR999
.
PRNTR800  MOVE      TWO,FORM1                   * Alert H7 2 Description
          MOVE      "H7",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTR999
.
PRNTR810  MOVE      THREE,FORM1                 * Alert H7 3 Description
          MOVE      "H7",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTR999
.
PRNTR820  MOVE      FOUR,FORM1                  * Alert H7 4 Description
          MOVE      "H7",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTR999
.
PRNTR830  MOVE      FIVE,FORM1                  * Alert H7 5 Description
          MOVE      "H7",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTR999
.
PRNTR840  MOVE      SIX,FORM1                   * More Alert H7 Indicator
          MOVE      "H7",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTR999
.
PRNTR850  MOVE      ONE,FORM1                   * Alert H7 1 Code
          MOVE      "H7",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTR999
.
PRNTR860  MOVE      TWO,FORM1                   * Alert H7 2 Code
          MOVE      "H7",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTR999
.
PRNTR870  MOVE      THREE,FORM1                 * Alert H7 3 Code
          MOVE      "H7",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTR999
.
PRNTR880  MOVE      FOUR,FORM1                  * Alert H7 4 Code
          MOVE      "H7",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTR999
.
PRNTR890  MOVE      FIVE,FORM1                  * Alert H7 5 Code
          MOVE      "H7",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTR999
.
.------- format process data fields (891 - xxx) ------
.
PRNTR900  CALL      PRNTS000                                          *I-55214
          GOTO      PRNTR999
.
PRNTR999  RETURN
+
.------------------------------------------------------------
.   Process data fields (891 - 979)                                   *I-55214
.------------------------------------------------------------
PRNTS000  SUB       "89",FORM5
          BRANCH    FORM5,PRNTS010,PRNTS020,PRNTS030,PRNTS040,PRNTS050:  * 891
                          PRNTS060,PRNTS070,PRNTS080,PRNTS090,PRNTS100:  * 896
                          PRNTS110,PRNTS120,PRNTS130,PRNTS140,PRNTS150:  * 901
                          PRNTS160,PRNTS170,PRNTS180,PRNTS190,PRNTS200:  * 906
                          PRNTS210,PRNTS220,PRNTS230,PRNTS240,PRNTS250:  * 911
                          PRNTS260,PRNTS270,PRNTS280,PRNTS290,PRNTS300:  * 916
                          PRNTS310,PRNTS320,PRNTS330,PRNTS340,PRNTS350:  * 921
                          PRNTS360,PRNTS370,PRNTS380,PRNTS390,PRNTS400:  * 926
                          PRNTS410,PRNTS420,PRNTS430,PRNTS440,PRNTS450:  * 931
                          PRNTS460,PRNTS470,PRNTS480,PRNTS490,PRNTS500:  * 936
                          PRNTS510,PRNTS520,PRNTS530,PRNTS540,PRNTS550:  * 941
                          PRNTS560,PRNTS570,PRNTS580,PRNTS590,PRNTS600:  * 946
                          PRNTS610,PRNTS620,PRNTS630,PRNTS640,PRNTS650:  * 951
                          PRNTS660,PRNTS670,PRNTS680,PRNTS690,PRNTS700:  * 956
                          PRNTS710,PRNTS720,PRNTS730,PRNTS740,PRNTS750:  * 961
                          PRNTS760,PRNTS770,PRNTS780,PRNTS790,PRNTS800:  * 966
                          PRNTS810,PRNTS820,PRNTS830,PRNTS840,PRNTS850:  * 971
                          PRNTS860,PRNTS870,PRNTS880,PRNTS890            * 976
.
          GOTO      PRNTS900
.
PRNTS010  MOVE      ONE,FORM1                   * Alert H8 1 Description
          MOVE      "H8",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTS999
.
PRNTS020  MOVE      TWO,FORM1                   * Alert H8 2 Description
          MOVE      "H8",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTS999
.
PRNTS030  MOVE      THREE,FORM1                 * Alert H8 3 Description
          MOVE      "H8",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTS999
.
PRNTS040  MOVE      FOUR,FORM1                  * Alert H8 4 Description
          MOVE      "H8",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTS999
.
PRNTS050  MOVE      FIVE,FORM1                  * Alert H8 5 Description
          MOVE      "H8",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTS999
.
PRNTS060  MOVE      SIX,FORM1                   * More Alert H8 Indicator
          MOVE      "H8",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTS999
.
PRNTS070  MOVE      ONE,FORM1                   * Alert H8 1 Code
          MOVE      "H8",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTS999
.
PRNTS080  MOVE      TWO,FORM1                   * Alert H8 2 Code
          MOVE      "H8",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTS999
.
PRNTS090  MOVE      THREE,FORM1                 * Alert H8 3 Code
          MOVE      "H8",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTS999
.
PRNTS100  MOVE      FOUR,FORM1                  * Alert H8 4 Code
          MOVE      "H8",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTS999
.
PRNTS110  MOVE      FIVE,FORM1                  * Alert H8 5 Code
          MOVE      "H8",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTS999
.
PRNTS120  MOVE      ONE,FORM1                   * Alert H9 1 Description
          MOVE      "H9",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTS999
.
PRNTS130  MOVE      TWO,FORM1                   * Alert H9 2 Description
          MOVE      "H9",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTS999
.
PRNTS140  MOVE      THREE,FORM1                 * Alert H9 3 Description
          MOVE      "H9",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTS999
.
PRNTS150  MOVE      FOUR,FORM1                  * Alert H9 4 Description
          MOVE      "H9",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTS999
.
PRNTS160  MOVE      FIVE,FORM1                  * Alert H9 5 Description
          MOVE      "H9",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTS999
.
PRNTS170  MOVE      SIX,FORM1                   * More Alert H9 Indicator
          MOVE      "H9",DIM2                                         *I-55214
          CALL      PRALR000
          GOTO      PRNTS999
.
PRNTS180  MOVE      ONE,FORM1                   * Alert H9 1 Code
          MOVE      "H9",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTS999
.
PRNTS190  MOVE      TWO,FORM1                   * Alert H9 2 Code
          MOVE      "H9",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTS999
.
PRNTS200  MOVE      THREE,FORM1                 * Alert H9 3 Code
          MOVE      "H9",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTS999
.
PRNTS210  MOVE      FOUR,FORM1                  * Alert H9 4 Code
          MOVE      "H9",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTS999
.
PRNTS220  MOVE      FIVE,FORM1                  * Alert H9 5 Code
          MOVE      "H9",DIM2                                         *I-55214
          CALL      PRALT000
          GOTO      PRNTS999
.
PRNTS230  MOVE      PSNAME,PACSNAME             * Patient Name Title  *I-60700
          MOVE      PGNAME,PACGNAME             * Formatted
          MOVE      PTITL,PACTITLE
          MOVE      ONE,PACFRMT
          CALL      PACNAME
          MOVE      PACFNAME,VARIABLE
          MOVE      VARIABLE,LINE60
          CALL      CASE0000
          MOVE      LINE60,VARIABLE
          GOTO      PRNTS999
.
PRNTS240  PACK      PMHCSEML,SP70
          PACK      KEY10,PMPXRHC1,SP70
          CALL      RDPMHCP1
          MOVE      PMHCSEML,VARIABLE
          GOTO      PRNTS999
.
.------ Local GP Preferred Method of Contact code (Cat CZ)
.
PRNTS250  MOVE      SP70,VARIABLE
          MATCH     SP10,PMPXRHC1
          IF        !@EQUAL
            PACK      KEY10,PMPXRHC1,SP70
            CALL      RDPMHCP1
            IF        OVRCD = 0
              MOVE      PMHCPRFC,VARIABLE
            ENDIF
          ENDIF
          GOTO      PRNTS999
.
.-------- Local GP Preferred Method of Contact description (Cat CZ)
.
PRNTS260  MOVE      SP70,VARIABLE
          MATCH     SP10,PMPXRHC1
          IF        !@EQUAL
            PACK      KEY10,PMPXRHC1,SP70
            CALL      RDPMHCP1
            IF        OVRCD = 0
              MATCH     SP70,PMHCPRFC
              IF        !@EQUAL
                PACK      KEY5,ANSC,ANSZ,PMHCPRFC,SP10
                CALL      RDCODE1
                IF        OVRCD = 0
                  MOVE      TDESC,VARIABLE
                ENDIF
              ENDIF
            ENDIF   
          ENDIF     
          GOTO      PRNTS999
.
PRNTS270  PACK      PMHGPRAC,SP70
          MOVE      ONE,F2                           * HCP Practice Code
          CALL      PRHCG000
          GOTO      PRNTS999
.
PRNTS280  PACK      PMHGPNAM,SP70
          MOVE      TWO,F2                           * HCP Practice Name
          CALL      PRHCG000
          GOTO      PRNTS999
.
PRNTS290  PACK      PMHGADD1,SP70
          MOVE      THREE,F2                         * HCP Practice Address 1
          CALL      PRHCG000
          GOTO      PRNTS999
.
PRNTS300  PACK      PMHGADD2,SP70
          MOVE      FOUR,F2                          * HCP Practice Address 2
          CALL      PRHCG000
          GOTO      PRNTS999
.
PRNTS310  PACK      PMHGADD3,SP70
          MOVE      FIVE,F2                          * HCP Practice Address 3
          CALL      PRHCG000
          GOTO      PRNTS999
.
PRNTS320  PACK      PMHGADD4,SP70
          MOVE      SIX,F2                           * HCP Practice Address 4
          CALL      PRHCG000
          GOTO      PRNTS999
.
PRNTS330  PACK      PMHGADD5,SP70
          MOVE      SEVEN,F2                         * HCP Practice Address 5
          CALL      PRHCG000
          GOTO      PRNTS999
.
PRNTS340  PACK      PMHGADD6,SP70
          MOVE      EIGHT,F2                         * HCP Practice Address 6
          CALL      PRHCG000
          GOTO      PRNTS999
.
PRNTS350  PACK      PMHGPTEL,SP70
          MOVE      NINE,F2                          * HCP Practice Tel. No.
          CALL      PRHCG000
          GOTO      PRNTS999
.
PRNTS360  PACK      PMHGPFAX,SP70
          MOVE      TEN,F2                           * HCP Practice Fax No. 
          CALL      PRHCG000
          GOTO      PRNTS999
.
PRNTS370  PACK      PMHGPPNO,SP70
          MOVE      TEN1,F2                          * HCP Practice Prov No. 
          CALL      PRHCG000
          GOTO      PRNTS999
.
PRNTS380  PACK      PMHCMOBN,SP70
          MOVE      ONE,F2                           * Local GP Mobile Number
          CALL      PRHCP000
          GOTO      PRNTS999
.
PRNTS390  PACK      PMHCPAGR,SP70
          MOVE      TWO,F2                           * Local GP Pager Tel. No.
          CALL      PRHCP000
          GOTO      PRNTS999
.
PRNTS400  PACK      PMHCPAGN,SP70
          MOVE      THREE,F2                         * Local GP Pager No.
          CALL      PRHCP000
          GOTO      PRNTS999
.
PRNTS410  PACK      PMHCPRV1,SP70
          MOVE      FOUR,F2                          * Local GP Provider No.
          CALL      PRHCP000
          GOTO      PRNTS999
.
PRNTS420  PACK      PMHCTITL,SP70
          PACK      PMHCGNAM,SP70
          PACK      PMHCSNAM,SP70
          MOVE      FIVE,F2                          * Local GP Formatted full
          CALL      PRHCP000                         * name
          GOTO      PRNTS999
.
PRNTS430  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "1",CONTTYPE          * Next of Kin
            CALL      XCON0000              * Get extra contact details
            MOVE      PMCETELM,VARIABLE
          ELSE
            MOVE      PMPXKMOB,VARIABLE                * Next of Kin Mobile
          ENDIF
          GOTO      PRNTS999
.
PRNTS440  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "1",CONTTYPE          * Next of Kin
            CALL      XCON0000              * Get extra contact details
            MOVE      PMCEEMAI,VARIABLE
          ELSE
            MOVE      PMPXKEML,VARIABLE                * Next of Kin Email
          ENDIF
          GOTO      PRNTS999
.
PRNTS450  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "3",CONTTYPE          * Emergency Contact
            CALL      XCON0000              * Get extra contact details
            MOVE      PMCETELM,VARIABLE
          ELSE
            MOVE      PMPXCMOB,VARIABLE              * Emergency Contact Mobile
          ENDIF
          GOTO      PRNTS999
.
PRNTS460  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "3",CONTTYPE          * Emergency Contact
            CALL      XCON0000              * Get extra contact details
            MOVE      PMCEEMAI,VARIABLE
          ELSE
            MOVE      PMPXCEML,VARIABLE                * Emergency Contact Email
          ENDIF
          GOTO      PRNTS999
.
PRNTS470  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "8",CONTTYPE          * Nearest Relative  
            CALL      XCON0000              * Get extra contact details
            MOVE      PMCETELM,VARIABLE
          ELSE
            MOVE      PMPXRMOB,VARIABLE                * Nearest Relative Mobile
          ENDIF
          GOTO      PRNTS999
.
PRNTS480  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "8",CONTTYPE          * Nearest Relative
            CALL      XCON0000              * Get extra contact details
            MOVE      PMCEEMAI,VARIABLE
          ELSE
            MOVE      PMPXREML,VARIABLE                * Nearest Relative Email
          ENDIF
          GOTO      PRNTS999
.
PRNTS490  COMPARE   ONE,PTCNNHII                  * make sure NHI is ON
          GOTO      PRNTS999 IF NOT EQUAL
          PACK      VARIABLE,SP70,SP70            * Resident Status (NHI only)
          MATCH     "Y",NHMARES
          IF        @EQUAL
            PACK      VARIABLE,DYES,SP70,SP70
          ENDIF
          MATCH     "N",NHMARES
          IF        @EQUAL
            PACK      VARIABLE,DNO,SP70,SP70
          ENDIF
          GOTO      PRNTS999
.
PRNTS500  COMPARE   ONE,PTCNNHII                  * make sure NHI is ON
          GOTO      PRNTS999 IF NOT EQUAL
          PACK      VARIABLE,NHMAETH,SP70,SP70    * Ethnicity code (NHI only)
          GOTO      PRNTS999
.
PRNTS510  COMPARE   ONE,PTCNNHII                  * make sure NHI is ON
          GOTO      PRNTS999 IF NOT EQUAL
          MATCH     SP5,NHMAETH                   * Ethnicity desc (NHI only)
          IF        @EQUAL
            PACK      VARIABLE,SP70,SP70
            GOTO      PRNTS999
          ENDIF
          OPEN      NHIETHA1,"nhiethaf"
          MOVE      SP30,NHETDES
          PACK      KEY5,NHMAETH,SP70
          CALL      RDNHETH1
          PACK      VARIABLE,NHETDES,SP70,SP70
          GOTO      PRNTS999
.
PRNTS520  COMPARE   ONE,PTCNNHII                  * make sure NHI is ON
          GOTO      PRNTS999 IF NOT EQUAL
          PACK      VARIABLE,NHMAETH2,SP70,SP70   * Ethnicity code (NHI only)
          GOTO      PRNTS999
.
PRNTS530  COMPARE   ONE,PTCNNHII                  * make sure NHI is ON
          GOTO      PRNTS999 IF NOT EQUAL
          MATCH     SP5,NHMAETH2                  * Ethnicity desc (NHI only)
          IF        @EQUAL
            PACK      VARIABLE,SP70,SP70
            GOTO      PRNTS999
          ENDIF
          OPEN      NHIETHA1,"nhiethaf"
          MOVE      SP30,NHETDES
          PACK      KEY5,NHMAETH2,SP70
          CALL      RDNHETH1
          PACK      VARIABLE,NHETDES,SP70,SP70
          GOTO      PRNTS999
.
PRNTS540  COMPARE   ONE,PTCNNHII                  * make sure NHI is ON
          GOTO      PRNTS999 IF NOT EQUAL
          PACK      VARIABLE,NHMAETH3,SP70,SP70   * Ethnicity code (NHI only)
          GOTO      PRNTS999
.
PRNTS550  COMPARE   ONE,PTCNNHII                  * make sure NHI is ON
          GOTO      PRNTS999 IF NOT EQUAL
          MATCH     SP5,NHMAETH3                  * Ethnicity desc (NHI only)
          IF        @EQUAL
            PACK      VARIABLE,SP70,SP70
            GOTO      PRNTS999
          ENDIF
          OPEN      NHIETHA1,"nhiethaf"
          MOVE      SP30,NHETDES
          PACK      KEY5,NHMAETH3,SP70
          CALL      RDNHETH1
          PACK      VARIABLE,NHETDES,SP70,SP70
          GOTO      PRNTS999
.
PRNTS560  MOVE      ONE,FORM1                     * Alert H1 Code 1 Comment 1
          MOVE      "H1",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTS999
.
PRNTS570  MOVE      ONE,FORM1                     * Alert H1 Code 1 Comment 2
          MOVE      "H1",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTS999
.
PRNTS580  MOVE      TWO,FORM1                     * Alert H1 Code 2 Comment 1
          MOVE      "H1",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTS999
.
PRNTS590  MOVE      TWO,FORM1                     * Alert H1 Code 2 Comment 2
          MOVE      "H1",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTS999
.
PRNTS600  MOVE      THREE,FORM1                   * Alert H1 Code 3 Comment 1
          MOVE      "H1",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTS999
.
PRNTS610  MOVE      THREE,FORM1                   * Alert H1 Code 3 Comment 2
          MOVE      "H1",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTS999
.
PRNTS620  MOVE      FOUR,FORM1                    * Alert H1 Code 4 Comment 1
          MOVE      "H1",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTS999
.
PRNTS630  MOVE      FOUR,FORM1                    * Alert H1 Code 4 Comment 2
          MOVE      "H1",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTS999
.
PRNTS640  MOVE      FIVE,FORM1                    * Alert H1 Code 5 Comment 1
          MOVE      "H1",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTS999
.         
PRNTS650  MOVE      FIVE,FORM1                    * Alert H1 Code 5 Comment 2
          MOVE      "H1",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTS999
.
PRNTS660  MOVE      ONE,FORM1                     * Alert H2 Code 1 Comment 1
          MOVE      "H2",DIM2                     
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTS999
.
PRNTS670  MOVE      ONE,FORM1                     * Alert H2 Code 1 Comment 2
          MOVE      "H2",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTS999
.
PRNTS680  MOVE      TWO,FORM1                     * Alert H2 Code 2 Comment 1
          MOVE      "H2",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTS999
.
PRNTS690  MOVE      TWO,FORM1                     * Alert H2 Code 2 Comment 2
          MOVE      "H2",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTS999
.
PRNTS700  MOVE      THREE,FORM1                   * Alert H2 Code 3 Comment 1
          MOVE      "H2",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTS999
.
PRNTS710  MOVE      THREE,FORM1                   * Alert H2 Code 3 Comment 2
          MOVE      "H2",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTS999
.
PRNTS720  MOVE      FOUR,FORM1                    * Alert H2 Code 4 Comment 1
          MOVE      "H2",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTS999
.
PRNTS730  MOVE      FOUR,FORM1                    * Alert H2 Code 4 Comment 2
          MOVE      "H2",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTS999
.
PRNTS740  MOVE      FIVE,FORM1                    * Alert H2 Code 5 Comment 1
          MOVE      "H2",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTS999
.
PRNTS750  MOVE      FIVE,FORM1                    * Alert H2 Code 5 Comment 2
          MOVE      "H2",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTS999
.
PRNTS760  MOVE      ONE,FORM1                     * Alert H3 Code 1 Comment 1
          MOVE      "H3",DIM2                     
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTS999
.         
PRNTS770  MOVE      ONE,FORM1                     * Alert H3 Code 1 Comment 2
          MOVE      "H3",DIM2                     
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTS999
.
PRNTS780  MOVE      TWO,FORM1                     * Alert H3 Code 2 Comment 1
          MOVE      "H3",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTS999
.
PRNTS790  MOVE      TWO,FORM1                     * Alert H3 Code 2 Comment 2
          MOVE      "H3",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTS999
.
PRNTS800  MOVE      THREE,FORM1                   * Alert H3 Code 3 Comment 1
          MOVE      "H3",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTS999
.
PRNTS810  MOVE      THREE,FORM1                   * Alert H3 Code 3 Comment 2
          MOVE      "H3",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTS999
.
PRNTS820  MOVE      FOUR,FORM1                    * Alert H3 Code 4 Comment 1
          MOVE      "H3",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTS999
.
PRNTS830  MOVE      FOUR,FORM1                    * Alert H3 Code 4 Comment 2
          MOVE      "H3",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTS999
.
PRNTS840  MOVE      FIVE,FORM1                    * Alert H3 Code 5 Comment 1
          MOVE      "H3",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTS999
.
PRNTS850  MOVE      FIVE,FORM1                    * Alert H3 Code 5 Comment 2
          MOVE      "H3",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTS999
.
PRNTS860  MOVE      ONE,FORM1                     * Alert H4 Code 1 Comment 1
          MOVE      "H4",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTS999
.
PRNTS870  MOVE      ONE,FORM1                     * Alert H4 Code 1 Comment 2
          MOVE      "H4",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTS999
.
PRNTS880  MOVE      TWO,FORM1                     * Alert H4 Code 2 Comment 1
          MOVE      "H4",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTS999
.
PRNTS890  MOVE      TWO,FORM1                     * Alert H4 Code 2 Comment 2
          MOVE      "H4",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTS999
.
.------- format process data fields (980 - xxx) ------
.
PRNTS900  CALL      PRNTT000
          GOTO      PRNTS999
.
PRNTS999  RETURN
.
.------------------------------------------------------------
.   Process data fields (980 - 1129)
.------------------------------------------------------------         
PRNTT000  SUB       "89",FORM5
          BRANCH    FORM5,PRNTT010,PRNTT020,PRNTT030,PRNTT040,PRNTT050:  * 984
                          PRNTT060,PRNTT070,PRNTT080,PRNTT090,PRNTT100:  * 989
                          PRNTT110,PRNTT120,PRNTT130,PRNTT140,PRNTT150:  * 994
                          PRNTT160,PRNTT170,PRNTT180,PRNTT190,PRNTT200:  * 999
                          PRNTT210,PRNTT220,PRNTT230,PRNTT240,PRNTT250:  * 1004
                          PRNTT260,PRNTT270,PRNTT280,PRNTT290,PRNTT300:  * 1009
                          PRNTT310,PRNTT320,PRNTT330,PRNTT340,PRNTT350:  * 1014
                          PRNTT360,PRNTT370,PRNTT380,PRNTT390,PRNTT400:  * 1019
                          PRNTT410,PRNTT420,PRNTT430,PRNTT440,PRNTT450:  * 1024
                          PRNTT460,PRNTT470,PRNTT480,PRNTT490,PRNTT500:  * 1029
                          PRNTT510,PRNTT520,PRNTT530,PRNTT540,PRNTT550:  * 1034
                          PRNTT560,PRNTT570,PRNTT580,PRNTT590,PRNTT600:  * 1039
                          PRNTT610,PRNTT620,PRNTT630,PRNTT640,PRNTT650:  * 1044
                          PRNTT660,PRNTT670,PRNTT680,PRNTT690,PRNTT700:  * 1049
                          PRNTT710,PRNTT720,PRNTT730,PRNTT740,PRNTT750:  * 1054
                          PRNTT760,PRNTT770,PRNTT780,PRNTT790,PRNTT800:  * 1059
                          PRNTT810,PRNTT820,PRNTT830,PRNTT840,PRNTT850:  * 1064
                          PRNTT860,PRNTT870,PRNTT880,PRNTT890,PRNTT900:  * 1069
                          PRNTT910,PRNTT920,PRNTT930,PRNTT940,PRNTT941:  * 1074
                          PRNTT942,PRNTT943,PRNTT944,PRNTT945,PRNTT946:  * 1079
                          PRNTT947,PRNTT948,PRNTT949,PRNTT950,PRNTT951:  * 1084
                          PRNTT952,PRNTT953,PRNTT954,PRNTT955,PRNTT956:  * 1089
                          PRNTT957,PRNTT958,PRNTT959,PRNTT960,PRNTT961:  * 1094
                          PRNTT962,PRNTT963,PRNTT964,PRNTT965,PRNTT966:  * 1099
                          PRNTT967,PRNTT968,PRNTT969,PRNTT970,PRNTT971:  * 1104
                          PRNTT972,PRNTT973,PRNTT974,PRNTT975,PRNTT976:  * 1109
                          PRNTT977,PRNTT978,PRNTT979,PRNTT980,PRNTT981:  * 1114
                          PRNTT982,PRNTT983,PRNTT984,PRNTT985,PRNTT986:  * 1119
                          PRNTT987,PRNTT988,PRNTT989,PRNTT990,PRNTT991:  * 1124
                          PRNTT992,PRNTT993,PRNTT994,PRNTT995,PRNTT996   * 1129
.
          GOTO      PRNTT998
.
PRNTT010  MOVE      THREE,FORM1                   * Alert H4 Code 3 Comment 1
          MOVE      "H4",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT020  MOVE      THREE,FORM1                   * Alert H4 Code 3 Comment 2
          MOVE      "H4",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT030  MOVE      FOUR,FORM1                    * Alert H4 Code 4 Comment 1
          MOVE      "H4",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT040  MOVE      FOUR,FORM1                    * Alert H4 Code 4 Comment 2
          MOVE      "H4",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT050  MOVE      FIVE,FORM1                    * Alert H4 Code 5 Comment 1
          MOVE      "H4",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT060  MOVE      FIVE,FORM1                    * Alert H4 Code 5 Comment 2
          MOVE      "H4",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT070  MOVE      ONE,FORM1                     * Alert H5 Code 1 Comment 1
          MOVE      "H5",DIM2                     
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.         
PRNTT080  MOVE      ONE,FORM1                     * Alert H5 Code 1 Comment 2
          MOVE      "H5",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT090  MOVE      TWO,FORM1                     * Alert H5 Code 2 Comment 1
          MOVE      "H5",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT100  MOVE      TWO,FORM1                     * Alert H5 Code 2 Comment 2
          MOVE      "H5",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT110  MOVE      THREE,FORM1                   * Alert H5 Code 3 Comment 1
          MOVE      "H5",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT120  MOVE      THREE,FORM1                   * Alert H5 Code 3 Comment 2
          MOVE      "H5",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT130  MOVE      FOUR,FORM1                    * Alert H5 Code 4 Comment 1
          MOVE      "H5",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT140  MOVE      FOUR,FORM1                    * Alert H5 Code 4 Comment 2
          MOVE      "H5",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT150  MOVE      FIVE,FORM1                    * Alert H5 Code 5 Comment 1
          MOVE      "H5",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT160  MOVE      FIVE,FORM1                    * Alert H5 Code 5 Comment 2
          MOVE      "H5",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT170  MOVE      ONE,FORM1                     * Alert H6 Code 1 Comment 1
          MOVE      "H6",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT180  MOVE      ONE,FORM1                     * Alert H6 Code 1 Comment 2
          MOVE      "H6",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT190  MOVE      TWO,FORM1                     * Alert H6 Code 2 Comment 1
          MOVE      "H6",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT200  MOVE      TWO,FORM1                     * Alert H6 Code 2 Comment 2
          MOVE      "H6",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT210  MOVE      THREE,FORM1                   * Alert H6 Code 3 Comment 1
          MOVE      "H6",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT220  MOVE      THREE,FORM1                   * Alert H6 Code 3 Comment 2
          MOVE      "H6",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT230  MOVE      FOUR,FORM1                    * Alert H6 Code 4 Comment 1
          MOVE      "H6",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT240  MOVE      FOUR,FORM1                    * Alert H6 Code 4 Comment 2
          MOVE      "H6",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT250  MOVE      FIVE,FORM1                    * Alert H6 Code 5 Comment 1
          MOVE      "H6",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT260  MOVE      FIVE,FORM1                    * Alert H6 Code 5 Comment 2
          MOVE      "H6",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT270  MOVE      ONE,FORM1                     * Alert H7 Code 1 Comment 1
          MOVE      "H7",DIM2                     
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT280  MOVE      ONE,FORM1                     * Alert H7 Code 1 Comment 2
          MOVE      "H7",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT290  MOVE      TWO,FORM1                     * Alert H7 Code 2 Comment 1
          MOVE      "H7",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT300  MOVE      TWO,FORM1                     * Alert H7 Code 2 Comment 2
          MOVE      "H7",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT310  MOVE      THREE,FORM1                   * Alert H7 Code 3 Comment 1
          MOVE      "H7",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT320  MOVE      THREE,FORM1                   * Alert H7 Code 3 Comment 2
          MOVE      "H7",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT330  MOVE      FOUR,FORM1                    * Alert H7 Code 4 Comment 1
          MOVE      "H7",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT340  MOVE      FOUR,FORM1                    * Alert H7 Code 4 Comment 2
          MOVE      "H7",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT350  MOVE      FIVE,FORM1                    * Alert H7 Code 5 Comment 1
          MOVE      "H7",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT360  MOVE      FIVE,FORM1                    * Alert H7 Code 5 Comment 2
          MOVE      "H7",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT370  MOVE      ONE,FORM1                     * Alert H8 Code 1 Comment 1
          MOVE      "H8",DIM2                     
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT380  MOVE      ONE,FORM1                     * Alert H8 Code 1 Comment 2
          MOVE      "H8",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT390  MOVE      TWO,FORM1                     * Alert H8 Code 2 Comment 1
          MOVE      "H8",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT400  MOVE      TWO,FORM1                     * Alert H8 Code 2 Comment 2
          MOVE      "H8",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT410  MOVE      THREE,FORM1                   * Alert H8 Code 3 Comment 1
          MOVE      "H8",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT420  MOVE      THREE,FORM1                   * Alert H8 Code 3 Comment 2
          MOVE      "H8",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT430  MOVE      FOUR,FORM1                    * Alert H8 Code 4 Comment 1
          MOVE      "H8",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT440  MOVE      FOUR,FORM1                    * Alert H8 Code 4 Comment 2
          MOVE      "H8",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT450  MOVE      FIVE,FORM1                    * Alert H8 Code 5 Comment 1
          MOVE      "H8",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT460  MOVE      FIVE,FORM1                    * Alert H8 Code 5 Comment 2
          MOVE      "H8",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT470  MOVE      ONE,FORM1                     * Alert H9 Code 1 Comment 1
          MOVE      "H9",DIM2                     
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT480  MOVE      ONE,FORM1                     * Alert H9 Code 1 Comment 2
          MOVE      "H9",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT490  MOVE      TWO,FORM1                     * Alert H9 Code 2 Comment 1
          MOVE      "H9",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT500  MOVE      TWO,FORM1                     * Alert H9 Code 2 Comment 2
          MOVE      "H9",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT510  MOVE      THREE,FORM1                   * Alert H9 Code 3 Comment 1
          MOVE      "H9",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT520  MOVE      THREE,FORM1                   * Alert H9 Code 3 Comment 2
          MOVE      "H9",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT530  MOVE      FOUR,FORM1                    * Alert H9 Code 4 Comment 1
          MOVE      "H9",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT540  MOVE      FOUR,FORM1                    * Alert H9 Code 4 Comment 2
          MOVE      "H9",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT550  MOVE      FIVE,FORM1                    * Alert H9 Code 5 Comment 1
          MOVE      "H9",DIM2
          MOVE      "  1",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT560  MOVE      FIVE,FORM1                    * Alert H9 Code 5 Comment 2
          MOVE      "H9",DIM2
          MOVE      "  2",DIM3
          CALL      PRALC000
          GOTO      PRNTT999
.
PRNTT570  PROC      GETALTID                      * Singapore HRN
          GOTO      PRNTT999
.
PRNTT580  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "1",CONTTYPE          * Next of Kin
            CALL      XCON0000              * Get extra contact details
            PACK      KEY10,PMCERELP,SP10
          ELSE
            PACK      KEY10,PNKRELP,SP10
          ENDIF
          CALL      RDPMREL1
          IF        OVRCD=1
            MOVE      KEY10,PMRLDESC
          ENDIF
          MOVE      PMRLDESC,VARIABLE             * NOK Relationship Desc
          GOTO      PRNTT999
.
PRNTT590  PACK      KEY4,PTITL,SP10
          CALL      RDPMTLE1
          IF        OVRCD=1
            MOVE      PTITL,PMTLDESC
          ENDIF
          MOVE      PMTLDESC,VARIABLE             * Title Description
          GOTO      PRNTT999
.
PRNTT600  UNPACK    PMPXMEDC,CCENT,CYEAR,CMON,CDAY
          CALL      PACDATE
          IF        IBDTPLEN=8
            MOVE      CPDATE,VARIABLE
          ELSE
            MOVE      CPCDATE,VARIABLE
          ENDIF
          GOTO      PRNTT999
.
PRNTT610  CALL      GCCSJG00           * Get concession card details
          MOVE      PMCDCTYP,VARIABLE
          GOTO      PRNTT999
.
PRNTT620  CALL      GCCSJG00           * Get concession card details
          MOVE      SP70,VARIABLE
          MATCH     SP70,PMCDCTYP
          IF        !@EQUAL & !@EOS
            MOVE      "ct",DIM2
            PACK      KEY5,DIM2,PMCDCTYP,SP10
            CALL      RDCODE1
            IF        OVRCD=0
              MOVE      TDESC,VARIABLE
            ENDIF
          ENDIF
          GOTO      PRNTT999
.
PRNTT630  CALL      GCCSJG00           * Get concession card details
          MOVE      PMCDCNUM,VARIABLE
          GOTO      PRNTT999
.
PRNTT640  CALL      GCCSJG00           * Get concession card details
          UNPACK    PMCDEXDT,CCENT,CYEAR,CMON,CDAY
          CALL      PACDATE
          IF        IBDTPLEN=8
            MOVE      CPDATE,VARIABLE
          ELSE
            MOVE      CPCDATE,VARIABLE
          ENDIF
          GOTO      PRNTT999
.
PRNTT650  MOVE      PMPXPEML,VARIABLE
          GOTO      PRNTT999
.
PRNTT660  PACK      WCENAME,SP70                  * Work Comp Employer Name
          MOVE      EMVIADMN,KEY8
          OPEN      PATWC1A1,"patwc1af"
          CALL      RDWCOM1
          IF        OVRCD = 0
            OPEN      PMSWX1A1,"pmswx1af"
            MOVE      EMVIADMN,KEY8
            CALL      RDPMWX11
            IF        OVRCD = 0
              MATCH     "3",PMWXCSTA              * Cancelled
              IF        @EQUAL
                CLOSE     PMSWX1A1
                CLOSE     PATWC1A1
                GOTO      PRNTT999
              ENDIF
            ENDIF
            CLOSE     PMSWX1A1
          ENDIF
.
          CLOSE     PATWC1A1
          MOVE      WCENAME,VARIABLE
          GOTO      PRNTT999
.
PRNTT670  PACK      WCEADD4,SP70                  * Work Comp Employer
          MOVE      EMVIADMN,KEY8                 * Address Line 4
          OPEN      PATWC1A1,"patwc1af"
          CALL      RDWCOM1
          IF        OVRCD = 0
            OPEN      PMSWX1A1,"pmswx1af"
            MOVE      EMVIADMN,KEY8
            CALL      RDPMWX11
            IF        OVRCD = 0
              MATCH     "3",PMWXCSTA              * Cancelled
              IF        @EQUAL
                CLOSE     PMSWX1A1
                CLOSE     PATWC1A1
                GOTO      PRNTT999
              ENDIF
            ENDIF
            CLOSE     PMSWX1A1
          ENDIF
.
          CLOSE     PATWC1A1
          MOVE      WCEADD4,VARIABLE
          GOTO      PRNTT999
.
PRNTT680  PACK      WCACDAT,SP70                  * Work Comp accident date
          MOVE      EMVIADMN,KEY8
          OPEN      PATWC1A1,"patwc1af"
          CALL      RDWCOM1
          BRANCH    OVRCD,PRNTT999
.
          OPEN      PMSWX1A1,"pmswx1af"
          MOVE      EMVIADMN,KEY8
          CALL      RDPMWX11
          IF        OVRCD = 0
            MATCH     "3",PMWXCSTA                * Cancelled
            GOTO      PRNTT999 IF EQUAL
          ENDIF
.
          UNPACK    WCACDAT,CCENT,CYEAR,CMON,CDAY
          CALL      PACDATE
          IF        IBDTPLEN=8
            MOVE      CPDATE,VARIABLE
          ELSE
            MOVE      CPCDATE,VARIABLE
          ENDIF
          GOTO      PRNTT999
.
PRNTT690  COMPARE   WCACCPT,ONE
          IF        @EQUAL
            MOVE      YES,VARIABLE
          ELSE
            MOVE      NO,VARIABLE
          ENDIF
          GOTO      PRNTT999
.
PRNTT700  PACK      WCICODE,SP70                  * Work Comp
          MOVE      EMVIADMN,KEY8                 * Insurance Company Code
          OPEN      PATWC1A1,"patwc1af"
          CALL      RDWCOM1
          IF        OVRCD = 0
            OPEN      PMSWX1A1,"pmswx1af"
            MOVE      EMVIADMN,KEY8
            CALL      RDPMWX11
            IF        OVRCD = 0
              MATCH     "3",PMWXCSTA              * Cancelled
              IF        @EQUAL
                CLOSE     PMSWX1A1
                CLOSE     PATWC1A1
                GOTO      PRNTT999
              ENDIF
            ENDIF
            CLOSE     PMSWX1A1
          ENDIF
.
          CLOSE     PATWC1A1
          MOVE      WCICODE,VARIABLE
          GOTO      PRNTT999
.
PRNTT710  PACK      WCCOMN1,SP70                  * Work Comp
          MOVE      EMVIADMN,KEY8                 * Comments Line 1
          OPEN      PATWC1A1,"patwc1af"
          CALL      RDWCOM1
          IF        OVRCD = 0
            OPEN      PMSWX1A1,"pmswx1af"
            MOVE      EMVIADMN,KEY8
            CALL      RDPMWX11
            IF        OVRCD = 0
              MATCH     "3",PMWXCSTA              * Cancelled
              IF        @EQUAL
                CLOSE     PMSWX1A1
                CLOSE     PATWC1A1
                GOTO      PRNTT999
              ENDIF
            ENDIF
            CLOSE     PMSWX1A1
          ENDIF
.
          CLOSE     PATWC1A1
          MOVE      WCCOMN1,VARIABLE
          GOTO      PRNTT999
.
PRNTT720  PACK      WCCOMN2,SP70                  * Work Comp
          MOVE      EMVIADMN,KEY8                 * Comments Line 2
          OPEN      PATWC1A1,"patwc1af"
          CALL      RDWCOM1
          IF        OVRCD = 0
            OPEN      PMSWX1A1,"pmswx1af"
            MOVE      EMVIADMN,KEY8
            CALL      RDPMWX11
            IF        OVRCD = 0
              MATCH     "3",PMWXCSTA              * Cancelled
              IF        @EQUAL
                CLOSE     PMSWX1A1
                CLOSE     PATWC1A1
                GOTO      PRNTT999
              ENDIF
            ENDIF
            CLOSE     PMSWX1A1
          ENDIF
.
          CLOSE     PATWC1A1
          MOVE      WCCOMN2,VARIABLE
          GOTO      PRNTT999

PRNTT730  UNPACK    PTWCVDAT,CCENT,CYEAR,CMON,CDAY
          CALL      PACDATE
          IF        IBDTPLEN=8
            MOVE      CPDATE,VARIABLE
          ELSE
            MOVE      CPCDATE,VARIABLE
          ENDIF
          GOTO      PRNTT999
.
PRNTT740  PACK      MPOLIC,SP70
          MOVE      EMVIADMN,KEY8
          OPEN      PATWMAB1,"patwmabf"
          CALL      RDWMAB1
          CLOSE     PATWMAB1
          MOVE      MPOLIC,VARIABLE
          GOTO      PRNTT999
.
PRNTT750  PACK      MSNAME,SP70
          MOVE      EMVIADMN,KEY8
          OPEN      PATWMAB1,"patwmabf"
          CALL      RDWMAB1
          CLOSE     PATWMAB1
          MOVE      MSNAME,VARIABLE
          GOTO      PRNTT999
.
PRNTT760  PACK      MSTELE,SP70
          MOVE      EMVIADMN,KEY8
          OPEN      PATWMAB1,"patwmabf"
          CALL      RDWMAB1
          CLOSE     PATWMAB1
          MOVE      MSTELE,VARIABLE
          GOTO      PRNTT999
.
PRNTT770  COMPARE   MDPINDIC,ONE
          IF        @EQUAL
            MOVE      "Driver",VARIABLE
            GOTO      PRNTT999
          ENDIF
.
          COMPARE   MDPINDIC,TWO
          IF        @EQUAL
            MOVE      "Passenger",VARIABLE
            GOTO      PRNTT999
          ENDIF
          GOTO      PRNTT999
.
PRNTT780  PACK      MENGAGED,SP70
          MOVE      EMVIADMN,KEY8
          OPEN      PATWMAB1,"patwmabf"
          CALL      RDWMAB1
          CLOSE     PATWMAB1
          MOVE      MENGAGED,VARIABLE
          GOTO      PRNTT999
.
PRNTT790  PACK      MPINJURE,SP70
          MOVE      EMVIADMN,KEY8
          OPEN      PATWMAB1,"patwmabf"
          CALL      RDWMAB1
          CLOSE     PATWMAB1
          MOVE      MPINJURE,VARIABLE
          GOTO      PRNTT999
.
PRNTT800  PACK      MMDTRANS,SP70
          MOVE      EMVIADMN,KEY8
          OPEN      PATWMAB1,"patwmabf"
          CALL      RDWMAB1
          CLOSE     PATWMAB1
          MOVE      MMDTRANS,VARIABLE
          GOTO      PRNTT999
.
PRNTT810  PACK      MMECHSEV,SP70
          MOVE      EMVIADMN,KEY8
          OPEN      PATWMAB1,"patwmabf"
          CALL      RDWMAB1
          CLOSE     PATWMAB1
          MOVE      MMECHSEV,VARIABLE
          GOTO      PRNTT999
.
PRNTT820  PACK      MREGNSEV,SP70
          MOVE      EMVIADMN,KEY8
          OPEN      PATWMAB1,"patwmabf"
          CALL      RDWMAB1
          CLOSE     PATWMAB1
          MOVE      MREGNSEV,VARIABLE
          GOTO      PRNTT999
.
PRNTT830  PACK      MOTHDET1,SP70
          MOVE      EMVIADMN,KEY8
          OPEN      PATWMAB1,"patwmabf"
          CALL      RDWMAB1
          CLOSE     PATWMAB1
          MOVE      MOTHDET1,VARIABLE
          GOTO      PRNTT999
.
PRNTT840  PACK      MOTHDET2,SP70
          MOVE      EMVIADMN,KEY8
          OPEN      PATWMAB1,"patwmabf"
          CALL      RDWMAB1
          CLOSE     PATWMAB1
          MOVE      MOTHDET2,VARIABLE
          GOTO      PRNTT999
.
PRNTT850  PACK      MOTHDET3,SP70
          MOVE      EMVIADMN,KEY8
          OPEN      PATWMAB1,"patwmabf"
          CALL      RDWMAB1
          CLOSE     PATWMAB1
          MOVE      MOTHDET3,VARIABLE
          GOTO      PRNTT999
.
PRNTT860  COMPARE   PTWMTACF,ONE
          IF        @EQUAL
            MOVE      YES,VARIABLE
          ELSE
            MOVE      NO,VARIABLE
          ENDIF
          GOTO      PRNTT999
.
PRNTT870  MOVE      SP70,DANS1
          MATCH     SP70,PTWMTYPE
          GOTO      PRNTT875 IF EQUAL
.
          PACK      KEY5,CODERA,PTWMTYPE
          CALL      RDCODE1
          BRANCH    OVRCD,PRNTT875
          MOVE      TDESC,DANS1
.
PRNTT875  MOVE      DANS1,VARIABLE
          GOTO      PRNTT999
.
PRNTT880  UNPACK    PTWMVDAT,CCENT,CYEAR,CMON,CDAY
          CALL      PACDATE
          IF        IBDTPLEN=8
            MOVE      CPDATE,VARIABLE
          ELSE
            MOVE      CPCDATE,VARIABLE
          ENDIF
          GOTO      PRNTT999
.
PRNTT890  PACK      PTWVAUTH,SP70
          MOVE      EMVIADMN,KEY8
          OPEN      PATWVET1,"patwvetf"
          CALL      RDWVET1
          CLOSE     PATWVET1
          MOVE      PTWVAUTH,VARIABLE
          GOTO      PRNTT999
.
.------ format wc accident date ------
.
PRNTT900  PACK      WCACDAT,SP20,SP10
          MOVE      EMVIADMN,KEY8
          OPEN      PATWC1A1,"patwc1af"
          CALL      RDWCOM1
          IF        OVRCD = 0
            OPEN      PMSWX1A1,"pmswx1af"
            MOVE      EMVIADMN,KEY8
            CALL      RDPMWX11
            IF        OVRCD = 0
              MATCH     "3",PMWXCSTA      * Cancelled
              GOTO      PRNTT999 IF EQUAL
            ENDIF
          ENDIF
.
          UNPACK    WCACDAT,CCENT,CYEAR,CMON,CDAY
          CALL      PACDATE
          IF        IBDTPLEN=8
            MOVE      CPDATE,VARIABLE
          ELSE
            MOVE      CPCDATE,VARIABLE
          ENDIF
          GOTO       PRNTT999
.
PRNTT910  MOVE      EMVIADMN,KEY8                 * Insurance Company Code
          OPEN      PATWC1A1,"patwc1af"
          CALL      RDWCOM1
          IF        OVRCD = 0
            OPEN      PMSWX1A1,"pmswx1af"
            MOVE      EMVIADMN,KEY8
            CALL      RDPMWX11
            IF        OVRCD = 0
              MATCH     "3",PMWXCSTA      * Cancelled
              GOTO      PRNTT999 IF EQUAL
            ENDIF
.
            MATCH     SP70,WCICODE
            IF        !@EQUAL & !@EOS
              OPEN      PATIN1A1,"patin1af"
              PACK      KEY6,WCICODE
              CALL      RDINSR1
              IF        OVRCD=0
                MOVE     INAME,VARIABLE
              ELSE
                MOVE     WCICODE,VARIABLE
              ENDIF
            ENDIF
          ENDIF
.
          GOTO      PRNTT999
.
.------ format wc employers name ------
.
PRNTT920  PACK      WCENAME,SP20,SP10
          MOVE      EMVIADMN,KEY8
          OPEN      PATWC1A1,"patwc1af"
          CALL      RDWCOM1
          IF        OVRCD = 0
            OPEN      PMSWX1A1,"pmswx1af"
            MOVE      EMVIADMN,KEY8
            CALL      RDPMWX11
            IF        OVRCD = 0
              MATCH     "3",PMWXCSTA      * Cancelled
              GOTO      PRNTT999 IF EQUAL
            ENDIF
          ENDIF
.
          MOVE      WCENAME,VARIABLE
          GOTO      PRNTT999
.
PRNTT930  CALL      IBACLOCK                 * Current Date
          MOVE      CCC,CCENT
          MOVE      CYY,CYEAR
          MOVE      CMM,CMON
          MOVE      CDD,CDAY
          CALL      PACDATE
          IF        IBDTPLEN=8
            MOVE      CPDATE,VARIABLE
          ELSE
            MOVE      CPCDATE,VARIABLE
          ENDIF
          GOTO      PRNTT999
.
PRNTT940  CLOCK     TIME,VARIABLE           * Current Time
          GOTO      PRNTT999
.
PRNTT941  PACK      PKTELEP,SP20,SP20
          MOVE      EMVIADMN,KEY8
          CALL      RDRESP1
          MOVE      PKTELEP,VARIABLE 
          GOTO      PRNTT999
.
PRNTT942  PACK      PKTELEB,SP20,SP20
          MOVE      EMVIADMN,KEY8
          CALL      RDRESP1
          MOVE      PKTELEB,VARIABLE
          GOTO      PRNTT999
.
PRNTT943  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "3",CONTTYPE          * Emergency Contact
            CALL      XCON0000              * Get extra contact details
            MOVE      PMCEADD1,VARIABLE
          ELSE
            MOVE      PTMXECA1,VARIABLE
          ENDIF
          GOTO      PRNTT999
.
PRNTT944  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "3",CONTTYPE          * Emergency Contact
            CALL      XCON0000              * Get extra contact details
            MOVE      PMCEADD2,VARIABLE
          ELSE
            MOVE      PTMXECA2,VARIABLE
          ENDIF
          GOTO      PRNTT999
.
PRNTT945  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "3",CONTTYPE          * Emergency Contact
            CALL      XCON0000              * Get extra contact details
            MOVE      PMCEADD3,VARIABLE
          ELSE
            MOVE      PTMXECA3,VARIABLE
          ENDIF
          GOTO      PRNTT999
.
PRNTT946  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "3",CONTTYPE          * Emergency Contact
            CALL      XCON0000              * Get extra contact details
            MOVE      PMCEADD4,VARIABLE
          ELSE
            MOVE      PTMXECA4,VARIABLE
          ENDIF
          GOTO      PRNTT999
.
PRNTT947  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "3",CONTTYPE          * Emergency Contact
            CALL      XCON0000              * Get extra contact details
            MOVE      PMCEPOST,VARIABLE
          ELSE
            MOVE      PTMXECPC,VARIABLE
          ENDIF
          GOTO      PRNTT999
.
PRNTT948  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "8",CONTTYPE          * Nearest Relative
            CALL      XCON0000              * Get extra contact details
            MOVE      PMCESNAM,PACSNAME
            MOVE      PMCEGNAM,PACGNAME
            MOVE      PMCETITL,PACTITLE
            MOVE      "1",PACFRMT
            CALL      PACNAME
            MOVE      PACFNAME,VARIABLE
          ELSE
            MOVE      PTMXNRNM,VARIABLE
          ENDIF
          GOTO      PRNTT999
.
PRNTT949  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "8",CONTTYPE          * Nearest Relative
            CALL      XCON0000              * Get extra contact details
            MOVE      PMCEADD1,VARIABLE
          ELSE
            MOVE      PTMXNRA1,VARIABLE
          ENDIF
          GOTO      PRNTT999
.
PRNTT950  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "8",CONTTYPE          * Nearest Relative
            CALL      XCON0000              * Get extra contact details
            MOVE      PMCEADD2,VARIABLE
          ELSE
            MOVE      PTMXNRA2,VARIABLE
          ENDIF
          GOTO      PRNTT999
.
PRNTT951  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "8",CONTTYPE          * Nearest Relative
            CALL      XCON0000              * Get extra contact details
            MOVE      PMCEADD3,VARIABLE
          ELSE
            MOVE      PTMXNRA3,VARIABLE
          ENDIF
          GOTO      PRNTT999
.
PRNTT952  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "8",CONTTYPE          * Nearest Relative
            CALL      XCON0000              * Get extra contact details
            MOVE      PMCEADD4,VARIABLE
          ELSE
            MOVE      PTMXNRA4,VARIABLE
          ENDIF
          GOTO      PRNTT999
.
PRNTT953  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "8",CONTTYPE          * Nearest Relative
            CALL      XCON0000              * Get extra contact details
            MOVE      PMCEPOST,VARIABLE
          ELSE
            MOVE      PTMXNRPC,VARIABLE
          ENDIF
          GOTO      PRNTT999
.
PRNTT954  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "8",CONTTYPE          * Nearest Relative
            CALL      XCON0000              * Get extra contact details
            MOVE      PMCETELP,VARIABLE
          ELSE
            MOVE      PTMXNRPP,VARIABLE
          ENDIF
          GOTO      PRNTT999
.
PRNTT955  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "8",CONTTYPE          * Nearest Relative
            CALL      XCON0000              * Get extra contact details
            MOVE      PMCETELB,VARIABLE
          ELSE
            MOVE      PTMXNRBP,VARIABLE
          ENDIF
          GOTO      PRNTT999
.
PRNTT956  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "8",CONTTYPE          * Nearest Relative
            CALL      XCON0000              * Get extra contact details
            MOVE      PMCERELP,VARIABLE
          ELSE
            MOVE      PTMXNRRE,VARIABLE
          ENDIF
          GOTO      PRNTT999
.
PRNTT957  PACK      KEY8,DEMVIADM,SP70
          CALL      RDPMVX11
          IF        OVRCD=0
            MATCH     "1",PMVXINGP              * Inform GP Yes / No
            IF        @EQUAL
              MOVE     "YES",VARIABLE
            ELSE
              MOVE     "NO ",VARIABLE
            ENDIF
          ELSE
            MOVE      SP70,VARIABLE
          ENDIF
.
          GOTO      PRNTT999
.
PRNTT958  MOVE      ONE,DIM1
          CALL      GCCARD00
          MOVE      PMCDCTYP,VARIABLE
          GOTO      PRNTT999
.
PRNTT959  MOVE      ONE,DIM1
          CALL      GCCARD00
          MOVE      SP70,VARIABLE
          MATCH     SP70,PMCDCTYP
          IF        !@EQUAL & !@EOS
            MOVE      "ct",DIM2
            PACK      KEY5,DIM2,PMCDCTYP,SP10
            CALL      RDCODE1
            IF        OVRCD=0
              MOVE      TDESC,VARIABLE
            ENDIF   
          ENDIF
          GOTO      PRNTT999
.
PRNTT960  MOVE      ONE,DIM1
          CALL      GCCARD00
          MOVE      PMCDCNUM,VARIABLE
          GOTO      PRNTT999
.
PRNTT961  MOVE      ONE,DIM1
          CALL      GCCARD00
          UNPACK    PMCDEXDT,CCENT,CYEAR,CMON,CDAY
          CALL      PACDATE
          IF        IBDTPLEN=8
            MOVE      CPDATE,VARIABLE
          ELSE
            MOVE      CPCDATE,VARIABLE
          ENDIF
          GOTO      PRNTT999
.
PRNTT962  MOVE      TWO,DIM1
          CALL      GCCARD00
          MOVE      PMCDCTYP,VARIABLE
          GOTO      PRNTT999
.
PRNTT963  MOVE      TWO,DIM1
          CALL      GCCARD00
          MOVE      SP70,VARIABLE
          MATCH     SP70,PMCDCTYP
          IF        !@EQUAL & !@EOS
            MOVE      "ct",DIM2
            PACK      KEY5,DIM2,PMCDCTYP,SP10
            CALL      RDCODE1
            IF        OVRCD=0
              MOVE      TDESC,VARIABLE
            ENDIF
          ENDIF
          GOTO      PRNTT999
.
PRNTT964  MOVE      TWO,DIM1
          CALL      GCCARD00
          MOVE      PMCDCNUM,VARIABLE
          GOTO      PRNTT999
.
PRNTT965  MOVE      TWO,DIM1
          CALL      GCCARD00
          UNPACK    PMCDEXDT,CCENT,CYEAR,CMON,CDAY
          CALL      PACDATE
          IF        IBDTPLEN=8
            MOVE      CPDATE,VARIABLE
          ELSE
            MOVE      CPCDATE,VARIABLE
          ENDIF
          GOTO      PRNTT999
.
PRNTT966  MOVE      THREE,DIM1
          CALL      GCCARD00
          MOVE      PMCDCTYP,VARIABLE
          GOTO      PRNTT999
.
PRNTT967  MOVE      THREE,DIM1
          CALL      GCCARD00
          MOVE      SP70,VARIABLE
          MATCH     SP70,PMCDCTYP
          IF        !@EQUAL & !@EOS
            MOVE      "ct",DIM2
            PACK      KEY5,DIM2,PMCDCTYP,SP10
            CALL      RDCODE1
            IF        OVRCD=0
              MOVE      TDESC,VARIABLE
            ENDIF
          ENDIF
          GOTO      PRNTT999
.
PRNTT968  MOVE      THREE,DIM1
          CALL      GCCARD00
          MOVE      PMCDCNUM,VARIABLE
          GOTO      PRNTT999
.
PRNTT969  MOVE      THREE,DIM1
          CALL      GCCARD00
          UNPACK    PMCDEXDT,CCENT,CYEAR,CMON,CDAY
          CALL      PACDATE
          IF        IBDTPLEN=8
            MOVE      CPDATE,VARIABLE
          ELSE
            MOVE      CPCDATE,VARIABLE
          ENDIF
          GOTO      PRNTT999
.
PRNTT970  MOVE      FOUR,DIM1
          CALL      GCCARD00
          MOVE      PMCDCTYP,VARIABLE
          GOTO      PRNTT999
.
PRNTT971  MOVE      FOUR,DIM1
          CALL      GCCARD00
          MOVE      SP70,VARIABLE
          MATCH     SP70,PMCDCTYP
          IF        !@EQUAL & !@EOS
            MOVE      "ct",DIM2
            PACK      KEY5,DIM2,PMCDCTYP,SP10
            CALL      RDCODE1
            IF        OVRCD=0
              MOVE      TDESC,VARIABLE
            ENDIF
          ENDIF
          GOTO      PRNTT999
.
PRNTT972  MOVE      FOUR,DIM1
          CALL      GCCARD00
          MOVE      PMCDCNUM,VARIABLE
          GOTO      PRNTT999
.
PRNTT973  MOVE      FOUR,DIM1
          CALL      GCCARD00
          UNPACK    PMCDEXDT,CCENT,CYEAR,CMON,CDAY
          CALL      PACDATE
          IF        IBDTPLEN=8
            MOVE      CPDATE,VARIABLE
          ELSE
            MOVE      CPCDATE,VARIABLE
          ENDIF
          GOTO      PRNTT999
.
PRNTT974  MOVE      ZERO,F8                   * Yes/No patient is <= 180
          DAYSEP    PBDATE,EMVIDATE,F8           * days old
          IF        F8 > 180
            PACK      VARIABLE,DNO,SP70               * > 180 days old
          ELSE
            PACK      VARIABLE,DYES,SP70              * <= 180 days old
          ENDIF
          GOTO      PRNTT999
.
PRNTT975  MOVE      PADD4,VARIABLE 
          GOTO      PRNTT999
.
PRNTT976  MOVE      SP30,PKADD4
          MOVE      EMVIADMN,KEY8
          CALL      RDRESP1               * read responsible for account file
          MOVE      PKADD4,VARIABLE
          GOTO      PRNTT999
.
PRNTT977  MOVE      SP30,PKRELP
          MOVE      EMVIADMN,KEY8
          CALL      RDRESP1               * read responsible for account file
          MOVE      PKRELP,VARIABLE
          GOTO      PRNTT999
.
PRNTT978  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "1",CONTTYPE          * Next of Kin
            CALL      XCON0000              * Get extra contact details
            MOVE      PMCETELM,VARIABLE
          ELSE
            MOVE      PMPXKMOB,VARIABLE
          ENDIF
          GOTO      PRNTT999
.
PRNTT979  MOVE      SP70,VARIABLE
          PACK      KEY14,EMLPPSC,SP70
          CALL      RSWBSE3
          CALL      RKWBSE3
          BRANCH    OVRCD,PRNTT999
.         
          MATCH     EMLPPSC,WBSEPCD
          GOTO      PRNTT999 IF NOT EQUAL
.         
          MOVE      WBSENAM,VARIABLE
          GOTO      PRNTT999
.         
PRNTT980  MOVE      SP70,VARIABLE
          PACK      KEY14,EMLPPSC,SP70
          CALL      RSWBSE3
          CALL      RKWBSE3
          BRANCH    OVRCD,PRNTT999
.         
          MATCH     EMLPPSC,WBSEPCD
          GOTO      PRNTT999 IF NOT EQUAL
.         
          MOVE      WBSEFDEP,VARIABLE
          GOTO      PRNTT999
.
PRNTT981  MOVE      SP70,VARIABLE
          PACK      KEY14,EMLPPSC,SP70
          CALL      RSWBSE3
          CALL      RKWBSE3
          BRANCH    OVRCD,PRNTT999
.
          MATCH     EMLPPSC,WBSEPCD
          GOTO      PRNTT999 IF NOT EQUAL
.
          MATCH     SP70,WBSEOCG
          IF        !@EQUAL
            PACK      KEY5,CATW0,WBSEOCG,SP70
            CALL      RDCODE1
            IF        OVRCD=0
              MOVE      PTCDLDES,VARIABLE
            ENDIF
          ENDIF
          GOTO      PRNTT999
.
PRNTT982  MOVE      PSEX,DSEXCHAR   
          CALL      SEXDSP00	
          MOVE      DSEXSDES,VARIABLE	
          GOTO      PRNTT999	
.
PRNTT983  CALL      CMPH0000                * Compensable/Heath Fund Name
          MOVE      CLMDET1,VARIABLE
          GOTO      PRNTT999
.
PRNTT984  CALL      CMPH0000                * Compensable/Heath Fund Number
          MOVE      CLMDET2,VARIABLE
          GOTO      PRNTT999
.
PRNTT985  CALL      PACADDRS                * format patient address
          PACK      VARIABLE,PACADDRS,SP70,SP10
          GOTO      PRNTT999
.
PRNTT986  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "2",CONTTYPE          * Postal Address
            CALL      XCON0000              * Get extra contact details
            MOVE      PMCEADD1,VARIABLE          * Postal Address line 1 
          ELSE
            MOVE      PTMXADD1,VARIABLE          * Postal Address line 1 
          ENDIF
          GOTO      PRNTT999
.
PRNTT987  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "2",CONTTYPE          * Postal Address
            CALL      XCON0000              * Get extra contact details
            MOVE      PMCEADD2,VARIABLE          * Postal Address line 1
          ELSE
            MOVE      PTMXADD2,VARIABLE          * Postal Address line 2
          ENDIF
          GOTO      PRNTT999
.
PRNTT988  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "2",CONTTYPE          * Postal Address
            CALL      XCON0000              * Get extra contact details
            MOVE      PMCEADD3,VARIABLE          * Postal Address line 1
          ELSE
            MOVE      PTMXADD3,VARIABLE          * Postal Address line 3
          ENDIF
          GOTO      PRNTT999
.
PRNTT989  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "2",CONTTYPE          * Postal Address
            CALL      XCON0000              * Get extra contact details
            MOVE      PMCEADD4,VARIABLE          * Postal Address line 1
          ELSE
            MOVE      PTMXADD4,VARIABLE          * Postal Address line 4
          ENDIF
          GOTO      PRNTT999
.
PRNTT990  MATCH     "1",PTCNNEWC
          IF        @EQUAL
            MOVE      "2",CONTTYPE          * Postal Address
            CALL      XCON0000              * Get extra contact details
            MOVE      PMCEPOST,VARIABLE          * Postal Address line 1
          ELSE
            MOVE      PTMXPOST,VARIABLE             * Postcode
          ENDIF
          GOTO      PRNTT999
.
.-------- Iwi 1
.
PRNTT991  MOVE      SP70,VARIABLE
          MATCH     SP10,PMPXIWI1
          IF        !@EQUAL
            PACK      KEY5,ANSLI,ANSLW,PMPXIWI1,SP10
            CALL      RDCODE1
            IF        OVRCD = 0
              MOVE      TDESC,VARIABLE
            ENDIF
          ENDIF
          GOTO      PRNTT999
.
.-------- Iwi 2
.
PRNTT992  MOVE      SP70,VARIABLE
          MATCH     SP10,PMPXIWI2
          IF        !@EQUAL
            PACK      KEY5,ANSLI,ANSLW,PMPXIWI2,SP10
            CALL      RDCODE1
            IF        OVRCD = 0
              MOVE      TDESC,VARIABLE
            ENDIF
          ENDIF
          GOTO      PRNTT999
.
.-------- Iwi 3
.
PRNTT993  MOVE      SP70,VARIABLE
          MATCH     SP10,PMPXIWI3
          IF        !@EQUAL
            PACK      KEY5,ANSLI,ANSLW,PMPXIWI3,SP10
            CALL      RDCODE1
            IF        OVRCD = 0
              MOVE      TDESC,VARIABLE
            ENDIF
          ENDIF
          GOTO      PRNTT999
.
. ------- Smoker -------
.
PRNTT994  MOVE      "UNKNOWN",DSMOKE
          LOAD      DSMOKE,PSMOK,DYES,DNO
          MOVE      DSMOKE,VARIABLE
          GOTO      PRNTT999
.
. ------- Clinical Notes Line 1  - (vismdtaf and vismtxaf)
.
PRNTT995  MOVE      "001",KEY3                 * Clinical Note
          MOVE      "  1",FORM3                * Format Clinical Notes Line 1
          CALL      PRCOM000
          GOTO      PRNTT999
.
. ------- Clinical Notes Line 2  - (vismdtaf and vismtxaf)
.
PRNTT996  MOVE      "001",KEY3                 * Clinical Note
          MOVE      "  2",FORM3                * Format Clinical Notes Line 2
          CALL      PRCOM000
          GOTO      PRNTT999
.
.------- format process data fields (1130 - xxx) ------
.
PRNTT998  CALL      PRNTC000
          GOTO      PRNTT999
.
PRNTT999  RETURN
.
.------------------------------------------------------------
.   Process data fields (1130 - 1227)
.------------------------------------------------------------
PRNTC000  SUB       "150",FORM5
          BRANCH    FORM5,PRNTC010,PRNTC020,PRNTC030,PRNTC040,PRNTC050: *1134 
                          PRNTC060,PRNTC070,PRNTC080,PRNTC090,PRNTC100: *1139
                          PRNTC110,PRNTC120,PRNTC130,PRNTC140,PRNTC150: *1144
                          PRNTC160,PRNTC170,PRNTC180,PRNTC190,PRNTC200: *1149
                          PRNTC210,PRNTC220,PRNTC230,PRNTC240,PRNTC250: *1154
                          PRNTC260,PRNTC270,PRNTC280,PRNTC290,PRNTC300: *1159
                          PRNTC310,PRNTC320,PRNTC330,PRNTC340,PRNTC350: *1164
                          PRNTC360,PRNTC370,PRNTC380,PRNTC390,PRNTC400: *1169
                          PRNTC410,PRNTC420,PRNTC430,PRNTC440,PRNTC450: *1174
                          PRNTC460,PRNTC470,PRNTC480,PRNTC490,PRNTC500: *1179
                          PRNTC510,PRNTC520,PRNTC530,PRNTC540,PRNTC550: *1184
                          PRNTC560,PRNTC570,PRNTC580,PRNTC590,PRNTC600: *1189
                          PRNTC610,PRNTC620,PRNTC630,PRNTC640,PRNTC650: *1194
                          PRNTC660,PRNTC670,PRNTC680,PRNTC690,PRNTC700: *1199
                          PRNTC710,PRNTC720,PRNTC730,PRNTC740,PRNTC750: *1204
                          PRNTC760,PRNTC770,PRNTC780,PRNTC790,PRNTC800: *1209
                          PRNTC810,PRNTC820,PRNTC830,PRNTC840,PRNTC850: *1214
                          PRNTC860,PRNTC870,PRNTC880,PRNTC890,PRNTC900: *1219
                          PRNTC910,PRNTC920,PRNTC930,PRNTC940,PRNTC950: *1224
                          PRNTC960,PRNTC970,PRNTC980
.
          GOTO      PRNTC990
.
PRNTC010  MOVE      "001",KEY3                 * Clinical Note
          MOVE      "  3",FORM3                * Format Clinical Notes Line 3
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC020  MOVE      "001",KEY3                 * Clinical Note
          MOVE      "  4",FORM3                * Format Clinical Notes Line 4
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC030  MOVE      "001",KEY3                 * Clinical Note
          MOVE      "  5",FORM3                * Format Clinical Notes Line 5
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC040  MOVE      "001",KEY3                 * Clinical Note
          MOVE      "  6",FORM3                * Format Clinical Notes Line 6
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC050  MOVE      "001",KEY3                 * Clinical Note
          MOVE      "  7",FORM3                * Format Clinical Notes Line 7
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC060  MOVE      "001",KEY3                 * Clinical Note
          MOVE      "  8",FORM3                * Format Clinical Notes Line 8
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC070  MOVE      "001",KEY3                 * Clinical Note
          MOVE      "  9",FORM3                * Format Clinical Notes Line 9
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC080  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 10",FORM3                * Format Clinical Notes Line 10
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC090  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 11",FORM3                * Format Clinical Notes Line 11
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC100  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 12",FORM3                * Format Clinical Notes Line 12
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC110  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 13",FORM3                * Format Clinical Notes Line 13
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC120  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 14",FORM3                * Format Clinical Notes Line 14
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC130  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 15",FORM3                * Format Clinical Notes Line 15
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC140  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 16",FORM3                * Format Clinical Notes Line 16
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC150  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 17",FORM3                * Format Clinical Notes Line 17
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC160  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 18",FORM3                * Format Clinical Notes Line 18
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC170  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 19",FORM3                * Format Clinical Notes Line 19
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC180  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 20",FORM3                * Format Clinical Notes Line 20
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC190  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 21",FORM3                * Format Clinical Notes Line 21
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC200  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 22",FORM3                * Format Clinical Notes Line 22
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC210  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 23",FORM3                * Format Clinical Notes Line 23
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC220  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 24",FORM3                * Format Clinical Notes Line 24
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC230  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 25",FORM3                * Format Clinical Notes Line 25
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC240  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 26",FORM3                * Format Clinical Notes Line 26
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC250  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 27",FORM3                * Format Clinical Notes Line 27
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC260  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 28",FORM3                * Format Clinical Notes Line 28
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC270  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 29",FORM3                * Format Clinical Notes Line 29
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC280  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 30",FORM3                * Format Clinical Notes Line 30
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC290  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 31",FORM3                * Format Clinical Notes Line 31
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC300  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 32",FORM3                * Format Clinical Notes Line 32
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC310  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 33",FORM3                * Format Clinical Notes Line 33
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC320  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 34",FORM3                * Format Clinical Notes Line 34
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC330  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 35",FORM3                * Format Clinical Notes Line 35
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC340  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 36",FORM3                * Format Clinical Notes Line 36
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC350  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 37",FORM3                * Format Clinical Notes Line 37
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC360  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 38",FORM3                * Format Clinical Notes Line 38
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC370  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 39",FORM3                * Format Clinical Notes Line 39
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC380  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 40",FORM3                * Format Clinical Notes Line 40
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC390  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 41",FORM3                * Format Clinical Notes Line 41
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC400  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 42",FORM3                * Format Clinical Notes Line 42
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC410  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 43",FORM3                * Format Clinical Notes Line 43
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC420  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 44",FORM3                * Format Clinical Notes Line 44
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC430  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 45",FORM3                * Format Clinical Notes Line 45
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC440  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 46",FORM3                * Format Clinical Notes Line 46
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC450  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 47",FORM3                * Format Clinical Notes Line 47
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC460  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 48",FORM3                * Format Clinical Notes Line 48
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC470  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 49",FORM3                * Format Clinical Notes Line 49
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC480  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 50",FORM3                * Format Clinical Notes Line 50
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC490  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 51",FORM3                * Format Clinical Notes Line 51
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC500  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 52",FORM3                * Format Clinical Notes Line 52
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC510  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 53",FORM3                * Format Clinical Notes Line 53
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC520  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 54",FORM3                * Format Clinical Notes Line 54
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC530  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 55",FORM3                * Format Clinical Notes Line 55
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC540  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 56",FORM3                * Format Clinical Notes Line 56
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC550  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 57",FORM3                * Format Clinical Notes Line 57
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC560  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 58",FORM3                * Format Clinical Notes Line 58
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC570  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 59",FORM3                * Format Clinical Notes Line 59
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC580  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 60",FORM3                * Format Clinical Notes Line 60
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC590  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 61",FORM3                * Format Clinical Notes Line 61
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC600  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 62",FORM3                * Format Clinical Notes Line 62
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC610  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 63",FORM3                * Format Clinical Notes Line 63
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC620  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 64",FORM3                * Format Clinical Notes Line 64
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC630  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 65",FORM3                * Format Clinical Notes Line 65
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC640  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 66",FORM3                * Format Clinical Notes Line 66
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC650  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 67",FORM3                * Format Clinical Notes Line 67
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC660  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 68",FORM3                * Format Clinical Notes Line 68
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC670  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 69",FORM3                * Format Clinical Notes Line 69
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC680  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 70",FORM3                * Format Clinical Notes Line 70
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC690  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 71",FORM3                * Format Clinical Notes Line 71
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC700  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 72",FORM3                * Format Clinical Notes Line 72
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC710  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 73",FORM3                * Format Clinical Notes Line 73
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC720  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 74",FORM3                * Format Clinical Notes Line 74
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC730  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 75",FORM3                * Format Clinical Notes Line 75
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC740  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 76",FORM3                * Format Clinical Notes Line 76
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC750  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 77",FORM3                * Format Clinical Notes Line 77
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC760  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 78",FORM3                * Format Clinical Notes Line 78
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC770  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 79",FORM3                * Format Clinical Notes Line 79
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC780  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 80",FORM3                * Format Clinical Notes Line 80
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC790  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 81",FORM3                * Format Clinical Notes Line 81
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC800  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 82",FORM3                * Format Clinical Notes Line 82
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC810  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 83",FORM3                * Format Clinical Notes Line 83
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC820  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 84",FORM3                * Format Clinical Notes Line 84
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC830  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 85",FORM3                * Format Clinical Notes Line 85
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC840  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 86",FORM3                * Format Clinical Notes Line 86
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC850  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 87",FORM3                * Format Clinical Notes Line 87
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC860  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 88",FORM3                * Format Clinical Notes Line 88
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC870  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 89",FORM3                * Format Clinical Notes Line 89
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC880  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 90",FORM3                * Format Clinical Notes Line 90
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC890  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 91",FORM3                * Format Clinical Notes Line 91
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC900  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 92",FORM3                * Format Clinical Notes Line 92
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC910  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 93",FORM3                * Format Clinical Notes Line 93
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC920  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 94",FORM3                * Format Clinical Notes Line 94
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC930  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 95",FORM3                * Format Clinical Notes Line 95
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC940  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 96",FORM3                * Format Clinical Notes Line 96
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC950  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 97",FORM3                * Format Clinical Notes Line 97
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC960  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 98",FORM3                * Format Clinical Notes Line 98
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC970  MOVE      "001",KEY3                 * Clinical Note
          MOVE      " 99",FORM3                * Format Clinical Notes Line 99
          CALL      PRCOM000
          GOTO      PRNTC999
.
PRNTC980  MOVE      "001",KEY3                 * Clinical Note
..          MOVE      "100",FORM3                * Format Clinical Notes Line 100
          CALL      AVCOM000
          GOTO      PRNTC999
.
.------- format process data fields (1228 - xxx) ------
.
PRNTC990  CALL      PRNTI000
          GOTO      PRNTT999
.
PRNTC999  RETURN
.
.------------------------------------------------------------
.   Process data fields (1228 - 1325)
.------------------------------------------------------------
PRNTI000  SUB       "98",FORM5                
          BRANCH    FORM5,PRNTI010,PRNTI020,PRNTI030,PRNTI040,PRNTI050: *1232
                          PRNTI060,PRNTI070,PRNTI080,PRNTI090,PRNTI100: *1237
                          PRNTI110,PRNTI120,PRNTI130,PRNTI140,PRNTI150: *1242
                          PRNTI160,PRNTI170,PRNTI180,PRNTI190,PRNTI200: *1247
                          PRNTI210,PRNTI220,PRNTI230,PRNTI240,PRNTI250: *1252
                          PRNTI260,PRNTI270,PRNTI280,PRNTI290,PRNTI300: *1257
                          PRNTI310,PRNTI320,PRNTI330,PRNTI340,PRNTI350: *1262
                          PRNTI360,PRNTI370,PRNTI380,PRNTI390,PRNTI400: *1267
                          PRNTI410,PRNTI420,PRNTI430,PRNTI440,PRNTI450: *1272 
                          PRNTI460,PRNTI470,PRNTI480,PRNTI490,PRNTI500: *1277
                          PRNTI510,PRNTI520,PRNTI530,PRNTI540,PRNTI550: *1282
                          PRNTI560,PRNTI570,PRNTI580,PRNTI590,PRNTI600: *1287
                          PRNTI610,PRNTI620,PRNTI630,PRNTI640,PRNTI650: *1292
                          PRNTI660,PRNTI670,PRNTI680,PRNTI690,PRNTI700: *1297
                          PRNTI710,PRNTI720,PRNTI730,PRNTI740,PRNTI750: *1302
                          PRNTI760,PRNTI770,PRNTI780,PRNTI790,PRNTI800: *1307
                          PRNTI810,PRNTI820,PRNTI830,PRNTI840,PRNTI850: *1312
                          PRNTI860,PRNTI870,PRNTI880,PRNTI890,PRNTI900: *1317
                          PRNTI910,PRNTI920,PRNTI930,PRNTI940,PRNTI950: *1322
                          PRNTI960,PRNTI970,PRNTI980
.
          GOTO      PRNTI990
.
PRNTI010  MOVE      EMVIINJC,VARIABLE            * Injury cause code
          GOTO      PRNTI999
.
PRNTI020  MOVE      SP20,DANS1
          MATCH     SP3,EMVIINJC                 * Injury cause description
          GOTO      PRNTI025 IF EQUAL
.
          PACK      KEY5,CATEY,EMVIINJC,SP70
          CALL      RDCODE1 
          BRANCH    OVRCD,PRNTI025
          MOVE      TDESC,DANS1
.
PRNTI025  MOVE      DANS1,VARIABLE
          GOTO      PRNTI999
.
PRNTI030  MOVE      ONE,FORM1                    * Basic Observations 1 CVPS
          MOVE      "33",FORM2                                        
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTI999
.
PRNTI040  MOVE      TWO,FORM1                    * Basic Observations 2 CVPS
          MOVE      "33",FORM2
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTI999
.
PRNTI050  MOVE      THREE,FORM1                  * Basic Observations 3 CVPS
          MOVE      "33",FORM2
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTI999
.
PRNTI060  MOVE      ONE,FORM1                    * Basic Observations 1 F1O2
          MOVE      "34",FORM2                   * Code
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTI999
.
PRNTI070  MOVE      ONE,FORM1                    * Basic Observations 1 F1O2
          MOVE      "35",FORM2                   * Description
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTI999
.
PRNTI080  MOVE      TWO,FORM1                    * Basic Observations 2 F1O2
          MOVE      "34",FORM2                   * Code
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTI999
.
PRNTI090  MOVE      TWO,FORM1                    * Basic Observations 2 F1O2
          MOVE      "35",FORM2                   * Description
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTI999
.
PRNTI100  MOVE      THREE,FORM1                  * Basic Observations 3 F1O2
          MOVE      "34",FORM2                   * Code
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTI999
.
PRNTI110  MOVE      THREE,FORM1                  * Basic Observations 3 F1O2
          MOVE      "35",FORM2                   * Description
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTI999
.
.---------   Attendin Doctor Title
.
PRNTI120  CALL      ATTDOC00
          MOVE      DTITL,VARIABLE
          GOTO      PRNTI999
.
.---------   Attending Doctor First Name
.
PRNTI130  CALL      ATTDOC00
          MOVE      DGNAME,VARIABLE
          GOTO      PRNTI999
.
.---------   Attending Doctor Surname
.
PRNTI140  CALL      ATTDOC00
          MOVE      DSNAME,VARIABLE
          GOTO      PRNTI999
.
.---------   Attending Doctor Full Name
.
PRNTI150  CALL      ATTDOC00
          MATCH     SP70,DSNAME
          GOTO      PRNTI155 IF NOT EQUAL
          MATCH     SP70,DGNAME
          GOTO      PRNTI999 IF EQUAL
PRNTI155  MOVE      DTITL,FMTTITLE
          MOVE      DGNAME,FMTGNAME
          MOVE      DSNAME,FMTSNAME
          CALL      DOCNM000
          MOVE      DOCFNAME,VARIABLE
          GOTO      PRNTI999
.
PRNTI160  MOVE      ONE,FORM1                   * Basic Observations 1
          MOVE      "36",FORM2                  * Used Def Y/N 1
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTI999
.
PRNTI170  MOVE      TWO,FORM1                   * Basic Observations 2
          MOVE      "36",FORM2                  * Used Def Y/N 1
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTI999
.
PRNTI180  MOVE      THREE,FORM1                 * Basic Observations 3
          MOVE      "36",FORM2                  * Used Def Y/N 1
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTI999
.
PRNTI190  MOVE      ONE,FORM1                   * Basic Observations 1
          MOVE      "37",FORM2                  * User Def Code 2 - Code
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTI999
.
PRNTI200  MOVE      ONE,FORM1                   * Basic Observations 1
          MOVE      "38",FORM2                  * User Def Code 2 - Desc
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTI999
.
PRNTI210  MOVE      TWO,FORM1                   * Basic Observations 2
          MOVE      "37",FORM2                  * User Def Code 2 - Code
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTI999
.
PRNTI220  MOVE      TWO,FORM1                   * Basic Observations 2
          MOVE      "38",FORM2                  * User Def Code 2 - Desc
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTI999
.
PRNTI230  MOVE      THREE,FORM1                 * Basic Observations 3
          MOVE      "37",FORM2                  * User Def Code 2 - Code
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTI999
.
PRNTI240  MOVE      THREE,FORM1                 * Basic Observations 3
          MOVE      "38",FORM2                  * User Def Code 2 - Desc
          MOVE      ANSB,DIM3
          CALL      PROBS000
          GOTO      PRNTI999
.
.------ Next Stationery Code Type 7------
.
PRNTI250  MOVE      EMLPUNI,SAVKEY5
          UNPACK    IBDTTXFL,DIM8,DIM6
          MOVE      EMLPURN,URNUMBER
          MOVE      EMLPADM,ADMISSNO
          MOVE      EMLPLPN,LBLPRINT
          MOVE      EMLPFPN,FRMPRINT
          MOVE      EMLPCNO,NOLABEL
          MOVE      STATNCOD,SVSTNCOD
          MOVE      DIM6,STATNCOD
          MOVE      EMLPREP,REPORTNO
          MOVE      EMLPLTY,LABELTYP
          MOVE      EMLPPSC,PASSCODE
.
          CALL      ADDLP000
.
          MOVE      SAVKEY5,KEY5
          CALL      RDEMLP1
.
          MOVE      SVSTNCOD,STATNCOD
.
          GOTO      PRNTI999
.
PRNTI260  MOVE      "002",KEY3                 * Management Note
          MOVE      "  1",FORM3                * Format Clinical Notes Line 1
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI270  MOVE      "002",KEY3                 * Management Note
          MOVE      "  2",FORM3                * Format Clinical Notes Line 2
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI280  MOVE      "002",KEY3                 * Management Note
          MOVE      "  3",FORM3                * Format Clinical Notes Line 3
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI290  MOVE      "002",KEY3                 * Management Note
          MOVE      "  4",FORM3                * Format Clinical Notes Line 4
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI300  MOVE      "002",KEY3                 * Management Note
          MOVE      "  5",FORM3                * Format Clinical Notes Line 5
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI310  MOVE      "002",KEY3                 * Management Note
          MOVE      "  6",FORM3                * Format Clinical Notes Line 6
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI320  MOVE      "002",KEY3                 * Management Note
          MOVE      "  7",FORM3                * Format Clinical Notes Line 7
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI330  MOVE      "002",KEY3                 * Management Note
          MOVE      "  8",FORM3                * Format Clinical Notes Line 8
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI340  MOVE      "002",KEY3                 * Management Note
          MOVE      "  9",FORM3                * Format Clinical Notes Line 9
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI350  MOVE      "002",KEY3                 * Management Note
          MOVE      " 10",FORM3                * Format Clinical Notes Line 10
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI360  MOVE      "002",KEY3                 * Management Note
          MOVE      " 11",FORM3                * Format Clinical Notes Line 11
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI370  MOVE      "002",KEY3                 * Management Note
          MOVE      " 12",FORM3                * Format Clinical Notes Line 12
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI380  MOVE      "002",KEY3                 * Management Note
          MOVE      " 13",FORM3                * Format Clinical Notes Line 13
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI390  MOVE      "002",KEY3                 * Management Note
          MOVE      " 14",FORM3                * Format Clinical Notes Line 14
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI400  MOVE      "002",KEY3                 * Management Note
          MOVE      " 15",FORM3                * Format Clinical Notes Line 15
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI410  MOVE      "002",KEY3                 * Management Note
          MOVE      " 16",FORM3                * Format Clinical Notes Line 16
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI420  MOVE      "002",KEY3                 * Management Note
          MOVE      " 17",FORM3                * Format Clinical Notes Line 17
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI430  MOVE      "002",KEY3                 * Management Note
          MOVE      " 18",FORM3                * Format Clinical Notes Line 18
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI440  MOVE      "002",KEY3                 * Management Note
          MOVE      " 19",FORM3                * Format Clinical Notes Line 19
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI450  MOVE      "002",KEY3                 * Management Note
          MOVE      " 20",FORM3                * Format Clinical Notes Line 20
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI460  MOVE      "002",KEY3                 * Management Note
          MOVE      " 21",FORM3                * Format Clinical Notes Line 21
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI470  MOVE      "002",KEY3                 * Management Note
          MOVE      " 22",FORM3                * Format Clinical Notes Line 22
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI480  MOVE      "002",KEY3                 * Management Note
          MOVE      " 23",FORM3                * Format Clinical Notes Line 23
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI490  MOVE      "002",KEY3                 * Management Note
          MOVE      " 24",FORM3                * Format Clinical Notes Line 24
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI500  MOVE      "002",KEY3                 * Management Note
          MOVE      " 25",FORM3                * Format Clinical Notes Line 25
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI510  MOVE      "002",KEY3                 * Management Note
          MOVE      " 26",FORM3                * Format Clinical Notes Line 26
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI520  MOVE      "002",KEY3                 * Management Note
          MOVE      " 27",FORM3                * Format Clinical Notes Line 27
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI530  MOVE      "002",KEY3                 * Management Note
          MOVE      " 28",FORM3                * Format Clinical Notes Line 28
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI540  MOVE      "002",KEY3                 * Management Note
          MOVE      " 29",FORM3                * Format Clinical Notes Line 29
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI550  MOVE      "002",KEY3                 * Management Note
          MOVE      " 30",FORM3                * Format Clinical Notes Line 30
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI560  MOVE      "002",KEY3                 * Management Note
          MOVE      " 31",FORM3                * Format Clinical Notes Line 31
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI570  MOVE      "002",KEY3                 * Management Note
          MOVE      " 32",FORM3                * Format Clinical Notes Line 32
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI580  MOVE      "002",KEY3                 * Management Note
          MOVE      " 33",FORM3                * Format Clinical Notes Line 33
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI590  MOVE      "002",KEY3                 * Management Note
          MOVE      " 34",FORM3                * Format Clinical Notes Line 34
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI600  MOVE      "002",KEY3                 * Management Note
          MOVE      " 35",FORM3                * Format Clinical Notes Line 35
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI610  MOVE      "002",KEY3                 * Management Note
          MOVE      " 36",FORM3                * Format Clinical Notes Line 36
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI620  MOVE      "002",KEY3                 * Management Note
          MOVE      " 37",FORM3                * Format Clinical Notes Line 37
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI630  MOVE      "002",KEY3                 * Management Note
          MOVE      " 38",FORM3                * Format Clinical Notes Line 38
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI640  MOVE      "002",KEY3                 * Management Note
          MOVE      " 39",FORM3                * Format Clinical Notes Line 39
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI650  MOVE      "002",KEY3                 * Management Note
          MOVE      " 40",FORM3                * Format Clinical Notes Line 40
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI660  MOVE      "002",KEY3                 * Management Note
          MOVE      " 41",FORM3                * Format Clinical Notes Line 41
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI670  MOVE      "002",KEY3                 * Management Note
          MOVE      " 42",FORM3                * Format Clinical Notes Line 42
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI680  MOVE      "002",KEY3                 * Management Note
          MOVE      " 43",FORM3                * Format Clinical Notes Line 43
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI690  MOVE      "002",KEY3                 * Management Note
          MOVE      " 44",FORM3                * Format Clinical Notes Line 44
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI700  MOVE      "002",KEY3                 * Management Note
          MOVE      " 45",FORM3                * Format Clinical Notes Line 45
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI710  MOVE      "002",KEY3                 * Management Note
          MOVE      " 46",FORM3                * Format Clinical Notes Line 46
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI720  MOVE      "002",KEY3                 * Management Note
          MOVE      " 47",FORM3                * Format Clinical Notes Line 47
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI730  MOVE      "002",KEY3                 * Management Note
          MOVE      " 48",FORM3                * Format Clinical Notes Line 48
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI740  MOVE      "002",KEY3                 * Management Note
          MOVE      " 49",FORM3                * Format Clinical Notes Line 49
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI750  MOVE      "002",KEY3                 * Management Note
          MOVE      " 50",FORM3                * Format Clinical Notes Line 50
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI760  MOVE      "002",KEY3                 * Management Note
          MOVE      " 51",FORM3                * Format Clinical Notes Line 51
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI770  MOVE      "002",KEY3                 * Management Note
          MOVE      " 52",FORM3                * Format Clinical Notes Line 52
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI780  MOVE      "002",KEY3                 * Management Note
          MOVE      " 53",FORM3                * Format Clinical Notes Line 53
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI790  MOVE      "002",KEY3                 * Management Note
          MOVE      " 54",FORM3                * Format Clinical Notes Line 54
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI800  MOVE      "002",KEY3                 * Management Note
          MOVE      " 55",FORM3                * Format Clinical Notes Line 55
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI810  MOVE      "002",KEY3                 * Management Note
          MOVE      " 56",FORM3                * Format Clinical Notes Line 56
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI820  MOVE      "002",KEY3                 * Management Note
          MOVE      " 57",FORM3                * Format Clinical Notes Line 57
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI830  MOVE      "002",KEY3                 * Management Note
          MOVE      " 58",FORM3                * Format Clinical Notes Line 58
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI840  MOVE      "002",KEY3                 * Management Note
          MOVE      " 59",FORM3                * Format Clinical Notes Line 59
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI850  MOVE      "002",KEY3                 * Management Note
          MOVE      " 60",FORM3                * Format Clinical Notes Line 60
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI860  MOVE      "002",KEY3                 * Management Note
          MOVE      " 61",FORM3                * Format Clinical Notes Line 61
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI870  MOVE      "002",KEY3                 * Management Note
          MOVE      " 62",FORM3                * Format Clinical Notes Line 62
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI880  MOVE      "002",KEY3                 * Management Note
          MOVE      " 63",FORM3                * Format Clinical Notes Line 63
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI890  MOVE      "002",KEY3                 * Management Note
          MOVE      " 64",FORM3                * Format Clinical Notes Line 64
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI900  MOVE      "002",KEY3                 * Management Note
          MOVE      " 65",FORM3                * Format Clinical Notes Line 65
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI910  MOVE      "002",KEY3                 * Management Note
          MOVE      " 66",FORM3                * Format Clinical Notes Line 66
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI920  MOVE      "002",KEY3                 * Management Note
          MOVE      " 67",FORM3                * Format Clinical Notes Line 67
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI930  MOVE      "002",KEY3                 * Management Note
          MOVE      " 68",FORM3                * Format Clinical Notes Line 68
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI940  MOVE      "002",KEY3                 * Management Note
          MOVE      " 69",FORM3                * Format Clinical Notes Line 69
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI950  MOVE      "002",KEY3                 * Management Note
          MOVE      " 70",FORM3                * Format Clinical Notes Line 70
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI960  MOVE      "002",KEY3                 * Management Note
          MOVE      " 71",FORM3                * Format Clinical Notes Line 71
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI970  MOVE      "002",KEY3                 * Management Note
          MOVE      " 72",FORM3                * Format Clinical Notes Line 72
          CALL      PRCOM000
          GOTO      PRNTI999
.
PRNTI980  MOVE      "002",KEY3                 * Management Note
          MOVE      " 73",FORM3                * Format Clinical Notes Line 73
          CALL      PRCOM000
          GOTO      PRNTI999
.
.------- format process data fields (1326 - xxx) ------
.
PRNTI990  CALL      PRNTJ000
          GOTO      PRNTI999
.
PRNTI999  RETURN
.
.------------------------------------------------------------
.   Process data fields (1326 - 1423)
.------------------------------------------------------------
PRNTJ000  SUB       "98",FORM5
          BRANCH    FORM5,PRNTJ010,PRNTJ020,PRNTJ030,PRNTJ040,PRNTJ050: *1330
                          PRNTJ060,PRNTJ070,PRNTJ080,PRNTJ090,PRNTJ100: *1335 
                          PRNTJ110,PRNTJ120,PRNTJ130,PRNTJ140,PRNTJ150: *1340
                          PRNTJ160,PRNTJ170,PRNTJ180,PRNTJ190,PRNTJ200: *1345
                          PRNTJ210,PRNTJ220,PRNTJ230,PRNTJ240,PRNTJ250: *1350
                          PRNTJ260,PRNTJ270,PRNTJ280,PRNTJ290,PRNTJ300: *1355
                          PRNTJ310,PRNTJ320,PRNTJ330,PRNTJ340,PRNTJ350: *1360
                          PRNTJ360,PRNTJ370,PRNTJ380,PRNTJ390,PRNTJ400: *1365
                          PRNTJ410,PRNTJ420,PRNTJ430,PRNTJ440,PRNTJ450: *1370
                          PRNTJ460,PRNTJ470,PRNTJ480,PRNTJ490,PRNTJ500: *1375
                          PRNTJ510,PRNTJ520,PRNTJ530,PRNTJ540,PRNTJ550: *1380
                          PRNTJ560,PRNTJ570,PRNTJ580,PRNTJ590,PRNTJ600: *1385
                          PRNTJ610,PRNTJ620,PRNTJ630,PRNTJ640,PRNTJ650: *1390
                          PRNTJ660,PRNTJ670,PRNTJ680,PRNTJ690,PRNTJ700: *1395
                          PRNTJ710,PRNTJ720,PRNTJ730,PRNTJ740,PRNTJ750: *1400
                          PRNTJ760,PRNTJ770,PRNTJ780,PRNTJ790,PRNTJ800: *1405
                          PRNTJ810,PRNTJ820,PRNTJ830,PRNTJ840,PRNTJ850: *1410
                          PRNTJ860,PRNTJ870,PRNTJ880,PRNTJ890,PRNTJ900: *1415
                          PRNTJ910,PRNTJ920,PRNTJ930,PRNTJ940,PRNTJ950: *1420
                          PRNTJ960,PRNTJ970,PRNTJ980
.
          GOTO      PRNTJ990
.
PRNTJ010  MOVE      "002",KEY3                 * Management Note
          MOVE      " 74",FORM3                * Format Clinical Notes Line 74
          CALL      PRCOM000
          GOTO      PRNTJ999
.
PRNTJ020  MOVE      "002",KEY3                 * Management Note
          MOVE      " 75",FORM3                * Format Clinical Notes Line 75
          CALL      PRCOM000
          GOTO      PRNTJ999
.
PRNTJ030  MOVE      "002",KEY3                 * Management Note
          MOVE      " 76",FORM3                * Format Clinical Notes Line 76
          CALL      PRCOM000
          GOTO      PRNTJ999
.
PRNTJ040  MOVE      "002",KEY3                 * Management Note
          MOVE      " 77",FORM3                * Format Clinical Notes Line 77
          CALL      PRCOM000
          GOTO      PRNTJ999
.
PRNTJ050  MOVE      "002",KEY3                 * Management Note
          MOVE      " 78",FORM3                * Format Clinical Notes Line 78
          CALL      PRCOM000
          GOTO      PRNTJ999
.
PRNTJ060  MOVE      "002",KEY3                 * Management Note
          MOVE      " 79",FORM3                * Format Clinical Notes Line 79
          CALL      PRCOM000
          GOTO      PRNTJ999
.
PRNTJ070  MOVE      "002",KEY3                 * Management Note
          MOVE      " 80",FORM3                * Format Clinical Notes Line 80
          CALL      PRCOM000
          GOTO      PRNTJ999
.
PRNTJ080  MOVE      "002",KEY3                 * Management Note
          MOVE      " 81",FORM3                * Format Clinical Notes Line 81
          CALL      PRCOM000
          GOTO      PRNTJ999
.
PRNTJ090  MOVE      "002",KEY3                 * Management Note
          MOVE      " 82",FORM3                * Format Clinical Notes Line 82
          CALL      PRCOM000
          GOTO      PRNTJ999
.
PRNTJ100  MOVE      "002",KEY3                 * Management Note
          MOVE      " 83",FORM3                * Format Clinical Notes Line 83
          CALL      PRCOM000
          GOTO      PRNTJ999
.
PRNTJ110  MOVE      "002",KEY3                 * Management Note
          MOVE      " 84",FORM3                * Format Clinical Notes Line 84
          CALL      PRCOM000
          GOTO      PRNTJ999
.
PRNTJ120  MOVE      "002",KEY3                 * Management Note
          MOVE      " 85",FORM3                * Format Clinical Notes Line 85
          CALL      PRCOM000
          GOTO      PRNTJ999
.
PRNTJ130  MOVE      "002",KEY3                 * Management Note
          MOVE      " 86",FORM3                * Format Clinical Notes Line 86
          CALL      PRCOM000
          GOTO      PRNTJ999
.
PRNTJ140  MOVE      "002",KEY3                 * Management Note
          MOVE      " 87",FORM3                * Format Clinical Notes Line 87
          CALL      PRCOM000
          GOTO      PRNTJ999
.
PRNTJ150  MOVE      "002",KEY3                 * Management Note
          MOVE      " 88",FORM3                * Format Clinical Notes Line 88
          CALL      PRCOM000
          GOTO      PRNTJ999
.
PRNTJ160  MOVE      "002",KEY3                 * Management Note
          MOVE      " 89",FORM3                * Format Clinical Notes Line 89
          CALL      PRCOM000
          GOTO      PRNTJ999
.
PRNTJ170  MOVE      "002",KEY3                 * Management Note
          MOVE      " 90",FORM3                * Format Clinical Notes Line 90
          CALL      PRCOM000
          GOTO      PRNTJ999
.
PRNTJ180  MOVE      "002",KEY3                 * Management Note
          MOVE      " 91",FORM3                * Format Clinical Notes Line 91
          CALL      PRCOM000
          GOTO      PRNTJ999
.
PRNTJ190  MOVE      "002",KEY3                 * Management Note
          MOVE      " 92",FORM3                * Format Clinical Notes Line 92
          CALL      PRCOM000
          GOTO      PRNTJ999
.
PRNTJ200  MOVE      "002",KEY3                 * Management Note
          MOVE      " 93",FORM3                * Format Clinical Notes Line 93
          CALL      PRCOM000
          GOTO      PRNTJ999
.
PRNTJ210  MOVE      "002",KEY3                 * Management Note
          MOVE      " 94",FORM3                * Format Clinical Notes Line 94
          CALL      PRCOM000
          GOTO      PRNTJ999
.
PRNTJ220  MOVE      "002",KEY3                 * Management Note
          MOVE      " 95",FORM3                * Format Clinical Notes Line 95
          CALL      PRCOM000
          GOTO      PRNTJ999
.
PRNTJ230  MOVE      "002",KEY3                 * Management Note
          MOVE      " 96",FORM3                * Format Clinical Notes Line 96
          CALL      PRCOM000
          GOTO      PRNTJ999
.
PRNTJ240  MOVE      "002",KEY3                 * Management Note
          MOVE      " 97",FORM3                * Format Clinical Notes Line 97
          CALL      PRCOM000
          GOTO      PRNTJ999
.
PRNTJ250  MOVE      "002",KEY3                 * Management Note
          MOVE      " 98",FORM3                * Format Clinical Notes Line 98
          CALL      PRCOM000
          GOTO      PRNTJ999
.
PRNTJ260  MOVE      "002",KEY3                 * Management Note
          MOVE      " 99",FORM3                * Format Clinical Notes Line 99
          CALL      PRCOM000
          GOTO      PRNTJ999
.
PRNTJ270  MOVE      "002",KEY3                 * Management Note
..          MOVE      "100",FORM3                * Format Clinical Notes Line 100
          CALL      AVCOM000
          GOTO      PRNTJ999
.
PRNTJ280  MOVE      ONE,FORM1                  * Basic Observations 1 Action/Cm
          MOVE      TWENTY6,FORM2              * Code
          MOVE      ANSB,DIM3
          CALL      PROBS0000
          GOTO      PRNTJ9999
.
PRNTJ290  MOVE      TWO,FORM1                  * Basic Observations 2 Action/Cm
          MOVE      TWENTY6,FORM2              * Code
          MOVE      ANSB,DIM3
          CALL      PROBS0000
          GOTO      PRNTJ9999
.
PRNTJ300  MOVE      THREE,FORM1                * Basic Observations 3 Action/Cm
          MOVE      TWENTY6,FORM2              * Code
          MOVE      ANSB,DIM3
          CALL      PROBS0000
          GOTO      PRNTJ9999
.
PRNTJ310  MOVE      ONE,FORM1                  * Basic Observations 1 Action/Cm
          MOVE      TWENTY2,FORM2              * Description
          MOVE      ANSB,DIM3
          CALL      PROBS0000
          GOTO      PRNTJ9999
.
PRNTJ320  MOVE      TWO,FORM1                  * Basic Observations 2 Action/Cm
          MOVE      TWENTY2,FORM2              * Description
          MOVE      ANSB,DIM3
          CALL      PROBS0000
          GOTO      PRNTJ9999
.
PRNTJ330  MOVE      THREE,FORM1                * Basic Observations 3 Action/Cm
          MOVE      TWENTY2,FORM2              * Description
          MOVE      ANSB,DIM3
          CALL      PROBS0000
          GOTO      PRNTJ9999
.
PRNTJ340  MOVE      ONE,FORM1                  * Basic Observations 1 Comment 1
          MOVE      TWENTY3,FORM2
          MOVE      ANSB,DIM3
          CALL      PROBS0000
          GOTO      PRNTJ9999
.
PRNTJ350  MOVE      TWO,FORM1                  * Basic Observations 2 Comment 1
          MOVE      TWENTY3,FORM2
          MOVE      ANSB,DIM3
          CALL      PROBS0000
          GOTO      PRNTJ9999
.
PRNTJ360  MOVE      THREE,FORM1                * Basic Observations 3 Comment 1
          MOVE      TWENTY3,FORM2
          MOVE      ANSB,DIM3
          CALL      PROBS0000
          GOTO      PRNTJ9999
.
PRNTJ370  MOVE      ONE,FORM1                  * Basic Observations 1 Comment 2
          MOVE      TWENTY4,FORM2
          MOVE      ANSB,DIM3
          CALL      PROBS0000
          GOTO      PRNTJ9999
.
PRNTJ380  MOVE      TWO,FORM1                  * Basic Observations 2 Comment 2
          MOVE      TWENTY4,FORM2
          MOVE      ANSB,DIM3
          CALL      PROBS0000
          GOTO      PRNTJ9999
.
PRNTJ390  MOVE      THREE,FORM1                * Basic Observations 3 Comment 2
          MOVE      TWENTY4,FORM2
          MOVE      ANSB,DIM3
          CALL      PROBS0000
          GOTO      PRNTJ9999
.
PRNTJ400  MOVE      ONE,FORM1                  * Basic Observations 1 Comment 3
          MOVE      TWENTY5,FORM2
          MOVE      ANSB,DIM3
          CALL      PROBS0000
          GOTO      PRNTJ9999
.
PRNTJ410  MOVE      TWO,FORM1                  * Basic Observations 2 Comment 3
          MOVE      TWENTY5,FORM2
          MOVE      ANSB,DIM3
          CALL      PROBS0000
          GOTO      PRNTJ9999
.
PRNTJ420  MOVE      THREE,FORM1                * Basic Observations 3 Comment 3
          MOVE      TWENTY5,FORM2
          MOVE      ANSB,DIM3
          CALL      PROBS0000
          GOTO      PRNTJ9999

.
.------- print X if admitted to hospital------
.         
PRNTJ430  MOVE      SP20,DANS1
          MATCH     SP3,EMVIDSTA
          GOTO      PRNTJ435 IF EQUAL          
.         
          PACK      KEY5 WITH CODEED,EMVIDSTA
          CALL      RDCODE1                    * read the patient codes file 
          BRANCH    OVRCD,PRNTJ435
.         
          MATCH     "2",THCSCOD
          IF        @EQUAL
            MOVE      ANSX,DANS1
          ENDIF
.
PRNTJ435  MOVE      DANS1,VARIABLE
          GOTO      PRNTJ999
.
.------- print X if transferred------
.
PRNTJ440  MOVE      SP20,DANS1
          MATCH     SP3,EMVIDSTA
          GOTO      PRNTJ445 IF EQUAL
.
          PACK      KEY5 WITH CODEED,EMVIDSTA
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PRNTJ445
.
          MATCH     "4",THCSCOD
          IF        @EQUAL
            MOVE      ANSX,DANS1
          ENDIF
.
PRNTJ445  MOVE      DANS1,VARIABLE
          GOTO      PRNTJ999
.
.------- print X if discharged home------
.
PRNTJ450  MOVE      SP20,DANS1
          MATCH     SP3,EMVIDSTA
          GOTO      PRNTJ455 IF EQUAL
.
          PACK      KEY5 WITH CODEED,EMVIDSTA
          CALL      RDCODE1                    * read the patient codes file
          BRANCH    OVRCD,PRNTJ455
.
          MATCH     "1",THCSCOD
          IF        @EQUAL
            MOVE      ANSX,DANS1
          ENDIF
.
PRNTJ455  MOVE      DANS1,VARIABLE
          GOTO      PRNTJ999
.
PRNTJ460 PACK      VARIABLE,SP70,SP70
         PACK      PMHCTITL,SP70
         PACK      PMHCGNAM,SP70
         PACK      PMHCSNAM,SP70
         MOVE      FIVE,F2                          * Local GP Formatted full
         CALL      PRHCP000                         * name

         MATCH     SP70,PMHCSNAM
         IF        @EQUAL
            PACK      PMHGPNAM,SP70
            MOVE      TWO,F2                           * HCP Practice Name
            CALL      PRHCG000
            GOTO      PRNTS999
         ENDIF
.
          GOTO      PRNTJ999
.
PRNTJ470  PACK      KEY14,EMVIADMN,ZERO,ZERO,FIVE,SP70
          CALL      RSEMVCD1
PRNTJ471  CALL      RKEMVCD1
          BRANCH    OVRCD,PRNTJ999
.
          MATCH     DEMVIADM,EMVCVIST
          GOTO      PRNTJ999 IF NOT EQUAL
.
          MATCH     "005",EMVCTYPE          * Emergency diagnosis ?
          GOTO      PRNTJ999 IF NOT EQUAL
.
          MATCH     "000",EMVCSEQU          * Primary diagnosis
          GOTO      PRNTJ999 IF NOT EQUAL
.
          MOVE      EMVCFTXT,VARIABLE
          GOTO      PRNTJ999
.
PRNTJ480  PACK      KEY98,SP70,SP70
          MATCH     SP70,PMHCSNAM
          IF        !@EQUAL
            PACK      PMHCTITL,SP70
            PACK      PMHCGNAM,SP70
            PACK      PMHCSNAM,SP70
            MOVE      FIVE,F2                          * Local GP Formatted full
            CALL      PRHCP000                         * name
            PACK      KEY98,VARIABLE,SP70
          ENDIF
.
          PACK      KEY99,SP70
          MATCH     SP70,PMHGPNAM
          IF        !@EQUAL
            PACK      PMHGPNAM,SP70
            MOVE      TWO,F2                           * HCP Practice Name
            CALL      PRHCG000
            PACK      KEY99,VARIABLE 
          ENDIF
.
          STRIP     KEY98
          CLEAR     VARIABLE
          APPEND    KEY98,VARIABLE
          STRIP     KEY99
          MATCH     SP70,KEY99
          IF        !@EQUAL
            MATCH     SP70,VARIABLE
            IF        !@EQUAL
              APPEND    SLASH,VARIABLE
            ENDIF
          ENDIF
          APPEND    KEY99,VARIABLE
          GOTO      PRNTS999
.
PRNTJ490  MOVE      SP70,PMHCADR1              * HCP Address
          PACK      KEY10,PMPXRHC1,SP70
          CALL      RDPMHCP1
          MATCH     SP70,PMHCADR1
          IF        !@EQUAL
            MOVE      PMHCADR1,VARIABLE
            GOTO      PRNFL999
          ENDIF
          PACK      PMHGADD1,SP70
          MOVE      THREE,F2                    * HCP Practice Adress
          CALL      PRHCG000
          GOTO      PRNFL999
.
PRNTJ500  MOVE      SP70,PMHCADR1              * HCP Address
          PACK      KEY10,PMPXRHC1,SP70
          CALL      RDPMHCP1
          MATCH     SP70,PMHCADR1
          IF        !@EQUAL
            MOVE      PMHCADR2,VARIABLE
            GOTO      PRNFL999
          ENDIF
          PACK      PMHGADD2,SP70
          MOVE      FOUR,F2                    * HCP Practice Adress
          CALL      PRHCG000
          GOTO      PRNFL999
.
PRNTJ510  MOVE      SP70,PMHCADR1              * HCP Address
          PACK      KEY10,PMPXRHC1,SP70
          CALL      RDPMHCP1
          MATCH     SP70,PMHCADR1
          IF        !@EQUAL
            MOVE      PMHCADR3,VARIABLE
            GOTO      PRNFL999
          ENDIF
          PACK      PMHGADD3,SP70
          MOVE      FIVE,F2                    * HCP Practice Adress
          CALL      PRHCG000
          GOTO      PRNFL999
.
PRNTJ520  MOVE      SP70,PMHCADR1              * HCP Address
          PACK      KEY10,PMPXRHC1,SP70
          CALL      RDPMHCP1
          MATCH     SP70,PMHCADR1
          IF        !@EQUAL
            MOVE      PMHCSTAT,VARIABLE
            GOTO      PRNFL999
          ENDIF
          PACK      PMHGADD4,SP70
          MOVE      SIX,F2                    * HCP Practice Adress
          CALL      PRHCG000
          GOTO      PRNFL999
.
PRNTJ530  MOVE      SP70,PMHCADR1              * HCP Address
          PACK      KEY10,PMPXRHC1,SP70
          CALL      RDPMHCP1
          MATCH     SP70,PMHCADR1
          IF        !@EQUAL
            MOVE      PMHCPOST,VARIABLE
            GOTO      PRNFL999
          ENDIF
          PACK      PMHGPOST,SP70
          MOVE      TEN3,F2                    * HCP Practice Adress
          CALL      PRHCG000
          GOTO      PRNFL999
.                                           * User Defined 1 Doctor Code
PRNTJ540  PACK      KEY6,EMVIUR01,SP10 
          CALL      DOCNAM00                * gets DTITL DGNAME DSNAME & DFNAME
          MOVE      DFNAME,VARIABLE         * full name
          GOTO      PRNFL999
.
PRNTJ550  MOVE      SP70,PTHSNAME           * hospital name
          PACK      KEY8,DEMVIADM,SP70
          CALL      RDPMVX11
          BRANCH    OVRCD,PRNTJ552
          MATCH     SP70,PMVXMHOS
          IF        !@EQUAL
            PACK      KEY3,PMVXMHOS,SP70
            CALL      RDPTHSP1
          ENDIF
PRNTJ552  MOVE      PTHSNAME,VARIABLE
          GOTO      PRNFL999
.
PRNTJ560  MOVE      PMPXFNAM,VARIABLE       * Patient First Name
          GOTO      PRFLD990
.
PRNTJ570  MOVE      PMPXSNAM,VARIABLE       * Patient Second Name
          GOTO      PRFLD990
.
PRNTJ580  MOVE      SP70,TDESC              * Non WA Hospital Contact (Cat cw)
          PACK      KEY8,DEMVIADM,SP70
          CALL      RDPMVX11
          BRANCH    OVRCD,PRNTJ582
          MATCH     SP70,PMVXNWHC
          IF        !@EQUAL
            PACK      KEY5,CATcw,PMVXNWHC,SP70
            CALL      RDCODE1
          ENDIF
PRNTJ582  MOVE      TDESC,VARIABLE
          GOTO      PRNFL999
.
PRNTJ590  MOVE      SP70,PTVADESC              * Transfer Source Description
          PACK      KEY5,EMVITSRC,SP70
          CALL      RDPTVAD1
          MOVE      PTVADESC,VARIABLE 
          GOTO      PRNFL999
.
PRNTJ600  MOVE      SP70,VARIABLE
          MOVE      THREE,DIM1                 * dva card colour (pmsccdaf)
          CALL      GCCARD00
          MATCH     SP70,PMCDDVAC
          IF        !@EQUAL & !@EOS
            PACK      KEY5,ANSD,ANSX,PMCDDVAC,SP10
            CALL      RDCODE1
            IF        OVRCD = 0
              MOVE      TDESC,VARIABLE
            ENDIF
          ENDIF
          GOTO      PRNTJ999
.
.------ Alternate Contact Type (pmscexaf) ------
.
PRNTJ610  CALL      ALTC0000                * Get alternate contact details
          MOVE      PMCETYPE,VARIABLE
          GOTO      PRNTJ999
.
.------ Alternate Contact Title (pmscexaf) ------
.
PRNTJ620  CALL      ALTC0000                * Get alternate contact details
          MOVE      PMCETITL,VARIABLE
          GOTO      PRNTJ999
.
.------ Alternate Contact Surname (pmscexaf) ------
.
PRNTJ630  CALL      ALTC0000                * Get alternate contact details
          MOVE      PMCESNAM,VARIABLE
          GOTO      PRNTJ999
.
.------ Alternate Contact Given Name 1 (pmscexaf) ------
.
PRNTJ640  CALL      ALTC0000                * Get alternate contact details
          MOVE      PMCEGNAM,VARIABLE
          GOTO      PRNTJ999
.
.------ Alternate Contact Given Name 2 (pmscexaf) ------
.
PRNTJ650  CALL      ALTC0000                * Get alternate contact details
          MOVE      PMCEGNM2,VARIABLE
          GOTO      PRNTJ999
.
.------ Alternate Contact Formatted Name (pmscexaf) ------
.
PRNTJ660  CALL      ALTC0000                * Get alternate contact details
          MOVE      PMCESNAM,PACSNAME
          MOVE      PMCEGNAM,PACGNAME
          MOVE      PMCETITL,PACTITLE
          MOVE      "1",PACFRMT
          CALL      PACNAME
          MOVE      PACFNAME,VARIABLE
          GOTO      PRNTJ999
.
.------ Alternate Contact Address Line 1 (pmscexaf) ------
.
PRNTJ670  CALL      ALTC0000                * Get alternate contact details
          MOVE      PMCEADD1,VARIABLE
          GOTO      PRNTJ999
.
.------ Alternate Contact Address Line 2 (pmscexaf) ------
.
PRNTJ680  CALL      ALTC0000                * Get alternate contact details
          MOVE      PMCEADD2,VARIABLE
          GOTO      PRNTJ999
.
.------ Alternate Contact Address Line 3 (pmscexaf) ------
.
PRNTJ690  CALL      ALTC0000                * Get alternate contact details
          MOVE      PMCEADD3,VARIABLE
          GOTO      PRNTJ999
.
.------ Alternate Contact Address Line 4 (pmscexaf) ------
.
PRNTJ700  CALL      ALTC0000                * Get alternate contact details
          MOVE      PMCEADD4,VARIABLE
          GOTO      PRNTJ999
.
.------ Alternate Contact Post Code (pmscexaf) ------
.
PRNTJ710  CALL      ALTC0000                * Get alternate contact details
          MOVE      PMCEPOST,VARIABLE
          GOTO      PRNTJ999
.
.------ Alternate Contact Relationship (pmscexaf) ------
.
PRNTJ720  CALL      ALTC0000                * Get alternate contact details
          MOVE      PMCERELP,VARIABLE
          GOTO      PRNTJ999
.
.------ Alternate Contact Home Phone (pmscexaf) ------
.
PRNTJ730  CALL      ALTC0000                * Get alternate contact details
          MOVE      PMCETELP,VARIABLE
          GOTO      PRNTJ999
.
.------ Alternate Contact Work Phone (pmscexaf) ------
.
PRNTJ740  CALL      ALTC0000                * Get alternate contact details
          MOVE      PMCETELB,VARIABLE
          GOTO      PRNTJ999
.
.------ Alternate Contact Mobile Phone (pmscexaf) ------
.
PRNTJ750  CALL      ALTC0000                * Get alternate contact details
          MOVE      PMCETELM,VARIABLE
          GOTO      PRNTJ999
.
.------ Alternate Contact Email Address (pmscexaf) ------
.
PRNTJ760  CALL      ALTC0000                * Get alternate contact details
          MOVE      PMCEEMAI,VARIABLE
          GOTO      PRNTJ999
.
.------ Alternate Contact Send Letter Flag (pmscexaf) ------
.
PRNTJ770  CALL      ALTC0000                * Get alternate contact details
          MATCH     "1",PMCESLET
          IF        @EQUAL
            MOVE      "Yes",VARIABLE
          ENDIF
          GOTO      PRNTJ999
.
.------ Mental Health Legal Status Code at Admission ------
.
PRNTJ780  PACK      VARIABLE,SP70
          CALL      GMHDLS00                * Mental Health Legal Status
          GOTO      PRNTJ999
.
.------ Mental Health Legal Status Desc at Admission ------
.
PRNTJ790  PACK      TDESC,SP70
          CALL      GMHDLS00                * Mental Health Legal Status
          MOVE      TDESC,VARIABLE
          GOTO      PRNTJ999
.
PRNTJ800  CALL      GMCARD00                 * Multiple Card Type Code
          MOVE      PMCDCTYP,VARIABLE
          GOTO      PRNFL999
.
PRNTJ810  CALL      GMCARD00                 * Multiple Card Type Description
          MOVE      TDESC,VARIABLE
          GOTO      PRNFL999
.
PRNTJ820  CALL      GMCARD00                 * Multiple Card Type Expiry date
          MATCH     PMCDEXDT,SP70
          GOTO      PRNFL999 IF EQUAL
.
          UNPACK    PMCDEXDT,CCENT,CYEAR,CMON,CDAY
          CALL      PACDATE
          MOVE      CPCDATE,VARIABLE
          GOTO      PRNFL999
.
PRNTJ830  MOVE      "     1",DIM6            * Patient Notes Header 1
          CALL      PATHNT00
          GOTO      PRNTJ999
.
PRNTJ840  MOVE      "     1",DIM6            * Patient Notes 1 Line 1
          MOVE      "  1",DIM3
          CALL      PATNTS00
          GOTO      PRNTJ999
.
PRNTJ850  MOVE      "     1",DIM6            * Patient Notes 1 Line 2
          MOVE      "  2",DIM3
          CALL      PATNTS00
          GOTO      PRNTJ999
.
PRNTJ860  MOVE      "     1",DIM6            * Patient Notes 1 Line 3
          MOVE      "  3",DIM3
          CALL      PATNTS00
          GOTO      PRNTJ999
.
PRNTJ870  MOVE      "     1",DIM6            * Patient Notes 1 Line 4
          MOVE      "  4",DIM3
          CALL      PATNTS00
          GOTO      PRNTJ999
.
PRNTJ880  MOVE      "     2",DIM6            * Patient Notes Header 2
          CALL      PATHNT00
          GOTO      PRNTJ999
.
PRNTJ890  MOVE      "     2",DIM6            * Patient Notes 2 Line 1
          MOVE      "  1",DIM3
          CALL      PATNTS00
          GOTO      PRNTJ999
.
PRNTJ900  MOVE      "     2",DIM6            * Patient Notes 2 Line 2
          MOVE      "  2",DIM3
          CALL      PATNTS00
          GOTO      PRNTJ999
.
PRNTJ910  MOVE      "     2",DIM6            * Patient Notes 2 Line 3
          MOVE      "  3",DIM3
          CALL      PATNTS00
          GOTO      PRNTJ999
.
PRNTJ920  MOVE      "     2",DIM6            * Patient Notes 2 Line 4
          MOVE      "  4",DIM3
          CALL      PATNTS00
          GOTO      PRNTJ999
.
PRNTJ930  MOVE      "e1",DIM2                * Print Category
          MOVE      ZERO,F1                  * Print Code 
          CALL      PRTVCD00                 * Visit based coding 
          GOTO      PRNTJ999
.
PRNTJ940  MOVE      "e1",DIM2                * Print Category
          MOVE      ONE,F1                   * Print Code
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTJ999
.
PRNTJ950  MOVE      "e1",DIM2                * Print Category 
          MOVE      TWO,F1                   * Print X if populated
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTJ999
.
PRNTJ960  MOVE      "e2",DIM2                * Print Category 
          MOVE      ZERO,F1                  * Print Code
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTJ999
.
PRNTJ970  MOVE      "e2",DIM2                * Print Category
          MOVE      ONE,F1                   * Print Code
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTJ999
.
PRNTJ980  MOVE      "e2",DIM2                * Print Category
          MOVE      TWO,F1                   * Print X if populated
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTJ999
.
.------- format process data fields (1424 - xxx) ------
.
PRNTJ990  CALL      PRNTK000
          GOTO      PRNTJ999
.
PRNTJ999  RETURN
.
.------------------------------------------------------------
.   Process data fields (1424 - 1521)
.------------------------------------------------------------
PRNTK000  SUB       "98",FORM5
          BRANCH    FORM5,PRNTK010,PRNTK020:                            *1425
                          PRNTK030,PRNTK040,PRNTK050,PRNTK060,PRNTK070: *1430
                          PRNTK080,PRNTK090,PRNTK100,PRNTK110,PRNTK120: *1435
                          PRNTK130,PRNTK140,PRNTK150,PRNTK160,PRNTK170: *1440
                          PRNTK180,PRNTK190,PRNTK200,PRNTK210,PRNTK211: *1445
                          PRNTK212,PRNTK240,PRNTK250,PRNTK260,PRNTK270: *1450
                          PRNTK280,PRNTK290,PRNTK300,PRNTK310,PRNTK320: *1455
                          PRNTK330,PRNTK340,PRNTK350,PRNTK360,PRNTK370: *1460
                          PRNTK380,PRNTK390,PRNTK400,PRNTK410,PRNTK420: *1465
                          PRNTK430,PRNTK440,PRNTK450,PRNTK460,PRNTK470: *1470
                          PRNTK480,PRNTK490,PRNTK500,PRNTK510,PRNTK520: *1475
                          PRNTK530,PRNTK540,PRNTK550,PRNTK560,PRNTK570: *1480
                          PRNTK580,PRNTK590,PRNTK600,PRNTK610,PRNTK620: *1485
                          PRNTK630,PRNTK640,PRNTK650,PRNTK660,PRNTK670: *1490
                          PRNTK680,PRNTK690,PRNTK700,PRNTK710,PRNTK720: *1495
                          PRNTK730,PRNTK740,PRNTK750,PRNTK760,PRNTK770: *1500
                          PRNTK780,PRNTK790,PRNTK800,PRNTK810,PRNTK820: *1505
                          PRNTK830,PRNTK840,PRNTK850,PRNTK860,PRNTK870: *1510
                          PRNTK880,PRNTK890,PRNTK900,PRNTK910,PRNTK920: *1515
                          PRNTK930,PRNTK940,PRNTK950,PRNTK960,PRNTK970: *1520
                          PRNTK980
.
          GOTO      PRNTK990
.
PRNTK010  MOVE      "e3",DIM2                * Print Category
          MOVE      ZERO,F1                  * Print Code
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTK999
.
PRNTK020  MOVE      "e3",DIM2                * Print Category
          MOVE      ONE,F1                   * Print Code
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTK999
.
PRNTK030  MOVE      "e3",DIM2                * Print Category
          MOVE      TWO,F1                   * Print X if populated
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTK999
.
PRNTK040  MOVE      "e4",DIM2                * Print Category
          MOVE      ZERO,F1                  * Print Code
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTK999
.
PRNTK050  MOVE      "e4",DIM2                * Print Category
          MOVE      ONE,F1                   * Print Code
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTK999
.
PRNTK060  MOVE      "e4",DIM2                * Print Category
          MOVE      TWO,F1                   * Print X if populated
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTK999
.
PRNTK070  MOVE      "E4",DIM2                * Print Category
          MOVE      ZERO,F1                  * Print Code
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTK999
.
PRNTK080  MOVE      "E4",DIM2                * Print Category
          MOVE      ONE,F1                   * Print Code
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTK999
.
PRNTK090  MOVE      "E4",DIM2                * Print Category
          MOVE      TWO,F1                   * Print X if populated
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTK999
.
PRNTK100  MOVE      "E5",DIM2                * Print Category
          MOVE      ZERO,F1                  * Print Code
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTK999
.
PRNTK110  MOVE      "E5",DIM2                * Print Category
          MOVE      ONE,F1                   * Print Code
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTK999
.
PRNTK120  MOVE      "E5",DIM2                * Print Category
          MOVE      TWO,F1                   * Print X if populated
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTK999
.
PRNTK130  MOVE      "E6",DIM2                * Print Category
          MOVE      ZERO,F1                  * Print Code
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTK999
.
PRNTK140  MOVE      "E6",DIM2                * Print Category
          MOVE      ONE,F1                   * Print Code
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTK999
.
PRNTK150  MOVE      "E6",DIM2                * Print Category
          MOVE      TWO,F1                   * Print X if populated
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTK999
.
PRNTK160  MOVE      "E7",DIM2                * Print Category
          MOVE      ZERO,F1                  * Print Code
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTK999
.
PRNTK170  MOVE      "E7",DIM2                * Print Category
          MOVE      ONE,F1                   * Print Code
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTK999
.
PRNTK180  MOVE      "E7",DIM2                * Print Category
          MOVE      TWO,F1                   * Print X if populated
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTK999
.
PRNTK190  MOVE      "E8",DIM2                * Print Category
          MOVE      ZERO,F1                  * Print Code
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTK999
.
PRNTK200  MOVE      "E8",DIM2                * Print Category
          MOVE      ONE,F1                   * Print Code
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTK999
.
PRNTK210  MOVE      "E8",DIM2                * Print Category
          MOVE      TWO,F1                   * Print X if populated
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTK999
.
PRNTK211  MOVE      PTYPE,VARIABLE
          GOTO      PRNTK999
.
PRNTK212  PACK      VARIABLE,SP70
          MOVE      SP20,TDESC
          PACK      KEY5,ANST,SP1,PTYPE,SP70     * Cat T
          CALL      RDCODE1                      * read the patient codes file
          BRANCH    OVRCD,PRNTK999
.
          MOVE      TDESC,VARIABLE
          GOTO      PRNTK999
.
.
.         Variable 1447 for stationary type 7 (Emergency). This code will
.         determine what fax number to use for the stationary. Precedence
.         is HCP Practice first. If the practice does not exist, is not
.         active or does not have a fax number then try the HCP with the
.         same conditions.
.
.
PRNTK240  PACK      KEY8,ADMISSNO,SP70
          CALL      RDPMVX11
          BRANCH    OVRCD,PRNTK999
.
          PACK      KEY8,URNUMBER,SP70        * Read to get HCP code
          CALL      RDPMPX21
          BRANCH    OVRCD,PRNTK999
.
          PACK      KEY12,PMPXRH1G,PMPXR1GC,SP70
          CALL      RDPMHCG1
          BRANCH    OVRCD,PRNTK241
.
          MATCH     "1",PMHGSTTS
          GOTO      PRNTK241 IF EQUAL         * Inactive
.
          MATCH     SP70,PMHGPFAX             * Read practice table
          IF        !@EQUAL
            MOVE      PMHGPFAX,VARIABLE       * Fax exists: output it
            GOTO      PRNTK999
          ENDIF

PRNTK241  PACK      KEY10,PMPXRHC1,SP70       * Read HCP table
          CALL      RDPMHCP1
          BRANCH    OVRCD,PRNTK999
.
          MATCH     "1",PMHCSTTS
          GOTO      PRNTK999 IF EQUAL         * Inactive
.
          MATCH     SP70,PMHCFAXN             * HCP Has fax number?
          IF        !@EQUAL
            PACK      VARIABLE,PMHCFAXN
            GOTO      PRNTK999
          ENDIF
          GOTO      PRNTK999
.
PRNTK250  PACK      VARIABLE,SP70
          MATCH     "1",PTCNUNET
          IF        @EQUAL
            CALL      GTIHINUM
            MOVE      IHINUMBR,VARIABLE
          ELSE
            MATCH     "3",PTCNUNET
            IF        @EQUAL
              CALL      GTIHINUM                   * IHI Number
              LJUSTIFY  IHINUMBR
              UNPACK    IHINUMBR,DIM4,DIM4A,DIM4B,DIM4C
              PACK      VARIABLE,DIM4,SP1,DIM4A,SP1,DIM4B,SP1,DIM4C
            ENDIF
          ENDIF
          GOTO      PRNTK999
.
PRNTK260  UNPACK    PMPXFNAM,ANS,KEY39
          REP       UPPLOW,ANS                  * Convert to Uppercase
          REP       DOWNCASE,KEY39              * Convert to lowercase
          PACK      KEY40,ANS,KEY39
          MOVE      KEY40,VARIABLE              * Patient First Name
          GOTO      PRNTK999
.
PRNTK270  UNPACK    PMPXSNAM,ANS,KEY39
          REP       UPPLOW,ANS                  * Convert to Uppercase
          REP       DOWNCASE,KEY39              * Convert to lowercase
          PACK      KEY40,ANS,KEY39
          MOVE      KEY40,VARIABLE              * Patient Second Name
          GOTO      PRNTK999
.
PRNTK280  PACK      VARIABLE,EMVIPURC,SP70
          GOTO      PRNTK999
.
PRNTK290  PACK      KEY5,CATHP,EMVIPURC
          MOVE      SP70,TDESC
          CALL      RDCODE1
          PACK      VARIABLE,TDESC,SP70
          GOTO      PRNTK999
.
PRNTK300  MOVE      "011",KEY3                 * Disposition Plan Dis
          CALL      AVCOM000
          GOTO      PRNTK999
.
PRNTK310  MOVE      "012",KEY3                 * Disposition Plan Adm
          CALL      AVCOM000
          GOTO      PRNTK999
.
PRNTK320  MOVE      ONE,FORM1                  * Alert H1 1 Care Pathway Flag
          MOVE      "H1",DIM2
          CALL      PRCPF000
          GOTO      PRNTK999
.
PRNTK330  MOVE      TWO,FORM1                  * Alert H1 2 Care Pathway Flag
          MOVE      "H1",DIM2
          CALL      PRCPF000
          GOTO      PRNTK999
.
PRNTK340  MOVE      THREE,FORM1                * Alert H1 3 Care Pathway Flag
          MOVE      "H1",DIM2
          CALL      PRCPF000
          GOTO      PRNTK999
.
PRNTK350  MOVE      FOUR,FORM1                 * Alert H1 4 Care Pathway Flag
          MOVE      "H1",DIM2
          CALL      PRCPF000
          GOTO      PRNTK999
.
PRNTK360  MOVE      FIVE,FORM1                 * Alert H1 5 Care Pathway Flag
          MOVE      "H1",DIM2
          CALL      PRCPF000
          GOTO      PRNTK999
.
PRNTK370  MOVE      ONE,FORM1                  * Alert H1 1 Care Pathway UserID
          MOVE      "H1",DIM2
          CALL      PRCPU000
          GOTO      PRNTK999
.
PRNTK380  MOVE      TWO,FORM1                  * Alert H1 2 Care Pathway UserID
          MOVE      "H1",DIM2
          CALL      PRCPU000
          GOTO      PRNTK999
.
PRNTK390  MOVE      THREE,FORM1                * Alert H1 3 Care Pathway UserID
          MOVE      "H1",DIM2
          CALL      PRCPU000
          GOTO      PRNTK999
.
PRNTK400  MOVE      FOUR,FORM1                 * Alert H1 4 Care Pathway UserID
          MOVE      "H1",DIM2
          CALL      PRCPU000
          GOTO      PRNTK999
.
PRNTK410  MOVE      FIVE,FORM1                 * Alert H1 5 Care Pathway UserID
          MOVE      "H1",DIM2
          CALL      PRCPU000
          GOTO      PRNTK999
.
PRNTK420  MOVE      ONE,FORM1                  * Alert H1 1 Care Pathway Date
          MOVE      "H1",DIM2
          CALL      PRCPD000
          GOTO      PRNTK999
.
PRNTK430  MOVE      TWO,FORM1                  * Alert H1 2 Care Pathway Date
          MOVE      "H1",DIM2
          CALL      PRCPD000
          GOTO      PRNTK999
.
PRNTK440  MOVE      THREE,FORM1                * Alert H1 3 Care Pathway Date
          MOVE      "H1",DIM2
          CALL      PRCPD000
          GOTO      PRNTK999
.
PRNTK450  MOVE      FOUR,FORM1                 * Alert H1 4 Care Pathway Date
          MOVE      "H1",DIM2
          CALL      PRCPD000
          GOTO      PRNTK999
.
PRNTK460  MOVE      FIVE,FORM1                 * Alert H1 5 Care Pathway Date
          MOVE      "H1",DIM2
          CALL      PRCPD000
          GOTO      PRNTK999
.
PRNTK470  MOVE      ONE,FORM1                  * Alert H2 1 Care Pathway Flag
          MOVE      "H2",DIM2
          CALL      PRCPF000
          GOTO      PRNTK999
.
PRNTK480  MOVE      TWO,FORM1                  * Alert H2 2 Care Pathway Flag
          MOVE      "H2",DIM2
          CALL      PRCPF000
          GOTO      PRNTK999
.
PRNTK490  MOVE      THREE,FORM1                * Alert H2 3 Care Pathway Flag
          MOVE      "H2",DIM2
          CALL      PRCPF000
          GOTO      PRNTK999
.
PRNTK500  MOVE      FOUR,FORM1                 * Alert H2 4 Care Pathway Flag
          MOVE      "H2",DIM2
          CALL      PRCPF000
          GOTO      PRNTK999
.
PRNTK510  MOVE      FIVE,FORM1                 * Alert H2 5 Care Pathway Flag
          MOVE      "H2",DIM2
          CALL      PRCPF000
          GOTO      PRNTK999
.
PRNTK520  MOVE      ONE,FORM1                  * Alert H2 1 Care Pathway UserID
          MOVE      "H2",DIM2
          CALL      PRCPU000
          GOTO      PRNTK999
.
PRNTK530  MOVE      TWO,FORM1                  * Alert H2 2 Care Pathway UserID
          MOVE      "H2",DIM2
          CALL      PRCPU000
          GOTO      PRNTK999
.
PRNTK540  MOVE      THREE,FORM1                * Alert H2 3 Care Pathway UserID
          MOVE      "H2",DIM2
          CALL      PRCPU000
          GOTO      PRNTK999
.
PRNTK550  MOVE      FOUR,FORM1                 * Alert H2 4 Care Pathway UserID
          MOVE      "H2",DIM2
          CALL      PRCPU000
          GOTO      PRNTK999
.
PRNTK560  MOVE      FIVE,FORM1                 * Alert H2 5 Care Pathway UserID
          MOVE      "H2",DIM2
          CALL      PRCPU000
          GOTO      PRNTK999
.
PRNTK570  MOVE      ONE,FORM1                  * Alert H2 1 Care Pathway Date
          MOVE      "H2",DIM2
          CALL      PRCPD000
          GOTO      PRNTK999
.
PRNTK580  MOVE      TWO,FORM1                  * Alert H2 2 Care Pathway Date
          MOVE      "H2",DIM2
          CALL      PRCPD000
          GOTO      PRNTK999
.
PRNTK590  MOVE      THREE,FORM1                * Alert H2 3 Care Pathway Date
          MOVE      "H2",DIM2
          CALL      PRCPD000
          GOTO      PRNTK999
.
PRNTK600  MOVE      FOUR,FORM1                 * Alert H2 4 Care Pathway Date
          MOVE      "H2",DIM2
          CALL      PRCPD000
          GOTO      PRNTK999
.
PRNTK610  MOVE      FIVE,FORM1                 * Alert H2 5 Care Pathway Date
          MOVE      "H2",DIM2
          CALL      PRCPD000
          GOTO      PRNTK999
.
PRNTK620  MOVE      ONE,FORM1                  * Alert H3 1 Care Pathway Flag
          MOVE      "H3",DIM2
          CALL      PRCPF000
          GOTO      PRNTK999
.
PRNTK630  MOVE      TWO,FORM1                  * Alert H3 2 Care Pathway Flag
          MOVE      "H3",DIM2
          CALL      PRCPF000
          GOTO      PRNTK999
.
PRNTK640  MOVE      THREE,FORM1                * Alert H3 3 Care Pathway Flag
          MOVE      "H3",DIM2
          CALL      PRCPF000
          GOTO      PRNTK999
.
PRNTK650  MOVE      FOUR,FORM1                 * Alert H3 4 Care Pathway Flag
          MOVE      "H3",DIM2
          CALL      PRCPF000
          GOTO      PRNTK999
.
PRNTK660  MOVE      FIVE,FORM1                 * Alert H3 5 Care Pathway Flag
          MOVE      "H3",DIM2
          CALL      PRCPF000
          GOTO      PRNTK999
.
PRNTK670  MOVE      ONE,FORM1                  * Alert H3 1 Care Pathway UserID
          MOVE      "H3",DIM2
          CALL      PRCPU000
          GOTO      PRNTK999
.
PRNTK680  MOVE      TWO,FORM1                  * Alert H3 2 Care Pathway UserID
          MOVE      "H3",DIM2
          CALL      PRCPU000
          GOTO      PRNTK999
.
PRNTK690  MOVE      THREE,FORM1                * Alert H3 3 Care Pathway UserID
          MOVE      "H3",DIM2
          CALL      PRCPU000
          GOTO      PRNTK999
.
PRNTK700  MOVE      FOUR,FORM1                 * Alert H3 4 Care Pathway UserID
          MOVE      "H3",DIM2
          CALL      PRCPU000
          GOTO      PRNTK999
.
PRNTK710  MOVE      FIVE,FORM1                 * Alert H3 5 Care Pathway UserID
          MOVE      "H3",DIM2
          CALL      PRCPU000
          GOTO      PRNTK999
.
PRNTK720  MOVE      ONE,FORM1                  * Alert H3 1 Care Pathway Date
          MOVE      "H3",DIM2
          CALL      PRCPD000
          GOTO      PRNTK999
.
PRNTK730  MOVE      TWO,FORM1                  * Alert H3 2 Care Pathway Date
          MOVE      "H3",DIM2
          CALL      PRCPD000
          GOTO      PRNTK999
.
PRNTK740  MOVE      THREE,FORM1                * Alert H3 3 Care Pathway Date
          MOVE      "H3",DIM2
          CALL      PRCPD000
          GOTO      PRNTK999
.
PRNTK750  MOVE      FOUR,FORM1                 * Alert H3 4 Care Pathway Date
          MOVE      "H3",DIM2
          CALL      PRCPD000
          GOTO      PRNTK999
.
PRNTK760  MOVE      FIVE,FORM1                 * Alert H3 5 Care Pathway Date
          MOVE      "H3",DIM2
          CALL      PRCPD000
          GOTO      PRNTK999
.
PRNTK770  MOVE      ONE,FORM1                  * Alert H4 1 Care Pathway Flag
          MOVE      "H4",DIM2
          CALL      PRCPF000
          GOTO      PRNTK999
.
PRNTK780  MOVE      TWO,FORM1                  * Alert H4 2 Care Pathway Flag
          MOVE      "H4",DIM2
          CALL      PRCPF000
          GOTO      PRNTK999
.
PRNTK790  MOVE      THREE,FORM1                * Alert H4 3 Care Pathway Flag
          MOVE      "H4",DIM2
          CALL      PRCPF000
          GOTO      PRNTK999
.
PRNTK800  MOVE      FOUR,FORM1                 * Alert H4 4 Care Pathway Flag
          MOVE      "H4",DIM2
          CALL      PRCPF000
          GOTO      PRNTK999
.
PRNTK810  MOVE      FIVE,FORM1                 * Alert H4 5 Care Pathway Flag
          MOVE      "H4",DIM2
          CALL      PRCPF000
          GOTO      PRNTK999
.
PRNTK820  MOVE      ONE,FORM1                  * Alert H4 1 Care Pathway UserID
          MOVE      "H4",DIM2
          CALL      PRCPU000
          GOTO      PRNTK999
.
PRNTK830  MOVE      TWO,FORM1                  * Alert H4 2 Care Pathway UserID
          MOVE      "H4",DIM2
          CALL      PRCPU000
          GOTO      PRNTK999
.
PRNTK840  MOVE      THREE,FORM1                * Alert H4 3 Care Pathway UserID
          MOVE      "H4",DIM2
          CALL      PRCPU000
          GOTO      PRNTK999
.
PRNTK850  MOVE      FOUR,FORM1                 * Alert H4 4 Care Pathway UserID
          MOVE      "H4",DIM2
          CALL      PRCPU000
          GOTO      PRNTK999
.
PRNTK860  MOVE      FIVE,FORM1                 * Alert H4 5 Care Pathway UserID
          MOVE      "H4",DIM2
          CALL      PRCPU000
          GOTO      PRNTK999
.
PRNTK870  MOVE      ONE,FORM1                  * Alert H4 1 Care Pathway Date
          MOVE      "H4",DIM2
          CALL      PRCPD000
          GOTO      PRNTK999
.
PRNTK880  MOVE      TWO,FORM1                  * Alert H4 2 Care Pathway Date
          MOVE      "H4",DIM2
          CALL      PRCPD000
          GOTO      PRNTK999
.
PRNTK890  MOVE      THREE,FORM1                * Alert H4 3 Care Pathway Date
          MOVE      "H4",DIM2
          CALL      PRCPD000
          GOTO      PRNTK999
.
PRNTK900  MOVE      FOUR,FORM1                 * Alert H4 4 Care Pathway Date
          MOVE      "H4",DIM2
          CALL      PRCPD000
          GOTO      PRNTK999
.
PRNTK910  MOVE      FIVE,FORM1                 * Alert H4 5 Care Pathway Date
          MOVE      "H4",DIM2
          CALL      PRCPD000
          GOTO      PRNTK999
.
PRNTK920  MOVE      ONE,FORM1                  * Alert H5 1 Care Pathway Flag
          MOVE      "H5",DIM2
          CALL      PRCPF000
          GOTO      PRNTK999
.
PRNTK930  MOVE      TWO,FORM1                  * Alert H5 2 Care Pathway Flag
          MOVE      "H5",DIM2
          CALL      PRCPF000
          GOTO      PRNTK999
.
PRNTK940  MOVE      THREE,FORM1                * Alert H5 3 Care Pathway Flag
          MOVE      "H5",DIM2
          CALL      PRCPF000
          GOTO      PRNTK999
.
PRNTK950  MOVE      FOUR,FORM1                 * Alert H5 4 Care Pathway Flag
          MOVE      "H5",DIM2
          CALL      PRCPF000
          GOTO      PRNTK999
.
PRNTK960  MOVE      FIVE,FORM1                 * Alert H5 5 Care Pathway Flag
          MOVE      "H5",DIM2
          CALL      PRCPF000
          GOTO      PRNTK999
.
PRNTK970  MOVE      ONE,FORM1                  * Alert H5 1 Care Pathway UserID
          MOVE      "H5",DIM2
          CALL      PRCPU000
          GOTO      PRNTK999
.
PRNTK980  MOVE      TWO,FORM1                  * Alert H5 2 Care Pathway UserID
          MOVE      "H5",DIM2
          CALL      PRCPU000
          GOTO      PRNTK999
.
.------- format process data fields (1522 - xxx) ------
.
PRNTK990  CALL      PRNTL000
          GOTO      PRNTK999
.
PRNTK999  RETURN
+
.------------------------------------------------------------
.   Process data fields (1522 - 1619)
.------------------------------------------------------------
PRNTL000  SUB       "98",FORM5
          BRANCH    FORM5,PRNTL010,PRNTL020,PRNTL030,PRNTL040:          *1525
                          PRNTL050,PRNTL060,PRNTL070,PRNTL080,PRNTL090: *1530
                          PRNTL100,PRNTL110,PRNTL120,PRNTL130,PRNTL140: *1535
                          PRNTL150,PRNTL160,PRNTL170,PRNTL180,PRNTL190: *1540
                          PRNTL200,PRNTL210,PRNTL220,PRNTL230,PRNTL240: *1545
                          PRNTL250,PRNTL260,PRNTL270,PRNTL280,PRNTL290: *1550
                          PRNTL300,PRNTL310,PRNTL320,PRNTL330,PRNTL340: *1555
                          PRNTL350,PRNTL360,PRNTL370,PRNTL380,PRNTL390: *1560
                          PRNTL400,PRNTL410,PRNTL420,PRNTL430,PRNTL440: *1565
                          PRNTL450,PRNTL460,PRNTL470,PRNTL480,PRNTL490: *1570
                          PRNTL500,PRNTL510,PRNTL520,PRNTL530,PRNTL540: *1575
                          PRNTL550,PRNTL560,PRNTL570,PRNTL580,PRNTL590: *1580
                          PRNTL600,PRNTL610,PRNTL620,PRNTL630,PRNTL640: *1585
                          PRNTL650,PRNTL660,PRNTL670,PRNTL680,PRNTL690: *1590
                          PRNTL700,PRNTL710,PRNTL720,PRNTL730,PRNTL740: *1595
                          PRNTL750,PRNTL760,PRNTL770,PRNTL780,PRNTL790: *1600
                          PRNTL800,PRNTL810,PRNTL820,PRNTL830,PRNTL840: *1605
                          PRNTL850,PRNTL860,PRNTL870,PRNTL880,PRNTL890: *1610
                          PRNTL900,PRNTL910,PRNTL920,PRNTL930,PRNTL940: *1615
                          PRNTL950,PRNTL960,PRNTL970,PRNTL980
.
          GOTO      PRNTL990
.
PRNTL010  MOVE      THREE,FORM1                * Alert H5 3 Care Pathway UserID
          MOVE      "H5",DIM2
          CALL      PRCPU000
          GOTO      PRNTL999
.
PRNTL020  MOVE      FOUR,FORM1                 * Alert H5 4 Care Pathway UserID
          MOVE      "H5",DIM2
          CALL      PRCPU000
          GOTO      PRNTL999
.
PRNTL030  MOVE      FIVE,FORM1                 * Alert H5 5 Care Pathway UserID
          MOVE      "H5",DIM2
          CALL      PRCPU000
          GOTO      PRNTL999
.
PRNTL040  MOVE      ONE,FORM1                  * Alert H5 1 Care Pathway Date
          MOVE      "H5",DIM2
          CALL      PRCPD000
          GOTO      PRNTL999
.
PRNTL050  MOVE      TWO,FORM1                  * Alert H5 2 Care Pathway Date
          MOVE      "H5",DIM2
          CALL      PRCPD000
          GOTO      PRNTL999
.
PRNTL060  MOVE      THREE,FORM1                * Alert H5 3 Care Pathway Date
          MOVE      "H5",DIM2
          CALL      PRCPD000
          GOTO      PRNTL999
.
PRNTL070  MOVE      FOUR,FORM1                 * Alert H5 4 Care Pathway Date
          MOVE      "H5",DIM2
          CALL      PRCPD000
          GOTO      PRNTL999
.
PRNTL080  MOVE      FIVE,FORM1                 * Alert H5 5 Care Pathway Date
          MOVE      "H5",DIM2
          CALL      PRCPD000
          GOTO      PRNTL999
.
PRNTL090  MOVE      ONE,FORM1                  * Alert H6 1 Care Pathway Flag
          MOVE      "H6",DIM2
          CALL      PRCPF000
          GOTO      PRNTL999
.
PRNTL100  MOVE      TWO,FORM1                  * Alert H6 2 Care Pathway Flag
          MOVE      "H6",DIM2
          CALL      PRCPF000
          GOTO      PRNTL999
.
PRNTL110  MOVE      THREE,FORM1                * Alert H6 3 Care Pathway Flag
          MOVE      "H6",DIM2
          CALL      PRCPF000
          GOTO      PRNTL999
.
PRNTL120  MOVE      FOUR,FORM1                 * Alert H6 4 Care Pathway Flag
          MOVE      "H6",DIM2
          CALL      PRCPF000
          GOTO      PRNTL999
.
PRNTL130  MOVE      FIVE,FORM1                 * Alert H6 5 Care Pathway Flag
          MOVE      "H6",DIM2
          CALL      PRCPF000
          GOTO      PRNTL999
.
PRNTL140  MOVE      ONE,FORM1                  * Alert H6 1 Care Pathway UserID
          MOVE      "H6",DIM2
          CALL      PRCPU000
          GOTO      PRNTL999
.
PRNTL150  MOVE      TWO,FORM1                  * Alert H6 2 Care Pathway UserID
          MOVE      "H6",DIM2
          CALL      PRCPU000
          GOTO      PRNTL999
.
PRNTL160  MOVE      THREE,FORM1                * Alert H6 3 Care Pathway UserID
          MOVE      "H6",DIM2
          CALL      PRCPU000
          GOTO      PRNTL999
.
PRNTL170  MOVE      FOUR,FORM1                 * Alert H6 4 Care Pathway UserID
          MOVE      "H6",DIM2
          CALL      PRCPU000
          GOTO      PRNTL999
.
PRNTL180  MOVE      FIVE,FORM1                 * Alert H6 5 Care Pathway UserID
          MOVE      "H6",DIM2
          CALL      PRCPU000
          GOTO      PRNTL999
.
PRNTL190  MOVE      ONE,FORM1                  * Alert H6 1 Care Pathway Date
          MOVE      "H6",DIM2
          CALL      PRCPD000
          GOTO      PRNTL999
.
PRNTL200  MOVE      TWO,FORM1                  * Alert H6 2 Care Pathway Date
          MOVE      "H6",DIM2
          CALL      PRCPD000
          GOTO      PRNTL999
.
PRNTL210  MOVE      THREE,FORM1                * Alert H6 3 Care Pathway Date
          MOVE      "H6",DIM2
          CALL      PRCPD000
          GOTO      PRNTL999
.
PRNTL220  MOVE      FOUR,FORM1                 * Alert H6 4 Care Pathway Date
          MOVE      "H6",DIM2
          CALL      PRCPD000
          GOTO      PRNTL999
.
PRNTL230  MOVE      FIVE,FORM1                 * Alert H6 5 Care Pathway Date
          MOVE      "H6",DIM2
          CALL      PRCPD000
          GOTO      PRNTL999
.
PRNTL240  MOVE      ONE,FORM1                  * Alert H7 1 Care Pathway Flag
          MOVE      "H7",DIM2
          CALL      PRCPF000
          GOTO      PRNTL999
.
PRNTL250  MOVE      TWO,FORM1                  * Alert H7 2 Care Pathway Flag
          MOVE      "H7",DIM2
          CALL      PRCPF000
          GOTO      PRNTL999
.
PRNTL260  MOVE      THREE,FORM1                * Alert H7 3 Care Pathway Flag
          MOVE      "H7",DIM2
          CALL      PRCPF000
          GOTO      PRNTL999
.
PRNTL270  MOVE      FOUR,FORM1                 * Alert H7 4 Care Pathway Flag
          MOVE      "H7",DIM2
          CALL      PRCPF000
          GOTO      PRNTL999
.
PRNTL280  MOVE      FIVE,FORM1                 * Alert H7 5 Care Pathway Flag
          MOVE      "H7",DIM2
          CALL      PRCPF000
          GOTO      PRNTL999
.
PRNTL290  MOVE      ONE,FORM1                  * Alert H7 1 Care Pathway UserID
          MOVE      "H7",DIM2
          CALL      PRCPU000
          GOTO      PRNTL999
.
PRNTL300  MOVE      TWO,FORM1                  * Alert H7 2 Care Pathway UserID
          MOVE      "H7",DIM2
          CALL      PRCPU000
          GOTO      PRNTL999
.
PRNTL310  MOVE      THREE,FORM1                * Alert H7 3 Care Pathway UserID
          MOVE      "H7",DIM2
          CALL      PRCPU000
          GOTO      PRNTL999
.
PRNTL320  MOVE      FOUR,FORM1                 * Alert H7 4 Care Pathway UserID
          MOVE      "H7",DIM2
          CALL      PRCPU000
          GOTO      PRNTL999
.
PRNTL330  MOVE      FIVE,FORM1                 * Alert H7 5 Care Pathway UserID
          MOVE      "H7",DIM2
          CALL      PRCPU000
          GOTO      PRNTL999
.
PRNTL340  MOVE      ONE,FORM1                  * Alert H7 1 Care Pathway Date
          MOVE      "H7",DIM2
          CALL      PRCPD000
          GOTO      PRNTL999
.
PRNTL350  MOVE      TWO,FORM1                  * Alert H7 2 Care Pathway Date
          MOVE      "H7",DIM2
          CALL      PRCPD000
          GOTO      PRNTL999
.
PRNTL360  MOVE      THREE,FORM1                * Alert H7 3 Care Pathway Date
          MOVE      "H7",DIM2
          CALL      PRCPD000
          GOTO      PRNTL999
.
PRNTL370  MOVE      FOUR,FORM1                 * Alert H7 4 Care Pathway Date
          MOVE      "H7",DIM2
          CALL      PRCPD000
          GOTO      PRNTL999
.
PRNTL380  MOVE      FIVE,FORM1                 * Alert H7 5 Care Pathway Date
          MOVE      "H7",DIM2
          CALL      PRCPD000
          GOTO      PRNTL999
.
PRNTL390  MOVE      ONE,FORM1                  * Alert H8 1 Care Pathway Flag
          MOVE      "H8",DIM2
          CALL      PRCPF000
          GOTO      PRNTL999
.
PRNTL400  MOVE      TWO,FORM1                  * Alert H8 2 Care Pathway Flag
          MOVE      "H8",DIM2
          CALL      PRCPF000
          GOTO      PRNTL999
.
PRNTL410  MOVE      THREE,FORM1                * Alert H8 3 Care Pathway Flag
          MOVE      "H8",DIM2
          CALL      PRCPF000
          GOTO      PRNTL999
.
PRNTL420  MOVE      FOUR,FORM1                 * Alert H8 4 Care Pathway Flag
          MOVE      "H8",DIM2
          CALL      PRCPF000
          GOTO      PRNTL999
.
PRNTL430  MOVE      FIVE,FORM1                 * Alert H8 5 Care Pathway Flag
          MOVE      "H8",DIM2
          CALL      PRCPF000
          GOTO      PRNTL999
.
PRNTL440  MOVE      ONE,FORM1                  * Alert H8 1 Care Pathway UserID
          MOVE      "H8",DIM2
          CALL      PRCPU000
          GOTO      PRNTL999
.
PRNTL450  MOVE      TWO,FORM1                  * Alert H8 2 Care Pathway UserID
          MOVE      "H8",DIM2
          CALL      PRCPU000
          GOTO      PRNTL999
.
PRNTL460  MOVE      THREE,FORM1                * Alert H8 3 Care Pathway UserID
          MOVE      "H8",DIM2
          CALL      PRCPU000
          GOTO      PRNTL999
.
PRNTL470  MOVE      FOUR,FORM1                 * Alert H8 4 Care Pathway UserID
          MOVE      "H8",DIM2
          CALL      PRCPU000
          GOTO      PRNTL999
.
PRNTL480  MOVE      FIVE,FORM1                 * Alert H8 5 Care Pathway UserID
          MOVE      "H8",DIM2
          CALL      PRCPU000
          GOTO      PRNTL999
.
PRNTL490  MOVE      ONE,FORM1                  * Alert H8 1 Care Pathway Date
          MOVE      "H8",DIM2
          CALL      PRCPD000
          GOTO      PRNTL999
.
PRNTL500  MOVE      TWO,FORM1                  * Alert H8 2 Care Pathway Date
          MOVE      "H8",DIM2
          CALL      PRCPD000
          GOTO      PRNTL999
.
PRNTL510  MOVE      THREE,FORM1                * Alert H8 3 Care Pathway Date
          MOVE      "H8",DIM2
          CALL      PRCPD000
          GOTO      PRNTL999
.
PRNTL520  MOVE      FOUR,FORM1                 * Alert H8 4 Care Pathway Date
          MOVE      "H8",DIM2
          CALL      PRCPD000
          GOTO      PRNTL999
.
PRNTL530  MOVE      FIVE,FORM1                 * Alert H8 5 Care Pathway Date
          MOVE      "H8",DIM2
          CALL      PRCPD000
          GOTO      PRNTL999
.
PRNTL540  MOVE      ONE,FORM1                  * Alert H9 1 Care Pathway Flag
          MOVE      "H9",DIM2
          CALL      PRCPF000
          GOTO      PRNTL999
.
PRNTL550  MOVE      TWO,FORM1                  * Alert H9 2 Care Pathway Flag
          MOVE      "H9",DIM2
          CALL      PRCPF000
          GOTO      PRNTL999
.
PRNTL560  MOVE      THREE,FORM1                * Alert H9 3 Care Pathway Flag
          MOVE      "H9",DIM2
          CALL      PRCPF000
          GOTO      PRNTL999
.
PRNTL570  MOVE      FOUR,FORM1                 * Alert H9 4 Care Pathway Flag
          MOVE      "H9",DIM2
          CALL      PRCPF000
          GOTO      PRNTL999
.
PRNTL580  MOVE      FIVE,FORM1                 * Alert H9 5 Care Pathway Flag
          MOVE      "H9",DIM2
          CALL      PRCPF000
          GOTO      PRNTL999
.
PRNTL590  MOVE      ONE,FORM1                  * Alert H9 1 Care Pathway UserID
          MOVE      "H9",DIM2
          CALL      PRCPU000
          GOTO      PRNTL999
.
PRNTL600  MOVE      TWO,FORM1                  * Alert H9 2 Care Pathway UserID
          MOVE      "H9",DIM2
          CALL      PRCPU000
          GOTO      PRNTL999
.
PRNTL610  MOVE      THREE,FORM1                * Alert H9 3 Care Pathway UserID
          MOVE      "H9",DIM2
          CALL      PRCPU000
          GOTO      PRNTL999
.
PRNTL620  MOVE      FOUR,FORM1                 * Alert H9 4 Care Pathway UserID
          MOVE      "H9",DIM2
          CALL      PRCPU000
          GOTO      PRNTL999
.
PRNTL630  MOVE      FIVE,FORM1                 * Alert H9 5 Care Pathway UserID
          MOVE      "H9",DIM2
          CALL      PRCPU000
          GOTO      PRNTL999
.
PRNTL640  MOVE      ONE,FORM1                  * Alert H9 1 Care Pathway Date
          MOVE      "H9",DIM2
          CALL      PRCPD000
          GOTO      PRNTL999
.
PRNTL650  MOVE      TWO,FORM1                  * Alert H9 2 Care Pathway Date
          MOVE      "H9",DIM2
          CALL      PRCPD000
          GOTO      PRNTL999
.
PRNTL660  MOVE      THREE,FORM1                * Alert H9 3 Care Pathway Date
          MOVE      "H9",DIM2
          CALL      PRCPD000
          GOTO      PRNTL999
.
PRNTL670  MOVE      FOUR,FORM1                 * Alert H9 4 Care Pathway Date
          MOVE      "H9",DIM2
          CALL      PRCPD000
          GOTO      PRNTL999
.
PRNTL680  MOVE      FIVE,FORM1                 * Alert H9 5 Care Pathway Date
          MOVE      "H9",DIM2
          CALL      PRCPD000
          GOTO      PRNTL999
.
PRNTL690  MOVE      "nl",DIM2                * Print Category
          MOVE      ZERO,F1                  * Print Code
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTL999
.
PRNTL700  MOVE      "nl",DIM2                * Print Category
          MOVE      ONE,F1                   * Print Short Description
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTL999
.
PRNTL710  MOVE      "nl",DIM2                * Print Category
          MOVE      THREE,F1                 * Print Long Description
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTL999
.
PRNTL720  MOVE      "nm",DIM2                * Print Category
          MOVE      ZERO,F1                  * Print Code
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTL999
.
PRNTL730  MOVE      "nm",DIM2                * Print Category
          MOVE      ONE,F1                   * Print Short Description
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTL999
.
PRNTL740  MOVE      "nm",DIM2                * Print Category
          MOVE      THREE,F1                 * Print Long Description
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTL999
.
PRNTL750  MOVE      "nn",DIM2                * Print Category
          MOVE      ZERO,F1                  * Print Code
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTL999
.
PRNTL760  MOVE      "nn",DIM2                * Print Category
          MOVE      ONE,F1                   * Print Short Description
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTL999
.
PRNTL770  MOVE      "nn",DIM2                * Print Category
          MOVE      THREE,F1                 * Print Long Description
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTL999
.
PRNTL780  MOVE      "no",DIM2                * Print Category
          MOVE      ZERO,F1                  * Print Code
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTL999
.
PRNTL790  MOVE      "no",DIM2                * Print Category
          MOVE      ONE,F1                   * Print Short Description
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTL999
.
PRNTL800  MOVE      "no",DIM2                * Print Category
          MOVE      THREE,F1                 * Print Long Description
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTL999
.
PRNTL810  MOVE      "np",DIM2                * Print Category
          MOVE      ZERO,F1                  * Print Code
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTL999
.
PRNTL820  MOVE      "np",DIM2                * Print Category
          MOVE      ONE,F1                   * Print Short Description
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTL999
.
PRNTL830  MOVE      "np",DIM2                * Print Category
          MOVE      THREE,F1                 * Print Long Description
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTL999
.
PRNTL840  MOVE      "nq",DIM2                * Print Category
          MOVE      ZERO,F1                  * Print Code
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTL999
.
PRNTL850  MOVE      "nq",DIM2                * Print Category
          MOVE      ONE,F1                   * Print Short Description
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTL999
.
PRNTL860  MOVE      "nq",DIM2                * Print Category
          MOVE      THREE,F1                 * Print Long Description
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTL999
.
PRNTL870  MOVE      "nr",DIM2                * Print Category
          MOVE      ZERO,F1                  * Print Code
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTL999
.
PRNTL880  MOVE      "nr",DIM2                * Print Category
          MOVE      ONE,F1                   * Print Short Description
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTL999
.
PRNTL890  MOVE      "nr",DIM2                * Print Category
          MOVE      THREE,F1                 * Print Long Description
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTL999
.
PRNTL900  MOVE      "ns",DIM2                * Print Category
          MOVE      ZERO,F1                  * Print Code
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTL999
.
PRNTL910  MOVE      "ns",DIM2                * Print Category
          MOVE      ONE,F1                   * Print Short Description
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTL999
.
PRNTL920  MOVE      "ns",DIM2                * Print Category
          MOVE      THREE,F1                 * Print Long Description
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTL999
.
PRNTL930  MOVE      "nt",DIM2                * Print Category
          MOVE      ZERO,F1                  * Print Code
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTL999
.
PRNTL940  MOVE      "nt",DIM2                * Print Category
          MOVE      ONE,F1                   * Print Short Description
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTL999
.
PRNTL950  MOVE      "nt",DIM2                * Print Category
          MOVE      THREE,F1                 * Print Long Description
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTL999
.
PRNTL960  MOVE      "nu",DIM2                * Print Category
          MOVE      ZERO,F1                  * Print Code
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTL999
.
PRNTL970  MOVE      "nu",DIM2                * Print Category
          MOVE      ONE,F1                   * Print Short Description
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTL999
.
PRNTL980  MOVE      "nu",DIM2                * Print Category
          MOVE      THREE,F1                 * Print Long Description
          CALL      PRTVCD00                 * Visit based coding
          GOTO      PRNTL999
.
.------- format process data fields (1620 - xxx) ------
.
PRNTL990  CALL      PRNTM000
          GOTO      PRNTL999
.
PRNTL999  RETURN
+
.------------------------------------------------------------
.   Process data fields (1620 - 1733)
.------------------------------------------------------------
PRNTM000  SUB       "98",FORM5
          BRANCH    FORM5,PRNTM010,PRNTM020,PRNTM030,PRNTM040,PRNTM050: * 1620-1624
                          PRNTM060,PRNTM070,PRNTM080,PRNTM090,PRNTM100: * 1625-1629
                          PRNTM110,PRNTM120,PRNTM120,PRNTM120,PRNTM120: * 1630-1634
                          PRNTM120,PRNTM120,PRNTM120,PRNTM120,PRNTM120: * 1635-1639
                          PRNTM120,PRNTM120,PRNTM120,PRNTM120,PRNTM120: * 1640-1644
                          PRNTM120,PRNTM120,PRNTM120,PRNTM120,PRNTM120: * 1645-1649
                          PRNTM120,PRNTM120,PRNTM120,PRNTM120,PRNTM120: * 1650-1654
                          PRNTM120,PRNTM120,PRNTM120,PRNTM120,PRNTM120: * 1655-1659
                          PRNTM120,PRNTM120,PRNTM120,PRNTM120,PRNTM120: * 1660-1664
                          PRNTM120,PRNTM120,PRNTM120,PRNTM120,PRNTM120: * 1665-1669
                          PRNTM120,PRNTM120,PRNTM120,PRNTM120,PRNTM120: * 1670-1674
                          PRNTM120,PRNTM120,PRNTM120,PRNTM120,PRNTM120: * 1675-1679
                          PRNTM120,PRNTM120,PRNTM120,PRNTM120,PRNTM120: * 1680-1684
                          PRNTM120,PRNTM120,PRNTM120,PRNTM120,PRNTM120: * 1685-1689
                          PRNTM120,PRNTM120,PRNTM120,PRNTM120,PRNTM120: * 1690-1694
                          PRNTM120,PRNTM120,PRNTM120,PRNTM120,PRNTM120: * 1695-1699
                          PRNTM120,PRNTM120,PRNTM120,PRNTM120,PRNTM120: * 1700-1704
                          PRNTM120,PRNTM120,PRNTM120,PRNTM120,PRNTM120: * 1705-1709
                          PRNTM120,PRNTM120,PRNTM120,PRNTM120,PRNTM120: * 1710-1714
                          PRNTM120,PRNTM120,PRNTM120,PRNTM120,PRNTM120: * 1715-1719
                          PRNTM120,PRNTM120,PRNTM120,PRNTM120,PRNTM120: * 1720-1724
                          PRNTM120,PRNTM120,PRNTM120,PRNTM120,PRNTM120: * 1725-1729
                          PRNTM120,PRNTM130,PRNTM140,PRNTM150           * 1730-1733
.

          GOTO      PRNTM990
.
PRNTM010  MOVE      "04",DIM2                * ED Breach 1  
          MOVE      ZERO,F1                  * Print Code
          CALL      PRTEDB00                 * Visit based coding ED breach
          GOTO      PRNTM999
.
PRNTM020  MOVE      "04",DIM2                * ED Breach 1
          MOVE      ONE,F1                   * Print short description
          CALL      PRTEDB00                 * Visit based coding ED breach
          GOTO      PRNTM999
.
PRNTM030  MOVE      "04",DIM2                * ED Breach 1
          MOVE      TWO,F1                   * Print long description
          CALL      PRTEDB00                 * Visit based coding ED breach
          GOTO      PRNTM999
.
PRNTM040  MOVE      "05",DIM2                * ED Breach 2
          MOVE      ZERO,F1                  * Print Code
          CALL      PRTEDB00                 * Visit based coding ED breach
          GOTO      PRNTM999
.
PRNTM050  MOVE      "05",DIM2                * ED Breach 2
          MOVE      ONE,F1                   * Print short description
          CALL      PRTEDB00                 * Visit based coding ED breach
          GOTO      PRNTM999
.
PRNTM060  MOVE      "05",DIM2                * ED Breach 2
          MOVE      TWO,F1                   * Print long description
          CALL      PRTEDB00                 * Visit based coding ED breach
          GOTO      PRNTM999
.
PRNTM070  MOVE      "06",DIM2                * ED Breach 3
          MOVE      ZERO,F1                  * Print Code
          CALL      PRTEDB00                 * Visit based coding ED breach
          GOTO      PRNTM999
.
PRNTM080  MOVE      "06",DIM2                * ED Breach 3
          MOVE      ONE,F1                   * Print short description
          CALL      PRTEDB00                 * Visit based coding ED breach
          GOTO      PRNTM999
.
PRNTM090  MOVE      "06",DIM2                * ED Breach 3
          MOVE      TWO,F1                   * Print long description
          CALL      PRTEDB00                 * Visit based coding ED breach
          GOTO      PRNTM999
.
PRNTM100  PACK      KEY8,ADMISSNO,SP70
          CALL      RDEMVIS1
          BRANCH    OVRCD,PRNTM999
.
          PACK      KEY10,EMVIDOCT,SP70
          CALL      RDPMHCP1
          BRANCH    OVRCD,PRNTM999
.
          MOVE      PMHCPRV1,VARIABLE
          GOTO      PRNTM999
.
PRNTM110  MOVE      "007",KEY3                 * Emergency Doctors Notes
          CALL      AVCOM000
          GOTO      PRNTM999
.
PRNTM120  SUB       "11",FORM5
          MOVE      FORM5,FORM3
          CALL      PRNOT000
          GOTO      PRNTM999
.
PRNTM130  MOVE      PUSR6,VARIABLE
          GOTO      PRNTM999
.
PRNTM140  PACK      KEY5,CODEP6,PUSR6,SP70
          CALL      RDCODE1
          BRANCH    OVRCD,PRNTM999
.
          MOVE      TDESC,VARIABLE
          GOTO      PRNTM999
.
PRNTM150  PACK      PMHGPOST,SP70
          MOVE      TEN3,F2                          * HCP Practice Post Code
          CALL      PRHCG000
          GOTO      PRNTM999
.
.
.------- process data fields (1734 - xxxx) ------
.
PRNTM990  CALL      PRFLA000
          GOTO      PRNTM999
.
PRNTM999  RETURN
+
.
. ------- Format Clinical Notes Subroutine (for lines 16-100 )----    *I-50421
. ------- Parameters: DIM3(Line Number)                       ----
.
PRCLN000   PACK      KEY14,EMVIADMN,ZERO,ZERO,ONE,DIM3,SP70
           CALL      RDVSCMT1
           BRANCH    OVRCD,PRCLN999
.
           MOVE      VSCTDATA,VARIABLE
.
PRCLN999   RETURN
+
.------------------------------------------------------------
. Print one variabel per note line
.------------------------------------------------------------
PRNOT000   MOVE      ZERO,NUM3
           PACK      KEY17,DEMVIADM,ZERO,ZERO,SEVEN,SP70
           CALL      RSVSMDT1
PRNOT100   CALL      RKVSMDT1
           BRANCH    OVRCD,PRNOT999
.
           MATCH     "1",VSMDDELT
           GOTO      PRNOT100 IF EQUAL
.
           MATCH     DEMVIADM,VSMDVISN
           GOTO      PRNOT999 IF NOT EQUAL
.
           MATCH     "007",VSMDTYPE
           GOTO      PRNOT999 IF NOT EQUAL
.
           PACK      KEY20,VSMDVISN,VSMDTYPE,VSMDNOTE,SP70
           CALL      RSVSMTX1
PRNOT300   CALL      RKVSMTX1
           BRANCH    OVRCD,PRNOT100
.
           MATCH     VSMDVISN,VSMTVISN
           GOTO      PRNOT100 IF NOT EQUAL
.
           MATCH     VSMDTYPE,VSMTTYPE
           GOTO      PRNOT100 IF NOT EQUAL
.
           MATCH     VSMDNOTE,VSMTNOTE
           GOTO      PRNOT100 IF NOT EQUAL
.
           ADD       ONE,NUM3
           COMPARE   FORM3,NUM3
           GOTO      PRNOT300 IF NOT EQUAL

           MOVE      VSMTCMNT,VARIABLE
.
PRNOT999   RETURN
+
.------------------------------------------------------------------------------
.         Process data fields (1734 - 1835)
.------------------------------------------------------------------------------
PRFLA000  SUB       "114",FORM5
          BRANCH    FORM5,PRFLA010,PRFLA010,PRFLA010,PRFLA010,PRFLA010:  * 1738
                          PRFLA010,PRFLA010,PRFLA010,PRFLA010,PRFLA010:  * 1743
                          PRFLA010,PRFLA010,PRFLA010,PRFLA010,PRFLA010:  * 1748
                          PRFLA010,PRFLA010,PRFLA010,PRFLA010,PRFLA010:  * 1753
                          PRFLA010,PRFLA010,PRFLA010,PRFLA010,PRFLA010:  * 1758
                          PRFLA010,PRFLA010,PRFLA010,PRFLA010,PRFLA010:  * 1763
                          PRFLA010,PRFLA010,PRFLA010,PRFLA010,PRFLA010:  * 1768
                          PRFLA010,PRFLA010,PRFLA010,PRFLA010,PRFLA010:  * 1773
                          PRFLA010,PRFLA010,PRFLA010,PRFLA010,PRFLA010:  * 1778
                          PRFLA010,PRFLA010,PRFLA010,PRFLA010,PRFLA010:  * 1783
                          PRFLA010,PRFLA010,PRFLA010,PRFLA010,PRFLA010:  * 1788
                          PRFLA010,PRFLA010,PRFLA010,PRFLA010,PRFLA010:  * 1793
                          PRFLA010,PRFLA010,PRFLA010,PRFLA010,PRFLA010:  * 1798
                          PRFLA010,PRFLA010,PRFLA010,PRFLA010,PRFLA010:  * 1803
                          PRFLA010,PRFLA010,PRFLA010,PRFLA010,PRFLA010:  * 1808
                          PRFLA010,PRFLA010,PRFLA010,PRFLA010,PRFLA010:  * 1813
                          PRFLA010,PRFLA010,PRFLA010,PRFLA010,PRFLA010:  * 1818
                          PRFLA010,PRFLA010,PRFLA010,PRFLA010,PRFLA010:  * 1823
                          PRFLA010,PRFLA010,PRFLA010,PRFLA010,PRFLA010:  * 1828
                          PRFLA010,PRFLA010,PRFLA010,PRFLA010,PRFLA010:  * 1833
                          PRFLA101,PRFLA102
.
          GOTO      PRFLA990
.
PRFLA010  MOVE      FORM5,FORM3        * Set the line number
          CALL      DTXTLN00           * Discharge Text Line (1-100)
          GOTO      PRFLA999
.
PRFLA101  CALL      DISTXT00           * Discharge Text (all lines 1-999)
          GOTO      PRFLA999
.
PRFLA102  CALL      DTSTAT00           * Discharge Text Status (Final/Draft)
          GOTO      PRFLA999
.
.------- process data fields (1836 - xxxx) ------
.
PRFLA990  CALL      PRFLB000
          GOTO      PRFLA999
.
PRFLA999  RETURN
+
.------------------------------------------------------------------------------
.         Discharge Text Line (1-100) - Type 015 (Final) or 014 (Draft)
.
.         Parameters:
.           FORM3 - Line Number (1-100)
.------------------------------------------------------------------------------
DTXTLN00  MOVE      ZERO,NUM3
.
DTXTLN10  MOVE      "015",KEY3              * Try 'Final' Discharge Text first
          PACK      KEY17,DEMVIADM,KEY3,SP70
          CALL      RSVSMDT1
DTXTLN11  CALL      RKVSMDT1
          BRANCH    OVRCD,DTXTLN20
.
          MATCH     DEMVIADM,VSMDVISN       * Same Visit Number?
          GOTO      DTXTLN20 IF NOT EQUAL
.
          MATCH     KEY3,VSMDTYPE           * Same Comment Type?
          GOTO      DTXTLN20 IF NOT EQUAL
.
          MATCH     "1",VSMDDELT            * Deleted?
          GOTO      DTXTLN11 IF EQUAL
.
          GOTO      DTXTLN30
.
DTXTLN20  MOVE      "014",KEY3              * No 'Final'; so try 'Draft'
          PACK      KEY17,DEMVIADM,KEY3,SP70
          CALL      RSVSMDT1
DTXTLN21  CALL      RKVSMDT1
          BRANCH    OVRCD,DTXTLN99
.
          MATCH     DEMVIADM,VSMDVISN       * Same Visit Number?
          GOTO      DTXTLN99 IF NOT EQUAL
.
          MATCH     KEY3,VSMDTYPE           * Same Comment Type?
          GOTO      DTXTLN99 IF NOT EQUAL
.
          MATCH     "1",VSMDDELT            * Deleted?
          GOTO      DTXTLN21 IF EQUAL
.
.
.         Now get the Visit Notes Free Text line
.
DTXTLN30  PACK      KEY20,VSMDVISN,VSMDTYPE,VSMDNOTE,SP70
          CALL      RSVSMTX1
DTXTLN31  CALL      RKVSMTX1
          BRANCH    OVRCD,DTXTLN99
.
          MATCH     VSMDVISN,VSMTVISN
          GOTO      DTXTLN99 IF NOT EQUAL
.
          MATCH     VSMDTYPE,VSMTTYPE
          GOTO      DTXTLN99 IF NOT EQUAL
.
          MATCH     VSMDNOTE,VSMTNOTE
          GOTO      DTXTLN99 IF NOT EQUAL
.
          ADD       ONE,NUM3
          COMPARE   FORM3,NUM3
          GOTO      DTXTLN31 IF NOT EQUAL

          MOVE      VSMTCMNT,VARIABLE
.
DTXTLN99  RETURN
+
.------------------------------------------------------------------------------
.         Discharge Text (all lines) - Type 015/014 (lines 1-999)
.------------------------------------------------------------------------------
DISTXT00  MOVE      ZERO,NUM3               * Current line number
          MOVE      "1000",FORM4
.
DISTXT10  MOVE      "015",KEY3              * Try 'Final' Discharge Text first
          PACK      KEY17,DEMVIADM,KEY3,SP70
          CALL      RSVSMDT1
DISTXT11  CALL      RKVSMDT1
          BRANCH    OVRCD,DISTXT20
.
          MATCH     DEMVIADM,VSMDVISN       * Same Visit Number?
          GOTO      DISTXT20 IF NOT EQUAL
.
          MATCH     KEY3,VSMDTYPE           * Same Comment Type?
          GOTO      DISTXT20 IF NOT EQUAL
.
          MATCH     "1",VSMDDELT            * Deleted?
          GOTO      DISTXT11 IF EQUAL
.
          GOTO      DISTXT30
.
DISTXT20  MOVE      "014",KEY3              * No 'Final'; so try 'Draft'
          PACK      KEY17,DEMVIADM,KEY3,SP70
          CALL      RSVSMDT1
DISTXT21  CALL      RKVSMDT1
          BRANCH    OVRCD,DISTXT99
.
          MATCH     DEMVIADM,VSMDVISN       * Same Visit Number?
          GOTO      DISTXT99 IF NOT EQUAL
.
          MATCH     KEY3,VSMDTYPE           * Same Comment Type?
          GOTO      DISTXT99 IF NOT EQUAL
.
          MATCH     "1",VSMDDELT            * Deleted?
          GOTO      DISTXT21 IF EQUAL
.
.
.         Now get the Visit Notes Free Text lines (1-999)
.
DISTXT30  PACK      KEY20,VSMDVISN,VSMDTYPE,VSMDNOTE,SP70
          CALL      RSVSMTX1
DISTXT31  CALL      RKVSMTX1
          BRANCH    OVRCD,DISTXT99
.
          MATCH     VSMDVISN,VSMTVISN
          GOTO      DISTXT99 IF NOT EQUAL
.
          MATCH     VSMDTYPE,VSMTTYPE
          GOTO      DISTXT99 IF NOT EQUAL
.
          MATCH     VSMDNOTE,VSMTNOTE
          GOTO      DISTXT99 IF NOT EQUAL
.
          ADD       ONE,NUM3
.
          COMPARE   FORM4,NUM3
          GOTO      DISTXT99 IF NOT LESS
.
          STRIP     VSMTCMNT
          MOVELPTR  VSMTCMNT,LENGTH
.
          SFORMAT   VAR,LENGTH
          MOVE      VSMTCMNT,VAR
          PRINT     VAR,*N;
          SFORMAT   VAR,127
.
          GOTO      DISTXT31
.
DISTXT99  RETURN
+
.------------------------------------------------------------
.         Discharge Text Status string (Final/Draft)
.------------------------------------------------------------
DTSTAT00  MOVE      "015",KEY3
          PACK      KEY17,DEMVIADM,KEY3,SP70
          CALL      RSVSMDT1
DTSTAT10  CALL      RKVSMDT1
          BRANCH    OVRCD,DTSTAT20
.
          MATCH     VSMDVISN,DEMVIADM
          GOTO      DTSTAT20 IF NOT EQUAL
.
          MATCH     VSMDTYPE,KEY3
          GOTO      DTSTAT20 IF NOT EQUAL
.
          MATCH     "1",VSMDDELT       * Deleted?
          GOTO      DTSTAT10 IF EQUAL
.
          MOVE      "Final",VARIABLE
          GOTO      DTSTAT99
.
DTSTAT20  MOVE      "014",KEY3
          PACK      KEY17,DEMVIADM,KEY3,SP70
          CALL      RSVSMDT1
DTSTAT21  CALL      RKVSMDT1
          BRANCH    OVRCD,DTSTAT99
.
          MATCH     VSMDVISN,DEMVIADM
          GOTO      DTSTAT99 IF NOT EQUAL
.
          MATCH     VSMDTYPE,KEY3
          GOTO      DTSTAT99 IF NOT EQUAL
.
          MATCH     "1",VSMDDELT       * Deleted?
          GOTO      DTSTAT21 IF EQUAL
.
          MOVE      "Draft",VARIABLE
          GOTO      DTSTAT99
.
DTSTAT99  RETURN
+
.------------------------------------------------------------------------------
.         Process data fields (1836 - xxx)
.------------------------------------------------------------------------------
PRFLB000  SUB       "102",FORM5
          BRANCH    FORM5,PRFLB010,PRFLB010,PRFLB010,PRFLB010,PRFLB010:  * 1840
                          PRFLB010,PRFLB010,PRFLB010,PRFLB010,PRFLB010:  * 1845
                          PRFLB010,PRFLB010,PRFLB010,PRFLB010,PRFLB010:  * 1850
                          PRFLB010,PRFLB010,PRFLB010,PRFLB010,PRFLB010:  * 1855
                          PRFLB010,PRFLB010,PRFLB010,PRFLB010,PRFLB010:  * 1860
                          PRFLB010,PRFLB010,PRFLB010,PRFLB010,PRFLB010:  * 1865
                          PRFLB010,PRFLB010,PRFLB010,PRFLB010,PRFLB010:  * 1870
                          PRFLB010,PRFLB010,PRFLB010,PRFLB010,PRFLB010:  * 1875
                          PRFLB010,PRFLB010,PRFLB010,PRFLB010,PRFLB010:  * 1880
                          PRFLB010,PRFLB010,PRFLB010,PRFLB010,PRFLB010:  * 1885
                          PRFLB010,PRFLB010,PRFLB010,PRFLB010,PRFLB010:  * 1890
                          PRFLB010,PRFLB010,PRFLB010,PRFLB010,PRFLB010:  * 1895
                          PRFLB010,PRFLB010,PRFLB010,PRFLB010,PRFLB010:  * 1900
                          PRFLB010,PRFLB010,PRFLB010,PRFLB010,PRFLB010:  * 1905
                          PRFLB010,PRFLB010,PRFLB010,PRFLB010,PRFLB010:  * 1910
                          PRFLB010,PRFLB010,PRFLB010,PRFLB010,PRFLB010:  * 1915
                          PRFLB010,PRFLB010,PRFLB010,PRFLB010,PRFLB010:  * 1920
                          PRFLB010,PRFLB010,PRFLB010,PRFLB010,PRFLB010:  * 1925
                          PRFLB010,PRFLB010,PRFLB010,PRFLB010,PRFLB010:  * 1930
                          PRFLB010,PRFLB010,PRFLB010,PRFLB010,PRFLB010:  * 1935
                          PRFLB101,PRFLB102,PRFLB103,PRFLB104,PRFLB105:  * 1940
                          PRFLB106,PRFLB107,PRFLB108,PRFLB109,PRFLB110:  * 1945
                          PRFLB111,PRFLB112,PRFLB113,PRFLB114,PRFLB115:  * 1950
                          PRFLB116,PRFLB117,PRFLB118,PRFLB119,PRFLB120:  * 1955
                          PRFLB121,PRFLB122,PRFLB123,PRFLB124,PRFLB125:  * 1960
                          PRFLB126,PRFC1962,PRFC1963,PRFC1964,PRFC1965:  * 1965
                          PRFC1966,PRFC1967,PRFC1968,PRFC1969,PRFC1970:  * 1970
                          PRFC1971,PRFC1972,PRFC1973,PRFC1974,PRFC1975:  * 1975
                          PRFC1976,PRFC1977,PRFC1978,PRFC1979,PRFC1980:  * 1980
                          PRFC1981,PRFC1982,PRFC1983,PRFC1984,PRFC1985:  * 1985
                          PRFC1986,PRFC1987,PRFC1988,PRFC1989,PRFC1990:  * 1990
                          PRFC1991,PRFC1992,PRFC1993,PRFC1994,PRFC1995:  * 1995
                          PRFC1996,PRFC1997,PRFC1998,PRFC1999,PRFC2000:  * 2000
                          PRFC2001,PRFC2002,PRFC2003,PRFC2004,PRFC2005:  * 2005
                          PRFC2006,PRFC2007,PRFC2008,PRFC2009,PRFC2010:  * 2010
                          PRFC2011,PRFC2012,PRFC2013,PRFC2014,PRFC2015:  * 2015
                          PRFC2016,PRFC2017,PRFC2018,PRFC2019,PRFC2020:  * 2020
                          PRFC2021,PRFC2022,PRFC2023,PRFC2024,PRFC2025:  * 2025
                          PRFC2026,PRFC2027,PRFC2028,PRFC2029,PRFC2030:  * 2030
                          PRFC2031,PRFC2032,PRFC2033,PRFC2034,PRFC2035:  * 2035
                          PRFC2036,PRFC2037,PRFC2038,PRFC2039,PRFC2040:  * 2040
                          PRFC2041,PRFC2042,PRFC2043,PRFC2044,PRFC2045:  * 2045
                          PRFC2046,PRFC2047,PRFC2048,PRFC2049,PRFC2050:  * 2050
                          PRFC2051,PRFC2052,PRFC2053,PRFC2054,PRFC2055:  * 2055
                          PRFC2056,PRFC2057,PRFC2058,PRFC2059,PRFC2060:  * 2060
                          PRFC2061,PRFC2062,PRFC2063,PRFC2064,PRFC2065:  * 2065
                          PRFC2066,PRFC2067,PRFC2068,PRFC2069,PRFC2070:  * 2070
                          PRFC2071,PRFC2072,PRFC2073,PRFC2074,PRFC2075:  * 2075
                          PRFC2076,PRFC2077,PRFC2078,PRFC2079,PRFC2080:  * 2080
                          PRFC2081,PRFC2082,PRFC2083
.
          GOTO      PRFLB999
.
PRFLB010  MOVE      FORM5,FORM3   * Set the line number
          CALL      ATPTLN00      * Advice to Patient Text Line (1-100)
          GOTO      PRFLB999
.
PRFLB101  CALL      ATPTXT00      * Advice to Patient Notes (all lines 1-999)
          GOTO      PRFLB999
.
PRFLB102  MOVE      PSEX,DSEXCHAR
          CALL      SEXDSP00
          MOVE      DSEXLDES,VARIABLE       * Get sex long description
          GOTO      PRFLB999
.
PRFLB103  MOVE      EMVIURNO,MBIRURNO
          CALL      MULBIR00                * Get multlple birth details
          MOVE      MBIRTYOR,VARIABLE
          GOTO      PRFLB999 
.
PRFLB104  MOVE      PTCNSTYP,VARIABLE       * Get System Letter Type
          GOTO      PRFLB999
.
PRFLB105  PACK      KEY8,ADMISSNO,SP70      * Get Attending Doctor Provider No
          CALL      RDEMVIS1
          BRANCH    OVRCD,PRFLB999
.
          PACK      KEY10,EMVIDOCT,SP70
          CALL      RDPMHCP1
          BRANCH    OVRCD,PRFLB999
.
          MOVE      PMHCPRV1,VARIABLE
          GOTO      PRFLB999 
.
PRFLB106  PACK      KEY22,ADMISSNO,SP70     * First Seen by Doctor Provider No
          CALL      RSEMHIS1
PRFL1065  CALL      RKEMHIS1
          BRANCH    OVRCD,PRFLB999
.
          MATCH     ADMISSNO,EMHIVIS
          GOTO      PRFLB999 IF NOT EQUAL
.
          MATCH     SP70,EMHIDOC
          GOTO      PRFL1065 IF EQUAL
.
          PACK      KEY10,EMHIDOC,SP70
          CALL      RDPMHCP1
          BRANCH    OVRCD,PRFLB999
.
          MOVE      PMHCPRV1,VARIABLE
          GOTO      PRFLB999 
.
PRFLB107  PACK      KEY8,ADMISSNO,SP70      * Admitting Doctor Provider No 
          CALL      RDEMVIS1
          BRANCH    OVRCD,PRFLB999
.
          PACK      KEY6,EMVIUR01,SP10 
          CALL      RDDOCT1  
          BRANCH    OVRCD,PRFLB999
.
          MOVE      DPROV,VARIABLE
          GOTO      PRFLB999
.
PRFLB108  PACK      KEY8,ADMISSNO,SP70      * Discharge Doctor Provider No
          CALL      RDEMVIS1
          BRANCH    OVRCD,PRFLB999
.
          PACK      KEY6,EMVIUR02,SP10
          CALL      RDDOCT1
          BRANCH    OVRCD,PRFLB999
.
          MOVE      DPROV,VARIABLE
          GOTO      PRFLB999
.
PRFLB109  PACK      KEY8,ADMISSNO,SP70      * Referring Doctor Provider No  
          CALL      RDEMVIS1
          BRANCH    OVRCD,PRFLB999
.
          PACK      KEY10,EMVIREFD,SP70
          CALL      RDPMHCP1
          BRANCH    OVRCD,PRFLB999
.
          MOVE      PMHCPRV1,VARIABLE
          GOTO      PRFLB999
.
PRFLB110  CALL      ATNDOC00                * Attending Doctor Full Name
          MATCH     SP70,DSNAME
          GOTO      PRFL1105 IF NOT EQUAL
          MATCH     SP70,DGNAME
          GOTO      PRFLB999 IF EQUAL
PRFL1105  MOVE      DTITL,FMTTITLE
          MOVE      DGNAME,FMTGNAME
          MOVE      DSNAME,FMTSNAME
          CALL      DOCNM000
          MOVE      DOCFNAME,VARIABLE
          GOTO      PRFLB999
.
PRFLB111  CALL      FSBDOC00                * First Seen by Doctor Full Name
          MATCH     SP70,DSNAME
          GOTO      PRFL1115 IF NOT EQUAL
          MATCH     SP70,DGNAME
          GOTO      PRFLB999 IF EQUAL
PRFL1115  MOVE      DTITL,FMTTITLE
          MOVE      DGNAME,FMTGNAME
          MOVE      DSNAME,FMTSNAME
          CALL      DOCNM000
          MOVE      DOCFNAME,VARIABLE
          GOTO      PRFLB999
.
PRFLB112  CALL      ADMDOC00                * Admitting Doctor Full Name
          MATCH     SP70,DSNAME
          GOTO      PRFL1125 IF NOT EQUAL
          MATCH     SP70,DGNAME
          GOTO      PRFLB999 IF EQUAL
PRFL1125  MOVE      DTITL,FMTTITLE
          MOVE      DGNAME,FMTGNAME
          MOVE      DSNAME,FMTSNAME
          CALL      DOCNM000
          MOVE      DOCFNAME,VARIABLE
          GOTO      PRFLB999
.
PRFLB113  CALL      DISDOC00                * Discharge Doctor Full Name
          MATCH     SP70,DSNAME
          GOTO      PRFL1135 IF NOT EQUAL
          MATCH     SP70,DGNAME
          GOTO      PRFLB999 IF EQUAL
PRFL1135  MOVE      DTITL,FMTTITLE
          MOVE      DGNAME,FMTGNAME
          MOVE      DSNAME,FMTSNAME
          CALL      DOCNM000
          MOVE      DOCFNAME,VARIABLE
          GOTO      PRFLB999
.
PRFLB114  CALL      REFDOC00                * Referring Doctor Full Name
          MATCH     SP70,DSNAME
          GOTO      PRFL1145 IF NOT EQUAL
          MATCH     SP70,DGNAME
          GOTO      PRFLB999 IF EQUAL
PRFL1145  MOVE      DTITL,FMTTITLE
          MOVE      DGNAME,FMTGNAME
          MOVE      DSNAME,FMTSNAME
          CALL      DOCNM000
          MOVE      DOCFNAME,VARIABLE
          GOTO      PRFLB999
.
PRFLB115  MOVE      WBSELOGN,VARIABLE
          GOTO      PRFLB999
.
PRFLB116  PACK      VARIABLE,PMPXPFSN,SP70   * Preferred Surname
          GOTO      PRFLB999
.
PRFLB117  PACK      VARIABLE,PMPXPFGN,SP70   * Preferred Given Name
          GOTO      PRFLB999
.
PRFLB118  PACK      VARIABLE,PSNAME,SP70     * Pref Surname instead of Actual SN
          MATCH     "1",PTCNPFSN
          IF        @EQUAL
            MATCH     SP70,PMPXPFSN
            IF        !@EQUAL & !@EOS
              PACK      VARIABLE,PMPXPFSN,SP70,SP10
            ENDIF
          ENDIF
          GOTO      PRFLB999
.
PRFLB119  PACK      VARIABLE,PGNAME,SP70     * Pref GN instead of Actual GN
          MATCH     "1",PTCNPFGN
          IF        @EQUAL
            MATCH     SP70,PMPXPFGN
            IF        !@EQUAL & !@EOS
              PACK      VARIABLE,PMPXPFGN,SP70,SP10
            ENDIF
          ENDIF
          GOTO      PRFLB999
.
PRFLB120  PACK      VARIABLE,PTMASNAM,SP70   * Pref Surname instead of 40char SN
          MATCH     "1",PTCNPFSN
          IF        @EQUAL
            MATCH     SP70,PMPXPFSN
            IF        !@EQUAL & !@EOS
              PACK      VARIABLE,PMPXPFSN,SP70,SP10
            ENDIF
          ENDIF
          GOTO      PRFLB999
.
PRFLB121  PACK      VARIABLE,PMPXUCC4,SP70       * Identify gender
          GOTO      PRFLB999
.
PRFLB122  PACK      VARIABLE,SP70                * Identify gender long desc
          MOVE      SP70,PTCDLDES
          MATCH     SP70,PMPXUCC4
          IF        !@EQUAL
            MOVE      "Gi",DIM2
            PACK      KEY5,DIM2,PMPXUCC4,SP70
            CALL      RDCODE1
            IF        OVRCD=0
              MOVE      PTCDLDES,VARIABLE
            ENDIF
          ENDIF
          GOTO      PRFLB999
.
PRFLB123  PACK      VARIABLE,PMPXATF1,SP70,SP70  * Identify gender Free Text
          GOTO      PRFLB999
.
PRFLB124  PACK      VARIABLE,PMPXUCC5,SP70       * Identify pronoun
          GOTO      PRFLB999
.
PRFLB125  PACK      VARIABLE,SP70                * Identif pronoun long desc
          MOVE      SP70,PTCDLDES
          MATCH     SP70,PMPXUCC5
          IF        !@EQUAL
            MOVE      "Gp",DIM2
            PACK      KEY5,DIM2,PMPXUCC5,SP70
            CALL      RDCODE1
            IF        OVRCD=0
              MOVE      PTCDLDES,VARIABLE
            ENDIF
          ENDIF
          GOTO      PRFLB999
.
PRFLB126  PACK      VARIABLE,PMPXATF2,SP70,SP70  * Identify Pronoun Free Text
          GOTO      PRFLB999
.
PRFC1962  CALL      ALRALL00                 * Print Pat Alert - All Category
          GOTO      PRFLB999
.
PRFC1963  MOVE      "H1",WORKCATG            * Print Patient Alert - H1
          CALL      ALRALC00
          GOTO      PRFLB999
.
PRFC1964  MOVE      "H2",WORKCATG            * Print Patient Alert - H2
          CALL      ALRALC00
          GOTO      PRFLB999
.
PRFC1965  MOVE      "H3",WORKCATG            * Print Patient Alert - H3
          CALL      ALRALC00
          GOTO      PRFLB999
.
PRFC1966  MOVE      "H4",WORKCATG            * Print Patient Alert - H4
          CALL      ALRALC00
          GOTO      PRFLB999
.
PRFC1967  MOVE      "H5",WORKCATG            * Print Patient Alert - H5
          CALL      ALRALC00
          GOTO      PRFLB999
.
PRFC1968  MOVE      "H6",WORKCATG            * Print Patient Alert - H6
          CALL      ALRALC00
          GOTO      PRFLB999
.
PRFC1969  MOVE      "H7",WORKCATG            * Print Patient Alert - H7
          CALL      ALRALC00
          GOTO      PRFLB999
.
PRFC1970  MOVE      "H8",WORKCATG            * Print Patient Alert - H8
          CALL      ALRALC00
          GOTO      PRFLB999
.
PRFC1971  MOVE      "H9",WORKCATG            * Print Patient Alert - H9
          CALL      ALRALC00
          GOTO      PRFLB999
.
PRFC1972  CALL      SETALI00
          MOVE      ARYALIAS[1],VARIABLE     * First Given Name - Alias 1
          GOTO      PRFLB999
.
PRFC1973  CALL      SETALI00
          MOVE      ARYALIAS[2],VARIABLE     * Second Given Name - Alias 1
          GOTO      PRFLB999
.
PRFC1974  CALL      SETALI00
          MOVE      ARYALIAS[3],VARIABLE     * Surame - Alias 1
          GOTO      PRFLB999
.
PRFC1975  CALL      SETALI00
          MOVE      ARYALIAS[4],WRKDTE8      * DOB - Alias 1
          CALL      CNVDTE00
          MOVE      WRKDTE10,VARIABLE        
          GOTO      PRFLB999
.
PRFC1976  CALL      SETALI00
          MOVE      ARYALIAS[5],SEXCODE
          MATCH     SP70,SEXCODE             * Gender Description - Alias 1
          IF        @EQUAL
            MOVE      SP70,VARIABLE
          ELSE
            MOVE      "G ",DIM2
            PACK      KEY5,DIM2,SEXCODE,SP70
            CALL      RDCODE1
            IF        OVRCD=1
              MOVE      SEXCODE,TDESC
            ENDIF
            MOVE        TDESC,VARIABLE
          ENDIF
          GOTO      PRFLB999
.
PRFC1977  CALL      SETALI00
          MOVE      ARYALIAS[6],VARIABLE     * First Given Name - Alias 2
          GOTO      PRFLB999
.
PRFC1978  CALL      SETALI00
          MOVE      ARYALIAS[7],VARIABLE     * Second Given Name - Alias 2
          GOTO      PRFLB999
.
PRFC1979  CALL      SETALI00
          MOVE      ARYALIAS[8],VARIABLE     * Surame - Alias 2
          GOTO      PRFLB999
.
PRFC1980  CALL      SETALI00
          MOVE      ARYALIAS[9],WRKDTE8      * DOB - Alias 2
          CALL      CNVDTE00
          MOVE      WRKDTE10,VARIABLE        
          GOTO      PRFLB999
.
PRFC1981  CALL      SETALI00
          MOVE      ARYALIAS[10],SEXCODE     * Gender Description - Alias 2
          MATCH     SP70,SEXCODE
          IF        @EQUAL
            MOVE      SP70,VARIABLE
          ELSE
            MOVE      "G ",DIM2
            PACK      KEY5,DIM2,SEXCODE,SP70
            CALL      RDCODE1
            IF        OVRCD=1
              MOVE      SEXCODE,TDESC
            ENDIF
            MOVE        TDESC,VARIABLE
          ENDIF
          GOTO      PRFLB999
.
PRFC1982  CALL      SETALI00
          MOVE      ARYALIAS[11],VARIABLE     * First Given Name - Alias 3
          GOTO      PRFLB999
.
PRFC1983  CALL      SETALI00
          MOVE      ARYALIAS[12],VARIABLE     * Second Given Name - Alias 3
          GOTO      PRFLB999
.
PRFC1984  CALL      SETALI00
          MOVE      ARYALIAS[13],VARIABLE     * Surame - Alias 3
          GOTO      PRFLB999
.
PRFC1985  CALL      SETALI00
          MOVE      ARYALIAS[14],WRKDTE8      * DOB - Alias 3
          CALL      CNVDTE00
          MOVE      WRKDTE10,VARIABLE        
          GOTO      PRFLB999
.
PRFC1986  CALL      SETALI00
          MOVE      ARYALIAS[15],SEXCODE
          MATCH     SP70,SEXCODE             * Gender Description - Alias 3
          IF        @EQUAL
            MOVE      SP70,VARIABLE
          ELSE
            MOVE      "G ",DIM2
            PACK      KEY5,DIM2,SEXCODE,SP70
            CALL      RDCODE1
            IF        OVRCD=1
              MOVE      SEXCODE,TDESC
            ENDIF
            MOVE        TDESC,VARIABLE
          ENDIF
          GOTO      PRFLB999
.
PRFC1987  CALL      SETALI00
          MOVE      ARYALIAS[16],VARIABLE     * First Given Name - Alias 4
          GOTO      PRFLB999
.
PRFC1988  CALL      SETALI00
          MOVE      ARYALIAS[17],VARIABLE     * Second Given Name - Alias 4
          GOTO      PRFLB999
.
PRFC1989  CALL      SETALI00
          MOVE      ARYALIAS[18],VARIABLE     * Surame - Alias 4
          GOTO      PRFLB999
.
PRFC1990  CALL      SETALI00
          MOVE      ARYALIAS[19],WRKDTE8      * DOB - Alias 4
          CALL      CNVDTE00
          MOVE      WRKDTE10,VARIABLE        
          GOTO      PRFLB999
.
PRFC1991  CALL      SETALI00
          MOVE      ARYALIAS[20],SEXCODE     * Gender Description - Alias 4
          MATCH     SP70,SEXCODE
          IF        @EQUAL
            MOVE      SP70,VARIABLE
          ELSE
            MOVE      "G ",DIM2
            PACK      KEY5,DIM2,SEXCODE,SP70
            CALL      RDCODE1
            IF        OVRCD=1
              MOVE      SEXCODE,TDESC
            ENDIF
            MOVE        TDESC,VARIABLE
          ENDIF
          GOTO      PRFLB999
.
PRFC1992  CALL      SETALI00
          MOVE      ARYALIAS[21],VARIABLE     * First Given Name - Alias 5
          GOTO      PRFLB999
.
PRFC1993  CALL      SETALI00
          MOVE      ARYALIAS[22],VARIABLE     * Second Given Name - Alias 5
          GOTO      PRFLB999
.
PRFC1994  CALL      SETALI00
          MOVE      ARYALIAS[23],VARIABLE     * Surame - Alias 5
          GOTO      PRFLB999
.
PRFC1995  CALL      SETALI00
          MOVE      ARYALIAS[24],WRKDTE8      * DOB - Alias 5
          CALL      CNVDTE00
          MOVE      WRKDTE10,VARIABLE        
          GOTO      PRFLB999
.
PRFC1996  CALL      SETALI00
          MOVE      ARYALIAS[25],SEXCODE
          MATCH     SP70,SEXCODE             * Gender Description - Alias 5
          IF        @EQUAL
            MOVE      SP70,VARIABLE
          ELSE
            MOVE      "G ",DIM2
            PACK      KEY5,DIM2,SEXCODE,SP70
            CALL      RDCODE1
            IF        OVRCD=1
              MOVE      SEXCODE,TDESC
            ENDIF
            MOVE        TDESC,VARIABLE
          ENDIF
          GOTO      PRFLB999
.
PRFC1997  CALL      SETALI00
          MOVE      ARYALIAS[26],VARIABLE     * First Given Name - Alias 6
          GOTO      PRFLB999
.
PRFC1998  CALL      SETALI00
          MOVE      ARYALIAS[27],VARIABLE     * Second Given Name - Alias 6
          GOTO      PRFLB999
.
PRFC1999  CALL      SETALI00
          MOVE      ARYALIAS[28],VARIABLE     * Surame - Alias 6
          GOTO      PRFLB999
.
PRFC2000  CALL      SETALI00
          MOVE      ARYALIAS[29],WRKDTE8      * DOB - Alias 6
          CALL      CNVDTE00
          MOVE      WRKDTE10,VARIABLE        
          GOTO      PRFLB999
.
PRFC2001  CALL      SETALI00
          MOVE      ARYALIAS[30],SEXCODE      * Gender Description - Alias 6
          MATCH     SP70,SEXCODE
          IF        @EQUAL
            MOVE      SP70,VARIABLE
          ELSE
            MOVE      "G ",DIM2
            PACK      KEY5,DIM2,SEXCODE,SP70
            CALL      RDCODE1
            IF        OVRCD=1
              MOVE      SEXCODE,TDESC
            ENDIF
            MOVE        TDESC,VARIABLE
          ENDIF
          GOTO      PRFLB999
.
PRFC2002  CALL      SETALI00
          MOVE      ARYALIAS[31],VARIABLE     * First Given Name - Alias 7
          GOTO      PRFLB999
.
PRFC2003  CALL      SETALI00
          MOVE      ARYALIAS[32],VARIABLE     * Second Given Name - Alias 7
          GOTO      PRFLB999
.
PRFC2004  CALL      SETALI00
          MOVE      ARYALIAS[33],VARIABLE     * Surame - Alias 7
          GOTO      PRFLB999
.
PRFC2005  CALL      SETALI00
          MOVE      ARYALIAS[34],WRKDTE8      * DOB - Alias 7
          CALL      CNVDTE00
          MOVE      WRKDTE10,VARIABLE        
          GOTO      PRFLB999
.
PRFC2006  CALL      SETALI00
          MOVE      ARYALIAS[35],SEXCODE
          MATCH     SP70,SEXCODE             * Gender Description - Alias 7
          IF        @EQUAL
            MOVE      SP70,VARIABLE
          ELSE
            MOVE      "G ",DIM2
            PACK      KEY5,DIM2,SEXCODE,SP70
            CALL      RDCODE1
            IF        OVRCD=1
              MOVE      SEXCODE,TDESC
            ENDIF
            MOVE        TDESC,VARIABLE
          ENDIF
          GOTO      PRFLB999
.
PRFC2007  CALL      SETALI00
          MOVE      ARYALIAS[36],VARIABLE     * First Given Name - Alias 8
          GOTO      PRFLB999
.
PRFC2008  CALL      SETALI00
          MOVE      ARYALIAS[37],VARIABLE     * Second Given Name - Alias 8
          GOTO      PRFLB999
.
PRFC2009  CALL      SETALI00
          MOVE      ARYALIAS[38],VARIABLE     * Surame - Alias 8
          GOTO      PRFLB999
.
PRFC2010  CALL      SETALI00
          MOVE      ARYALIAS[39],WRKDTE8      * DOB - Alias 8
          CALL      CNVDTE00
          MOVE      WRKDTE10,VARIABLE        
          GOTO      PRFLB999
.
PRFC2011  CALL      SETALI00
          MOVE      ARYALIAS[40],SEXCODE      * Gender Description - Alias 8
          MATCH     SP70,SEXCODE
          IF        @EQUAL
            MOVE      SP70,VARIABLE
          ELSE
            MOVE      "G ",DIM2
            PACK      KEY5,DIM2,SEXCODE,SP70
            CALL      RDCODE1
            IF        OVRCD=1
              MOVE      SEXCODE,TDESC
            ENDIF
            MOVE        TDESC,VARIABLE
          ENDIF
          GOTO      PRFLB999
.
PRFC2012  CALL      SETALI00
          MOVE      ARYALIAS[41],VARIABLE     * First Given Name - Alias 9
          GOTO      PRFLB999
.
PRFC2013  CALL      SETALI00
          MOVE      ARYALIAS[42],VARIABLE     * Second Given Name - Alias 9
          GOTO      PRFLB999
.
PRFC2014  CALL      SETALI00
          MOVE      ARYALIAS[43],VARIABLE     * Surame - Alias 9
          GOTO      PRFLB999
.
PRFC2015  CALL      SETALI00
          MOVE      ARYALIAS[44],WRKDTE8      * DOB - Alias 9
          CALL      CNVDTE00
          MOVE      WRKDTE10,VARIABLE        
          GOTO      PRFLB999
.
PRFC2016  CALL      SETALI00
          MOVE      ARYALIAS[45],SEXCODE
          MATCH     SP70,SEXCODE             * Gender Description - Alias 9
          IF        @EQUAL
            MOVE      SP70,VARIABLE
          ELSE
            MOVE      "G ",DIM2
            PACK      KEY5,DIM2,SEXCODE,SP70
            CALL      RDCODE1
            IF        OVRCD=1
              MOVE      SEXCODE,TDESC
            ENDIF
            MOVE        TDESC,VARIABLE
          ENDIF
          GOTO      PRFLB999
.
PRFC2017  CALL      SETALI00
          MOVE      ARYALIAS[46],VARIABLE     * First Given Name - Alias 10
          GOTO      PRFLB999
.
PRFC2018  CALL      SETALI00
          MOVE      ARYALIAS[47],VARIABLE     * Second Given Name - Alias 10
          GOTO      PRFLB999
.
PRFC2019  CALL      SETALI00
          MOVE      ARYALIAS[48],VARIABLE     * Surame - Alias 10
          GOTO      PRFLB999
.
PRFC2020  CALL      SETALI00
          MOVE      ARYALIAS[49],WRKDTE8      * DOB - Alias 10
          CALL      CNVDTE00
          MOVE      WRKDTE10,VARIABLE        
          GOTO      PRFLB999
.
PRFC2021  CALL      SETALI00
          MOVE      ARYALIAS[50],SEXCODE      * Gender Description - Alias 10
          MATCH     SP70,SEXCODE
          IF        @EQUAL
            MOVE      SP70,VARIABLE
          ELSE
            MOVE      "G ",DIM2
            PACK      KEY5,DIM2,SEXCODE,SP70
            CALL      RDCODE1
            IF        OVRCD=1
              MOVE      SEXCODE,TDESC
            ENDIF
            MOVE        TDESC,VARIABLE
          ENDIF
          GOTO      PRFLB999
.
PRFC2022  MOVE      ONE,FORM1
          CALL      GEMCD000 
          GOTO      PRFLB999
.
PRFC2023  MOVE      TWO,FORM1
          CALL      GEMCD000
          GOTO      PRFLB999
.
PRFC2024  MOVE      THREE,FORM1
          CALL      GEMCD000
          GOTO      PRFLB999
.
PRFC2025  MOVE      FOUR,FORM1
          CALL      GEMCD000
          GOTO      PRFLB999
.
PRFC2026  MOVE      FIVE,FORM1
          CALL      GEMCD000
          GOTO      PRFLB999
.
PRFC2027  MOVE      SIX,FORM1
          CALL      GEMCD000
          GOTO      PRFLB999
.
PRFC2028  MOVE      "023",DIM3
          CALL      AVFTX000
          GOTO      PRFLB999 
.
PRFC2029  PACK      VARIABLE,PMPXETH1,SP70   * Ethnicity 1 Code
          GOTO      PRFLB999
.
PRFC2030  MATCH     SP70,PMPXETH1
          GOTO      PRFLB999 IF EQUAL
.
          MOVE      "EN",DIM2
          PACK      KEY5,DIM2,PMPXETH1,SP70
          CALL      RDCODE1
          BRANCH    OVRCD,PRFLB999
.
          PACK      VARIABLE,PTCDLDES,SP70   * Ethnicity 1 Long Desc
          GOTO      PRFLB999
.
PRFC2031  PACK      VARIABLE,PMPXETH2,SP70   * Ethnicity 2 Code
          GOTO      PRFLB999
.
PRFC2032  MATCH     SP70,PMPXETH2
          GOTO      PRFLB999 IF EQUAL
.
          MOVE      "EN",DIM2
          PACK      KEY5,DIM2,PMPXETH2,SP70
          CALL      RDCODE1
          BRANCH    OVRCD,PRFLB999
.
          PACK      VARIABLE,PTCDLDES,SP70   * Ethnicity 2 Long Desc
          GOTO      PRFLB999
.
PRFC2033  PACK      VARIABLE,PMPXLAN1,SP70   * Lang Spoken At Home 1 Code
          GOTO      PRFLB999
.
PRFC2034  MATCH     SP70,PMPXLAN1
          GOTO      PRFLB999 IF EQUAL
.
          MOVE      "l1",DIM2
          PACK      KEY5,DIM2,PMPXLAN1,SP70
          CALL      RDCODE1
          BRANCH    OVRCD,PRFLB999
.
          PACK      VARIABLE,PTCDLDES,SP70   * Lang Spoken At Home 1 Long Desc
          GOTO      PRFLB999
.
PRFC2035  PACK      VARIABLE,PMPXLAN2,SP70   * Lang Spoken At Home 1 Code
          GOTO      PRFLB999
.
PRFC2036  MATCH     SP70,PMPXLAN2
          GOTO      PRFLB999 IF EQUAL
.
          MOVE      "l1",DIM2
          PACK      KEY5,DIM2,PMPXLAN2,SP70
          CALL      RDCODE1
          BRANCH    OVRCD,PRFLB999
.
          PACK      VARIABLE,PTCDLDES,SP70   * Lang Spoken At Home 1 Long Desc
          GOTO      PRFLB999
.
PRFC2037  CALL      GPMCEX00
          BRANCH    EXIT,PRFLB999
.
          PACK      VARIABLE,PMCELAN1,SP70   * Lang Spoken At Home 1 Code
.                                            * Extra Contact
          GOTO      PRFLB999
.
PRFC2038  CALL      GPMCEX00
          BRANCH    EXIT,PRFLB999
.
          MATCH     SP70,PMCELAN1
          GOTO      PRFLB999 IF EQUAL
.
          MOVE      "l1",DIM2
          PACK      KEY5,DIM2,PMCELAN1,SP70
          CALL      RDCODE1
          BRANCH    OVRCD,PRFLB999
.
          PACK      VARIABLE,PTCDLDES,SP70   * Lang Spoken At Home 1 Long Desc
.                                            * Extra Contact
          GOTO      PRFLB999
.
PRFC2039  CALL      GPMCEX00
          BRANCH    EXIT,PRFLB999
.
          PACK      VARIABLE,PMCELAN2,SP70   * Lang Spoken At Home 2 Code
.                                            * Extra Contact
          GOTO      PRFLB999
.
PRFC2040  CALL      GPMCEX00
          BRANCH    EXIT,PRFLB999
.
          MATCH     SP70,PMCELAN2
          GOTO      PRFLB999 IF EQUAL
.
          MOVE      "l1",DIM2
          PACK      KEY5,DIM2,PMCELAN2,SP70
          CALL      RDCODE1
          BRANCH    OVRCD,PRFLB999
.
          PACK      VARIABLE,PTCDLDES,SP70   * Lang Spoken At Home 2 Long Desc
          GOTO      PRFLB999
.
PRFC2041  PACK      VARIABLE,EMVIMNCD 
          GOTO      PRFLB999
.
PRFC2042  MATCH     SP70,EMVIMNCD
          GOTO      PRFC2041 IF EQUAL
.
          PACK      KEY10,EMVIMNCD,SP70
          CALL      RDPMHCP1
          BRANCH    OVRCD,PRFC2041
          SQUEEZE   PMHCTITL
          PACK      VARIABLE,PMHCTITL
          GOTO      PRFLB999
.
PRFC2043  MATCH     SP70,EMVIMNCD
          GOTO      PRFC2041 IF EQUAL
.
          PACK      KEY10,EMVIMNCD,SP70
          CALL      RDPMHCP1
          BRANCH    OVRCD,PRFC2041
          SQUEEZE   PMHCGNAM
          PACK      VARIABLE,PMHCGNAM
          GOTO      PRFLB999
.
PRFC2044  MATCH     SP70,EMVIMNCD
          GOTO      PRFC2041 IF EQUAL
.
          PACK      KEY6,EMVIMNCD,SP70
          CALL      RDPMHCP1
          BRANCH    OVRCD,PRFC2041
          SQUEEZE   PMHCSNAM
          PACK      VARIABLE,PMHCSNAM
          GOTO      PRFLB999
.
PRFC2045  MATCH     SP70,EMVIMNCD
          GOTO      PRFC2041 IF EQUAL
.
          PACK      KEY6,EMVIMNCD,SP70
          CALL      RDPMHCP1
          BRANCH    OVRCD,PRFC2041
          SQUEEZE   PMHCSNAM
          SQUEEZE   PMHCGNAM
          SQUEEZE   PMHCTITL
          PACK      VARIABLE,PMHCTITL,SP1,PMHCGNAM,SP1,PMHCSNAM
          GOTO      PRFLB999 
.
PRFC2046  UNPACK    EMVIMNDT,CCENT,CYEAR,CMON,CDAY
          CALL      PACDATE
          PACK      VARIABLE,CPCDATE 
          GOTO      PRFLB999
.
PRFC2047  PACK      VARIABLE,EMVIMNTM
          GOTO      PRFLB999
.
PRFC2048  PACK      VARIABLE,EMVIMDCD
          GOTO      PRFLB999
.
PRFC2049  MATCH     SP70,EMVIMDCD
          GOTO      PRFC2048 IF EQUAL
.
          PACK      KEY10,EMVIMDCD,SP70    * read "pmshcpaf" Doctors file
          CALL      RDPMHCP1
          BRANCH    OVRCD,PRFC2048
          SQUEEZE   PMHCTITL
          PACK      VARIABLE,PMHCTITL
          GOTO      PRFLB999
.
PRFC2050  MATCH     SP70,EMVIMDCD
          GOTO      PRFC2048 IF EQUAL
.
          PACK      KEY10,EMVIMDCD,SP70   * read "pmshcpaf" Doctors file
          CALL      RDPMHCP1
          BRANCH    OVRCD,PRFC2048
          SQUEEZE   PMHCGNAM
          PACK      VARIABLE,PMHCGNAM
          GOTO      PRFLB999
.
PRFC2051  MATCH     SP70,EMVIMDCD
          GOTO      PRFC2048 IF EQUAL
.
          PACK      KEY10,EMVIMDCD,SP70   * read "pmshcpaf" Doctors file
          CALL      RDPMHCP1
          BRANCH    OVRCD,PRFC2048
          SQUEEZE   PMHCSNAM
          PACK      VARIABLE,PMHCSNAM
          GOTO      PRFLB999
.
PRFC2052  MATCH     SP70,EMVIMDCD
          GOTO      PRFC2048 IF EQUAL
.
          PACK      KEY10,EMVIMDCD,SP70   * read "pmshcpaf" Doctors file
          CALL      RDPMHCP1
          BRANCH    OVRCD,PRFC2048
          SQUEEZE   PMHCSNAM
          SQUEEZE   PMHCGNAM
          SQUEEZE   PMHCTITL
          PACK      VARIABLE,PMHCTITL,SP1,PMHCGNAM,SP1,PMHCSNAM
          GOTO      PRFLB999
.
PRFC2053  UNPACK    EMVIMDDT,CCENT,CYEAR,CMON,CDAY
          CALL      PACDATE
          PACK      VARIABLE,CPCDATE
          GOTO      PRFLB999
.
PRFC2054  PACK      VARIABLE,EMVIMDTM
          GOTO      PRFLB999
.
PRFC2055  PACK      KEY8,DEMVIADM,SP70    * read "pmsvx1af" Patient Visit 
          CALL      RDPMVX11
          BRANCH    OVRCD,PRFLB999
          MATCH     "1",PMVXUDF7
          IF      @EQUAL
            PACK      VARIABLE,DYES,SP70
            GOTO      PRFLB999
          ENDIF
          MATCH     "0",PMVXUDF7
          IF      @EQUAL
            PACK      VARIABLE,DNO,SP70
            GOTO      PRFLB999
          ENDIF
          GOTO      PRFLB999
.
PRFC2056  PACK      VARIABLE,PUSR1,SP70          * PMI UDF 1 Code
          GOTO      PRFLB999
.
PRFC2057  PACK      VARIABLE,SP70                * PMI UDF 1 Short Description
          MATCH     SP70,PUSR1
          IF        !@EQUAL
            MOVE      "P1",DIM2
            PACK      KEY5,DIM2,PUSR1,SP70
            CALL      RDCODE1
            IF        OVRCD=0
              MOVE      TDESC,VARIABLE
            ENDIF
          ENDIF
          GOTO      PRFLB999
.
PRFC2058  PACK      VARIABLE,SP70                * PMI UDF 1 Long Description
          MATCH     SP70,PUSR1
          IF        !@EQUAL
            MOVE      "P1",DIM2
            PACK      KEY5,DIM2,PUSR1,SP70
            CALL      RDCODE1
            IF        OVRCD=0
              MOVE      PTCDLDES,VARIABLE
            ENDIF
          ENDIF
          GOTO      PRFLB999
.
PRFC2059  PACK      VARIABLE,PUSR2,SP70          * PMI UDF 2 Code
          GOTO      PRFLB999
.
PRFC2060  PACK      VARIABLE,SP70                * PMI UDF 2 Short Description
          MATCH     SP70,PUSR2
          IF        !@EQUAL
            MOVE      "P2",DIM2
            PACK      KEY5,DIM2,PUSR2,SP70
            CALL      RDCODE1
            IF        OVRCD=0
              MOVE      TDESC,VARIABLE
            ENDIF
          ENDIF
          GOTO      PRFLB999
.
PRFC2061  PACK      VARIABLE,SP70                * PMI UDF 2 Long Description
          MATCH     SP70,PUSR2
          IF        !@EQUAL
            MOVE      "P2",DIM2
            PACK      KEY5,DIM2,PUSR2,SP70
            CALL      RDCODE1
            IF        OVRCD=0
              MOVE      PTCDLDES,VARIABLE
            ENDIF
          ENDIF
          GOTO      PRFLB999
.
PRFC2062  PACK      VARIABLE,PUSR3,SP70          * PMI UDF 3 Code
          GOTO      PRFLB999
.
PRFC2063  PACK      VARIABLE,SP70                * PMI UDF 3 Short Description
          MATCH     SP70,PUSR3
          IF        !@EQUAL
            MOVE      "P3",DIM2
            PACK      KEY5,DIM2,PUSR3,SP70
            CALL      RDCODE1
            IF        OVRCD=0
              MOVE      TDESC,VARIABLE
            ENDIF
          ENDIF
          GOTO      PRFLB999
.
PRFC2064  PACK      VARIABLE,SP70                * PMI UDF 3 Long Description
          MATCH     SP70,PUSR3
          IF        !@EQUAL
            MOVE      "P3",DIM2
            PACK      KEY5,DIM2,PUSR3,SP70
            CALL      RDCODE1
            IF        OVRCD=0
              MOVE      PTCDLDES,VARIABLE
            ENDIF
          ENDIF
          GOTO      PRFLB999
.
PRFC2065  PACK      VARIABLE,PUSR4,SP70          * PMI UDF 4 Code
          GOTO      PRFLB999
.
PRFC2066  PACK      VARIABLE,SP70                * PMI UDF 4 Short Description
          MATCH     SP70,PUSR4
          IF        !@EQUAL
            MOVE      "P4",DIM2
            PACK      KEY5,DIM2,PUSR4,SP70
            CALL      RDCODE1
            IF        OVRCD=0
              MOVE      TDESC,VARIABLE
            ENDIF
          ENDIF
          GOTO      PRFLB999
.
PRFC2067  PACK      VARIABLE,SP70                * PMI UDF 4 Long Description
          MATCH     SP70,PUSR4
          IF        !@EQUAL
            MOVE      "P4",DIM2
            PACK      KEY5,DIM2,PUSR4,SP70
            CALL      RDCODE1
            IF        OVRCD=0
              MOVE      PTCDLDES,VARIABLE
            ENDIF
          ENDIF
          GOTO      PRFLB999
.
PRFC2068  PACK      VARIABLE,PUSR5,SP70          * PMI UDF 5 Code
          GOTO      PRFLB999
.
PRFC2069  PACK      VARIABLE,SP70                * PMI UDF 5 Short Description
          MATCH     SP70,PUSR5
          IF        !@EQUAL
            MOVE      "P5",DIM2
            PACK      KEY5,DIM2,PUSR5,SP70
            CALL      RDCODE1
            IF        OVRCD=0
              MOVE      TDESC,VARIABLE
            ENDIF
          ENDIF
          GOTO      PRFLB999
.
PRFC2070  PACK      VARIABLE,SP70                * PMI UDF 5 Long Description
          MATCH     SP70,PUSR5
          IF        !@EQUAL
            MOVE      "P5",DIM2
            PACK      KEY5,DIM2,PUSR5,SP70
            CALL      RDCODE1
            IF        OVRCD=0
              MOVE      PTCDLDES,VARIABLE
            ENDIF
          ENDIF
          GOTO      PRFLB999
.
PRFC2071  PACK      VARIABLE,PUSR6,SP70          * PMI UDF 6 Code
          GOTO      PRFLB999
.
PRFC2072  PACK      VARIABLE,SP70                * PMI UDF 6 Short Description
          MATCH     SP70,PUSR6
          IF        !@EQUAL
            MOVE      "P6",DIM2
            PACK      KEY5,DIM2,PUSR6,SP70
            CALL      RDCODE1
            IF        OVRCD=0
              MOVE      TDESC,VARIABLE
            ENDIF
          ENDIF
          GOTO      PRFLB999
.
PRFC2073  PACK      VARIABLE,SP70                * PMI UDF 6 Long Description
          MATCH     SP70,PUSR6
          IF        !@EQUAL
            MOVE      "P6",DIM2
            PACK      KEY5,DIM2,PUSR6,SP70
            CALL      RDCODE1
            IF        OVRCD=0
              MOVE      PTCDLDES,VARIABLE
            ENDIF
          ENDIF
          GOTO      PRFLB999
.
PRFC2074  PACK      VARIABLE,PMPXUSR7,SP70       * PMI UDF 7 Code
          GOTO      PRFLB999
.
PRFC2075  PACK      VARIABLE,SP70                * PMI UDF 7 Short Description
          MATCH     SP70,PMPXUSR7
          IF        !@EQUAL
            MOVE      "P7",DIM2
            PACK      KEY5,DIM2,PMPXUSR7,SP70
            CALL      RDCODE1
            IF        OVRCD=0
              MOVE      TDESC,VARIABLE
            ENDIF
          ENDIF
          GOTO      PRFLB999
.
PRFC2076  PACK      VARIABLE,SP70                * PMI UDF 7 Long Description
          MATCH     SP70,PMPXUSR7
          IF        !@EQUAL
            MOVE      "P7",DIM2
            PACK      KEY5,DIM2,PMPXUSR7,SP70
            CALL      RDCODE1
            IF        OVRCD=0
              MOVE      PTCDLDES,VARIABLE
            ENDIF
          ENDIF
          GOTO      PRFLB999
.
PRFC2077  PACK      VARIABLE,PMPXUSR8,SP70       * PMI UDF 8 Code
          GOTO      PRFLB999
.
PRFC2078  PACK      VARIABLE,SP70                * PMI UDF 8 Short Description
          MATCH     SP70,PMPXUSR8
          IF        !@EQUAL
            MOVE      "P8",DIM2
            PACK      KEY5,DIM2,PMPXUSR8,SP70
            CALL      RDCODE1
            IF        OVRCD=0
              MOVE      TDESC,VARIABLE
            ENDIF
          ENDIF
          GOTO      PRFLB999
.
PRFC2079  PACK      VARIABLE,SP70                * PMI UDF 8 Long Description
          MATCH     SP70,PMPXUSR8
          IF        !@EQUAL
            MOVE      "P8",DIM2
            PACK      KEY5,DIM2,PMPXUSR8,SP70
            CALL      RDCODE1
            IF        OVRCD=0
              MOVE      PTCDLDES,VARIABLE
            ENDIF
          ENDIF
          GOTO      PRFLB999
.
PRFC2080  PACK      VARIABLE,PMPXUSR9,SP70       * PMI UDF 9 Code
          GOTO      PRFLB999
.
PRFC2081  PACK      VARIABLE,SP70                * PMI UDF 9 Short Description
          MATCH     SP70,PMPXUSR9
          IF        !@EQUAL
            MOVE      "P9",DIM2
            PACK      KEY5,DIM2,PMPXUSR9,SP70
            CALL      RDCODE1
            IF        OVRCD=0
              MOVE      TDESC,VARIABLE
            ENDIF
          ENDIF
          GOTO      PRFLB999
.
PRFC2082  PACK      VARIABLE,SP70                * PMI UDF 9 Long Description
          MATCH     SP70,PMPXUSR9
          IF        !@EQUAL
            MOVE      "P9",DIM2
            PACK      KEY5,DIM2,PMPXUSR9,SP70
            CALL      RDCODE1
            IF        OVRCD=0
              MOVE      PTCDLDES,VARIABLE
            ENDIF
          ENDIF
          GOTO      PRFLB999
.
PRFC2083  PACK      VARIABLE,PMPXSN21,SP70       * Email validation Flag
          GOTO      PRFLB999
.
PRFLB999  RETURN
.
.----------------------------------------------------------------------------
. Get patient alert for an UR - All Categories
.----------------------------------------------------------------------------
GEMCD000  MOVE      "005",DIM3
          PACK      KEY14,ADMISSNO,DIM3,SP70
          CALL      RSEMVCD1
GEMCD200  CALL      RKEMVCD1
          BRANCH    OVRCD,GEMCD999
.
          MATCH     ADMISSNO,EMVCVIST
          GOTO      GEMCD999 IF NOT EQUAL
.
          MATCH     DIM3,EMVCTYPE          * Emergency diagnosis ?
          GOTO      GEMCD999 IF NOT EQUAL
.
          MATCH     "000",EMVCSEQU          * Primary diagnosis
          GOTO      GEMCD200 IF NOT EQUAL
.
          BRANCH    FORM1,GEMCD310,GEMCD320,GEMCD330,GEMCD340,GEMCD350:
                          GEMCD360
.
          GOTO      GEMCD999         
.
GEMCD310  MOVE      EMVCCDAT,WRKDTE8
          CALL      CNVDTE00
          MOVE      WRKDTE10,VARIABLE
          GOTO      GEMCD999 
.
GEMCD320  MOVE      EMVCCTIM,VARIABLE
          GOTO      GEMCD999 
.
GEMCD330  MOVE      EMVCCUID,VARIABLE
          GOTO      GEMCD999 
.
GEMCD340  MOVE      EMVCLUDT,WRKDTE8
          CALL      CNVDTE00
          MOVE      WRKDTE10,VARIABLE
          GOTO      GEMCD999
.
GEMCD350  MOVE      EMVCLUTM,VARIABLE
          GOTO      GEMCD999
.
GEMCD360  MOVE      EMVCWUSR,VARIABLE
          GOTO      GEMCD999
.
GEMCD999  RETURN
.
.----------------------------------------------------------------------------
. Get patient alert for an UR - All Categories
.----------------------------------------------------------------------------
ALRALL00  PACK      KEY16,PURNO,SP70
          CALL      RSPTALR1
ALRALL20  CALL      RKPTALR1
          BRANCH    OVRCD,ALRALL99
.
          MATCH     PURNO,PTALURNO
          GOTO      ALRALL99 IF NOT EQUAL   * Patient not match
.
          PACK      KEY5,PTALCATG,PTALCODE
          CALL      RDCODE1
          BRANCH    OVRCD,ALRALL20          * Invalid alert code
.
          MATCH     ANSP,TCINDC3
          GOTO      ALRALL50 IF EQUAL       * Printable alert
.
          MATCH     ANSA,TCINDC3            * Check active alert
          GOTO      ALRALL20 IF NOT EQUAL
.
. Check active alert
.
          MATCH     SP70,PTALEDAT
          GOTO      ALRALL30 IF EQUAL        * no alert inactive date
.
          MATCH     PTALEDAT,CURRDATE
          GOTO      ALRALL20 IF NOT LESS     * alert end date passed ?
.
ALRALL30  MATCH     SP70,PTALDTIN
          GOTO      ALRALL50 IF EQUAL        * no alert inactive date
.
          MATCH     PTALDTIN,CURRDATE
          GOTO      ALRALL20 IF NOT LESS     * alert inactive date passed ?
.
ALRALL50  MOVE      TDESC,ALRTDESC
          CALL      PALRT000
.
          GOTO      ALRALL20
.
ALRALL99  RETURN
.
.----------------------------------------------------------------------------
. Get the patient alert for an UR - one category code
.----------------------------------------------------------------------------
ALRALC00  PACK      KEY16,PURNO,WORKCATG,SP70
          CALL      RSPTALR1
ALRALC20  CALL      RKPTALR1
          BRANCH    OVRCD,ALRALC99
.
          MATCH     PURNO,PTALURNO
          GOTO      ALRALC99 IF NOT EQUAL    * Patient not match
.
          MATCH     WORKCATG,PTALCATG
          GOTO      ALRALC99 IF NOT EQUAL    * Code not match
.
          PACK      KEY5,PTALCATG,PTALCODE
          CALL      RDCODE1
          BRANCH    OVRCD,ALRALC20           * Invalid alert code
.
          MATCH     ANSP,TCINDC3
          GOTO      ALRALC50 IF EQUAL        * Printable alert
.
          MATCH     ANSA,TCINDC3             * Check active alert
          GOTO      ALRALC20 IF NOT EQUAL
.
. Check active alert
.
          MATCH     SP70,PTALEDAT
          GOTO      ALRALC30 IF EQUAL        * no alert inactive date
.
          MATCH     PTALEDAT,CURRDATE
          GOTO      ALRALC20 IF NOT LESS     * alert end date passed ?
.
ALRALC30  MATCH     SP70,PTALDTIN
          GOTO      ALRALC50 IF EQUAL        * no alert inactive date
.
          MATCH     PTALDTIN,CURRDATE
          GOTO      ALRALC20 IF NOT LESS     * alert inactive date passed ?
.
ALRALC50  MOVE      TDESC,ALRTDESC
          CALL      PALRT000
.
          GOTO      ALRALC20
.
ALRALC99  RETURN
.
.----------------------------------------------------------------------------
. Print One alert code details - Multiple lines
.----------------------------------------------------------------------------
PALRT000  MOVE      PTALCATG,WORKVAR
          CALL      PALRTL00
.
          PACK      KEY5,PTALCATG,SP70
          CALL      RDCODE1
          IF        OVRCD=1
            MOVE      PTALCATG,TDESC
          ENDIF
          MOVE      TDESC,WORKVAR
          CALL      PALRTL10
.
          MOVE      ALRTDESC,WORKVAR
          CALL      PALRTL10
.
          MOVE      PTALRQBY,WORKVAR
          CALL      PALRTL10
.
          MOVE      SP70,DOCFNAME
          PACK      KEY10,PTALRQBY,SP70
          CALL      RDPMHCP1
          IF        OVRCD=0
            MOVE      PMHCTITL,FMTTITLE
            MOVE      PMHCGNAM,FMTGNAME
            MOVE      PMHCSNAM,FMTSNAME
            CALL      DOCNM000                   * formatted into DOCFNAME
          ELSE
            MOVE      PTALRQBY,DOCFNAME
          ENDIF
.
          MOVE      DOCFNAME,WORKVAR
          CALL      PALRTL10
.
PALRT200  MOVE      PTALDATE,WRKDTE8
          CALL      CNVDTE00
          MOVE      WRKDTE10,WORKVAR
          CALL      PALRTL10
.
          MOVE      PTALRDTE,WRKDTE8
          CALL      CNVDTE00
          MOVE      WRKDTE10,WORKVAR
          CALL      PALRTL10
.
          MOVE      PTALEDAT,WRKDTE8
          CALL      CNVDTE00
          MOVE      WRKDTE10,WORKVAR
          CALL      PALRTL10
.
          MOVE      PTALREAC,WORKVAR
          CALL      PALRTL10
.
          MOVE      SP70,TDESC
          MATCH     SP70,PTALREAC
          IF        !@EQUAL & !@EOS
            MOVE      "wn",KEY2
            PACK      KEY5,KEY2,PTALREAC,SP70
            CALL      RDCODE1
            IF        OVRCD=1
              MOVE      PTALREAC,TDESC
            ENDIF
          ENDIF
          MOVE      TDESC,WORKVAR
          CALL      PALRTL10
.
          MOVE      PTALRCOM,WORKVAR
          CALL      PALRTL10
.
          MOVE      PTALLSEV,WORKVAR
          CALL      PALRTL10
.
          MOVE      PTALUSID,WORKVAR
          CALL      PALRTL10
.
          MOVE      WBSEUID,SAVKEY10               * Save Web user id
          PACK      KEY10,PTALUSID,SP70
          CALL      RDWBSE1
          IF        OVRCD=1
            MOVE      PTALUSID,WBSENAM
          ENDIF
          MOVE      WBSENAM,WORKVAR
.
          PACK      KEY10,SAVKEY10,SP70            * read back websecaf
          CALL      RDWBSE1
.
          CALL      PALRTL10
.
          CALL      ALRNOT00
.
PALRT999  RETURN
.
.----------------------------------------------------------------------------
. Print first alert detail line. This prints the data at a current position
.----------------------------------------------------------------------------
PALRTL00  STRIP     WORKVAR
          MOVELPTR  WORKVAR,LENGTH
.
          COMPARE   LENGTH,ZERO
          IF        @EQUAL
            MOVE      ONE,LENGTH
          ENDIF
.
          RESET     WORKVAR,IBDTPLEN
          LENSET    WORKVAR
          RESET     WORKVAR
          PRINT     *IBDTCOL,*+,WORKVAR;
.
          PACK      WORKVAR,SP70,SP70
.
PALRTL09  RETURN
.
.----------------------------------------------------------------------------
. Print next alert detail line. This prints the data with a new line 
.----------------------------------------------------------------------------
PALRTL10  STRIP     WORKVAR
          MOVELPTR  WORKVAR,LENGTH
.
          COMPARE   LENGTH,ZERO
          IF        @EQUAL
            MOVE      ONE,LENGTH
          ENDIF
.
          SFORMAT   VAR,LENGTH
          MOVE      WORKVAR,VAR
          PRINT     *N,VAR;
          SFORMAT   VAR,70
.
          PACK      WORKVAR,SP70,SP70
.
PALRTL19  RETURN
.
.----------------------------------------------------------------------------
. Convert date 8 (ccyymmdd) to date 10 (dd/mm/ccyy)
.----------------------------------------------------------------------------
CNVDTE00  MOVE      SP70,WRKDTE10
          MATCH     SP70,WRKDTE8
          GOTO      CNVDTE99 IF EQUAL
.
          UNPACK    WRKDTE8,CCENT,CYEAR,CMON,CDAY
          PACK      WRKDTE10,CDAY,SLASH,CMON,SLASH,CCENT,CYEAR,SP70
.
CNVDTE99  RETURN
.
.----------------------------------------------------------------------------
. Print alert notes
.----------------------------------------------------------------------------
ALRNOT00  PACK      KEY19,PTALURNO,PTALCATG,PTALCODE,SP70
          CALL      RSPMALN1
ALRNOT20  CALL      RKPMALN1
          BRANCH    OVRCD,ALRNOT99
.
          MATCH     PTALURNO,PMANURNO          * same U/R Number?
          GOTO      ALRNOT99 IF NOT EQUAL
.
          MATCH     PTALCATG,PMANACAT
          GOTO      ALRNOT99 IF NOT EQUAL
.
          MATCH     PTALCODE,PMANACOD
          GOTO      ALRNOT99 IF NOT EQUAL
.
          MOVE      PMANCOMM,WORKVAR
          CALL      PALRTL00
.
          GOTO      ALRNOT20
.
ALRNOT99  RETURN
+
.------------------------------------------------------------
.  Referring Doctor Details (patdo1af)
.------------------------------------------------------------
REFDOC00  PACK      KEY8,ADMISSNO,SP70      * Referring Doctor Details
          CALL      RDEMVIS1
          BRANCH    OVRCD,REFDOC10
.
          PACK      KEY6,EMVIREFD,SP10
          CALL      RDDOCT1
REFDOC10  IF        OVRCD=1
            PACK      DTITL,SP70
            PACK      DGNAME,SP70
            PACK      DSNAME,SP70
          ENDIF
.
REFDOC99  RETURN
.
.----------------------------------------------------------------------------
. Setup the first 10 alias details into an array to be used in printing
.----------------------------------------------------------------------------
SETALI00  COMPARE   ONE,ALISREAD
          GOTO      SETALI99 IF EQUAL
.
          MOVE      ONE,ALISREAD
          MOVE      ZERO,F2
          MOVE      ZERO,CNTALIAS
.
          PACK      KEY115,EMVIURNO,SP70,SP70
          CALL      RSPTGSR1
SETALI20  CALL      RKPTGSR1
          BRANCH    OVRCD,SETALI99
.
          MATCH     EMVIURNO,GSRURNO
          GOTO      SETALI99 IF NOT EQUAL
.
          MATCH     GSRSNAM,PTMASNAM
          GOTO      SETALI50 IF NOT EQUAL
.
          MATCH     GSRGNAM,PMPXFNAM
          GOTO      SETALI50 IF NOT EQUAL
.
          MATCH     PTGSGNM2,PMPXSNAM
          GOTO      SETALI50 IF NOT EQUAL
.
          MATCH     GSRDOB,PBDATE
          GOTO      SETALI50 IF NOT EQUAL
.
          MATCH     GSRSEX,PSEX
          GOTO      SETALI50 IF NOT EQUAL
.
          GOTO      SETALI20
.
SETALI50  ADD       ONE,F2
.
          ADD       ONE,CNTALIAS
          MOVE      GSRGNAM,ARYALIAS[CNTALIAS]
          ADD       ONE,CNTALIAS
          MOVE      PTGSGNM2,ARYALIAS[CNTALIAS]
          ADD       ONE,CNTALIAS
          MOVE      GSRSNAM,ARYALIAS[CNTALIAS]
          ADD       ONE,CNTALIAS
          MOVE      GSRDOB,ARYALIAS[CNTALIAS]
          ADD       ONE,CNTALIAS
          MOVE      GSRSEX,ARYALIAS[CNTALIAS]
.
          IF        F2 = 10
            GOTO      SETALI99
          ENDIF
.
          GOTO      SETALI20
.
SETALI99  RETURN
+
.------------------------------------------------------------
.  Discharge Doctor Details (patdo1af)
.------------------------------------------------------------
DISDOC00  PACK      KEY8,ADMISSNO,SP70      * Discharge Doctor Details
          CALL      RDEMVIS1
          BRANCH    OVRCD,DISDOC10
.
          PACK      KEY6,EMVIUR02,SP10
          CALL      RDDOCT1
DISDOC10  IF        OVRCD=1
            PACK      DTITL,SP70
            PACK      DGNAME,SP70
            PACK      DSNAME,SP70
          ENDIF
.
DISDOC99  RETURN
+
.------------------------------------------------------------
.  Admitting Doctor Details (patdo1af)
.------------------------------------------------------------
ADMDOC00  PACK      KEY8,ADMISSNO,SP70      * Admitting Doctor Details
          CALL      RDEMVIS1
          BRANCH    OVRCD,ADMDOC10
.
          PACK      KEY6,EMVIUR01,SP10
          CALL      RDDOCT1
ADMDOC10  IF        OVRCD=1
            PACK      DTITL,SP70
            PACK      DGNAME,SP70
            PACK      DSNAME,SP70
          ENDIF
.
ADMDOC99  RETURN
+
.------------------------------------------------------------
.  First Seen By Doctor Details (patdo1af)
.------------------------------------------------------------
FSBDOC00  PACK      KEY22,ADMISSNO,SP70     * First Seen by Doctor Details
          CALL      RSEMHIS1
FSBDOC10  CALL      RKEMHIS1
          BRANCH    OVRCD,FSBDOC20
.
          MATCH     ADMISSNO,EMHIVIS
          GOTO      FSBDOC20 IF NOT EQUAL
.
          MATCH     SP70,EMHIDOC
          GOTO      FSBDOC10 IF EQUAL
.
          PACK      KEY6,EMHIDOC,SP70
          CALL      RDDOCT1
FSBDOC20  IF        OVRCD=1
            PACK      DTITL,SP70
            PACK      DGNAME,SP70
            PACK      DSNAME,SP70
          ENDIF
.
FSBDOC99  RETURN
+
.------------------------------------------------------------
.  Attending Doctor Details (patdo1af)
.------------------------------------------------------------
ATNDOC00  PACK      KEY8,ADMISSNO,SP70      * Attending Doctor Full Name
          CALL      RDEMVIS1
          BRANCH    OVRCD,ATNDOC10
.
          PACK      KEY6,EMVIDOCT,SP70
          CALL      RDDOCT1
ATNDOC10  IF        OVRCD=1
            PACK      DTITL,SP70
            PACK      DGNAME,SP70
            PACK      DSNAME,SP70
          ENDIF
.
ATNDOC99  RETURN
+
.------------------------------------------------------------------------------
.         Advice to Patient Text Line (1-100) - Type 016
.
.         Parameters:
.           FORM3 - Line Number (1-100)
.------------------------------------------------------------------------------
ATPTLN00  MOVE      ZERO,NUM3
.
ATPTLN10  MOVE      "016",KEY3              * Try 'Final' Discharge Text first
          PACK      KEY17,DEMVIADM,KEY3,SP70
          CALL      RSVSMDT1
ATPTLN11  CALL      RKVSMDT1
          BRANCH    OVRCD,ATPTLN99
.
          MATCH     DEMVIADM,VSMDVISN       * Same Visit Number?
          GOTO      ATPTLN99 IF NOT EQUAL
.
          MATCH     KEY3,VSMDTYPE           * Same Comment Type?
          GOTO      ATPTLN99 IF NOT EQUAL
.
          MATCH     "1",VSMDDELT            * Deleted?
          GOTO      ATPTLN11 IF EQUAL
.
.
.         Now get the Visit Notes Free Text line
.
ATPTLN20  PACK      KEY20,VSMDVISN,VSMDTYPE,VSMDNOTE,SP70
          CALL      RSVSMTX1
ATPTLN21  CALL      RKVSMTX1
          BRANCH    OVRCD,ATPTLN99
.
          MATCH     VSMDVISN,VSMTVISN
          GOTO      ATPTLN99 IF NOT EQUAL
.
          MATCH     VSMDTYPE,VSMTTYPE
          GOTO      ATPTLN99 IF NOT EQUAL
.
          MATCH     VSMDNOTE,VSMTNOTE
          GOTO      ATPTLN99 IF NOT EQUAL
.
          ADD       ONE,NUM3
          COMPARE   FORM3,NUM3
          GOTO      ATPTLN21 IF NOT EQUAL

          MOVE      VSMTCMNT,VARIABLE
.
ATPTLN99  RETURN
+
.------------------------------------------------------------------------------
.         Advice to Patient (all lines) - Type 016 (lines 1-999)
.------------------------------------------------------------------------------
ATPTXT00  MOVE      ZERO,NUM3               * Current line number
          MOVE      "1000",FORM4
.
ATPTXT10  MOVE      "016",KEY3              * Try 'Final' Discharge Text first
          PACK      KEY17,DEMVIADM,KEY3,SP70
          CALL      RSVSMDT1
ATPTXT11  CALL      RKVSMDT1
          BRANCH    OVRCD,ATPTXT99
.
          MATCH     DEMVIADM,VSMDVISN       * Same Visit Number?
          GOTO      ATPTXT99 IF NOT EQUAL
.
          MATCH     KEY3,VSMDTYPE           * Same Comment Type?
          GOTO      ATPTXT99 IF NOT EQUAL
.
          MATCH     "1",VSMDDELT            * Deleted?
          GOTO      ATPTXT11 IF EQUAL
.
.
.         Now get the Visit Notes Free Text lines (1-999)
.
ATPTXT20  PACK      KEY20,VSMDVISN,VSMDTYPE,VSMDNOTE,SP70
          CALL      RSVSMTX1
ATPTXT21  CALL      RKVSMTX1
          BRANCH    OVRCD,ATPTXT99
.
          MATCH     VSMDVISN,VSMTVISN
          GOTO      ATPTXT99 IF NOT EQUAL
.
          MATCH     VSMDTYPE,VSMTTYPE
          GOTO      ATPTXT99 IF NOT EQUAL
.
          MATCH     VSMDNOTE,VSMTNOTE
          GOTO      ATPTXT99 IF NOT EQUAL
.
          ADD       ONE,NUM3
.
          COMPARE   FORM4,NUM3
          GOTO      ATPTXT99 IF NOT LESS
.
          STRIP     VSMTCMNT
          MOVELPTR  VSMTCMNT,LENGTH
.
          SFORMAT   VAR,LENGTH
          MOVE      VSMTCMNT,VAR
          PRINT     VAR,*N;
          SFORMAT   VAR,127
.
          GOTO      ATPTXT21
.
ATPTXT99  RETURN
+
.------------------------------------------------------------
.  Doctor Name/s routine (patdo1af)
.
.------------------------------------------------------------
DOCNAM00  UNPACK    SP70,DTITL,DGNAME,DSNAME
          UNPACK    SP70,DFNAME
          MATCH     SP6,KEY6
          GOTO      DOCNAM99 IF EQUAL
.
          CALL      RDDOCT1                  * read the doctors file
          IF        OVRCD = 1
            MOVE      "Unknown Doctor",DFNAME 
            GOTO      DOCNAM99 
          ENDIF
.
          STRIP     DTITL
          STRIP     DGNAME
          STRIP     DSNAME
          PACK      DFNAME,DTITL,SP1,DGNAME,SP1,DSNAME,SP70
          STRIP     DFNAME
.
          RESET     DTITL
          RESET     DGNAME
          RESET     DSNAME
.
DOCNAM99  RETURN
.------------------------------------------------------------
.  Attending Doctor Details (patdo1af)
.
.------------------------------------------------------------
ATTDOC00  PACK      KEY8,EMVIPADM,SP70
          CALL      RDMISS1
          BRANCH    OVRCD,ATTDOC10
.
          PACK      KEY6,ADOCTA,SP70
          CALL      RDDOCT1
ATTDOC10  IF        OVRCD=1
            PACK      DTITL,SP70
            PACK      DGNAME,SP70
            PACK      DSNAME,SP70
          ENDIF
.
ATTDOC99  RETURN
.------------------------------------------------------------
.  HCP Details (pmi based) PMPXRHC1
.  Parameters: F2 (PMSHCP variable)
.------------------------------------------------------------
PRHCP000  PACK      KEY10,PMPXRHC1,SP70
          CALL      RDPMHCP1
          BRANCH    OVRCD,PRHCP999
.
          BRANCH    F2,PRHCP010,PRHCP020,PRHCP030,PRHCP040,PRHCP050
.
          GOTO      PRHCP999
.
PRHCP010  MOVE      PMHCMOBN,VARIABLE
          GOTO      PRHCP999
.
PRHCP020  MOVE      PMHCPAGR,VARIABLE
          GOTO      PRHCP999
.
PRHCP030  MOVE      PMHCPAGN,VARIABLE
          GOTO      PRHCP999
.
PRHCP040  MOVE      PMHCPRV1,VARIABLE
          GOTO      PRHCP999
.
PRHCP050  MOVE      PMHCSNAM,PACSNAME
          MOVE      PMHCGNAM,PACGNAME
          MOVE      PMHCTITL,PACTITLE
          MOVE      ONE,PACFRMT
          CALL      PACNAME
          MOVE      PACFNAME,VARIABLE
          GOTO      PRHCP999 
.
PRHCP999  RETURN
+
.------------------------------------------------------------
.  HCP Practice Details (pmi based) PMPXRH1G
.  Parameters: F2 (PMSHCG variable)
.------------------------------------------------------------
PRHCG000  PACK      KEY10,PMPXRH1G,SP70
          PACK      KEY12,KEY10,PMPXR1GC,SP70
          CALL      RDPMHCG1
          BRANCH    OVRCD,PRHCG999
.
          BRANCH    F2,PRHCG010,PRHCG020,PRHCG030,PRHCG040,PRHCG050:
                       PRHCG060,PRHCG070,PRHCG080,PRHCG090,PRHCG100:
                       PRHCG110,PRHCG120,PRHCG130
.
          GOTO      PRHCG9999
.
PRHCG010  MOVE      PMHGPRAC,VARIABLE
          GOTO      PRHCG999
.
PRHCG020  MOVE      PMHGPNAM,VARIABLE
          GOTO      PRHCG999
.
PRHCG030  MOVE      PMHGADD1,VARIABLE
          GOTO      PRHCG999
.
PRHCG040  MOVE      PMHGADD2,VARIABLE
          GOTO      PRHCG999
.
PRHCG050  MOVE      PMHGADD3,VARIABLE
          GOTO      PRHCG999
.
PRHCG060  MOVE      PMHGADD4,VARIABLE
          GOTO      PRHCG999
.
PRHCG070  MOVE      PMHGADD5,VARIABLE
          GOTO      PRHCG999
.
PRHCG080  MOVE      PMHGADD6,VARIABLE
          GOTO      PRHCG999
.
PRHCG090  MOVE      PMHGPTEL,VARIABLE
          GOTO      PRHCG999
.
PRHCG100  MOVE      PMHGPFAX,VARIABLE
          GOTO      PRHCG999
.
PRHCG110  MOVE      PMHGPPNO,VARIABLE
          GOTO      PRHCG999
.
PRHCG120  MOVE      PMHGSTAT,VARIABLE
          GOTO      PRHCG999
.
PRHCG130  MOVE      PMHGPOST,VARIABLE
          GOTO      PRHCG999
.
PRHCG999  RETURN
+
.------------------------------------------------------------
.  Format First Seen Nure/Doctor Subroutine
.  Parameters: DIM5 (Nurse/Doctor)                                     *I-54309
.------------------------------------------------------------
PRFSE000  PACK      VARIABLE,SP30,SP30,SP30,SP7
.
          PACK      KEY22,EMVIADMN,SP70
          CALL      RSEMHIS1
PRFSE010  CALL      RKEMHIS1
          BRANCH    OVRCD,PRFSE999
.
          MATCH     DEMVIADM,EMHIVIS
          GOTO      PRFSE999 IF NOT EQUAL
.
          MATCH     DIM5,EMHIUPT
          GOTO      PRFSE010 IF NOT EQUAL
.
          MATCH     "ALNUR",DIM5
          IF        @EQUAL
            MATCH     SP10,EMHINUR
            GOTO      PRFSE999 IF EQUAL
.
            MOVE      EMHINUR,KEY6
            CALL      RDOPNUR1
            BRANCH    OVRCD,PRFSE999
.
            STRIP     OPNRGNAM
            STRIP     OPNRSNAM
            PACK      VARIABLE,OPNRGNAM,SP1,OPNRSNAM
            RESET     OPNRGNAM
            RESET     OPNRSNAM
          ELSE
            MATCH     SP10,EMHIDOC
            GOTO      PRFSE999 IF EQUAL
.
            MOVE      EMHIDOC,KEY6
            CALL      RDDOCT1
            BRANCH    OVRCD,PRFSE999
.
            STRIP     DTITL
            STRIP     DGNAME
            STRIP     DSNAME
            PACK      VARIABLE,DTITL,SP1,DGNAME,SP1,DSNAME
            RESET     DTITL
            RESET     DGNAME
            RESET     DSNAME
          ENDIF
.
PRFSE999  RETURN
+
.------------------------------------------------------------
.  Format Diagnosis Codes Subroutine                                   *I-54627
.  Parameter: FORM1 (Line Number) FORM1B (Code/Description)
.------------------------------------------------------------
PRDIA000  MOVE      ZERO,FORM1A
          PACK      KEY14,EMVIADMN,ZERO,ZERO,FIVE,SP70
          CALL      RSEMVCD1
PRDIA100  CALL      RKEMVCD1
          BRANCH    OVRCD,PRDIA800
.
          MATCH     DEMVIADM,EMVCVIST
          GOTO      PRDIA800 IF NOT EQUAL
.
          MATCH     "005",EMVCTYPE
          GOTO      PRDIA800 IF NOT EQUAL
.
          ADD       ONE,FORM1A
          COMPARE   FORM1,FORM1A
          GOTO      PRDIA100 IF NOT EQUAL
.
          GOTO      PRDIA900
.
PRDIA800  MOVE      SP10,VARIABLE
          GOTO      PRDIA999
.
PRDIA900  COMPARE   ZERO,FORM1B
          IF        @EQUAL
            CALL      LOKCOD00 
            MOVE      CODEDESC,VARIABLE
          ELSE
            MOVE      EMVCMNCD,VARIABLE
          ENDIF
.
          GOTO      PRDIA999
.
PRDIA999  RETURN
+
.------------------------------------------------------------
.  Format Observations Subroutine                                      *I-54627
.  Parameters: FORM1 (Line Number) FORM2 (Type of Variable) DIM3 (Type of Obser)
.------------------------------------------------------------
PROBS000  MOVE      ZERO,FORM1A
          PACK      KEY24,DEMVIADM,Z70
          CALL      RSOBDE1
PROBS100  CALL      RPOBDE1
          BRANCH    OVRCD,PROBS400
.
          MATCH     DEMVIADM,OBDEVIST
          GOTO      PROBS400 IF NOT EQUAL
.
          MATCH     OBDETYP,DIM3                                       *I-59548
          GOTO      PROBS100 IF NOT EQUAL
.
          ADD       ONE,FORM1A
          COMPARE   FORM1,FORM1A
          GOTO      PROBS100 IF NOT EQUAL
.
          GOTO      PROBS500
.
PROBS400  MOVE      SP4,VARIABLE
          GOTO      PROBS999
.
PROBS500  BRANCH    FORM2,PROBS510,PROBS520,PROBS530,PROBS540,PROBS550:
                          PROBS560,PROBS570,PROBS580,PROBS590,PROBS600:
                          PROBS610,PROBS620,PROBS630,PROBS640,PROBS650:
                          PROBS660,PROBS670,PROBS680,PROBS690,PROBS700:
                          PROBS710,PROBS720,PROBS730,PROBS740,PROBS750:
                          PROBS760,PROBS770,PROBS780,PROBS790,PROBS800:
                          PROBS810,PROBS820,PROBS830,PROBS840,PROBS850:*I-59548
                          PROBS860,PROBS870,PROBS880
.
PROBS510  MOVE      OBDETIME,VARIABLE
          GOTO      PROBS999
.
PROBS520  MOVE      OBDETEMP,VARIABLE
          GOTO      PROBS999
.
PROBS530  MOVE      OBDEPULS,VARIABLE
          GOTO      PROBS999
.
PROBS540  MOVE      OBDERESP,VARIABLE
          GOTO      PROBS999
.
PROBS550  MOVE      OBDEBPSY,VARIABLE
          GOTO      PROBS999
.
PROBS560  MOVE      OBDEBPDI,VARIABLE
          GOTO      PROBS999
.
PROBS570  MOVE      OBDEPOX,VARIABLE
          GOTO      PROBS999
.
PROBS580  MOVE      OBDEO2F,VARIABLE
          GOTO      PROBS999
.
PROBS590  MOVE      OBDEPFL,VARIABLE
          GOTO      PROBS999
.
PROBS600  MOVE      OBDEPNSC,VARIABLE
          GOTO      PROBS999
.
PROBS610  MOVE      OBDEUN1,VARIABLE                                   *I-55217
          GOTO      PROBS999
.
PROBS620  UNPACK    OBDEDATE,CCENT,CYEAR,CMON,CDAY                     *I-55217
          PACK      VARIABLE,CDAY,SLASH,CMON,SLASH,CCENT,CYEAR
          GOTO      PROBS999
.
PROBS630  MOVE      ZERO,F2                                            *I-55217
          MOVE      ZERO,F1
          MOVE      OBDEEYEO,F1
          ADD       F1,F2
          MOVE      ZERO,F1
          MOVE      OBDEVERB,F1
          ADD       F1,F2
          MOVE      ZERO,F1
          MOVE      OBDEMOTO,F1
          ADD       F1,F2
          MOVE      F2,VARIABLE
          GOTO      PROBS999
.
PROBS640  MOVE      OBDEPSL,VARIABLE                                   *I-59548
          GOTO      PROBS999
.
PROBS650  MOVE      OBDEPSR,VARIABLE                                   *I-59548
          GOTO      PROBS999
.
PROBS660  MOVE      OBDEPRL,VARIABLE                                   *I-59548
          GOTO      PROBS999
.
PROBS670  MOVE      OBDEPRR,VARIABLE                                   *I-59548
          GOTO      PROBS999
.
PROBS680  MOVE      OBDELMLA,VARIABLE                                  *I-59548
          GOTO      PROBS999
.
PROBS690  MOVE      OBDELMRM,VARIABLE                                  *I-59548
          GOTO      PROBS999
.
PROBS700  MOVE      OBDELMLL,VARIABLE                                  *I-59548
          GOTO      PROBS999
.
PROBS710  MOVE      OBDELMRL,VARIABLE                                  *I-59548
          GOTO      PROBS999
.
PROBS720  MOVE      SP20,TDESC                                         *I-59548
          MATCH     SP3,OBDEACT
          GOTO      PROBS725 IF EQUAL
.
          PACK      KEY5,CATWS,OBDEACT
          CALL      RDCODE1
          BRANCH    OVRCD OF PROBS725
.
PROBS725  MOVE      TDESC,VARIABLE                                     *I-59548
          GOTO      PROBS999
.
PROBS730  MOVE      OBDECOM1,VARIABLE                                  *I-59548
          GOTO      PROBS999
.
PROBS740  MOVE      OBDECOM2,VARIABLE                                  *I-59548
          GOTO      PROBS999
.
PROBS750  MOVE      OBDECOM3,VARIABLE                                  *I-59548
          GOTO      PROBS999
.
PROBS760  MOVE      OBDEACT,VARIABLE                                   *I-59548
          GOTO      PROBS999
.
PROBS770  MOVE      OBDEFIC,VARIABLE                                   *I-59548
          GOTO      PROBS999
.
PROBS780  MOVE      SP20,TDESC                                         *I-59548
          MATCH     SP3,OBDEFIC
          GOTO      PROBS785 IF EQUAL
.
          PACK      KEY5,CATWR,OBDEFIC
          CALL      RDCODE1
          BRANCH    OVRCD OF PROBS785
.
PROBS785  MOVE      TDESC,VARIABLE                                    *I-59548
          GOTO      PROBS999
.
PROBS790  MOVE      OBDEFIN,VARIABLE                                  *I-59548
          GOTO      PROBS999
.
PROBS800  MOVE      OBDEFOC,VARIABLE                                  *I-59548
          GOTO      PROBS999
.
PROBS810  MOVE      SP20,TDESC                                        *I-59548
          MATCH     SP3,OBDEFOC
          GOTO      PROBS815 IF EQUAL
.
          PACK      KEY5,CATWQ,OBDEFOC
          CALL      RDCODE1
          BRANCH    OVRCD OF PROBS815
.
PROBS815  MOVE      TDESC,VARIABLE                                    *I-59548
          GOTO      PROBS999
.
PROBS820  MOVE      OBDEFOT,VARIABLE                                  *I-59548
          GOTO      PROBS999
.
PROBS830  MOVE      OBDECVPS,VARIABLE 
          GOTO      PROBS999
.
PROBS840  MOVE      OBDEUC1,VARIABLE 
          GOTO      PROBS999
.
PROBS850  MOVE      SP20,TDESC    
          MATCH     SP3,OBDEUC1
          GOTO      PROBS855 IF EQUAL
.
          PACK      KEY5,CATWT,OBDEUC1
          CALL      RDCODE1
          BRANCH    OVRCD OF PROBS855
.
PROBS855  MOVE      TDESC,VARIABLE 
          GOTO      PROBS999
.
PROBS860  MATCH     "0",OBDEUY1
          IF        @EQUAL
            MOVE      "No",VARIABLE
            GOTO      PROBS999
          ENDIF
.
          MATCH     "1",OBDEUY1
          IF        @EQUAL
            MOVE      "Yes",VARIABLE
            GOTO      PROBS999
          ENDIF
.
          MATCH     "2",OBDEUY1
          IF        @EQUAL
            MOVE      "N/A",VARIABLE
            GOTO      PROBS999
          ENDIF
.
          GOTO      PROBS999
.
PROBS870  MOVE      OBDEUC2,VARIABLE
          GOTO      PROBS999
.
PROBS880  MOVE      SP20,TDESC
          MATCH     SP3,OBDEUC2
          GOTO      PROBS885 IF EQUAL
.
          PACK      KEY5,CATWU,OBDEUC2
          CALL      RDCODE1
          BRANCH    OVRCD OF PROBS885
.
PROBS885  MOVE      TDESC,VARIABLE
          GOTO      PROBS999
.
PROBS999  RETURN
+
.------------------------------------------------------------
.  Format Alert Description Subroutine                                 *I-54627
.  Parameter: FORM1 (Line Number) DIM2 (Highlight Category)
.------------------------------------------------------------
PRALR000  MOVE      SP20,TDESC
          MOVE      ZERO,FORM1A
.
          MATCH     "       0",EMVIURNO
          IF        @EQUAL
            PACK      KEY16,EMVIADMN,DIM2,SP70
            CALL      RSPTALT1
          ELSE
            PACK      KEY16,EMVIURNO,DIM2,SP70                         *C-55214
            CALL      RSPTALR1
          ENDIF
.
PRALR100  MATCH     "       0",EMVIURNO
          IF        @EQUAL
            CALL      RKPTALT1
            BRANCH    OVRCD,PRALR900
.
            MATCH     DEMVIADM,PTALURNO
            GOTO      PRALR900 IF NOT EQUAL
          ELSE
            CALL      RKPTALR1
            BRANCH    OVRCD,PRALR900
.
            MATCH     EMVIURNO,PTALURNO
            GOTO      PRALR900 IF NOT EQUAL
          ENDIF
.
          MATCH     DIM2,PTALCATG                                      *C-55214
          GOTO      PRALR900 IF NOT EQUAL
.
          ADD       ONE,FORM1A
          COMPARE   FORM1,FORM1A
          GOTO      PRALR100 IF NOT EQUAL
.
          COMPARE   SIX,FORM1
          IF        @EQUAL
            MOVE      "***",TDESC
          ELSE
            MATCH     SP3,PTALCODE
            GOTO      PRALR900 IF EQUAL
            PACK      KEY5,DIM2,PTALCODE                               *C-55214
            CALL      RDCODE1
            BRANCH    OVRCD,PRALR900
          ENDIF
.
PRALR900  MOVE      TDESC,VARIABLE
          GOTO      PRALR999
.
PRALR999  RETURN
+
.------------------------------------------------------------
.  Format Alert Codes Subroutine                                     *I-54627
.  Parameter: Form1 (Line Number) DIM2 (Highlight Category)
.------------------------------------------------------------
PRALT000  MOVE      ZERO,FORM1A
.
          MATCH     "       0",EMVIURNO
          IF        @EQUAL
            PACK      KEY16,EMVIADMN,DIM2,SP70
            CALL      RSPTALT1
          ELSE
            PACK      KEY16,EMVIURNO,DIM2,SP70
            CALL      RSPTALR1
          ENDIF
.
PRALT100  MATCH     "       0",EMVIURNO
          IF        @EQUAL
            CALL      RKPTALT1
            BRANCH    OVRCD,PRALT800
.
            MATCH     DEMVIADM,PTALURNO
            GOTO      PRALT800 IF NOT EQUAL
          ELSE
            CALL      RKPTALR1
            BRANCH    OVRCD,PRALT800
.
            MATCH     EMVIURNO,PTALURNO
            GOTO      PRALT800 IF NOT EQUAL
          ENDIF
.
          MATCH     DIM2,PTALCATG
          GOTO      PRALT800 IF NOT EQUAL
.
          ADD       ONE,FORM1A
          COMPARE   FORM1,FORM1A
          GOTO      PRALT100 IF NOT EQUAL
.
          GOTO      PRALT900
.
PRALT800  MOVE      SP3,VARIABLE
          GOTO      PRALT999
.
PRALT900  MOVE      PTALCODE,VARIABLE
          GOTO      PRALT999
.
PRALT999  RETURN
+
.------------------------------------------------------------
.  Format Procedures Subroutine                                        *I-50421
.  Parameter: DIM3 (Line Number)
.------------------------------------------------------------
PRPRO000  PACK      KEY14,EMVIADMN,ZERO,ZERO,FOUR,DIM3,SP70
          CALL      RDEMVCD1
          BRANCH    OVRCD,PRPRO999
.
          MATCH     "1",EMVCDELE
          GOTO      PRPRO999 IF EQUAL
.
          MOVE      "0",EXIT
          CALL      LOKCOD00                * Lookup Code to get description
          BRANCH    EXIT,PRPRO999
          MOVE      CODEDESC,VARIABLE
.
PRPRO999  RETURN
.------------------------------------------------------------
.  Lookup Code to get description                                      *I-50421
.------------------------------------------------------------
LOKCOD00  BRANCH    EMVCCSYS,LOKCOD10,LOKCOD20,LOKCOD30,LOKCOD40,LOKCOD50:
                             LOKCOD60
.
.   User Defined
.
          GOTO      LOKCOD99
.
LOKCOD10  PACK      KEY9,EMVCMNCD,SP70
          CALL      RDICD1
          IF        OVRCD=1
            MOVE      "Invalid Diagnoses",CODEDESC
            GOTO      LOKCOD99
          ENDIF
.
          MOVE      DDESC,CODEDESC
          GOTO      LOKCOD99
.
LOKCOD20  PACK      KEY9,EMVCMNCD,SP70
          CALL      RDICO1
          IF        OVRCD=1
            MOVE      "Invalid Procedure",CODEDESC
            GOTO      LOKCOD99
          ENDIF
.
          MOVE      ODESC,CODEDESC
          GOTO      LOKCOD99
.
LOKCOD30  PACK      KEY17,EMVCMNCD,EMVCDATE,SP70
          CALL      PATITMRD
          IF        OVRCD=1
            MOVE      "Invalid MBS",CODEDESC
            GOTO      LOKCOD99
          ENDIF
.
          MOVE      IDESC,CODEDESC
          GOTO      LOKCOD99
.
LOKCOD40  PACK      KEY9,EMVCMNCD,SP70
          CALL      RDEMPRO1
          IF        OVRCD=1
            MOVE      "Invalid Procedure",CODEDESC
            GOTO      LOKCOD99
          ENDIF
.
          MOVE      EMPRDESC,CODEDESC
          GOTO      LOKCOD99
.
LOKCOD50  PACK      KEY9,EMVCMNCD,SP70
          CALL      RDEMICD1
          IF        OVRCD=1
            MOVE      "Invalid Diagnosis",CODEDESC
            GOTO      LOKCOD99
          ENDIF
.
          MOVE      EMICDESC,CODEDESC
          GOTO      LOKCOD99
.
LOKCOD60  MOVE      "Invalid Procedure",CODEDESC
          MOVE      EMVCMNCD,DIM9
          PACK      KEY22,SP1,ZERO,DIM9,EMVCSUBN,Z70
          DISPLAY   *P1:20,*EL,KEY22;
          CALL      RSPRIT1
          CALL      RPPRIT1
          BRANCH    OVRCD,LOKCOD99
.         
          MATCH     " 0",DPRITFLG
          DISPLAY   *P1:21,*EL,DPRITFLG;
          GOTO      LOKCOD99 IF NOT EQUAL
.         
          DISPLAY   *P1:22,*EL,DIM9," ",PRITITMN;
          MATCH     DIM9,PRITITMN
          GOTO      LOKCOD99 IF NOT EQUAL
.         
          DISPLAY   *P1:23,*EL,EMVCSUBN," ",PRITSUBN;
          MATCH     EMVCSUBN,PRITSUBN
          GOTO      LOKCOD99 IF NOT EQUAL
.         
          MOVE      PRITDESC,CODEDESC
          GOTO      LOKCOD99
.
.
LOKCOD99  RETURN
.
. ------- Format Med His Notes Subroutine (for lines 1-100 )----    *I-50421
. ------- Parameters: FORM3A (Line Number)                  ----
.
PRMHL000  MOVE      ZERO,FORM3
          MOVE      EMVIURNO,OBMDURNO
          PACK      KEY14,OBMDURNO,Z70
          CALL      RSOBMDT1
PRMHL100  CALL      RPOBMDT1
          BRANCH    OVRCD,DISPNT99
          MATCH     EMVIURNO,OBMDURNO
          GOTO      PRMHL999 IF NOT EQUAL
          MATCH     "1",OBMDDELT
          GOTO      PRMHL100 IF EQUAL
.
          ADD       ONE,FORM3
          COMPARE   FORM3A,FORM3
          GOTO      PRMHL150 IF NOT EQUAL
.
          MATCH     SP70,OBMDDATE
          IF        !@EQUAL
            UNPACK    OBMDDATE,CCENT,CYEAR,CMON,CDAY
            MOVE      CMON,F2
            LOAD      MTHNAM3,F2,JAN,FEB,MAR,APR,MAY,JUN,JUL,AUG,SEP,OCT,NOV,DEC
            PACK      TEMPDATE,CDAY,SP1,MTHNAM3,SP1,CCENT,CYEAR
          ENDIF
.
          CLEAR     VARIABLE
          APPEND    TEMPDATE,VARIABLE
          APPEND    "  ",VARIABLE
          APPEND    OBMDTIME,VARIABLE
          APPEND    "  ",VARIABLE
          APPEND    OBMDUSER,VARIABLE
          APPEND    "  ",VARIABLE
          APPEND    OBMDOCCG,VARIABLE
          RESET     VARIABLE
.
          GOTO      PRMHL999
.
PRMHL150  PACK      KEY17,EMVIURNO,OBMDNOTE,SP70
          CALL      RSOBMTX1
PRMHL200  CALL      RKOBMTX1
          BRANCH    OVRCD,PRMHL100
          MATCH     OBMTURNO,OBMDURNO
          GOTO      PRMHL100 IF NOT EQUAL
          MATCH     OBMTNOTE,OBMDNOTE
          GOTO      PRMHL100 IF NOT EQUAL
          ADD       ONE,FORM3
          COMPARE   FORM3A,FORM3
          GOTO      PRMHL200 IF NOT EQUAL
          MOVE      OBMTCMNT,VARIABLE
.
          GOTO      PRMHL999
.
PRMHL999 RETURN
.
.------------------------------------------------------------
. Output Comments to HTMLFILE from vismdtaf and viscmtaf
. INPUTS : Note Type KEY3 = 001 - Clinical Note
.                    KEY3 = 002 - Management Note
.          Line Number = FORM3
.------------------------------------------------------------
PRCOM000   MOVE      ZERO,FORM4
.
           PACK      KEY17,DEMVIADM,KEY3,Z70
           CALL      RSVSMDT1
PRCOM100   CALL      RPVSMDT1
           BRANCH    OVRCD,PRCOM9999
.
           MATCH     DEMVIADM,VSMDVISN
           GOTO      PRCOM999 IF NOT EQUAL
.
           MATCH     KEY3,VSMDTYPE
           GOTO      PRCOM999 IF NOT EQUAL
.
           MATCH     "1",VSMDDELT                * deleted
           GOTO      PRCOM100 IF EQUAL
.
           PACK      KEY20,VSMDVISN,VSMDTYPE,VSMDNOTE
           CALL      RSVSMTX1
PRCOM300   CALL      RKVSMTX1
           BRANCH    OVRCD,PRCOM100
.
           MATCH     VSMDVISN,VSMTVISN
           GOTO      PRCOM100 IF NOT EQUAL
.
           MATCH     VSMDTYPE,VSMTTYPE
           GOTO      PRCOM100 IF NOT EQUAL
.
           MATCH     VSMDNOTE,VSMTNOTE
           GOTO      PRCOM100 IF NOT EQUAL
.
           ADD       ONE,FORM4
.
           COMPARE   FORM4,FORM3
           GOTO      PRCOM300 IF NOT EQUAL
.
           MOVE      VSMTCMNT,VARIABLE
           GOTO      PRCOM300
.
PRCOM999   RETURN
.------------------------------------------------------------
. Output Comments to HTMLFILE
.------------------------------------------------------------
PRVCM000   PACK      KEY14,EMVIADMN,ZERO,ZERO,TWO,DIM3,SP70
           CALL      RDVSCMT1
           BRANCH    OVRCD,PRVCM999
.
           MOVE      VSCTDATA,VARIABLE
.
PRVCM999   RETURN
.**********************************************************************
.*                             CASE0000                      *I-60700 *
.*  Routine to convert all except first character of each word to     *
.*        lower case                                                  *
.**********************************************************************
CASE0000  MOVE      ONE,FIRSTCH
          RESET     LINE60
.
CASE1000  CMATCH    SP1,LINE60
          GOTO      CASE5000 IF EQUAL            * match char to space
          BRANCH    FIRSTCH,CASE2000
          MOVE      LINE60,ANS
          RESET     UPPLOW
          SCAN      ANS,UPPLOW                   * test to see if char is
          GOTO      CASE1100 IF EQUAL            *   a letter
          MOVE      ONE,FIRSTCH
          GOTO      CASE3000                     * any char but a letter
          *         found
.
CASE1100  OR        040,LINE60                     * actual conversion to
          RESET     UPPLOW
          *         lower case (believe it
          *         or not!)
.
CASE2000  MOVE      ZERO,FIRSTCH                 * not on first char any
.                                                   *   more
CASE3000  BUMP      LINE60
          GOTO      CASE1000 IF NOT EOS          * move to next char
          RESET     LINE60                         * end of line reached
          GOTO      CASE9999
.
CASE5000  MOVE      ONE,FIRSTCH                  * first char was a space
          GOTO      CASE3000
.
CASE9999  RETURN
.------------------------------------------------------------
.  Format Alert Comments Subroutine
.  Parameter: Form1 (Line Number) DIM2 (Highlight Category) DIM3 (Com line no)
.------------------------------------------------------------
PRALC000  MOVE      ZERO,FORM1A
.
          MATCH     "       0",EMVIURNO
          IF        @EQUAL
            PACK      KEY16,EMVIADMN,DIM2,SP70
            CALL      RSPTALT1
          ELSE
            PACK      KEY16,EMVIURNO,DIM2,SP70
            CALL      RSPTALR1
          ENDIF
.
PRALC100  MATCH     "       0",EMVIURNO
          IF        @EQUAL
            CALL      RKPTALT1
            BRANCH    OVRCD,PRALC800
.
            MATCH     DEMVIADM,PTALURNO
            GOTO      PRALC800 IF NOT EQUAL
          ELSE
            CALL      RKPTALR1
            BRANCH    OVRCD,PRALC800
.
            MATCH     EMVIURNO,PTALURNO
            GOTO      PRALC800 IF NOT EQUAL
          ENDIF
.
          MATCH     DIM2,PTALCATG
          GOTO      PRALC800 IF NOT EQUAL
.
          ADD       ONE,FORM1A
          COMPARE   FORM1,FORM1A
          GOTO      PRALC100 IF NOT EQUAL
.
          GOTO      PRALC900
.
PRALC800  MOVE      SP70,VARIABLE
          GOTO      PRALC999
.
PRALC900  PACK      KEY19,PTALURNO,PTALCATG,PTALCODE,PTALCNTR,DIM3,SP70
          CALL      RDPMALN1
          IF        OVRCD=ONE
            MOVE      SP70,VARIABLE
            GOTO      PRALC999
          ENDIF
.
          MOVE      PMANCOMM,VARIABLE
.          
          GOTO      PRALC999
.
PRALC999  RETURN
+
.--------------------------------------------------------------------
. Get concession card details
. DIM1 = 1 - Concession Card
.        2 - Safety Net Card
.        3 - DVA Card
.        4 - Pension Card
.--------------------------------------------------------------------
GCCARD00  MOVE      "ct",DIM2
          PACK      KEY19,PURNO,SP70
          CALL      RSPMCCD1
GCCARD20  CALL      RKPMCCD1
          BRANCH    OVRCD,GCCARD80
.
          MATCH     PURNO,PMCDURNO
          GOTO      GCCARD80 IF NOT EQUAL
.
          PACK      KEY5,DIM2,PMCDCTYP
          CALL      RDCODE1
          BRANCH    OVRCD,GCCARD20
.
          MATCH     DIM1,TCINDC1
          GOTO      GCCARD99 IF EQUAL
.
          GOTO      GCCARD20
.
GCCARD80  MOVE      SP70,PMCDCNUM
          MOVE      SP70,PMCDCTYP
          MOVE      SP70,PMCDEXDT
          MOVE      SP70,PMCDDVAC
          GOTO      GCCARD99
.
GCCARD99  RETURN
.
.--------------------------------------------------------------------
.         Get Multiple Card Type
.--------------------------------------------------------------------
GMCARD00  MOVE      "ct",DIM2
          PACK      KEY19,PURNO,SP70
          CALL      RSPMCCD1
GMCARD20  CALL      RKPMCCD1
          BRANCH    OVRCD,GMCARD80
.
          MATCH     PURNO,PMCDURNO
          GOTO      GMCARD80 IF NOT EQUAL
.
          PACK      KEY5,DIM2,PMCDCTYP
          CALL      RDCODE1
          BRANCH    OVRCD,GMCARD20
.
          MATCH     TCINDC6,IBDTPIND             * Check Print Indicator
          GOTO      GMCARD20 IF NOT EQUAL
.
          GOTO      GMCARD99
.
GMCARD80  MOVE      SP70,PMCDCNUM
          MOVE      SP70,PMCDCTYP
          MOVE      SP70,PMCDEXDT
          MOVE      SP70,TDESC
          GOTO      GMCARD99
.
GMCARD99  RETURN
.
.--------------------------------------------------------------------
. Get the patients compensable details if any.
. RETURNS : CLMDET1 = If private the patients health fund name
.                     or W/C, TAC, DVA if compensable
.                     or NILL if not compensable and not private
.           CLMDET2 = If private the patients health fund member number
.                     or W/C, TAC claim numbers, DVA number and (Card Colour)
.                        if compensable 
.                     or blank if not compensable and not private
.--------------------------------------------------------------------
CMPH0000  MOVE      SP70,CLMDET1
          MOVE      SP70,CLMDET2
.
          MATCH     SP70,EMVICOMP
          gOTO      CMPH9999 IF EQUAL
.
          PACK      KEY5,ANSC,ANSL,EMVICOMP,SP70
          CALL      RDCODE1
          BRANCH    OVRCD,CMPH9999
.
          MATCH     "3",TCINDC5                  * Self insured
          GOTO      CMPH9000 IF EQUAL
.
.------ see what type of claim we have if any exists ------
.
          MOVE      ZERO,FORM2
CMPH1000  ADD       ONE,FORM2
          COMPARE   SIX,FORM2
          GOTO      CMPH5000 IF NOT LESS
.
          LOAD      ANS,FORM2,TCINDC1,TCINDC2,TCINDC3:
                    TCINDC4,TCINDC5
.
          CMATCH    "W",ANS                      * Work Cover
          GOTO      CMPH2000 IF EQUAL
.
          CMATCH    "M",ANS                      * TAC
          GOTO      CMPH3000 IF EQUAL
.
          CMATCH    "V",ANS                      * VET
          GOTO      CMPH4000 IF EQUAL
.
          GOTO      CMPH1000
.
CMPH2000  OPEN      PATWC1A1,"patwc1af"          * Work Cover
          MOVE      "W/C",CLMDET1
          PACK      KEY8,EMVIADMN,SP70
          CALL      RDWCOM1
          BRANCH    OVRCD,CMPH9999
.
          OPEN      PMSWX1A1,"pmswx1af"
          PACK      KEY8,EMVIADMN,SP70
          CALL      RDPMWX11
          IF        OVRCD = 0
            MATCH     "3",PMWXCSTA      * Cancelled
            GOTO      CMPH9999 IF EQUAL
          ENDIF
.
          MOVE      WCCLMNO,CLMDET2
          GOTO      CMPH9999
.
CMPH3000  OPEN      PATWMAB1,"patwmabf"          * TAC
          MOVE      "TAC",CLMDET1
          PACK      KEY8,EMVIADMN,SP70
          CALL      RDWMAB1
          BRANCH    OVRCD,CMPH9999
.
          MOVE      MREFNO,CLMDET2
          GOTO      CMPH9999
.
CMPH4000  OPEN      PATWVET1,"patwvetf"          * VET
          MOVE      "DVA",CLMDET1
          PACK      KEY8,EMVIADMN,SP70
          CALL      RDWVET1
          BRANCH    OVRCD,CMPH9999
.
          MOVE      SP70,TDESC
          MOVE      THREE,DIM1                 * dva card colour (pmsccdaf)
          CALL      GCCARD00
          MATCH     SP70,PMCDDVAC
          IF        !@EQUAL & !@EOS
            MOVE      "DX",DIM2
            PACK      KEY5,DIM2,PMCDDVAC,SP10
            CALL      RDCODE1
            IF        OVRCD = 1
              MOVE      PMCDDVAC,TDESC      
            ENDIF
          ENDIF
.
.          MATCH     SP70,PMPXDVAC
.          IF        !@EQUAL
.            PACK      KEY5,ANSD,ANSX,PMPXDVAC,SP70
.            CALL      RDCODE1
.            IF        OVRCD=1
.              MOVE      PMPXDVAC,TDESC
.            ENDIF
.          ENDIF
.
          MOVE      TDESC,DIM1
.
          CLEAR     CLMDET2
          STRIP     VCLMNO
          APPEND    VCLMNO,CLMDET2
          APPEND    " (",CLMDET2
          APPEND    DIM1,CLMDET2
          APPEND    ")",CLMDET2
          RESET     CLMDET2
          GOTO      CMPH9999
.
CMPH5000  MATCH     SP70,PFUNDH
          GOTO      CMPH9999 IF EQUAL
.
          PACK      KEY14,PFUNDH,ZERO4,SP70      * Display health fund
          CALL      RDFUND1
          IF        OVRCD=1
            MOVE      PFUNDH,HFNAME
          ENDIF
.
          MOVE      HFNAME,CLMDET1
          MOVE      PFNDMM,CLMDET2
          GOTO      CMPH9999
.
CMPH9000  MOVE      "NIL",CLMDET1                * Self insured
          MOVE      SP70,CLMDET2
.
CMPH9999  RETURN
.------------------------------------------------------------
.         Add record to label and form print control file
.------------------------------------------------------------
ADDLP000  MOVE      ZERO,UNIQF5
          PACK      KEY5,Z70
          CALL      RSEMLP1
          CALL      RPEMLP1
          BRANCH    OVRCD,ADDLP100
          MOVE      EMLPUNI,UNIQF5
ADDLP100  ADD       ONE,UNIQF5
          MOVE      URNUMBER,EMLPURN
          MOVE      ADMISSNO,EMLPADM
          MOVE      LBLPRINT,EMLPLPN
          MOVE      FRMPRINT,EMLPFPN
          MOVE      NOLABEL,EMLPCNO
          MOVE      STATNCOD,EMLPSTC
          MOVE      REPORTNO,EMLPREP
          MOVE      LABELTYP,EMLPLTY
          MOVE      PASSCODE,EMLPPSC
.
          MOVE      UNIQF5,KEY5
          MOVE      UNIQF5,EMLPUNI
          CALL      RAEMLP1
          IF        OVRCD=1
            MOVE      ZERO,OVRCD
            TRAP      OVERCOND IF IO
            CALL      WREMLP1
            TRAPCLR   IO
            BRANCH    OVRCD,ADDLP100
          ENDIF
.
          MOVE      "Printing Complete",WEBTITLE
.
ADDLP999  RETURN
.------------------------------------------------------------
. Output All Comments to HTMLFILE from vismdtaf and viscmtaf
. INPUTS : Note Type KEY3 = 001 - Clinical Note
.                    KEY3 = 002 - Management Note
.------------------------------------------------------------
AVCOM000   MOVE      ZERO,FORM4
           PACK      KEY17,DEMVIADM,KEY3,SP70
           CALL      RSVSMDT1
AVCOM100   CALL      RKVSMDT1
           BRANCH    OVRCD,AVCOM999
.
           MATCH     DEMVIADM,VSMDVISN
           GOTO      AVCOM999 IF NOT EQUAL
.
           MATCH     KEY3,VSMDTYPE
           GOTO      AVCOM999 IF NOT EQUAL
.
           MATCH     "1",VSMDDELT                * deleted
           GOTO      AVCOM100 IF EQUAL
.
           UNPACK    VSMDDATE,CCENT,CYEAR,CMON,CDAY
           CALL      PACDATE
           UNPACK    VSMDTIME,KEY5
           MOVE      "INVALID USER",WBSENAM
           PACK      KEY11,WBSEUID,SP70
           PACK      KEY10,VSMDUSER
           CALL      RDWBSE1
           PRINT     *N,*N,CPCDATE,SP1,KEY5,SP1,WBSENAM;
           PACK      KEY10,KEY11,SP70
           CALL      RDWBSE1
.
           PACK      KEY20,VSMDVISN,VSMDTYPE,VSMDNOTE
           CALL      RSVSMTX1
AVCOM300   CALL      RKVSMTX1
           BRANCH    OVRCD,AVCOM100
.
           MATCH     VSMDVISN,VSMTVISN
           GOTO      AVCOM100 IF NOT EQUAL
.
           MATCH     VSMDTYPE,VSMTTYPE
           GOTO      AVCOM100 IF NOT EQUAL
.
           MATCH     VSMDNOTE,VSMTNOTE
           GOTO      AVCOM100 IF NOT EQUAL
.
           STRIP     VSMTCMNT
           MOVELPTR  VSMTCMNT,LENGTH
.
           SFORMAT   VAR,LENGTH
           MOVE      VSMTCMNT,VAR
           PRINT     *N,VAR;
           SFORMAT   VAR,127
.
           GOTO      AVCOM300
.
AVCOM999   MOVE      ONE,MULTILIN
           RETURN
.
.------------------------------------------------------------
. Output All Comments to HTMLFILE from VISCMTFD/viscmtaf
. INPUTS : Note Type KEY3 = 023 - Presenting Complaint 
.------------------------------------------------------------
AVFTX000   PACK      KEY14,DEMVIADM,DIM3,SP70      
           CALL      RSVSCMT1
AVFTX100   CALL      RKVSCMT1
           BRANCH    OVRCD,AVFTX999
.
           MATCH     VSCTVIST,DEMVIADM
           GOTO      AVFTX100 IF NOT EQUAL
.
           MATCH     VSCTTYPE,DIM3    
           GOTO      AVFTX100 IF NOT EQUAL
.
           STRIP     VSCTDATA
           MOVELPTR  VSCTDATA,LENGTH
.
           SFORMAT   VAR,LENGTH
           MOVE      VSCTDATA,VAR
           PRINT     *N,VAR;
           SFORMAT   VAR,127
.
           GOTO      AVFTX100
.
AVFTX999   MOVE      ONE,MULTILIN
           RETURN
.
.******************************************************************************
.*                                  ALTC0000                                  *
.*                        Get Alternate Contact Details                       *
.* Based on category tc, indc2 (order 1-9) - determine which contact to print *
.******************************************************************************
ALTC0000  MOVE      ZERO,CONTTYP2
ALTC0500  ADD       ONE,CONTTYP2                 * contact type priority order
          IF        CONTTYP2=9
            GOTO      ALTC5000                   * no contacts to print
          ENDIF
          PACK      KEY5,CATTC,SP70
          CALL      RDSCODE1
ALTC1000  CALL      RDKCODE1
          BRANCH    OVRCD,ALTC0500               * try next priority
.
          MATCH     CATTC,TCODE
          GOTO      ALTC0500 IF NOT EQUAL        * try next priority
.
          MATCH     "I",PTCOACTV
          GOTO      ALTC1000 IF EQUAL            * code inactive
.
          MOVE      ZERO,F1
          MOVE      TCINDC2,F1
          COMPARE   CONTTYP2,F1
          GOTO      ALTC1000 IF NOT EQUAL        * incorrect priority

ALTC2000  PACK      KEY14,PURNO,ACODE,SP70
          CALL      RSPMCEX1
ALTC3000  CALL      RKPMCEX1
          BRANCH    OVRCD,ALTC0500               * contact type does not exist
.
          MATCH     PURNO,PMCEURNO               * correct U/R
          GOTO      ALTC0500 IF NOT EQUAL
.
          MATCH     ACODE,PMCETYPE               * correct contact type
          GOTO      ALTC0500 IF NOT EQUAL
.
          MATCH     "1",PMCEACTV                 * skip if inctive
          GOTO      ALTC3000 IF EQUAL
          GOTO      ALTC9999
.
ALTC5000  CALL      CLPMSCEX                * Clear extra contact file vars
.
ALTC9999  RETURN
+
.-------------------------------------------------------------------- 
. Get Mental Health Legal Status at Admission (mehdlsaf)
.--------------------------------------------------------------------
GMHDLS00  MATCH     SP70,EMVIDATE
          GOTO      GMHDLS99 IF EQUAL
          GOTO      GMHDLS99 IF EOS
.           
          PACK      KEY16,EMVIDATE,EMVITIME,SP70
          PACK      KEY32,EMVIURNO,SP70
          CALL      RSMHDLS1
GMHDLS10  CALL      RKMHDLS1
          BRANCH    OVRCD,GMHDLS99
.           
          MATCH     EMVIURNO,MHDLURNO
          GOTO      GMHDLS99 IF NOT EQUAL
.         
          MATCH     "1",MHDLACTV
          GOTO      GMHDLS10 IF EQUAL            * inactive
.
          PACK      DIM16,MHDLSDAT,MHDLSTIM,SP70
          MATCH     DIM16,KEY16
          GOTO      GMHDLS10 IF LESS             * adm date is before LS start
.
          PACK      DIM16,MHDLEDAT,MHDLETIM,SP70
          MATCH     SP70,MHDLEDAT
          IF        !@EQUAL
            MATCH     DIM16,KEY16
            GOTO      GMHDLS10 IF NOT LESS       * adm date is after LS end
          ENDIF
.
          PACK      KEY5,CATLS,MHDLSCOD,SP70
          CALL      RDCODE1
          IF        OVRCD=1
            MOVE      SP70,TDESC
          ELSE
            MOVE      MHDLSCOD,VARIABLE
          ENDIF
GMHDLS99  RETURN
+
.-------------------------------------------------------------------------------
. PATNTS00
.-------------------------------------------------------------------------------
PATNTS00   PACK      KEY17,EMVIURNO,DIM6,DIM3,SP70
           CALL      RDPMMTX1
           BRANCH    OVRCD,PATNTS99
.
           MOVE      PMMTCMNT,VARIABLE
.
PATNTS99   RETURN
.
.-------------------------------------------------------------------------------
. PATHNT00
.-------------------------------------------------------------------------------
PATHNT00   PACK      KEY14,EMVIURNO,DIM6,SP70
           CALL      RDPMMDT1
           BRANCH    OVRCD,PATHNT99
.
           PACK      VARIABLE,PMMDDATE,SP1,PMMDTIME,SP1,PMMDUSER,SP70
.
PATHNT99   RETURN
.
+
.-------------------------------------------------------------------------------
. PRTVCD00 - Print visit based coding details
.-------------------------------------------------------------------------------
PRTVCD00  PACK      KEY30,DEMVIADM,SP70
          PACK      KEY37,ZERO,ONE,KEY30,DIM2,SP70
          CALL      RSVSCOD1
PRTVCD10  CALL      RKVSCOD1
          BRANCH    OVRCD,PRTVCD99
.
          MATCH     "01",VSCOTYPE                * ED Visit
          GOTO      PRTVCD99 IF NOT EQUAL
.
          MATCH     KEY30,VSCOTKEY               * Correct ED Visit
          GOTO      PRTVCD99 IF NOT EQUAL
.
          MATCH     DIM2,VSCOCATG                * Correct Category
          GOTO      PRTVCD99 IF NOT EQUAL
.
          PACK      KEY5,VSCOCATG,VSCOCODE,SP70  * Read category code
          CALL      RDCODE1
          BRANCH    OVRCD,PRTVCD10
.
          MATCH     IBDTPIND,TCINDC1             * Print Indicator
          GOTO      PRTVCD10 IF NOT EQUAL
.
          BRANCH    F1,PRTVCD70,PRTVCD75,PRTVCD80
.
          MOVE      VSCOCODE,VARIABLE            * Print Code
          GOTO      PRTVCD99
.
PRTVCD70  MATCH     ANSO,TCINDC12                * Free text other option
          IF        @EQUAL
            MOVE      VSCOTEXT,VARIABLE          * Print Free Format Description
          ELSE
            MOVE      TDESC,VARIABLE             * Print Description
          ENDIF
          GOTO      PRTVCD99
.
PRTVCD75  MOVE      ANSX,VARIABLE                * Print X if populated
          GOTO      PRTVCD99
.
PRTVCD80  MATCH     ANSO,TCINDC12                * Free text other option
          IF        @EQUAL
            MOVE      VSCOTEXT,VARIABLE          * Print Free Format Description
          ELSE
            MOVE      PTCDLDES,VARIABLE          * Print Long Description
          ENDIF
          GOTO      PRTVCD99
.
PRTVCD99  RETURN
+
.------------------------------------------------------------
.  Format Alert Codes Care Pathway Flag
.  Parameter: Form1 (Line Number) DIM2 (Highlight Category)
.------------------------------------------------------------
PRCPF000  MOVE      ZERO,FORM1A
.
          MATCH     "       0",EMVIURNO
          IF        @EQUAL
            PACK      KEY16,EMVIADMN,DIM2,SP70
            CALL      RSPTALT1
          ELSE
            PACK      KEY16,EMVIURNO,DIM2,SP70
            CALL      RSPTALR1
          ENDIF
.
PRCPF100  MATCH     "       0",EMVIURNO
          IF        @EQUAL
            CALL      RKPTALT1
            BRANCH    OVRCD,PRCPF800
.
            MATCH     DEMVIADM,PTALURNO
            GOTO      PRCPF800 IF NOT EQUAL
          ELSE
            CALL      RKPTALR1
            BRANCH    OVRCD,PRCPF800
.
            MATCH     EMVIURNO,PTALURNO
            GOTO      PRCPF800 IF NOT EQUAL
          ENDIF
.
          MATCH     DIM2,PTALCATG
          GOTO      PRCPF800 IF NOT EQUAL
.
          ADD       ONE,FORM1A
          COMPARE   FORM1,FORM1A
          GOTO      PRCPF100 IF NOT EQUAL
.
          GOTO      PRCPF900
.
PRCPF800  MOVE      SP3,VARIABLE
          GOTO      PRCPF999
.
PRCPF900  MOVE      SP3,D3
          MATCH     "1",PTALCPAC
          IF        @EQUAL
            MOVE      "Yes",D3
          ENDIF
          MATCH     "0",PTALCPAC
          IF        @EQUAL
            MOVE      "No ",D3
          ENDIF
          PACK      VARIABLE,D3,SP30,SP30,SP30
          GOTO      PRCPF999
.
PRCPF999  RETURN
+
.------------------------------------------------------------
.  Format Alert Codes Care Pathway Flag User ID
.  Parameter: Form1 (Line Number) DIM2 (Highlight Category)
.------------------------------------------------------------
PRCPU000  MOVE      ZERO,FORM1A
.
          MATCH     "       0",EMVIURNO
          IF        @EQUAL
            PACK      KEY16,EMVIADMN,DIM2,SP70
            CALL      RSPTALT1
          ELSE
            PACK      KEY16,EMVIURNO,DIM2,SP70
            CALL      RSPTALR1
          ENDIF
.
PRCPU100  MATCH     "       0",EMVIURNO
          IF        @EQUAL
            CALL      RKPTALT1
            BRANCH    OVRCD,PRCPU800
.
            MATCH     DEMVIADM,PTALURNO
            GOTO      PRCPU800 IF NOT EQUAL
          ELSE
            CALL      RKPTALR1
            BRANCH    OVRCD,PRCPU800
.
            MATCH     EMVIURNO,PTALURNO
            GOTO      PRCPU800 IF NOT EQUAL
          ENDIF
.
          MATCH     DIM2,PTALCATG
          GOTO      PRCPU800 IF NOT EQUAL
.
          ADD       ONE,FORM1A
          COMPARE   FORM1,FORM1A
          GOTO      PRCPU100 IF NOT EQUAL
.
          GOTO      PRCPU900
.
PRCPU800  MOVE      SP3,VARIABLE
          GOTO      PRCPU999
.
PRCPU900  MATCH     SP70,PTALUCPF
          IF        @EQUAL
            PACK      VARIABLE,SP70,SP30,SP30,SP30
            GOTO      PRCPU999
          ENDIF
.
          MOVE      WBSEUID,SAVKEY10               * Save Web user id
          PACK      KEY10,PTALUCPF,SP70
          CALL      RDWBSE1
          IF        OVRCD=1
            PACK      VARIABLE,PTALUCPF,SP30,SP30,SP30
          ELSE
            PACK      VARIABLE,WBSENAM,SP30,SP30,SP30
          ENDIF
.
          PACK      KEY10,SAVKEY10,SP70            * read back websecaf
          CALL      RDWBSE1
.
          GOTO      PRCPU999
.
PRCPU999  RETURN
+
.------------------------------------------------------------
.  Format Alert Codes Care Pathway Flag Date
.  Parameter: Form1 (Line Number) DIM2 (Highlight Category)
.------------------------------------------------------------
PRCPD000  MOVE      ZERO,FORM1A
.
          MATCH     "       0",EMVIURNO
          IF        @EQUAL
            PACK      KEY16,EMVIADMN,DIM2,SP70
            CALL      RSPTALT1
          ELSE
            PACK      KEY16,EMVIURNO,DIM2,SP70
            CALL      RSPTALR1
          ENDIF
.
PRCPD100  MATCH     "       0",EMVIURNO
          IF        @EQUAL
            CALL      RKPTALT1
            BRANCH    OVRCD,PRCPD800
.
            MATCH     DEMVIADM,PTALURNO
            GOTO      PRCPD800 IF NOT EQUAL
          ELSE
            CALL      RKPTALR1
            BRANCH    OVRCD,PRCPD800
.
            MATCH     EMVIURNO,PTALURNO
            GOTO      PRCPD800 IF NOT EQUAL
          ENDIF
.
          MATCH     DIM2,PTALCATG
          GOTO      PRCPD800 IF NOT EQUAL
.
          ADD       ONE,FORM1A
          COMPARE   FORM1,FORM1A
          GOTO      PRCPD100 IF NOT EQUAL
.
          GOTO      PRCPD900
.
PRCPD800  MOVE      SP3,VARIABLE
          GOTO      PRCPD999
.
PRCPD900  MATCH     SP70,PTALDCPU
          IF        @EQUAL
            PACK      VARIABLE,SP70,SP30,SP30,SP30
            GOTO      PRCPD999
          ENDIF
          UNPACK    PTALDCPU,CCENT,CYEAR,CMON,CDAY
          CALL      PACDATE
          PACK      VARIABLE,CPCDATE,SP30,SP30,SP30
          GOTO      PRCPD999
.
PRCPD999  RETURN
+
.-------------------------------------------------------------------------------
. PRTEDB00 - Print visit based coding ED breach details
.-------------------------------------------------------------------------------
PRTEDB00  PACK      KEY30,DEMVIADM,SP70
          PACK      KEY37,DIM2,KEY30,ANSE,ANSB,SP70
          CALL      RSVSCOD1
PRTEDB10  CALL      RKVSCOD1
          BRANCH    OVRCD,PRTEDB99
.
          MATCH     DIM2,VSCOTYPE                * ED Breach
          GOTO      PRTEDB99 IF NOT EQUAL
.
          MATCH     KEY30,VSCOTKEY               * Correct ED Visit
          GOTO      PRTEDB99 IF NOT EQUAL
.
          MATCH     "EB",VSCOCATG                * Correct Category
          GOTO      PRTEDB99 IF NOT EQUAL
.
          PACK      KEY5,VSCOCATG,VSCOCODE,SP70  * Read category code
          CALL      RDCODE1
          BRANCH    OVRCD,PRTEDB10
.
          BRANCH    F1,PRTEDB70,PRTEDB75
.
          MOVE      VSCOCODE,VARIABLE          * Print Code
          GOTO      PRTEDB99
.
PRTEDB70  MOVE      TDESC,VARIABLE             * Print Description
          GOTO      PRTEDB99
.
PRTEDB75  MOVE      PTCDLDES,VARIABLE          * Print Long Description
          GOTO      PRTEDB99
.
PRTEDB99  RETURN
.
          INC       GPMCEX00
