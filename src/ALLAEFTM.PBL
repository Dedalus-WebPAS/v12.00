. *----------------------------------------------------------------------
. * Include Name  :   ALLAEFTM.PBL
. *
. * Function      :   CGI variables for ALLAEFFD - allaefaf.dat
. *
. * Includes Needed :
. *
. *----------------------------------------------------------------------
.  Modifications Done :
.
.------------------------------------------------------------------------
.   Clear Parameters
.------------------------------------------------------------------------
.
CPALAE00  MOVE      Z70,ALAEF001
          MOVE      Z70,ALAEF002
          MOVE      Z70,ALAEF003
          MOVE      Z70,ALAEF004
          MOVE      Z70,ALAEF005
          MOVE      Z70,ALAEF006
          MOVE      Z70,ALAEF007
.
CPALAE99  RETURN
.------------------------------------------------------------
. Add allied health additional ERC fields file
.------------------------------------------------------------
ALAE0000  BRANCH    FLDITMNO,ALAE0010,ALAE0020,ALAE0030,ALAE0040,ALAE0050:
                             ALAE0060,ALAE0070
.
          WRITE     HTMLFILE;"Invalid IBA Tag";
          GOTO      ALAE9999
.
ALAE0010  WRITE     HTMLFILE;ALAEVISN;
          GOTO      ALAE9999
.
ALAE0020  UNPACK    DIM127,D1,KEY1,DIM127
          MOVE      ZERO,F1
          MOVE      KEY1,F1
          BRANCH    F1,ALAE0025
.
          MOVE      NO,YESNO
          MATCH     "1",ALAEMRYN
          IF       @EQUAL
            MOVE      YES,YESNO
          ENDIF
          WRITE     HTMLFILE;YESNO;
          GOTO      ALAE9999
.
ALAE0025  WRITE     HTMLFILE;ALAEMRYN;
          GOTO      ALAE9999
.
ALAE0030  UNPACK    DIM127,D1,KEY1,DIM127
          MOVE      ZERO,F1
          MOVE      KEY1,F1
          BRANCH    F1,ALAE0035
.
          MOVE      NO,YESNO
          MATCH     "1",ALAEETYN
          IF       @EQUAL
            MOVE      YES,YESNO
          ENDIF
          WRITE     HTMLFILE;YESNO;
          GOTO      ALAE9999
.
ALAE0035  WRITE     HTMLFILE;ALAEETYN;
          GOTO      ALAE9999
.
ALAE0040  UNPACK    DIM127,D1,KEY1,DIM127
          MOVE      ZERO,F1
          MOVE      KEY1,F1
          BRANCH    F1,ALAE0045
.
          MOVE      NO,YESNO
          MATCH     "1",ALAERSYN
          IF       @EQUAL
            MOVE      YES,YESNO
          ENDIF
          WRITE     HTMLFILE;YESNO;
          GOTO      ALAE9999
.
ALAE0045  WRITE     HTMLFILE;ALAERSYN;
          GOTO      ALAE9999
.
ALAE0050  UNPACK    DIM127,D1,KEY1,DIM127
          MOVE      ZERO,F1
          MOVE      KEY1,F1
          BRANCH    F1,ALAE0055
.
          MOVE      NO,YESNO
          MATCH     "1",ALAEOTYN
          IF       @EQUAL
            MOVE      YES,YESNO
          ENDIF
          WRITE     HTMLFILE;YESNO;
          GOTO      ALAE9999
.
ALAE0055  WRITE     HTMLFILE;ALAEOTYN;
          GOTO      ALAE9999
.
ALAE0060  WRITE     HTMLFILE;ALAEOTDS;
          GOTO      ALAE9999
.
ALAE0070  WRITE     HTMLFILE;ALAEPDRS;
          GOTO      ALAE9999
.
ALAE9999  RETURN
.
.------------------------------------------------------------
.   Set Parameters for allied health additional ERC fields file
.------------------------------------------------------------
SPALA000  MOVE      ZERO,EXIT
          UNPACK    QRYNAME,KEY5,KEY3
          MOVE      KEY3,F3
          BRANCH    F3,SPALA001,SPALA002,SPALA003,SPALA004,SPALA005:
                       SPALA006,SPALA007
.
          MOVE      ONE,EXIT
          GOTO      SPALA999
.
SPALA001  MOVE      QRYDATA,ALAEF001
          GOTO      SPALA999
.
SPALA002  MOVE      QRYDATA,ALAEF002
          GOTO      SPALA999
.
SPALA003  MOVE      QRYDATA,ALAEF003
          GOTO      SPALA999
.
SPALA004  MOVE      QRYDATA,ALAEF004
          GOTO      SPALA999
.
SPALA005  MOVE      QRYDATA,ALAEF005
          GOTO      SPALA999
.
SPALA006  MOVE      QRYDATA,ALAEF006
          GOTO      SPALA999
.
SPALA007  MOVE      QRYDATA,ALAEF007
          GOTO      SPALA999
.
SPALA999  RETURN
.------------------------------------------------------------
.  Update allied health additional ERC fields file
.------------------------------------------------------------
MVALAE00  MATCH     ALAEF001,Z70
          IF        !@EQUAL
            MOVE      ALAEF001,ALAEVISN
          ENDIF
.
          MATCH     ALAEF002,Z70
          IF        !@EQUAL
            MOVE      ALAEF002,ALAEMRYN
          ENDIF
.
          MATCH     ALAEF003,Z70
          IF        !@EQUAL
            MOVE      ALAEF003,ALAEETYN
          ENDIF
.
          MATCH     ALAEF004,Z70
          IF        !@EQUAL
            MOVE      ALAEF004,ALAERSYN
          ENDIF
.
          MATCH     ALAEF005,Z70
          IF        !@EQUAL
            MOVE      ALAEF005,ALAEOTYN
          ENDIF
.
          MATCH     ALAEF006,Z70
          IF        !@EQUAL
            MOVE      ALAEF006,ALAEOTDS
          ENDIF
.
          MATCH     ALAEF007,Z70
          IF        !@EQUAL
            MOVE      ALAEF007,ALAEPDRS
          ENDIF
.
MVALAE99  RETURN
.
