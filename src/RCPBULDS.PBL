+
.                05/12/2000  Ebon Clements    Replace space with zero in RBDATE
.                08/10/1998  Glenn Berry      5.07 changes
.******************************************************************************
.
.         RCPBULDS.PBL
.         ------------
.         This include displays Claims in the Bulk Billing file.
.
.------------------------------------------------------------------------------
.         Display Category Heading, and then loop over entries
.------------------------------------------------------------------------------
.
RCPBULDS  DISPLAY   *P1:4,*EF,*P20:4,*V2LON,*ULON,"BULK BILLING CLAIMS"
          MOVE      FIVE,CVERT
          MOVE      ONE,CCOL
          MOVE      ZERO,FORM6
.
          PACK      KEY15,SP20
          CALL      RDSBULA1
RDSB1000  CALL      RDKBULA1
          BRANCH    OVRCD,RDSB2000
.
          COMPARE   TWO,RBSTAT1              * Receipted already ?
          GOTO      RDSB1000 IF EQUAL        * Yes - ignore record
.
          COMPARE   ZERO,FORM6               * 1st record ?
          GOTO      RDSB1010 IF EQUAL        * Yes - skip test
          COMPARE   RBCLAIM,FORM6            * Same claim as prev record ?
          GOTO      RDSB1000 IF EQUAL        * Yes - ignore
RDSB1010  MOVE      RBCLAIM,FORM6            * New claim
.
          REPLACE   " 0",RBDATE
          UNPACK    RBDATE,CCENT,CYEAR,CMON,CDAY
          DISPLAY   *PCCOL:CVERT,*V2LON,RBCLAIM,SP1,*HOFF,RBCODE:
                    SP1,CDAY,SLASH,CMON,SLASH,CYEAR;
          BRANCH    RBSTAT1,RDSB1100
          DISPLAY   SP1,"Input"
          GOTO      RDSB1300
RDSB1100  DISPLAY   SP1,"Printed"
          GOTO      RDSB1300
.
RDSB1300  ADD       ONE,CVERT
          COMPARE   TWENTY4,CVERT
          GOTO      RDSB1000 IF LESS
.
          MOVE      FIVE,CVERT
          ADD       "40",CCOL
          COMPARE   "70",CCOL
          GOTO      RDSB1000 IF LESS
.
          KEYIN     *P1:24,*EL," (",*V2LON,*DV,ANSE,*HOFF,")xit, (":
                    *V2LON,*DV,ANSN,*HOFF,")ext Screen : ",*V2LON,ANS;
.
          REP       UPPLOW,ANS
          CMATCH    ANSE,ANS
          GOTO      RDSB3000 IF EQUAL
.
          MOVE      FIVE,CVERT
          MOVE      ONE,CCOL
          DISPLAY   *P1:5,*EF
          GOTO      RDSB1000
.
.         End of codes
.
RDSB2000  BRANCH    CNEWDS,RDSB3000
          DISPLAY   *P1:24,*EL;
          CALL      HITENTER
RDSB3000  MOVE      ZERO,OVRCD
          RETURN
.
