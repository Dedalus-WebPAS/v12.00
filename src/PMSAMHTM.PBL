. *----------------------------------------------------------------------
. * Include Name  :   PMSAMHTM.PBL
. *
. * Function      :   CGI variables for PMSAMHFD - pmspwaaf.dat
. *
. * Includes Needed : PMSAMHFD - ABF Admitted MH Price Weights
. *                   PMSAMHIO - IO for ABF Admitted MH Price Weights
. * Modifications :
. * V11.03.00 18.05.2023 DA Sarkies      TSK 0923703
. *           Created TM File
. * V11.03.01 24.05.2023 DA Sarkies      TSK 0923703
. *           Created TM File for pmsamhaf
. *----------------------------------------------------------------------
.
.------------------------------------------------------------------------
.   Clear CGIs for ABF Admitted MH Price Weights
.------------------------------------------------------------------------
.
CLSANH00  MOVE      SP70,PMAMH001
          MOVE      SP70,PMAMH002
          MOVE      SP70,PMAMH003
          MOVE      ZERO,PMAMH004
          MOVE      ZERO,PMAMH005
          MOVE      ZERO,PMAMH006
          MOVE      ZERO,PMAMH007
          MOVE      ZERO,PMAMH008
          MOVE      ZERO,PMAMH009
          MOVE      ZERO,PMAMH010
          MOVE      ZERO,PMAMH011
.
CLSANH99  RETURN
.
.------------------------------------------------------------------------
.   Clear Parameters for ABF Admitted MH Price Weights
.------------------------------------------------------------------------
.
CLRANH00  MOVE      SP70,PMMHCNTR
          MOVE      SP70,PMMHAMHC
          MOVE      SP70,PMMHAMHD
          MOVE      ZERO,PMMHAVPL
          MOVE      ZERO,PMMHLOWB
          MOVE      ZERO,PMMHUPPB
          MOVE      ZERO,PMMHSSOB
          MOVE      ZERO,PMMHSSOP
          MOVE      ZERO,PMMHINLI
          MOVE      ZERO,PMMHLSOP
          MOVE      ZERO,PMMHPPSA
          MOVE      SP70,PMMHCDAT
          MOVE      SP70,PMMHCTIM
          MOVE      SP70,PMMHCUID
          MOVE      SP70,PMMHUDAT
          MOVE      SP70,PMMHUTIM
          MOVE      SP70,PMMHUUID
          MOVE      SP70,PMMHSPAR
.
CLRANH99  RETURN
.
.------------------------------------------------------------
. ABF Admitted MH Price Weight Fields
.------------------------------------------------------------
PMAN0000  BRANCH    FLDITMNO,PMAN0010,PMAN0020,PMAN0030,PMAN0040,PMAN0050:
                             PMAN0060,PMAN0070,PMAN0080,PMAN0090,PMAN0100:
                             PMAN0110,PMAN0120,PMAN0130,PMAN0140,PMAN0150:
                             PMAN0160,PMAN0170
.
          WRITE     HTMLFILE;"Invalid IBA Tag";
          GOTO      PMAN9999
.
PMAN0010  UNPACK    DIM127,D1,KEY1,DIM127        * Contract ID
          MOVE      KEY1,F1
          BRANCH    F1,PMAN0012
.
          WRITE     HTMLFILE;PMMHCNTR;
          GOTO      PMAN9999
.
PMAN0012  PACK      KEY6,PMMHCNTR,SP70           * Contract ID Description
          CALL      RDPMCID1
          BRANCH    OVRCD,PMAN9999
.
          WRITE     HTMLFILE;PMCIDESC;
          GOTO      PMAN9999
.
PMAN0020  WRITE     HTMLFILE;PMMHAMHC;           * AMHCC Code
          GOTO      PMAN9999
.
PMAN0030  WRITE     HTMLFILE;PMMHAMHD;           * AMHCC Description
          GOTO      PMAN9999
.
PMAN0040  WRITE     HTMLFILE;PMMHAVPL;           * Average Phase Length (Days)
          GOTO      PMAN9999
.
PMAN0050  WRITE     HTMLFILE;PMMHLOWB;           * Lower Bound (Inlier Bounds)
          GOTO      PMAN9999
.
PMAN0060  WRITE     HTMLFILE;PMMHUPPB;           * Upper Bound (Inlier Bounds)
          GOTO      PMAN9999
.
PMAN0070  WRITE     HTMLFILE;PMMHSSOB;           * Short Stay Outlier Base (PW)
          GOTO      PMAN9999
.
PMAN0080  WRITE     HTMLFILE;PMMHSSOP;           * Short Stay Outlier Per Diem
          GOTO      PMAN9999
.
PMAN0090  WRITE     HTMLFILE;PMMHINLI;           * Inlier (Price Weight)
          GOTO      PMAN9999
.
PMAN0100  WRITE     HTMLFILE;PMMHLSOP;           * Long Stay Outlier Per Diem
          GOTO      PMAN9999
.
PMAN0110  WRITE     HTMLFILE;PMMHPPSA;           * Long Stay Outlier Per Diem
          GOTO      PMAN9999
.
PMAN0120  WRITE     HTMLFILE;PMMHCDAT;           * Created Date
          GOTO      PMAN9999
.
PMAN0130  WRITE     HTMLFILE;PMMHCTIM;           * Created Time
          GOTO      PMAN9999
.
PMAN0140  WRITE     HTMLFILE;PMMHCUID;           * User Created
          GOTO      PMAN9999
.
PMAN0150  WRITE     HTMLFILE;PMMHUDAT;           * Updated Date
          GOTO      PMAN9999
.
PMAN0160  WRITE     HTMLFILE;PMMHUTIM;           * Updated Time
          GOTO      PMAN9999
.
PMAN0170  WRITE     HTMLFILE;PMMHUUID;           * User Updated
          GOTO      PMAN9999
.
PMAN9999  RETURN
.
.------------------------------------------------------------
.   Set Parameters for Admitted MH Price Weight Fields
.------------------------------------------------------------
SPMAN000  MOVE      ZERO,EXIT
          UNPACK    QRYNAME,KEY5,KEY3
          MOVE      KEY3,F3
          BRANCH    F3,SPMAN001,SPMAN002,SPMAN003,SPMAN004,SPMAN005:
                       SPMAN006,SPMAN007,SPMAN008,SPMAN009,SPMAN010:
                       SPMAN011 
.
          MOVE      ONE,EXIT
          GOTO      SPMAN999
.
SPMAN001  MOVE      QRYDATA,PMAMH001
          PACK      PMAMH001,PMAMH001,SP70
          GOTO      SPMAN999
.
SPMAN002  MOVE      QRYDATA,PMAMH002
          PACK      PMAMH002,PMAMH002,SP70
          GOTO      SPMAN999
.
SPMAN003  MOVE      QRYDATA,PMAMH003
          PACK      PMAMH003,PMAMH003,SP70
          GOTO      SPMAN999
.
SPMAN004  SQUEEZE   QRYDATA 
          MOVE      QRYDATA,PMAMH004
          GOTO      SPMAN999
.
SPMAN005  SQUEEZE   QRYDATA 
          MOVE      QRYDATA,PMAMH005
          GOTO      SPMAN999
.
SPMAN006  SQUEEZE   QRYDATA 
          MOVE      QRYDATA,PMAMH006
          GOTO      SPMAN999
.
SPMAN007  SQUEEZE   QRYDATA 
          MOVE      QRYDATA,PMAMH007
          GOTO      SPMAN999
.
SPMAN008  SQUEEZE   QRYDATA
          MOVE      QRYDATA,PMAMH008
          GOTO      SPMAN999
.
SPMAN009  SQUEEZE   QRYDATA
          MOVE      QRYDATA,PMAMH009
          GOTO      SPMAN999
.
SPMAN010  SQUEEZE   QRYDATA
          MOVE      QRYDATA,PMAMH010
          GOTO      SPMAN999
.
SPMAN011  SQUEEZE   QRYDATA
          MOVE      QRYDATA,PMAMH011
          GOTO      SPMAN999
.
SPMAN999  RETURN
+
.------------------------------------------------------------------------
.         Move work variables to Admitted MH PW file variables
.------------------------------------------------------------------------
MVMANH00  MOVE      PMAMH001,PMMHCNTR
          MOVE      PMAMH002,PMMHAMHC
          MOVE      PMAMH003,PMMHAMHD
          MOVE      PMAMH004,PMMHAVPL
          MOVE      PMAMH005,PMMHLOWB
          MOVE      PMAMH006,PMMHUPPB
          MOVE      PMAMH007,PMMHSSOB
          MOVE      PMAMH008,PMMHSSOP
          MOVE      PMAMH009,PMMHINLI
          MOVE      PMAMH010,PMMHLSOP
          MOVE      PMAMH011,PMMHPPSA
.
MVMANH99  RETURN
