.-------------------------------------------------------------------------------
. Include Name  :  PMSSNCTM.PBL
.
. Function      :  CGI Variables for PMSSNCFD - pmssncaf
.
. Mods          :
. V10.12.01 24/04/2018 Peter Vela      TSK 0856151
.                      Removed form validation for PMSNC001
. V10.06.01 12/03/2015 Patrick Adair   CAR 308185
.                      Updated for FIM Total Score Range
. V10.05.00 21/07/2014 Patrick Adair   CAR 277093
.                      Created include
.-------------------------------------------------------------------------------
. Clear AN-SNAP Auto Classification Code Parameters
.-------------------------------------------------------------------------------
CPPMSC00  MOVE      Z70,PMSNC001
          MOVE      Z70,PMSNC002
          MOVE      Z70,PMSNC003
          MOVE      Z70,PMSNC004
          MOVE      Z70,PMSNC005
          MOVE      Z70,PMSNC006
          MOVE      Z70,PMSNC009
          MOVE      Z70,PMSNC012
          MOVE      Z70,PMSNC014
          MOVE      Z70,PMSNC015
.
          MOVE      ZERO,PMSNC007
          MOVE      ZERO,PMSNC008
          MOVE      ZERO,PMSNC010
          MOVE      ZERO,PMSNC011
          MOVE      ZERO,PMSNC013
          MOVE      ZERO,PMSNC016
          MOVE      ZERO,PMSNC017
.
CPPMSC99  RETURN
.
.-------------------------------------------------------------------------------
. Set AN-SNAP Auto Classification Code Parameters
.-------------------------------------------------------------------------------
SPPMSC00  MOVE      ZERO,EXIT
          UNPACK    QRYNAME,KEY5,KEY3
          MOVE      KEY3,F3
          BRANCH    F3,SPPMSC01,SPPMSC02,SPPMSC03,SPPMSC04,SPPMSC05:
                       SPPMSC06,SPPMSC07,SPPMSC08,SPPMSC09,SPPMSC10:
                       SPPMSC11,SPPMSC12,SPPMSC13,SPPMSC14,SPPMSC15:
                       SPPMSC16,SPPMSC17
          GOTO      SPPMSC99
.
SPPMSC01  PACK      PMSNC001,QRYDATA,SP70
          GOTO      SPPMSC99
.
SPPMSC02  PACK      PMSNC002,QRYDATA,SP70
          GOTO      SPPMSC99
.
SPPMSC03  PACK      PMSNC003,QRYDATA,SP70
          GOTO      SPPMSC99
.
SPPMSC04  UNPACK    QRYDATA,CDAY,KEY1,MTHNAM3,KEY1,CCENT,CYEAR
          CALL      SETMTH00
          PACK      PMSNC004,CCENT,CYEAR,CMON,CDAY
          GOTO      SPPMSC99
.
SPPMSC05  UNPACK    QRYDATA,CDAY,KEY1,MTHNAM3,KEY1,CCENT,CYEAR
          CALL      SETMTH00
          PACK      PMSNC005,CCENT,CYEAR,CMON,CDAY
          GOTO      SPPMSC99
.
SPPMSC06  PACK      PMSNC006,QRYDATA,SP70
          GOTO      SPPMSC99
.
SPPMSC07  MOVE      QRYDATA,PMSNC007
          GOTO      SPPMSC99
.
SPPMSC08  MOVE      QRYDATA,PMSNC008
          GOTO      SPPMSC99
.
SPPMSC09  PACK      PMSNC009,QRYDATA,SP70
          GOTO      SPPMSC99
.
SPPMSC10  MOVE      QRYDATA,PMSNC010
          GOTO      SPPMSC99
.
SPPMSC11  MOVE      QRYDATA,PMSNC011
          GOTO      SPPMSC99
.
SPPMSC12  PACK      PMSNC012,QRYDATA,SP70
          GOTO      SPPMSC99
.
SPPMSC13  MOVE      QRYDATA,PMSNC013
          GOTO      SPPMSC99
.
SPPMSC14  MOVE      QRYDATA,PMSNC014
          GOTO      SPPMSC99
.
SPPMSC15  MOVE      QRYDATA,PMSNC015
          GOTO      SPPMSC99
.
SPPMSC16  MOVE      QRYDATA,PMSNC016
          GOTO      SPPMSC99
.
SPPMSC17  MOVE      QRYDATA,PMSNC017
          GOTO      SPPMSC99
.
SPPMSC99  RETURN
.
.-------------------------------------------------------------------------------
. Output AN-SNAP Auto Classification Code tags
.-------------------------------------------------------------------------------
PMSC0000  BRANCH    FLDITMNO,PMSC0100,PMSC0200,PMSC0300,PMSC0400,PMSC0500:
                             PMSC0600,PMSC0700,PMSC0800,PMSC0900,PMSC1000:
                             PMSC1100,PMSC1200,PMSC1300,PMSC1400,PMSC1500:
                             PMSC1600,PMSC1700,PMSC1800
.
          WRITE     HTMLFILE;"Invalid IBA Tag";
          GOTO      PMSC9999
.
PMSC0100  WRITE     HTMLFILE;PMSCCLCD;
          GOTO      PMSC9999
.
PMSC0200  WRITE     HTMLFILE;PMSCVERS;
          GOTO      PMSC9999
.
PMSC0300  WRITE     HTMLFILE;PMSCICDE;
          GOTO      PMSC9999
.
PMSC0400  MATCH     PMSCDEFF,SP70
          GOTO      PMSC9999 IF EQUAL
          UNPACK    PMSCDEFF,CCENT,CYEAR,CMON,CDAY
          MOVE      CMON,F2
          LOAD      MTHNAM3,F2,JAN,FEB,MAR,APR,MAY,JUN,JUL,AUG,SEP,OCT,NOV,DEC
          PACK      DISPDACT,CDAY,SP1,MTHNAM3,SP1,CCENT,CYEAR
          WRITE     HTMLFILE;DISPDACT;
          GOTO      PMSC9999
.
PMSC0500  MATCH     PMSCDEFT,SP70
          GOTO      PMSC9999 IF EQUAL
          UNPACK    PMSCDEFT,CCENT,CYEAR,CMON,CDAY
          MOVE      CMON,F2
          LOAD      MTHNAM3,F2,JAN,FEB,MAR,APR,MAY,JUN,JUL,AUG,SEP,OCT,NOV,DEC
          PACK      DISPDACT,CDAY,SP1,MTHNAM3,SP1,CCENT,CYEAR
          WRITE     HTMLFILE;DISPDACT;
          GOTO      PMSC9999
.
PMSC0600  WRITE     HTMLFILE;PMSCFMSE;
          GOTO      PMSC9999
.
PMSC0700  WRITE     HTMLFILE;PMSCFMSL;
          GOTO      PMSC9999
.
PMSC0800  WRITE     HTMLFILE;PMSCFMSH;
          GOTO      PMSC9999
.
PMSC0900  WRITE     HTMLFILE;PMSCFCSE;
          GOTO      PMSC9999
.
PMSC1000  WRITE     HTMLFILE;PMSCFCSL;
          GOTO      PMSC9999
.
PMSC1100  WRITE     HTMLFILE;PMSCFCSH;
          GOTO      PMSC9999
.
PMSC1200  WRITE     HTMLFILE;PMSCAGEL;
          GOTO      PMSC9999
.
PMSC1300  WRITE     HTMLFILE;PMSCAGE;
          GOTO      PMSC9999
.
PMSC1400  WRITE     HTMLFILE;PMSCASSO;
          GOTO      PMSC9999
.
PMSC1500  PACK      KEY5,PMSNC001,PMSNC002,KEY70
          CALL      RDPMSNP1
          BRANCH    OVRCD,PMSC9999
.
          WRITE     HTMLFILE;PMSNDESC;
          GOTO      PMSC9999
.
PMSC1600  WRITE     HTMLFILE;PMSCFTSR;
          GOTO      PMSC9999
.
PMSC1700  WRITE     HTMLFILE;PMSCFTSL;
          GOTO      PMSC9999
.
PMSC1800  WRITE     HTMLFILE;PMSCFTSH;
          GOTO      PMSC9999
.
PMSC9999  RETURN
.
.-------------------------------------------------------------------------------
. Move AN-SNAP Auto Classification Code cgi variables to file variables
.-------------------------------------------------------------------------------
MVPMSC00  MATCH     Z70,PMSNC001
          IF        !@EQUAL
            MOVE      PMSNC001,PMSCCLCD
          ENDIF
.
.         MATCH     Z70,PMSNC001
.         IF        !@EQUAL
.           SQUEEZE   PMSNC001
.           MOVE      PMSNC001,CLCDFRM3
.           MOVE      CLCDFRM3,PMSCCLCD
.         ENDIF
.
          MATCH     Z70,PMSNC002
          IF        !@EQUAL
            SQUEEZE   PMSNC002
            MOVE      PMSNC002,VERSFRM2
            MOVE      VERSFRM2,PMSCVERS
          ENDIF
.
          MATCH     Z70,PMSNC003
          IF        !@EQUAL
            MOVE      PMSNC003,PMSCICDE
          ENDIF
.
          MATCH     Z70,PMSNC004
          IF        !@EQUAL
            MOVE      PMSNC004,PMSCDEFF
          ENDIF
.
          MATCH     Z70,PMSNC005
          IF        !@EQUAL
            MOVE      PMSNC005,PMSCDEFT
          ENDIF
.
          MATCH     Z70,PMSNC006
          IF        !@EQUAL
            MOVE      PMSNC006,PMSCFMSE
          ENDIF
.
          IF        PMSNC007 > 0
            MOVE      PMSNC007,PMSCFMSL
          ELSE
            MOVE      ZERO,PMSCFMSL
          ENDIF
.
          IF        PMSNC008 > 0
            MOVE      PMSNC008,PMSCFMSH
          ELSE
            MOVE      ZERO,PMSCFMSH
          ENDIF
.
          MATCH     Z70,PMSNC009
          IF        !@EQUAL
            MOVE      PMSNC009,PMSCFCSE
          ENDIF
.
          IF        PMSNC010 > 0
            MOVE      PMSNC010,PMSCFCSL
          ELSE
            MOVE      ZERO,PMSCFCSL
          ENDIF
.
          IF        PMSNC011 > 0
            MOVE      PMSNC011,PMSCFCSH
          ELSE
            MOVE      ZERO,PMSCFCSH
          ENDIF
.
          MATCH     Z70,PMSNC012
          IF        !@EQUAL
            MOVE      PMSNC012,PMSCAGEL
          ENDIF
.
          IF        PMSNC013 > 0
            MOVE      PMSNC013,PMSCAGE
          ELSE
            MOVE      ZERO,PMSCAGE
          ENDIF
.
          MATCH     Z70,PMSNC009
          IF        !@EQUAL
            MOVE      PMSNC014,PMSCASSO
          ENDIF
.
          MATCH     Z70,PMSNC015
          IF        !@EQUAL
            MOVE      PMSNC015,PMSCFTSR
          ENDIF
.
          IF        PMSNC016 > 0
            MOVE      PMSNC016,PMSCFTSL
          ELSE
            MOVE      ZERO,PMSCFTSL
          ENDIF
.
          IF        PMSNC017 > 0
            MOVE      PMSNC017,PMSCFTSH
          ELSE
            MOVE      ZERO,PMSCFTSH
          ENDIF
.
MVPMSC99  RETURN
.
.-------------------------------------------------------------------------------
. Clear AN-SNAP Auto Classification Code file variables
.-------------------------------------------------------------------------------
CLPMSC00  MOVE      SP70,PMSCCLCD
          MOVE      SP70,PMSCVERS
          MOVE      SP70,PMSCICDE
          MOVE      SP70,PMSCDEFF
          MOVE      SP70,PMSCDEFT
          MOVE      SP70,PMSCFMSE
          MOVE      SP70,PMSCFCSE
          MOVE      SP70,PMSCAGEL
          MOVE      SP70,PMSCASSO
          MOVE      SP70,PMSCFTSR
.
          MOVE      ZERO,PMSCFMSL
          MOVE      ZERO,PMSCFMSH
          MOVE      ZERO,PMSCFCSL
          MOVE      ZERO,PMSCFCSH
          MOVE      ZERO,PMSCAGE
          MOVE      ZERO,PMSCFTSL
          MOVE      ZERO,PMSCFTSH
.
CLPMSC99  RETURN
