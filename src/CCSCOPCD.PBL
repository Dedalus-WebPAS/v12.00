.-----------------------------------------------------------------------------
. CCSCOPCD - Open or Close Casemix Extract Files
.
. Following Includes Must be in the Calling Program.
.
.   CCSTMPDF    
.   CCSCEAFD 
.   CCSCEBFD
.   CCSCECFD
.   CCSCEDFD
.   CCSCEEFD
.   CCSCEFFD
.   CCSCEGFD
. A Valid Record must have been read from the 
. Casemix Extract Masterfile (ccsceaaf).
.-----------------------------------------------------------------------------
. Open Files - Returns Exit = 1 if files unavailable
.-----------------------------------------------------------------------------
CCSCOPOP  MOVE     "cceb",KEY4
          PACK     FILENAME,KEY4,CCEAEID
          REP      " 0",FILENAME
          MOVE     ZERO,OVRCD
          TRAP     OVERCOND IF IO
          OPEN     CCSCEBA1,FILENAME
          TRAPCLR  IO
          BRANCH   OVRCD,CCSMOP90
.
          MOVE     "ccec",KEY4
          PACK     FILENAME,KEY4,CCEAEID
          REP      " 0",FILENAME
          MOVE     ZERO,OVRCD
          TRAP     OVERCOND IF IO
          OPEN     CCSCECA1,FILENAME
          TRAPCLR  IO
          BRANCH   OVRCD,CCSMOP90
          OPEN     CCSCECA2,FILENAME
.
          MOVE     "cced",KEY4
          PACK     FILENAME,KEY4,CCEAEID
          REP      " 0",FILENAME
          MOVE     ZERO,OVRCD
          TRAP     OVERCOND IF IO
          OPEN     CCSCEDA1,FILENAME
          TRAPCLR  IO
          BRANCH   OVRCD,CCSMOP90
.
          MOVE     "ccee",KEY4
          PACK     FILENAME,KEY4,CCEAEID
          REP      " 0",FILENAME
          MOVE     ZERO,OVRCD
          TRAP     OVERCOND IF IO
          OPEN     CCSCEEA1,FILENAME
          TRAPCLR  IO
          BRANCH   OVRCD,CCSMOP90
.
          MOVE     "ccef",KEY4
          PACK     FILENAME,KEY4,CCEAEID
          REP      " 0",FILENAME
          MOVE     ZERO,OVRCD
          TRAP     OVERCOND IF IO
          OPEN     CCSCEFA1,FILENAME
          TRAPCLR  IO
          BRANCH   OVRCD,CCSMOP90
          OPEN     CCSCEFA2,FILENAME
.
          MOVE     "cceg",KEY4
          PACK     FILENAME,KEY4,CCEAEID
          REP      " 0",FILENAME
          MOVE     ZERO,OVRCD
          TRAP     OVERCOND IF IO
          OPEN     CCSCEGA1,FILENAME
          TRAPCLR  IO
          BRANCH   OVRCD,CCSMOP90
          OPEN     CCSCEGA2,FILENAME
.
          MOVE     ZERO,EXIT
          GOTO     CCSMOP99
.
CCSMOP90  MOVE     ONE,EXIT
CCSMOP99  RETURN
.-----------------------------------------------------------------------------
. Close Files
.-----------------------------------------------------------------------------
CCSCOPCL  CLOSE    CCSCEBA1
          CLOSE    CCSCECA1
          CLOSE    CCSCECA2
          CLOSE    CCSCEDA1
          CLOSE    CCSCEEA1
          CLOSE    CCSCEFA1
          CLOSE    CCSCEFA2
          CLOSE    CCSCEGA1
          CLOSE    CCSCEGA2
          RETURN
