.******************************************************************************
.* System         : ALL                     Release 5.01                      *
.*                                                                            *
.* Include Name   : CLPATMIS.PBL                                              *
.*                                                                            *
.* Function       : Clear the admission file variables - PATMI1FD             *
.*                                                                            *
.* Modifications  :                                                           *
.*        V12.00.01 14/05/2025 Nikitha B     TSK 0955096                      *
.*                  Alphanumeric changes                                      *
.*        V10.02.03 14/10/2011  Mike Laming    CAR 251645                     *
.*                  Added PTMILSDN "Linked Statistical Discharge Number"      *
.*                  Added PTMIOGNO "Original Admission No."                   *
.*        V9.08.02  28/11/2006 Ebon Clements CAR 120011                       *
.*                  Added clear of PTMIFINV                                   *
.*        V9.08.01  04/10/2006 Jill Habasque CAR 120004                       *
.*                  Added clear of PTMICRCD                                   *
.*        V9.03.01  24/06/2003  Tonii  CAR 39849                              *
.*                  Added clear of PTMIDDIG and PTMIDFAS                      *
.******************************************************************************
.*        V9.02.03  16/10/2002 Ebon Clements SRF 23146                        *
.*                  Added clear of PTMIDMOV - Pulling list indicator          *
.*        V9.02.02  15/06/2002 J.Tan                                          *
.*                  Mods for GST Applicable variable                          *
.*        V9.02.01  08/06/2002 J.Tan                                          *
.*                  Added casemix payment variable                            *
.*        V5.09.B01 26/02/2001  Jill Habasque                                 *
.*                  Mods for ABWGHT - changed to DIM 6                        *
.*                   24/01/2000  J Habasque                                   *
.*                   Added PTMIGSTA                                           *
.*                   19/03/99  J.Tan                                           *
.*                   Initialise casemix code                                  *
.                   07/10/1998  Glenn Berry      5.07 changes
.*****************************************************************************
.*                   13/12/93  Ian Rutt  Mt Alvernia                           *
.*                   Added new MIS variables                                  *
.*                  18/10/94  Whirlpool      srf  132904                      *
.*                   set AELIG to zero not two                                *
.*                  18/07/95  Paul Howells   SRF 610374                       *
.*                  cleared new Nz variables.                                 *
.******************************************************************************
CLPATMIS  MOVE      ZEROVISN,AADMNO          * admission number
          MOVE      ZEROUR,AURNO             * UR number
          MOVE      SP8,ADATE                * admission date
          MOVE      SP8,ATIME                * admission time
          MOVE      ZERO,ASTAT               * status
          MOVE      SP2,APORT                * port using record
          MOVE      ZERO,ATRANNO             * next transaction number
          MOVE      ZERO,AINVPRT             * number if invoices printed
          MOVE      SP8,ALACDTE              * last accom date invoiced
          MOVE      SP3,ACANCEL              * pre-admission cancellation reason
          MOVE      SP3,AWARD                * ward
          MOVE      SP3,ABED                 * bed number
          MOVE      SP6,ADOCTR               * referring doctor
          MOVE      SP6,ADOCTA               * attending doctor
          MOVE      SP30,ADOCTL              * Local Doctor
          MOVE      SP3,ASRCE                * Admission Source
          MOVE      SP3,ATYPE                * Admission Type
          MOVE      SP3,ACLSS                * Admission Class
          MOVE      SP3,ACARE                * Care Class
          MOVE      SP6,AFUNDH               * Health Fund
          MOVE      SP8,AFNDTB               * Health Fund Table
          MOVE      SP10,AFNDMM              * Health Fund Membership No
          MOVE      ZERO,AELIG               * Eligibility for Gov't Rebate - No
          MOVE      TWO,AVISIT               * Religious Visit - No
          MOVE      TWO,AALERG               * Patient Allergies - No
          MOVE      TWO,AILLN                * Pre-Existing Illness - No
          PACK      ADIAG1,SP30,SP20         * Diagnosis Line 1
          PACK      ADIAG2,SP30,SP20         * Diagnosis Line 2
          MOVE      ZERO,ADISC               * Patient Discount Percentage
          MOVE      SP6,ADOCTT               * Treating Doctor
          MOVE      SP3,ACLSSFT              * Account Classification
          MOVE      SP3,AALLOW               * Patient Allowance Code
          MOVE      SP9,AMBS                 * Admitting MBS Code
          MOVE      SP3,ACLAIM               * Claim Code - Default
          MOVE      SP3,ADIET                * Diet Code
          MOVE      SP3,APLOCCR              * Place of Occurrance
          MOVE      ZERO,ASTAY               * Expected Length of Stay (Days)
          MOVE      ZERO,ADYHOSP             * No of Days of Hospitalization
          MOVE      TWO,AMEMB                * Diamond Valley Membership - No
          MOVE      ZERO,AMEMBNO             * Membership Number
          PACK      ACOMM1,SP30,SP10         * Comments Field 1
          MOVE      SP30,ACOMM2              * Comments Field 2
          MOVE      ZERO,APLUR               * Plurarity of Baby
          MOVE      ZERO,APURGE              * Purge Indicator - No purge
          MOVE      SP3,AUSR1                * User Defined 1
          MOVE      SP3,AUSR2                * User Defined 2
          MOVE      SP3,AUSR3                * User Defined 3
          MOVE      SP3,AUSR4                * User Defined 4
          MOVE      SP3,AUSR5                * User Defined 5
          MOVE      SP3,AUSR6                * User Defined 6
          MOVE      SP3,AUSR7                * User Defined 7
          MOVE      ZERO,ADSCHI              * Disch Invoice Ind - Not printed
          MOVE      SP30,ARDRNAM             * Free Format Referring Doctor
          MOVE      SP6,AFNDYY               * Years of Fund Membership
          MOVE      SP6,AFNDCG               * Fund Cover Change
          MOVE      SP8,AOCCDTE              * Date of Occurance (CCYYMMDD)
          MOVE      SP8,ACODDTE              * Date Coding Completed
          MOVE      SP8,ARETDTE              * Expected Return Date from Leave
          MOVE      ZEROVISN,AMUMADM         * Mother's Adm no if baby
          MOVE      ZERO,PTMIPVIS            * Number of previous visits
          MOVE      SP8,ABWGHT               * Admission weight
          UNPACK    SP30,PTMSRFGP,PTMSGPPC
          MOVE      SP20,PTMSFHAN
          MOVE      SP20,PTMSECRA
          MOVE      SP20,PTMSMGIN
          MOVE      ZERO,PTMIDDIG            * Discharge diagnosis printed?
          MOVE      SP2,PTMIGPPT
          MOVE      SP3,PTMIDOFR
          MOVE      SP8,PTMIREFD
          MOVE      SP8,PTMIDFCN
          MOVE      SP3,PTMIPHPU
          MOVE      SP3,PTMIAGNC
          MOVE      ANSN,PTMIESSF
          MOVE      SP3,PTMIUSR8
          MOVE      SP3,PTMIUSR9
          MOVE      SP3,PTMIUSR0
          MOVE      SP4,PTMIPDRG             * Provisional DRG
          MOVE      SP4,PTMIOPER
          MOVE      SP3,PTMIXWRD
          MOVE      SP10,PTMIADOC
          MOVE      SP10,PTMIREGS
          MOVE      ZERO,PTMIUYN1
          MOVE      ZERO,PTMIUYN2
          MOVE      SP8,PTMIPANO
          MOVE      SP8,PTMIPADT
          MOVE      SP9,PTMIPCMX             * Casemix code
.
          MATCH     SP10,PTCNDGST             * check if any default
          IF        @EQUAL
            MOVE      ANSU,PTMIGSTA           * no for unknown
          ELSE
            MOVE      PTCNDGST,PTMIGSTA       * yes or no
          ENDIF
          MOVE      SP10,PTMICMXP
          MOVE      SP10,PTMIEBED
.
          MOVE      SP70,PTMIDMOV
          MOVE      SP10,PTMIDFAS             
          MOVE      SP10,PTMICRCD             
          MOVE      SP10,PTMIFINV             
          MOVE      SP70,PTMICONB
          MOVE      SP70,PTMIDATC
          MOVE      SP70,PTMITIMC
          MOVE      SP70,PTMIWEBC
          MOVE      SP70,PTMIDATU
          MOVE      SP70,PTMITIMU
          MOVE      SP70,PTMIWEBU
          MOVE      SP70,PTMI3BDY
          MOVE      SP70,PTMI3BAD
          MOVE      SP70,PTMILSDN 
          MOVE      SP70,PTMIOGNO 
          MOVE      SP70,PTMSSPAR               * spare variable
          RETURN
...............................................................................
