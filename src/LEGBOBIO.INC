.
.         Include Name : LEGBOBIO.INC
.
.         I/O routines for Outpatients Booking Extension file
.
.OVRCD    FORM      1
.KEY8     DIM       8
.KEY16    DIM       16
.
. note : for audits IDDD is used to write the audit site - however OTBBSITE 
.        is used to read it in
.
RALGBOB1  MOVE      ZERO,OVRCD
          RESET     KEY8
          READ      LEGBOKB1,KEY8;ANS
          GOTO      OVERCOND IF OVER
          RETURN
.
RSLGBOB1  RESET     KEY8
          READ      LEGBOKB1,KEY8;;
          RETURN
.
RDLGBOB1  MOVE      ZERO,OVRCD
          RESET     KEY8
          READ      LEGBOKB1,KEY8;DLOBAOUT,LOBASRCR,LOBACOMP,LOBACLASS,LOBAINS:
                                  LOBAATTN,LOBADOCT,LOBACOMM,LOTBBFUN,LOTBBTBL:
                                  DLOTBBPV,LOTBBSPA,LOBADATE,LOBACAT,LOBAPRTY:
                                  LOBARSCH,LOBBPORT,LOBBBOOK,LOBBCTYP,LOBOUSR1:
                                  LOBOUSR2,LOBOUSR3,LOBOUSR4,LOBALADM,LOTBBDEP:
                                  LOTBBTRA,LOTBBLNG,LOTBBTMF,LOTBBTMB,LOTBBGPF:
                                  LOTBBECR,LOTBBRFG,LOTBBGPC,LOTBBADC,LOTBBCIT:
                                  LOTBBAST,LOTBBDPT,LOTBBOUT,LOTBBSND,LOTBBGPP:
                                  LOTBBDOF,LOTBBOPE,LOBOUSR5,LOBOUSR6,LOBOUSR7:
                                  LOBOUSR8,LOTBBRAN,LOTBBSPR
          GOTO      OVERCOND IF OVER
          MOVE      DLOBAOUT,LOBAOUTN
          MOVE      DLOTBBPV,LOTBBPVI
          MOVE      LOBAOUTN,LSOBAOUT
          RETURN
.
RKLGBOB1  MOVE      ZERO,OVRCD
          READKS    LEGBOKB1;DLOBAOUT,LOBASRCR,LOBACOMP,LOBACLAS,LOBAINS:
                             LOBAATTN,LOBADOCT,LOBACOMM,LOTBBFUN,LOTBBTBL:
                             DLOTBBPV,LOTBBSPA,LOBADATE,LOBACAT,LOBAPRTY:
                             LOBARSCH,LOBBPORT,LOBBBOOK,LOBBCTYP,LOBOUSR1:
                             LOBOUSR2,LOBOUSR3,LOBOUSR4,LOBALADM,LOTBBDEP:
                             LOTBBTRA,LOTBBLNG,LOTBBTMF,LOTBBTMB,LOTBBGPF:
                             LOTBBECR,LOTBBRFG,LOTBBGPC,LOTBBADC,LOTBBCIT:
                             LOTBBAST,LOTBBDPT,LOTBBOUT,LOTBBSND,LOTBBGPP:
                             LOTBBDOF,LOTBBOPE,LOBOUSR5,LOBOUSR6,LOBOUSR7:
                             LOBOUSR8,LOTBBRAN,LOTBBSPR
          GOTO      OVERCOND IF OVER
          MOVE      DLOBAOUT,LOBAOUTN
          MOVE      DLOTBBPV,LOTBBPVI
          MOVE      LOBAOUTN,LSOBAOUT
          RETURN
.
RPLGBOB1  MOVE      ZERO,OVRCD
          READKP    LEGBOKB1;DLOBAOUT,LOBASRCR,LOBACOMP,LOBACLAS,LOBAINS:
                             LOBAATTN,LOBADOCT,LOBACOMM,LOTBBFUN,LOTBBTBL:
                             DLOTBBPV,LOTBBSPA,LOBADATE,LOBACAT,LOBAPRTY:
                             LOBARSCH,LOBBPORT,LOBBBOOK,LOBBCTYP,LOBOUSR1:
                             LOBOUSR2,LOBOUSR3,LOBOUSR4,LOBALADM,LOTBBDEP:
                             LOTBBTRA,LOTBBLNG,LOTBBTMF,LOTBBTMB,LOTBBGPF:
                             LOTBBECR,LOTBBRFG,LOTBBGPC,LOTBBADC,LOTBBCIT:
                             LOTBBAST,LOTBBDPT,LOTBBOUT,LOTBBSND,LOTBBGPP:
                             LOTBBDOF,LOTBBOPE,LOBOUSR5,LOBOUSR6,LOBOUSR7:
                             LOBOUSR8,LOTBBRAN,LOTBBSPR
          GOTO      OVERCOND IF OVER
          MOVE      DLOBAOUT,LOBAOUTN
          MOVE      DLOTBBPV,LOTBBPVI
          MOVE      LOBAOUTN,LSOBAOUT
          RETURN
.
RALGBOB2  MOVE      ZERO,OVRCD
          RESET     KEY16
          READ      LEGBOKB2,KEY16;ANS
          GOTO      OVERCOND IF OVER
          RETURN
.
RSLGBOB2  RESET     KEY16
          READ      LEGBOKB2,KEY16;;
          RETURN
.
RDLGBOB2  MOVE      ZERO,OVRCD
          RESET     KEY16
          READ      LEGBOKB2,KEY16;DLOBAOUT,LOBASRCR,LOBACOMP,LOBACLAS,LOBAINS:
                                   LOBAATTN,LOBADOCT,LOBACOMM,LOTBBFUN,LOTBBTBL:
                                   DLOTBBPV,LOTBBSPA,LOBADATE,LOBACAT,LOBAPRTY:
                                   LOBARSCH,LOBBPORT,LOBBBOOK,LOBBCTYP,LOBOUSR1:
                                   LOBOUSR2,LOBOUSR3,LOBOUSR4,LOBALADM,LOTBBDEP:
                                   LOTBBTRA,LOTBBLNG,LOTBBTMF,LOTBBTMB,LOTBBGPF:
                                   LOTBBECR,LOTBBRFG,LOTBBGPC,LOTBBADC,LOTBBCIT:
                                   LOTBBAST,LOTBBDPT,LOTBBOUT,LOTBBSND,LOTBBGPP:
                                   LOTBBDOF,LOTBBOPE,LOBOUSR5,LOBOUSR6,LOBOUSR7:
                                   LOBOUSR8,LOTBBRAN,LOTBBSPR
          GOTO      OVERCOND IF OVER
          MOVE      DLOBAOUT,LOBAOUTN
          MOVE      DLOTBBPV,LOTBBPVI
          MOVE      LOBAOUTN,LSOBAOUT
          RETURN
.
RKLGBOB2  MOVE      ZERO,OVRCD
          READKS    LEGBOKB2;DLOBAOUT,LOBASRCR,LOBACOMP,LOBACLAS,LOBAINS:
                             LOBAATTN,LOBADOCT,LOBACOMM,LOTBBFUN,LOTBBTBL:
                             DLOTBBPV,LOTBBSPA,LOBADATE,LOBACAT,LOBAPRTY:
                             LOBARSCH,LOBBPORT,LOBBBOOK,LOBBCTYP,LOBOUSR1:
                             LOBOUSR2,LOBOUSR3,LOBOUSR4,LOBALADM,LOTBBDEP:
                             LOTBBTRA,LOTBBLNG,LOTBBTMF,LOTBBTMB,LOTBBGPF:
                             LOTBBECR,LOTBBRFG,LOTBBGPC,LOTBBADC,LOTBBCIT:
                             LOTBBAST,LOTBBDPT,LOTBBOUT,LOTBBSND,LOTBBGPP:
                             LOTBBDOF,LOTBBOPE,LOBOUSR5,LOBOUSR6,LOBOUSR7:
                             LOBOUSR8,LOTBBRAN,LOTBBSPR
          GOTO      OVERCOND IF OVER
          MOVE      DLOBAOUT,LOBAOUTN
          MOVE      DLOTBBPV,LOTBBPVI
          MOVE      LOBAOUTN,LSOBAOUT
          RETURN
.
RPLGBOB2  MOVE      ZERO,OVRCD
          READKP    LEGBOKB2;DLOBAOUT,LOBASRCR,LOBACOMP,LOBACLAS,LOBAINS:
                             LOBAATTN,LOBADOCT,LOBACOMM,LOTBBFUN,LOTBBTBL:
                             DLOTBBPV,LOTBBSPA,LOBADATE,LOBACAT,LOBAPRTY:
                             LOBARSCH,LOBBPORT,LOBBBOOK,LOBBCTYP,LOBOUSR1:
                             LOBOUSR2,LOBOUSR3,LOBOUSR4,LOBALADM,LOTBBDEP:
                             LOTBBTRA,LOTBBLNG,LOTBBTMF,LOTBBTMB,LOTBBGPF:
                             LOTBBECR,LOTBBRFG,LOTBBGPC,LOTBBADC,LOTBBCIT:
                             LOTBBAST,LOTBBDPT,LOTBBOUT,LOTBBSND,LOTBBGPP:
                             LOTBBDOF,LOTBBOPE,LOBOUSR5,LOBOUSR6,LOBOUSR7:
                             LOBOUSR8,LOTBBRAN,LOTBBSPR
          GOTO      OVERCOND IF OVER
          MOVE      DLOBAOUT,LOBAOUTN
          MOVE      DLOTBBPV,LOTBBPVI
          MOVE      LOBAOUTN,LSOBAOUT
          RETURN
.
