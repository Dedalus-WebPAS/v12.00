.************************************************************************
.* Program       : LEGCLMTM.PBL
.* Description   : Display of Workers Compensation, T.A.C and Veteran 
.*                 Affairs details for Patient Legacy System.
.* Modifications :
.* V9.03.00  07/05/2004  Sylvek Litewka  CAR 49209
.*           Created include.
.************************************************************************
LCLF0000  BRANCH    FLDITMNO,LCLF0100,LCLF0200,LCLF0300,LCLF0400,LCLF0500:
                             LCLF0600,LCLF0700,LCLF0800,LCLF0900,LCLF1000:
                             LCLF1100,LCLF1200,LCLF1300,LCLF1400,LCLF1500:
                             LCLF1600,LCLF1700,LCLF1800,LCLF1900,LCLF2000:
                             LCLF2100,LCLF2200,LCLF2300,LCLF2400,LCLF2500:
                             LCLF2600,LCLF2700,LCLF2800,LCLF2900,LCLF3000:
                             LCLF3100
.
          WRITE     HTMLFILE;"Invalid IBA Tag";
          GOTO      LCLF9999
.
LCLF0100  MATCH     SP70,LWCENAME
          GOTO      LCLF9999 IF EQUAL
          WRITE     HTMLFILE;LWCENAME;
          GOTO      LCLF9999
.
LCLF0200  MATCH     SP70,LWCEADD1
          GOTO      LCLF9999 IF EQUAL
          WRITE     HTMLFILE;LWCEADD1; 
          GOTO      LCLF9999
.
LCLF0300  MATCH     SP70,LWCEADD2
          GOTO      LCLF9999 IF EQUAL
          WRITE     HTMLFILE;LWCEADD2;
          GOTO      LCLF9999
.
LCLF0400  MATCH     SP70,LWCEADD3
          GOTO      LCLF9999 IF EQUAL
          WRITE     HTMLFILE;LWCEADD3;
          GOTO      LCLF9999
.
LCLF0500  MATCH     SP70,LWCEPOST
          GOTO      LCLF9999 IF EQUAL
          WRITE     HTMLFILE;LWCEPOST; 
          GOTO      LCLF9999
.
LCLF0600  MATCH     SP70,LWCETELE
          GOTO      LCLF9999 IF EQUAL
          WRITE     HTMLFILE;LWCETELE;  
          GOTO      LCLF9999
.
LCLF0700  MATCH     SP70,LWCACDAT  
          GOTO      LCLF9999 IF EQUAL
          UNPACK    LWCACDAT,CCENT,CYEAR,CMON,CDAY
          MOVE      CMON,F2
          LOAD      MTHNAM3,F2,JAN,FEB,MAR,APR,MAY,JUN,JUL,AUG,SEP,OCT,NOV,DEC
          WRITE     HTMLFILE;CDAY,SP1,MTHNAM3,SP1,CCENT,CYEAR;
          GOTO      LCLF9999
.
LCLF0800  UNPACK    DIM127,D1,KEY1,DIM127    
          MOVE      ZERO,F1
          MOVE      KEY1,F1
          BRANCH    F1,LCLF0810,LCLF0820
          WRITE     HTMLFILE;LWCACCPT;
          GOTO      LCLF9999
LCLF0810  COMPARE   "1",LWCACCPT 
          IF        @EQUAL
            WRITE     HTMLFILE;"Yes";
          ELSE
            WRITE     HTMLFILE;"No";
          ENDIF
          GOTO      LCLF9999
.
LCLF0820  IF        LWCACCPT=1
            WRITE    HTMLFILE;"<option value=1 selected>":
                              "Yes</option>":
                              "<option value=0>":
                              "No</option>";
          ELSE
            WRITE    HTMLFILE;"<option value=0 selected>":
                              "No</option>":
                              "<option value=1>":
                              "Yes</option>";
          ENDIF
          GOTO      LCLF9999
.
LCLF0900  UNPACK    DIM127,D1,KEY1,DIM127
          MOVE      ZERO,F1
          MOVE      KEY1,F1
          BRANCH    F1,LCLF0910
          WRITE     HTMLFILE;LWCICODE;
          GOTO      LCLF9999
.
LCLF0910  PACK      KEY6,LWCICODE
          CALL      RDINSR1
          IF        OVRCD=0
            WRITE     HTMLFILE;INAME;
          ELSE
            WRITE     HTMLFILE;LWCICODE;
          ENDIF
          GOTO      LCLF9999
.
LCLF1000  MATCH     SP70,LWCCLMNO
          GOTO      LCLF9999 IF EQUAL 
          WRITE     HTMLFILE;LWCCLMNO;
          GOTO      LCLF9999
.
.------------------------------------------------------------------------------
.         Display for Veteran Affairs file - Patient Legacy System
.------------------------------------------------------------------------------
LCLF1100  MATCH     SP70,LVCLMNO
          GOTO      LCLF9999 IF EQUAL 
          WRITE     HTMLFILE;LVCLMNO;
          GOTO      LCLF9999
.
.------------------------------------------------------------------------------
.         Display for T.A.C file - Patient Legacy System
.------------------------------------------------------------------------------
LCLF1200  MATCH     SP70,LMREFNO
          GOTO      LCLF9999 IF EQUAL
          WRITE     HTMLFILE;LMREFNO;
          GOTO      LCLF9999
.
LCLF1300  MATCH     SP70,LMACDAT
          IF        @EQUAL
            MOVE      "19010101",LMACDAT
          ENDIF 
          UNPACK    LMACDAT,CCENT,CYEAR,CMON,CDAY
          MOVE      CMON,F2
          LOAD      MTHNAM3,F2,JAN,FEB,MAR,APR,MAY,JUN,JUL,AUG,SEP,OCT,NOV,DEC
          WRITE     HTMLFILE;CDAY,SP1,MTHNAM3,SP1,CCENT,CYEAR;
          GOTO      LCLF9999
.
LCLF1400  MATCH     SP70,LMPOLIC
          GOTO      LCLF9999 IF EQUAL
          WRITE     HTMLFILE;LMPOLIC;
          GOTO      LCLF9999
.
LCLF1500  MATCH     SP70,LMCREGO
          GOTO      LCLF9999 IF EQUAL
          WRITE     HTMLFILE;LMCREGO;
          GOTO      LCLF9999
.
LCLF1600  MATCH     SP70,LOTHDET1
          GOTO      LCLF9999 IF EQUAL
          WRITE     HTMLFILE;LOTHDET1;
          GOTO      LCLF9999
.
LCLF1700  MATCH     SP70,LOTHDET2
          GOTO      LCLF9999 IF EQUAL
          WRITE     HTMLFILE;LOTHDET2;
          GOTO      LCLF9999
.
LCLF1800  MATCH     SP70,LOTHDET3
          GOTO      LCLF9999 IF EQUAL
          WRITE     HTMLFILE;LOTHDET3;
          GOTO      LCLF9999
.
LCLF1900  MATCH     SP70,LMDTRANS
          GOTO      LCLF9999 IF EQUAL
          WRITE     HTMLFILE;LMDTRANS;
          GOTO      LCLF9999
.
LCLF2000  
          GOTO      LCLF9999
.
LCLF2100  MATCH     SP70,LENGAGED
          GOTO      LCLF9999 IF EQUAL
          WRITE     HTMLFILE;LENGAGED;
          GOTO      LCLF9999
.
LCLF2200  MATCH     SP70,LPINJURE
          GOTO      LCLF9999 IF EQUAL
          WRITE     HTMLFILE;LPINJURE;
          GOTO      LCLF9999
.
LCLF2300  MATCH     SP70,LMECHSEV
          GOTO      LCLF9999 IF EQUAL
          WRITE     HTMLFILE;LMECHSEV;
          GOTO      LCLF9999
.
LCLF2400  MATCH     SP70,LREGNSEV
          GOTO      LCLF9999 IF EQUAL
          WRITE     HTMLFILE;LREGNSEV;
          GOTO      LCLF9999
.
LCLF2500  MATCH     SP70,LMSNAME
          GOTO      LCLF9999 IF EQUAL
          WRITE     HTMLFILE;LMSNAME;
          GOTO      LCLF9999
.
LCLF2600  MATCH     SP70,LMSTELE
          GOTO      LCLF9999 IF EQUAL
          WRITE     HTMLFILE;LMSTELE;
          GOTO      LCLF9999
.
LCLF2700  MATCH     SP70,LMACLOC
          GOTO      LCLF9999 IF EQUAL
          WRITE     HTMLFILE;LMACLOC;
          GOTO      LCLF9999
.
LCLF2800  
          GOTO      LCLF9999
.
LCLF2900  
          GOTO      LCLF9999
.
LCLF3000 
          GOTO      LCLF9999
.
LCLF3100  MOVE      "RA",CATEGORY
          MOVE      LPTAROLE,CODE
          CALL      LCDITM00
          GOTO      LCLF9999
.
LCLF9999  RETURN
.
.------------------------------------------------------------------------------
. Clear fileds for Legacy Workers Compensation file - legwcomf
.------------------------------------------------------------------------------
LCLWCO00  MOVE      SP70,DLWCADMN 
          MOVE      SP70,LWCENAME 
          MOVE      SP70,LWCEADD1 
          MOVE      SP70,LWCEADD2 
          MOVE      SP70,LWCEADD3 
          MOVE      SP70,LWCEPOST 
          MOVE      SP70,LWCETELE 
          MOVE      SP70,LWCACDAT 
          MOVE      ZERO,LWCACCPT 
          MOVE      SP70,LWCICODE 
          MOVE      SP70,LWCCLMNO 
          MOVE      SP70,LWCCOMN1 
          MOVE      SP70,LWCCOMN2 
          MOVE      SP70,LWCSPARE 
.
LCLWCO99  RETURN
.
.------------------------------------------------------------------------------
. Clear fileds for Legacy T.A.C file - legwmabf
.------------------------------------------------------------------------------
LCLWMA00  MOVE      SP70,DLMADMNO
          MOVE      SP70,LMREFNO 
          MOVE      SP70,LMPOLIC 
          MOVE      SP70,LMACDAT 
          MOVE      SP70,LMSNAME 
          MOVE      SP70,LMSTELE 
          MOVE      SP70,LMCREGO 
          MOVE      SP70,LMACLOC 
          MOVE      SP70,LPTAROLE
          MOVE      SP70,LENGAGED
          MOVE      SP70,LPINJURE
          MOVE      SP70,LMDTRANS
          MOVE      SP70,LMECHSEV
          MOVE      SP70,LREGNSEV
          MOVE      SP70,LOTHDET1
          MOVE      SP70,LOTHDET2
          MOVE      SP70,LOTHDET3
          MOVE      SP70,LTWMTIST
          MOVE      SP70,LMSPARE 
.
LCLWMA99  RETURN
.
.------------------------------------------------------------------------------
. Clear fileds for Legacy Veteran Affairs file - legwvetf
.------------------------------------------------------------------------------
LCLWVE00  MOVE      SP70,DLVADMNO
          MOVE      SP70,LVCLMNO 
          MOVE      SP70,LGWVAUTH
          MOVE      SP70,LGWVDATE
          MOVE      SP70,LVSPARE 
.
LCLWVE99  RETURN
