.
.********************************************************************
.     PATPRVDS :  "?" for patprvaf
.     Author   :  Tommy Turtle
.     Date     :  23/02/1994
.********************************************************************
.
.     Open files required : PATPRVA1
.
.
PATPRVDS  DISPLAY   *P1:4,*EF:
                    *P25:4,*V2LON,*ULON,"Health Care Provider"
.
          MOVE      "1",CCOL
          MOVE      "6",CVERT
.
          PACK      KEY6,SP6
          CALL      RSPTPRV1
PTPRV01   CALL      RKPTPRV1
          BRANCH    OVRCD OF ENDPV2
.
          SETLPTR   PTPVDESC,32
          DISPLAY   *PCCOL:CVERT,*V2LON,PTPVCODE,*HOFF,SP1,*+,PTPVDESC;
          ADD       ONE,CVERT
          COMPARE   TWENTY3,CVERT
          GOTO      PTPRV01 IF LESS
.
          MOVE      "6",CVERT
          ADD       "40",CCOL
          COMPARE   "70",CCOL
          GOTO      PTPRV01 IF LESS
.
.>>>>>>>  TRAPCLR   F1
.
.         Use the new standards question
.
PTPRV200  KEYIN     *P1:24,*EL,"(",*V2LON,"C",*HOFF,")ontinue, (":
                    *V2LON,"F",*HOFF,")irst Screen, (":
                    *V2LON,"N",*HOFF,")ext Screen : ",*V2LON,ANS;
.
          PACK      ANS,ANS,SP1
          MATCH     SP1,ANS                      * spaces?
          GOTO      PTPRV400 IF EQUAL            * next screen
.
          TYPE      ANS                          * numeric?
          GOTO      PTPRV300 IF EQUAL
          REP       "c1C1f2F2n3N3",ANS
          TYPE      ANS                          * alphanumeric?
          GOTO      PTPRV300 IF NOT EQUAL
.
          MOVE      ANS,FORM1
          BRANCH    FORM1,ENDPV2:                * continue
                          PATPRVDS:              * first screen
                          PTPRV400               * next screen
.
PTPRV300  BEEP
          GOTO     PTPRV200
.
.         Clear the screen
.
PTPRV400  MOVE      "6",CVERT
          MOVE      ONE,CCOL
          DISPLAY   *P1:5,*EF
.
.>>>>>>>  TRAP      ENDPV0 IF F1
.
          GOTO      PTPRV01
.
ENDPV0    NORETURN
.>>>>>>>  TRAPCLR   F1
.
ENDPV2    MOVE      ZERO,OVRCD
          RETURN
