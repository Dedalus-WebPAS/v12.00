.
. OPRAVEIO.INC
. ------------
. Filename       :  opraveaf.dat
. Description    :  Operation Average - File I/O Subroutines
. Variables      :  OVRCD     FORM      1
.                   KEY15     DIM       15 
.                   KEY19     DIM       19       Audits
.
RAOPAVE1  MOVE      ZERO,OVRCD
          RESET     KEY15 
          READ      OPRAVEA1,KEY15;ANS
          GOTO      OVERCOND IF OVER
          RETURN  
.
RSOPAVE1  MOVE      ZERO,OVRCD
          RESET     KEY15
          READ      OPRAVEA1,KEY15;;
          RETURN  
.
RDOPAVE1  MOVE      ZERO,OVRCD
          RESET     KEY15
          READ      OPRAVEA1,KEY15;OPAVCODE,OPAVDOCT,OPAVAVER,OPAVSPAR
          GOTO      OVERCOND IF OVER
          RETURN  
.
RKOPAVE1  MOVE      ZERO,OVRCD
          READKS    OPRAVEA1;OPAVCODE,OPAVDOCT,OPAVAVER,OPAVSPAR
          GOTO      OVERCOND IF OVER
          RETURN  
.
RPOPAVE1  MOVE      ZERO,OVRCD
          READKP    OPRAVEA1;OPAVCODE,OPAVDOCT,OPAVAVER,OPAVSPAR
          GOTO      OVERCOND IF OVER
          RETURN  
.
UPOPAVE1  UPDATE    OPRAVEA1;OPAVCODE,OPAVDOCT,OPAVAVER,OPAVSPAR
          RETURN
.
WROPAVE1  RESET     KEY15
          WRITE     OPRAVEA1,KEY15;KEY15,OPAVAVER,OPAVSPAR
          RETURN  
.
DEOPAVE1  RESET     KEY15
          DELETE    OPRAVEA1,KEY15
          RETURN
.
.         Second Index I/O's
.
RSOPAVE2  MOVE      ZERO,OVRCD
          RESET     KEY15
          READ      OPRAVEA2,KEY15;;
          RETURN  
.
RDOPAVE2  MOVE      ZERO,OVRCD
          RESET     KEY15
          READ      OPRAVEA2,KEY15;OPAVCODE,OPAVDOCT,OPAVAVER,OPAVSPAR
          GOTO      OVERCOND IF OVER
          RETURN  
.
RKOPAVE2  MOVE      ZERO,OVRCD
          READKS    OPRAVEA2;OPAVCODE,OPAVDOCT,OPAVAVER,OPAVSPAR
          GOTO      OVERCOND IF OVER
          RETURN  
.
RPOPAVE2  MOVE      ZERO,OVRCD
          READKP    OPRAVEA2;OPAVCODE,OPAVDOCT,OPAVAVER,OPAVSPAR
          GOTO      OVERCOND IF OVER
          RETURN  
.
UPOPAVE2  UPDATE    OPRAVEA2;OPAVCODE,OPAVDOCT,OPAVAVER,OPAVSPAR
          RETURN
.
WROPAVE2  RESET     KEY15
          WRITE     OPRAVEA2,KEY15;OPAVCODE,OPAVDOCT,OPAVAVER,OPAVSPAR
          RETURN  
.
DEOPAVE2  RESET     KEY15
          DELETE    OPRAVEA2,KEY15
          RETURN
.
. Audits
.
ASOPAVE   MOVE      ZERO,OVRCD
          RESET     KEY19
          READ      OPRAUDAV,KEY19;;
          RETURN  
.
AKOPAVE   MOVE      ZERO,OVRCD
          READKS    OPRAUDAV;OPAVAUDD,OPAVAUDT,OPAVAUDP,OPAVAUDR,OPAVAUDS:
                             OPAVAUDO,OPAVCODE,OPAVDOCT,OPAVAVER,OPAVSPAR
          GOTO      OVERCOND IF OVER
          RETURN  
.
AWOPAVE   RESET     KEY19
          WRITE     OPRAUDAV,KEY19;KEY19,OPAVAUDS,OPAVAUDO,OPAVCODE:
                    OPAVDOCT,OPAVAVER,OPAVSPAR
          RETURN  
.
AUOPAVE   UPDATE    OPRAUDAV;OPAVAUDD,OPAVAUDT,OPAVAUDP,OPAVAUDR,OPAVAUDS:
                             OPAVAUDO,OPAVCODE,OPAVDOCT,OPAVAVER,OPAVSPAR
          RETURN
.
ADOPAVE   RESET     KEY19
          DELETE    OPRAUDAV,KEY19
          RETURN



