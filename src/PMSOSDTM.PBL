. *----------------------------------------------------------------------
. * Include Name  :   PMSOSDTM.PBL
. *
. * Function      :   Patient Outstanding Debt polling Table routines
. *
. *----------------------------------------------------------------------
.  Modifications Done :
.
.  V9.11.01  24/10/2008  Ebon Clements CAR 154581
.                        Added trap to write
.--------------------------------------------------------------------------
.
          DEFPROC   FLAGDEBT
.
          INC       PMSOSDFD/INC
.
FOSD1000  OPEN      PMSOSDA1,"pmsosdaf"
.
          PACK      KEY8,PINVUR,SP8
          CALL      RDPMOSD1
          IF        OVRCD = 1     
            PACK      PMODURNO,PINVUR,SP8
            PACK      PMODWEBU,USERID,SP10
            PACK      PMODSPAR,SP70
.
            MOVE      ZERO,OVRCD
            TRAP      OVERCOND IF IO
            CALL      WRPMOSD1
            TRAPCLR   IO
          ENDIF
          GOTO      FOSD9999
.
          INC       PMSOSDIO/INC
          INC       IBAOVRIO/INC
.
FOSD9999  CLOSE     PMSOSDA1
          ENDPROC
