.
.         INCLUDE NAME : WATUNSIO.INC
.
.         FILE  I/O REQUESTS FOR WAITING LISTS UNIT/DOCTOR SUMMARY FILE
.
.OVRCD  FORM            1             0 = NOT OVER
.                                     1 = OVER
.
.KEY18    DIM          18             KEY FOR WATUNSA1
.
.         NOTE  OVRCD = 1   RECORD DOES NOT EXIST
.                       2   RECORD IS LOCKED
.
RDAUNSA1 RESET     KEY18
         MOVE      ZERO,OVRCD
         READ      WATUNSA1,KEY18;ANS
         GOTO      OVERCOND IF OVER
         RETURN  
.
RDSUNSA1 RESET     KEY18
         READ      WATUNSA1,KEY18;;
         RETURN  
.
RDUNSA1  MOVE      ZERO,OVRCD
         RESET     KEY18
         READ      WATUNSA1,KEY18;WTUNDATE,WTUNUNIT,WTUNDOCT,WTUNPRTY:
                                  WTUNRNG1,WTUNRNG2,WTUNRNG3,WTUNRNG4:
                                  WTUNRNG5,WTUNRNG6,WTUNDYCS,WTUNINPT,WTUNSPAR
         GOTO      OVERCOND IF OVER
         RETURN  
.
RDKUNSA1 MOVE      ZERO,OVRCD
         READKS    WATUNSA1;WTUNDATE,WTUNUNIT,WTUNDOCT,WTUNPRTY:
                                  WTUNRNG1,WTUNRNG2,WTUNRNG3,WTUNRNG4:
                                  WTUNRNG5,WTUNRNG6,WTUNDYCS,WTUNINPT,WTUNSPAR
         GOTO      OVERCOND IF OVER
         RETURN  
.
WRUNSA1  RESET     KEY18
         WRITE     WATUNSA1,KEY18;KEY18,WTUNRNG1,WTUNRNG2,WTUNRNG3,WTUNRNG4:
                                  WTUNRNG5,WTUNRNG6,WTUNDYCS,WTUNINPT,WTUNSPAR
         RETURN  
.
UPUNSA1  UPDATE    WATUNSA1;WTUNDATE,WTUNUNIT,WTUNDOCT,WTUNPRTY:
                                  WTUNRNG1,WTUNRNG2,WTUNRNG3,WTUNRNG4:
                                  WTUNRNG5,WTUNRNG6,WTUNDYCS,WTUNINPT,WTUNSPAR
         RETURN  
.
DEUNSA1  RESET     KEY18
         DELETE    WATUNSA1,KEY18
         RETURN  
.
