. *----------------------------------------------------------------------
. * Include Name  :   OUTTXSTM.PBL
. *
. * Function      :   CGI variables for OUTTXSFD - outtxsaf.dat
. *
. * Includes Needed :
. *
. *----------------------------------------------------------------------
.  Modifications Done :
.
.  V9.02.01 31/10/2002  Sylvek Litewka
.           Created include.
.                       
.------------------------------------------------------------------------
.   Clear Parameters for Outpatients Extra Template Details file
.------------------------------------------------------------------------
.
CPOTTX00  MOVE      Z70,OTTXS001
          MOVE      Z70,OTTXS002
          MOVE      Z70,OTTXS003
          MOVE      Z70,OTTXS004
          MOVE      Z70,OTTXS005
          MOVE      Z70,OTTXS006
          MOVE      Z70,OTTXS007
          MOVE      Z70,OTTXS008
.
CPOTTX99  RETURN
.------------------------------------------------------------------------
.   Clear All Fields for Outpatients Extra Template Details file
.------------------------------------------------------------------------
CLOTTX00  MOVE      SP70,OTTXSITE
          MOVE      SP70,OTTXCTYP
          MOVE      SP70,OTTXBKSR                                              
          MOVE      SP70,OTTXBKRN
          MOVE      SP70,OTTXBKTM
          MOVE      SP70,OTTXATSR
          MOVE      SP70,OTTXATRN
          MOVE      SP70,OTTXATTM
.
CLOTTX99  RETURN
.------------------------------------------------------------
. Display for Outpatients Extra Templates file
.------------------------------------------------------------
OTTX0000  BRANCH    FLDITMNO,OTTX0010,OTTX0020,OTTX0030,OTTX0040,OTTX0050:
                             OTTX0060,OTTX0070,OTTX0080
.
          WRITE     HTMLFILE;"Invalid IBA Tag";
          GOTO      OTTX9999
.
OTTX0010  WRITE     HTMLFILE;OTTXSITE;
          GOTO      OTTX9999
.
OTTX0020  WRITE     HTMLFILE;OTTXCTYP;
          GOTO      OTTX9999  
.
OTTX0030  WRITE     HTMLFILE;OTTXBKSR;
          GOTO      OTTX9999
.
OTTX0040  WRITE     HTMLFILE;OTTXBKRN;
          GOTO      OTTX9999
.
OTTX0050  WRITE     HTMLFILE;OTTXBKTM;
          GOTO      OTTX9999
.
OTTX0060  WRITE     HTMLFILE;OTTXATSR;
          GOTO      OTTX9999
.
OTTX0070  WRITE     HTMLFILE;OTTXATRN;
          GOTO      OTTX9999
.
OTTX0080  WRITE     HTMLFILE;OTTXATTM;
          GOTO      OTTX9999
.
OTTX9999  RETURN
.------------------------------------------------------------
.   Set Parameters for Outpatients Extra Templates file
.------------------------------------------------------------
SPTXS000  MOVE      ZERO,EXIT
          UNPACK    QRYNAME,KEY5,KEY3
          MOVE      KEY3,F3
          BRANCH    F3,SPTXS001,SPTXS002,SPTXS003,SPTXS004,SPTXS005:
                       SPTXS006,SPTXS007,SPTXS008
.
          MOVE      ONE,EXIT
          GOTO      SPTXS999
.
SPTXS001  MOVE      QRYDATA,OTTXS001
          PACK      OTTXS001,OTTXS001,SP70
          GOTO      SPTXS999
.
SPTXS002  MOVE      QRYDATA,OTTXS002
          PACK      OTTXS002,OTTXS002,SP70
          GOTO      SPTXS999
.
SPTXS003  MOVE      QRYDATA,OTTXS003
          PACK      OTTXS003,OTTXS003,SP70
          GOTO      SPTXS999
.
SPTXS004  MOVE      QRYDATA,OTTXS004
          PACK      OTTXS004,OTTXS004,SP70
          GOTO      SPTXS999
.
SPTXS005  MOVE      QRYDATA,OTTXS005
          PACK      OTTXS005,OTTXS005,SP70
          GOTO      SPTXS999
.
SPTXS006  MOVE      QRYDATA,OTTXS006
          PACK      OTTXS006,OTTXS006,SP70
          GOTO      SPTXS999
.
SPTXS007  MOVE      QRYDATA,OTTXS007
          PACK      OTTXS007,OTTXS007,SP70
          GOTO      SPTXS999
.
SPTXS008  MOVE      QRYDATA,OTTXS008
          PACK      OTTXS008,OTTXS008,SP70
          GOTO      SPTXS999
.
SPTXS999  RETURN
.------------------------------------------------------------
.  Update Outpatients Extra Templates file
.------------------------------------------------------------
MVOTTX00  MATCH     OTTXS001,Z70
          IF        !@EQUAL
            MOVE      OTTXS001,OTTXSITE
          ENDIF
.
          MATCH     OTTXS002,Z70
          IF        !@EQUAL
            MOVE      OTTXS002,OTTXCTYP
          ENDIF
.
          MATCH     OTTXS003,Z70
          IF        !@EQUAL
            MOVE      OTTXS003,OTTXBKSR
          ENDIF
.
          MATCH     OTTXS004,Z70
          IF        !@EQUAL
            MOVE      OTTXS004,OTTXBKRN
          ENDIF
.
          MATCH     OTTXS005,Z70
          IF        !@EQUAL
            MOVE      OTTXS005,OTTXBKTM
          ENDIF
.
          MATCH     OTTXS006,Z70
          IF        !@EQUAL
            MOVE      OTTXS006,OTTXATSR
          ENDIF
.
          MATCH     OTTXS007,Z70
          IF        !@EQUAL
            MOVE      OTTXS007,OTTXATRN
          ENDIF
.
          MATCH     OTTXS008,Z70
          IF        !@EQUAL
            MOVE      OTTXS008,OTTXATTM
          ENDIF
.
MVOTTX99  RETURN
