. **********************************************************************
. * System    :   Accounting System                                    *
. * Include   :   FMSUPDCD  (Needs FMSUPDDF)                           *
. * Desc      :   Standard Update Code Include                         *
. **********************************************************************
. * Date      :   19.09.90                                             *
. * Author    :   Neeriem Dye (IBA)                                    *
. * Mods      :                                                        *
. **********************************************************************
. * 14.11.2000 Sandra Barcham                                          *
. *            Added update of BAS Code                                *
. **********************************************************************
. * 21.10.1993 Neeriem Dye                                             *
. *            Modified for new committed expenditure field            *
. *            srf HWK                                                 *
. **********************************************************************
.
.  The update is activated in the following fashion :
.
.          MOVE      PORT,PORTCODE
.          CALL      CTUP0000           * Update all changed accounts
.
.  This call performs the following actions :
.        - If update not required (FMCOCALC <> 1) exit routine
.        - If any accounts are awaiting update for PORTCODE on FMSTUPAF then
.          update account (If PORTCODE blank, update for all ports)
.  Note : Should include FMSUPDDF.PBL and call OUPD0000 in INIT0000
.         
.
.******************************************************************************
.**********************************************************************
.  OUPD - Open files for update procecdures            Called By INIT
.**********************************************************************
OUPD0000  DISPLAY   *P56:24,"Opening controlf";
          OPEN      CONTROLF,"controlf"
          CALL      RDFMCO50
          CALL      RDFMCO51
          CALL      RDFMCO52
.
          DISPLAY   *P56:24,"Opening fmsamaaf";
          OPEN      FMSAMAA1,"fmsamaaf"
          OPEN      FMSAMAA2,"fmsamaaf"
          OPEN      FMSAMAA3,"fmsamaaf"
          OPEN      FMSAMAA4,"fmsamaaf"
.
          DISPLAY   *P56:24,"Opening fmsbtyaf";
          OPEN      FMSBTYA1,"fmsbtyaf"
.
          DISPLAY   *P56:24,"Opening fmslmaaf";
          OPEN      FMSLMAA1,"fmslmaaf"
.
          DISPLAY   *P56:24,"Opening fmslmcaf";
          OPEN      FMSLMCA1,"fmslmcaf"
.
          DISPLAY   *P56:24,"Opening fmstcfaf";
          OPEN      FMSTCFA1,"fmstcfaf"
          OPEN      FMSTCFA2,"fmstcfaf"
.
          DISPLAY   *P56:24,"Opening fmstupaf";
          OPEN      FMSTUPA1,"fmstupaf"
          OPEN      FMSTUPA2,"fmstupaf"
          OPEN      FMSTUPA3,"fmstupaf"
.
          DISPLAY   *P1:24,*EF;
.
OUPD9999  RETURN
.
.
          INC       PRCFMSAA
          INC       PRCFMSUA
.
          INC       FMSAMAIO/INC
          INC       FMSBUDIO/INC
          INC       FMSBTYIO/INC
          INC       FMSCONIO/INC
          INC       FMSLMAIO/INC
          INC       FMSLMCIO/INC
          INC       FMSTCFIO/INC
          INC       FMSFPSIO/INC
          INC       FMSLBUIO/INC
          INC       FMSSMAIO/INC
          INC       FMSSBUIO/INC
          INC       FMSTUPIO/INC
