. *----------------------------------------------------------------------
. * Include Name  :   PMSHCLTM.PBL
. *
. * Function      :   CGI variables for PMSHCLTM - pmshclaf.dat
. *
. * Includes Needed : PMSHCPFD - Healthcare Professional file
. *                   PMSHCPIO - IO for Healthcare Professional file
. *                   PMSHCGFD - HCP Practice file
. *                   PMSHCGIO - IO for HCP Practice file
. *                   WEBSECFD - Web System Table WEB Security File
. *                   WEBSECIO - IO for Web System Table WEB Security File
. *
. *  V10.13.00  11/01/2018  Ebon Clements TSK 0868909
. *             Added semi colon to end of date tags
. *----------------------------------------------------------------------
.
.------------------------------------------------------------------------
.   Clear Parameters for HCP/HCG Practice Link file
.------------------------------------------------------------------------
.
CPPMHL00  MOVE      Z70,PMHCL001
          MOVE      Z70,PMHCL002
          MOVE      Z70,PMHCL003
          MOVE      Z70,PMHCL004
          MOVE      Z70,PMHCL005
          MOVE      Z70,PMHCL006
          MOVE      Z70,PMHCL007
          MOVE      Z70,PMHCL008
          MOVE      Z70,PMHCL009
          MOVE      Z70,PMHCL010
          MOVE      Z70,PMHCL011
          MOVE      Z70,PMHCL012
          MOVE      Z70,PMHCL013
          MOVE      Z70,PMHCL014
          MOVE      Z70,PMHCL015
          MOVE      Z70,PMHCL016
          MOVE      Z70,PMHCL017
          MOVE      Z70,PMHCL018
.
CPPMHL99  RETURN
.
.
.------------------------------------------------------------
. Add Billing Table Fields
.------------------------------------------------------------
PMHL0000  BRANCH    FLDITMNO,PMHL0100,PMHL0200,PMHL0300,PMHL0400,PMHL0500:
                             PMHL0600,PMHL0700,PMHL0800,PMHL0900,PMHL1000:
                             PMHL1100,PMHL1200,PMHL1300,PMHL1400,PMHL1500:
                             PMHL1600,PMHL1700,PMHL1800
.
          WRITE     HTMLFILE;"Invalid IBA Tag";
          GOTO      PMHL9999
.
PMHL0100  UNPACK    DIM127,D1,KEY1,DIM127
          MOVE      ZERO,F1
          MOVE      KEY1,F1
          BRANCH    F1,PMHL0110
          PACK      KEY10,PMHLHCPC
          CALL      RDPMHCP1
          BRANCH    OVRCD,PMHL9999
          MOVE      PMHCTITL,FMTTITLE
          MOVE      PMHCGNAM,FMTGNAME
          MOVE      PMHCSNAM,FMTSNAME
          CALL      DOCNM000
          WRITE     HTMLFILE;DOCFNAME;
          GOTO      PMHL9999
.
PMHL0110  WRITE     HTMLFILE;PMHLHCPC;
          GOTO      PMHL9999
.
PMHL0200  UNPACK    DIM127,D1,KEY1,DIM127
          MOVE      ZERO,F1
          MOVE      KEY1,F1
          BRANCH    F1,PMHL0210
          PACK      KEY12,PMHLHCPR,SP1,ONE
          CALL      RDPMHCG1
          BRANCH    OVRCD,PMHL9999
          WRITE     HTMLFILE;PMHGPNAM;
          GOTO      PMHL9999
.
PMHL0210  WRITE     HTMLFILE;PMHLHCPR;              * HPS modified(PMHCHCPR)
          GOTO      PMHL9999
.
PMHL0300  WRITE     HTMLFILE;PMHLTYPE;              * HPS modified(PMHCTYPE)
          GOTO      PMHL9999
.
PMHL0400  MATCH     PMHLJPDT,SP70
          GOTO      PMHL9999 IF EQUAL
          UNPACK    PMHLJPDT,CCENT,CYEAR,CMON,CDAY
          MOVE      CMON,F2
          LOAD      MTHNAM3,F2,JAN,FEB,MAR,APR,MAY,JUN,JUL,AUG,SEP,OCT,NOV,DEC
          WRITE     HTMLFILE;CDAY,SP1,MTHNAM3,SP1,CCENT,CYEAR;
          GOTO      PMHL9999
.
PMHL0500  MATCH     PMHLLPDT,SP70
          GOTO      PMHL9999 IF EQUAL
          UNPACK    PMHLLPDT,CCENT,CYEAR,CMON,CDAY
          MOVE      CMON,F2
          LOAD      MTHNAM3,F2,JAN,FEB,MAR,APR,MAY,JUN,JUL,AUG,SEP,OCT,NOV,DEC
          WRITE     HTMLFILE;CDAY,SP1,MTHNAM3,SP1,CCENT,CYEAR;
          GOTO      PMHL9999
.
PMHL0600  WRITE     HTMLFILE;PMHLPRMK;
          GOTO      PMHL9999
.
PMHL0700  WRITE     HTMLFILE;PMHLPRV1;
          GOTO      PMHL9999
.
PMHL0800  WRITE     HTMLFILE;PMHLPRV2;
          GOTO      PMHL9999
.
PMHL0900  WRITE     HTMLFILE;PMHLPRV3;
          GOTO      PMHL9999
.
PMHL1000  WRITE     HTMLFILE;PMHLPRV4;
          GOTO      PMHL9999
.
PMHL1100  WRITE     HTMLFILE;PMHLPRV5;
          GOTO      PMHL9999
.
PMHL1200  WRITE     HTMLFILE;PMHLSTAT;
          GOTO      PMHL9999
.
PMHL1300  MATCH     PMHLCDTE,SP70
          GOTO      PMHL9999 IF EQUAL
          UNPACK    PMHLCDTE,CCENT,CYEAR,CMON,CDAY
          MOVE      CMON,F2
          LOAD      MTHNAM3,F2,JAN,FEB,MAR,APR,MAY,JUN,JUL,AUG,SEP,OCT,NOV,DEC
          WRITE     HTMLFILE;CDAY,SP1,MTHNAM3,SP1,CCENT,CYEAR;
          GOTO      PMHL9999
.
PMHL1400  WRITE     HTMLFILE;PMHLCTIM;
          GOTO      PMHL9999
.
PMHL1500  MATCH     SP70,PMHLWEBC
          GOTO      PMHL9999 IF EQUAL
          PACK      KEY10,PMHLWEBC
          CALL      RDWBSE1
          IF        OVRCD=1
            MOVE      PMHLWEBC,WBSENAM
          ENDIF
          WRITE     HTMLFILE;WBSENAM;
          GOTO      PMHL9999
.
PMHL1600  MATCH     PMHLLUPD,SP70
          GOTO      PMHL9999 IF EQUAL
          UNPACK    PMHLLUPD,CCENT,CYEAR,CMON,CDAY
          MOVE      CMON,F2
          LOAD      MTHNAM3,F2,JAN,FEB,MAR,APR,MAY,JUN,JUL,AUG,SEP,OCT,NOV,DEC
          WRITE     HTMLFILE;CDAY,SP1,MTHNAM3,SP1,CCENT,CYEAR;
          GOTO      PMHL9999
.
PMHL1700  WRITE     HTMLFILE;PMHLLUPT;
          GOTO      PMHL9999
.
PMHL1800  MATCH     SP70,PMHLWEBU
          GOTO      PMHL9999 IF EQUAL
          PACK      KEY10,PMHLWEBU
          CALL      RDWBSE1
          IF        OVRCD=1
            MOVE      PMHLWEBU,WBSENAM
          ENDIF
          WRITE     HTMLFILE;WBSENAM;
          GOTO      PMHL9999
.
PMHL9999  RETURN
.
.------------------------------------------------------------
.   Set Parameters for HCP/HCG Practice Link file
.------------------------------------------------------------
SPPMHL00  MOVE      ZERO,EXIT
          UNPACK    QRYNAME,KEY5,KEY3
          MOVE      KEY3,F3
          BRANCH    F3,SPPMHL01,SPPMHL02,SPPMHL03,SPPMHL04,SPPMHL05:
                       SPPMHL06,SPPMHL07,SPPMHL08,SPPMHL09,SPPMHL10:
                       SPPMHL11,SPPMHL12,SPPMHL13,SPPMHL14,SPPMHL15:
                       SPPMHL16,SPPMHL17,SPPMHL18
.
          MOVE      ONE,EXIT
          GOTO      SPPMHL99
.
SPPMHL01  SQUEEZE   QRYDATA
          MOVE      QRYDATA,PMHCL001
          PACK      PMHCL001,PMHCL001,SP70
          GOTO      SPPMHL99
.
SPPMHL02  SQUEEZE   QRYDATA
          MOVE      QRYDATA,PMHCL002
          PACK      PMHCL002,PMHCL002,SP70
          GOTO      SPPMHL99
.
SPPMHL03  MOVE      QRYDATA,PMHCL003
          GOTO      SPPMHL99
.
SPPMHL04  UNPACK    QRYDATA,CDAY,KEY1,MTHNAM3,KEY1,CCENT,CYEAR
          CALL      SETMTH00                *Set CMON from MTHNAM3
          PACK      PMHCL004,CCENT,CYEAR,CMON,CDAY
          GOTO      SPPMHL99
.
SPPMHL05  UNPACK    QRYDATA,CDAY,KEY1,MTHNAM3,KEY1,CCENT,CYEAR
          CALL      SETMTH00                *Set CMON from MTHNAM3
          PACK      PMHCL005,CCENT,CYEAR,CMON,CDAY
          GOTO      SPPMHL99
.
SPPMHL06  MOVE      QRYDATA,PMHCL006
          GOTO      SPPMHL99
.
SPPMHL07  MOVE      QRYDATA,PMHCL007
          GOTO      SPPMHL99
.
SPPMHL08  MOVE      QRYDATA,PMHCL008
          GOTO      SPPMHL99
.
SPPMHL09  MOVE      QRYDATA,PMHCL009
          GOTO      SPPMHL99
.
SPPMHL10  MOVE      QRYDATA,PMHCL010
          GOTO      SPPMHL99
.
SPPMHL11  MOVE      QRYDATA,PMHCL011
          GOTO      SPPMHL99
.
SPPMHL12  MOVE      QRYDATA,PMHCL012
          GOTO      SPPMHL99
.
SPPMHL13  UNPACK    QRYDATA,CDAY,KEY1,MTHNAM3,KEY1,CCENT,CYEAR
          CALL      SETMTH00                *Set CMON from MTHNAM3
          PACK      PMHCL013,CCENT,CYEAR,CMON,CDAY
          GOTO      SPPMHL99
.
SPPMHL14  MOVE      QRYDATA,PMHCL014
          GOTO      SPPMHL99
.
SPPMHL15  MOVE      QRYDATA,PMHCL015
          GOTO      SPPMHL99
.
SPPMHL16  UNPACK    QRYDATA,CDAY,KEY1,MTHNAM3,KEY1,CCENT,CYEAR
          CALL      SETMTH00                *Set CMON from MTHNAM3
          PACK      PMHCL016,CCENT,CYEAR,CMON,CDAY
          GOTO      SPPMHL99
.
SPPMHL17  MOVE      QRYDATA,PMHCL017
          GOTO      SPPMHL99
.
SPPMHL18  MOVE      QRYDATA,PMHCL018
          GOTO      SPPMHL99
.
SPPMHL99  RETURN
.
.------------------------------------------------------------
.  Update extension file
.------------------------------------------------------------
MVPMHL00  MATCH     PMHCL001,Z70
          IF        !@EQUAL
            MOVE      PMHCL001,PMHLHCPC
          ENDIF
.
          MATCH     PMHCL002,Z70
          IF        !@EQUAL
            MOVE      PMHCL002,PMHLHCPR
          ENDIF
.
          MATCH     PMHCL003,Z70
          IF        !@EQUAL
            MOVE      PMHCL003,PMHLTYPE
          ENDIF
.
          MATCH     PMHCL004,Z70
          IF        !@EQUAL
            MOVE      PMHCL004,PMHLJPDT
          ENDIF
.
          MATCH     PMHCL005,Z70
          IF        !@EQUAL
            MOVE      PMHCL005,PMHLLPDT
          ENDIF
.
          MATCH     PMHCL006,Z70
          IF        !@EQUAL
            MOVE      PMHCL006,PMHLPRMK
          ENDIF
.
          MATCH     PMHCL007,Z70
          IF        !@EQUAL
            MOVE      PMHCL007,PMHLPRV1
          ENDIF
.
          MATCH     PMHCL008,Z70
          IF        !@EQUAL
            MOVE      PMHCL008,PMHLPRV2
          ENDIF
.
          MATCH     PMHCL009,Z70
          IF        !@EQUAL
            MOVE      PMHCL009,PMHLPRV3
          ENDIF
.
          MATCH     PMHCL010,Z70
          IF        !@EQUAL
            MOVE      PMHCL010,PMHLPRV4
          ENDIF
.
          MATCH     PMHCL011,Z70
          IF        !@EQUAL
            MOVE      PMHCL011,PMHLPRV5
          ENDIF
.
          MATCH     PMHCL012,Z70
          IF        !@EQUAL
            MATCH     "2",PMHCL012
            IF        @EQUAL
              MOVE      ZERO,PMHLSTAT
            ELSE
              MOVE      ONE,PMHLSTAT
            ENDIF
          ENDIF
.
          MATCH     PMHCL013,Z70
          IF        !@EQUAL
            MOVE      PMHCL013,PMHLCDTE
          ENDIF
.
          MATCH     PMHCL014,Z70
          IF        !@EQUAL
            MOVE      PMHCL014,PMHLCTIM
          ENDIF
.
          MATCH     PMHCL015,Z70
          IF        !@EQUAL
            MOVE      PMHCL015,PMHLWEBC
          ENDIF
.
          MATCH     PMHCL016,Z70
          IF        !@EQUAL
            MOVE      PMHCL016,PMHLLUPD
          ENDIF
.
          MATCH     PMHCL017,Z70
          IF        !@EQUAL
            MOVE      PMHCL017,PMHLLUPT
          ENDIF
.
          MATCH     PMHCL018,Z70
          IF        !@EQUAL
            MOVE      PMHCL018,PMHLWEBU
          ENDIF

