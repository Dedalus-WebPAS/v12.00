. 21/04/94  RKS  Written for SRF127778
. 05/02/96  BGA  Remove Display of Opens
.******************************************************************************
.* FMSUDACD.PBL  Include to Update all the budget audits                      *
.*                                                                            *
.* REQUIRES:  Variables - FMSUDADF.PBL                                        *
.*            Inlcudes  - FMSBUDFD,FMSBUDIO                                   *
.*                        FMSSBUFD,FMSSBUIO                                   *
.*                        FMSBPFFD,FMSBPFIO                                   *
.*                                                                            *
.******************************************************************************
.******************************************************************************
.* OUDA - Open Audit Files                       Called by Heaps             *
.******************************************************************************
OUDA0000  OPEN      CONTROLF,"controlf"
          MOVE      "   51",AUDTSECT
          MOVE      "49",AUDTPOST
          READ      CONTROLF,AUDTSECT;*AUDTPOST,FMSAUDG
          COMPARE   ONE,FMSAUDG
          GOTO      OUDA9999 IF NOT EQUAL
          OPEN      FMSAUDBU,"fmsaudbu"
          OPEN      FMSAUDBP,"fmsaudbp"
          OPEN      FMSAUDST,"fmsaudst"
.
OUDA9999  RETURN
.******************************************************************************
.* UPBUD - Update FMSBUD file                     Called by Heaps             *
.******************************************************************************
UPBUD000  CALL      SVBUD000                * Save modified Variables
          CALL      RDFMBU1                 * Read Initial Variables
          MOVE      TWO,AUDTTYPE            * before change
          CALL      WAFMBU00                * write audit
          CALL      REBUD000                * Restore modified Variables
          MOVE      THREE,AUDTTYPE          * before change
          CALL      WAFMBU00                * write audit
          CALL      UPFMBU1
.
UPBUD999  RETURN
.******************************************************************************
.* SVBUD - Save FMSBPF variables for audit        Called by POST0000          *
.******************************************************************************
SVBUD000  MOVE      FMBUCULD,SVBUCULD
          MOVE      FMBUCUAC,SVBUCUAC
          MOVE      FMBUCUPR,SVBUCUPR
          MOVE      FMBUCA01,SVBUCA01
          MOVE      FMBUCA02,SVBUCA02
          MOVE      FMBUCA03,SVBUCA03
          MOVE      FMBUCA04,SVBUCA04
          MOVE      FMBUCA05,SVBUCA05
          MOVE      FMBUCA06,SVBUCA06
          MOVE      FMBUCA07,SVBUCA07
          MOVE      FMBUCA08,SVBUCA08
          MOVE      FMBUCA09,SVBUCA09
          MOVE      FMBUCA10,SVBUCA10
          MOVE      FMBUCA11,SVBUCA11
          MOVE      FMBUCA12,SVBUCA12
          MOVE      FMBUCA13,SVBUCA13
          MOVE      FMBUCB01,SVBUCB01
          MOVE      FMBUCB02,SVBUCB02
          MOVE      FMBUCB03,SVBUCB03
          MOVE      FMBUCB04,SVBUCB04
          MOVE      FMBUCB05,SVBUCB05
          MOVE      FMBUCB06,SVBUCB06
          MOVE      FMBUCB07,SVBUCB07
          MOVE      FMBUCB08,SVBUCB08
          MOVE      FMBUCB09,SVBUCB09
          MOVE      FMBUCB10,SVBUCB10
          MOVE      FMBUCB11,SVBUCB11
          MOVE      FMBUCB12,SVBUCB12
          MOVE      FMBUCB13,SVBUCB13
          MOVE      FMBUCC01,SVBUCC01
          MOVE      FMBUCC02,SVBUCC02
          MOVE      FMBUCC03,SVBUCC03
          MOVE      FMBUCC04,SVBUCC04
          MOVE      FMBUCC05,SVBUCC05
          MOVE      FMBUCC06,SVBUCC06
          MOVE      FMBUCC07,SVBUCC07
          MOVE      FMBUCC08,SVBUCC08
          MOVE      FMBUCC09,SVBUCC09
          MOVE      FMBUCC10,SVBUCC10
          MOVE      FMBUCC11,SVBUCC11
          MOVE      FMBUCC12,SVBUCC12
          MOVE      FMBUCC13,SVBUCC13
.
SVBUD999  RETURN
.******************************************************************************
.* REBUD - Restore FMSBPF variables for audit        Called by POST0000       *
.******************************************************************************
REBUD000  MOVE      SVBUCULD,FMBUCULD
          MOVE      SVBUCUAC,FMBUCUAC
          MOVE      SVBUCUPR,FMBUCUPR
          MOVE      SVBUCA01,FMBUCA01
          MOVE      SVBUCA02,FMBUCA02
          MOVE      SVBUCA03,FMBUCA03
          MOVE      SVBUCA04,FMBUCA04
          MOVE      SVBUCA05,FMBUCA05
          MOVE      SVBUCA06,FMBUCA06
          MOVE      SVBUCA07,FMBUCA07
          MOVE      SVBUCA08,FMBUCA08
          MOVE      SVBUCA09,FMBUCA09
          MOVE      SVBUCA10,FMBUCA10
          MOVE      SVBUCA11,FMBUCA11
          MOVE      SVBUCA12,FMBUCA12
          MOVE      SVBUCA13,FMBUCA13
          MOVE      SVBUCB01,FMBUCB01
          MOVE      SVBUCB02,FMBUCB02
          MOVE      SVBUCB03,FMBUCB03
          MOVE      SVBUCB04,FMBUCB04
          MOVE      SVBUCB05,FMBUCB05
          MOVE      SVBUCB06,FMBUCB06
          MOVE      SVBUCB07,FMBUCB07
          MOVE      SVBUCB08,FMBUCB08
          MOVE      SVBUCB09,FMBUCB09
          MOVE      SVBUCB10,FMBUCB10
          MOVE      SVBUCB11,FMBUCB11
          MOVE      SVBUCB12,FMBUCB12
          MOVE      SVBUCB13,FMBUCB13
          MOVE      SVBUCC01,FMBUCC01
          MOVE      SVBUCC02,FMBUCC02
          MOVE      SVBUCC03,FMBUCC03
          MOVE      SVBUCC04,FMBUCC04
          MOVE      SVBUCC05,FMBUCC05
          MOVE      SVBUCC06,FMBUCC06
          MOVE      SVBUCC07,FMBUCC07
          MOVE      SVBUCC08,FMBUCC08
          MOVE      SVBUCC09,FMBUCC09
          MOVE      SVBUCC10,FMBUCC10
          MOVE      SVBUCC11,FMBUCC11
          MOVE      SVBUCC12,FMBUCC12
          MOVE      SVBUCC13,FMBUCC13
.
REBUD999  RETURN
.******************************************************************************
.* UPBPF - Update FMSBPF file                     Called by Heaps             *
.******************************************************************************
UPBPF000  CALL      SVBPF000                * Save modified Variables
          CALL      RDFMBP1                 * Read Initial Variables
          MOVE      TWO,AUDTTYPE            * before change
          CALL      WAFMBP00                * write audit
          CALL      REBPF000                * Restore modified Variables
          MOVE      THREE,AUDTTYPE          * before change
          CALL      WAFMBP00                * write audit
          CALL      UPFMBP1
.
UPBPF999  RETURN
.******************************************************************************
.* SVBPF - Save FMSBPF variables for audit        Called by POST0000          *
.******************************************************************************
SVBPF000  MOVE      FMBPYEAR,SVBPYEAR
          MOVE      FMBPDESC,SVBPDESC
          MOVE      FMBPPC1,SVBPPC1
          MOVE      FMBPPC2,SVBPPC2
          MOVE      FMBPPC3,SVBPPC3
          MOVE      FMBPPC4,SVBPPC4
          MOVE      FMBPPC5,SVBPPC5
          MOVE      FMBPPC6,SVBPPC6
          MOVE      FMBPPC7,SVBPPC7
          MOVE      FMBPPC8,SVBPPC8
          MOVE      FMBPPC9,SVBPPC9
          MOVE      FMBPPC10,SVBPPC10
          MOVE      FMBPPC11,SVBPPC11
          MOVE      FMBPPC12,SVBPPC12
          MOVE      FMBPPC13,SVBPPC13
.
SVBPF999  RETURN
.******************************************************************************
.* REBPF - Restore FMSBPF variables for audit        Called by POST0000       *
.******************************************************************************
REBPF000  MOVE      SVBPYEAR,FMBPYEAR
          MOVE      SVBPDESC,FMBPDESC
          MOVE      SVBPPC1,FMBPPC1
          MOVE      SVBPPC2,FMBPPC2
          MOVE      SVBPPC3,FMBPPC3
          MOVE      SVBPPC4,FMBPPC4
          MOVE      SVBPPC5,FMBPPC5
          MOVE      SVBPPC6,FMBPPC6
          MOVE      SVBPPC7,FMBPPC7
          MOVE      SVBPPC8,FMBPPC8
          MOVE      SVBPPC9,FMBPPC9
          MOVE      SVBPPC10,FMBPPC10
          MOVE      SVBPPC11,FMBPPC11
          MOVE      SVBPPC12,FMBPPC12
          MOVE      SVBPPC13,FMBPPC13
.
REBPF999  RETURN
.******************************************************************************
.* UPSBU - Update FMSSTR file                     Called by Heaps             *
.******************************************************************************
UPSBU000  CALL      SVSBU000                * Save modified Variables
          CALL      RDFMST1                 * Read Initial Variables
          MOVE      TWO,AUDTTYPE            * before change
          CALL      WAFMST00                * write audit
          CALL      RESBU000                * Restore modified Variables
          MOVE      THREE,AUDTTYPE          * before change
          CALL      WAFMST00                * write audit
          CALL      UPFMST1
.
UPSBU999  RETURN
.******************************************************************************
.* SVSBU - Save FMSSTR file                     Called by Heaps               *
.******************************************************************************
SVSBU000  MOVE      FMSTCULD,SVSTCULD
          MOVE      FMSTCUAC,SVSTCUAC
          MOVE      FMSTCUPR,SVSTCUPR
          MOVE      FMSTCA01,SVSTCA01
          MOVE      FMSTCA02,SVSTCA02
          MOVE      FMSTCA03,SVSTCA03
          MOVE      FMSTCA04,SVSTCA04
          MOVE      FMSTCA05,SVSTCA05
          MOVE      FMSTCA06,SVSTCA06
          MOVE      FMSTCA07,SVSTCA07
          MOVE      FMSTCA08,SVSTCA08
          MOVE      FMSTCA09,SVSTCA09
          MOVE      FMSTCA10,SVSTCA10
          MOVE      FMSTCA11,SVSTCA11
          MOVE      FMSTCA12,SVSTCA12
.
SVSBU999  RETURN
.******************************************************************************
.* RESTR - Save FMSSTR file                     Called by Heaps               *
.******************************************************************************
RESBU000  MOVE      SVSTCULD,FMSTCULD
          MOVE      SVSTCUAC,FMSTCUAC
          MOVE      SVSTCUPR,FMSTCUPR
          MOVE      SVSTCA01,FMSTCA01
          MOVE      SVSTCA02,FMSTCA02
          MOVE      SVSTCA03,FMSTCA03
          MOVE      SVSTCA04,FMSTCA04
          MOVE      SVSTCA05,FMSTCA05
          MOVE      SVSTCA06,FMSTCA06
          MOVE      SVSTCA07,FMSTCA07
          MOVE      SVSTCA08,FMSTCA08
          MOVE      SVSTCA09,FMSTCA09
          MOVE      SVSTCA10,FMSTCA10
          MOVE      SVSTCA11,FMSTCA11
          MOVE      SVSTCA12,FMSTCA12
.
RESBU999  RETURN

