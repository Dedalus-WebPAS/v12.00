<HTML> <HEAD><TITLE>JavaChart Date Axis Information</TITLE></HEAD> 
<BODY bgcolor="#ffffff" >
<IMG SRC="../html/images/slice1.gif" BORDER=0>
<H1>JavaChart Date Axis Information</H1>
<P>
Date/Time Axes present some unique labelling and scaling problems.  Using Java's built-in
Date class, data can range from milliseconds to decades, and conventional axis scaling
heuristics sometimes don't apply.  For example, if your data spans several months, you 
may want month labels, and possibly even year labels.  This information is irrelevant
if your data spans only a few seconds.  To further complicate the issue, conventions
for time data dictate irregular periods, such as months and years, and non-decimal
periods, such as minutes and seconds.
<P>
JavaChart's DateAxis class attempts to solve these problems with automatic scaling
algorithms that evaluate your data to create an axis with an appropriate number of
labels, occuring at appropriate breaks (at minutes, weeks, etc.).  The actual label
used for each increment, and it's location is also based on an evaluation of your data.
<P>
For most date/time axes, you'll probably get the best results by relying on
JavaChart's automatic scaling.  However, if you decide to create a manual scale for
your data, there are a few things you'll need to know.
<P>
<b>
Magnitudes:
</b>
JavaChart Date scales use the built-in Java Date class for calculations.  This means
that the actual internal values are based on the number of milliseconds since Java's
"epoch".  We've provided utility routines in the form of a data reader for datasets
and a parser for the axis start (startDate) and end (endDate) that passes your dates 
through to the Java Date parser.  If you want to set your own values without these
utilities, you'll need to use double-precision floating point numbers with the same
magnitude as the Java Date class' internal long integer.
<P>
<b>
Scaling Types:
</b>
JavaChart's internal scaling routines select a scaling type based on the range of
dates you're using.  There are 7 different scaling models in JavaChart Date axes. Each
of these uses somewhat different logic for creating increments, and creates different
labelling outupt:
<P>
<table>
<tr>
<td><b>ScalingType</b></td><td><b>Setting</b></td><td><b>Label Sample</b></td><td></td>
</tr>
<tr>
<td>SecondScaling</td><td>1</td><td>ss:mm</td><td>seconds & milliseconds</td>
</tr>
<tr>
<td>MinuteScaling</td><td>2</td><td>mm:ss</td><td>minutes and seconds (& hours on the whole hour)</td>
</tr>
<tr>
<td>HourScaling</td><td>3</td><td>hh:mm</td><td>hours and minutes</td>
</tr>
<tr>
<td>DayScaling</td><td>4</td><td>1/13</td><td>Month and Day</td>
</tr>
<tr>
<td>WeekScaling</td><td>5</td><td>Jan 1</td><td>Month name and Day</td>
</tr>
<tr>
<td>MonthScaling</td><td>6</td><td>Jan '97</td><td>Month name and Year</td>
</tr>
<tr>
<td>YearScaling</td><td>7</td><td>1997</td><td>Year number</td>
</tr>
</table>
<P>
A manually scaled axis can generally use a scaling type one
magnitude higher and one magnitude lower than that selected by the autoscaler.
However, there are limitations in these calculations that will lead to bizarre labels
for data with inappropriate ranges, and could lead to Java exceptions.
<A href=dl.html>Click here</A> for some samples of various scaling types.
<P>
<b>
Number of Ticks, Grids, and Labels
</b>
<P>
You might be find that ticks, grids, and labels don't align precisely with data
points when you manually scale an axis.  Generally this is because the increment spacing 
is slightly inaccurate.  The actual axis coordinates are milliseconds, so simply
dividing an axis by the number of months you want to see could yield, for example, a
"Jan" label anywhere in the month of January, but not necessarily on Jan 3, at 2:38 PM
PST, where your data point fell.  The autoscaling mechanism prevents this by
adding appropriate axis "cushioning" space at the beginning and ending of the axis to push 
the axis to the beginning of a day, hour, week, month, etc.
<P>
The DateAxis class also attempts to automatically compensate for variance in month and year
intervals by drawing individual labels and grids at a reasonable location, such as the
start of a month, or the first day of the year.  Manually specifying the number of grids,
ticks or labels overrides this facility, starting labels with the date & time you
choose for your startDate, and incrementing them based on the value you chose for
xAxisLabelCount.  If you choose a value for labels, ticks or grids that causes each
step on a month axis to be less than 1 month, or each step on a year axis to be less
than 1 year, you can also end up with labels that don't span your entire axis.
<P>
<b>
Note: due to problems with the Macintosh port of Java's runtime engine, Time/Date
axes do not always work properly on Macintosh clients.  Sorry.  We hope to implement
a workaround soon.
</b>
