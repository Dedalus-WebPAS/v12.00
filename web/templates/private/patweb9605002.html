<meta name="TemplateVersion" content="V12.00.00">
<meta name="TemplateHome" content="private">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript" src="../js/discharge507.js"></script>
<script type="text/javascript" src="../js/patweb96.js"></script>
<script type="text/javascript" src="../js/patweb9605.js"></script>
<script type="text/javascript">
function discharge() {
  f = document.pat96pdf;
  chkDecPRFA();
  chkInformGP();
  if(document.getElementById("ptcnhdps").value == "3") {
    if (ShowDischargeDelayFields == true) {
      if(!validateMRFD(document.pat96pdf.d_adate,document.pat96pdf.mrfddate)) {
        return;
      }
    }
  }
  p=document.pat96pdf;
  if(p.dschdest!=undefined) {
    var ind=p.dschdest.value.substr(9,1);   // Cat DD
  } else {
    var ind=p.dschstat.value.substr(9,1);   // Cat D
  }
  if(ind=='O') {
    p.d_ptmis005.value=p.ptmis005.value;
    p.d_ptmis004.value=p.ptmis004.value;
  }
  if(ind=='S'||ind=='O'||ind=='E') {
    var serverURL = "../cgi-bin/comweb81.pbl?reportno=8" +
                "&admissno="+p.admissno.value.replace(/ /g,"+") +
                "&valptwrd="+p.d_ptmis004.value.replace(/ /g,"+") +
                "&valptbed="+p.d_ptmis005.value.replace(/ /g,"+");
    if(ind=='S'||ind=='E') {
      serverURL += "&valclaim=" + p.d_ptmis027.value.replace(/ /g,"+") +
                   "&valatype=" + p.d_ptmis010.value.replace(/ /g,"+");
    } else {
      serverURL += "&valclaim=" + p.op_ptmis027.value.replace(/ /g,"+") +
                   "&valatype=" + p.op_ptmis010.value.replace(/ /g,"+");
    }
    var returnValue = RSExecute(serverURL);
    if (returnValue.status!=0) {
      return;
    }
    var state = document.getElementById("ptcnhdps").value;
    if(state=="2" || state=="3" || state=="4") {
      p.ptvis048.value=" ";   // Clear post op ward/bed on new admission
      p.ptvis049.value=" ";
    }
  }

  if (validateMandatory(pat96pdf)) {
    SetHousekeeping();
    document.pat96pdf.formactn.value="Discharge";
    i = f.d_ptmis075.selectedIndex
    f.ptmis075.value = f.d_ptmis075.options[i].value;
    f.ptmis073.value = f.d_ptmis073.value;

    statReadmit();
  }
}

function chkInformGP(){
  var state = document.getElementById("ptcnhdps").value;
  if(state != "3"){
    return;
  }
  if (!isWhitespace(document.getElementById('divFaxPrinter').innerHTML))
  {
    var ddlPrtr = document.getElementById('ddlprntr');
    if (ddlPrtr != undefined) {
      document.pat96pdf.faxitflg.value = "1";
      document.pat96pdf.faxprcod.value = ddlPrtr.options[ddlPrtr.selectedIndex].value;
    }
  }

  var divInfrmGP = document.getElementById('divInformGP');
  if (divInfrmGP != undefined && !isWhitespace(divInfrmGP.innerHTML)) {
    var ddlInfGP = document.getElementById('ddlInformGP');
    document.pat96pdf.dschingp.value = ddlInfGP.options[ddlInfGP.selectedIndex].value;
  }
}
function chkDecPRFA() {
  if (document.pat96pdf.ptcndees.value==1) {
    if (document.pat96pdf.patcse.value=="Yes") {
      alert("Patient discharged as deceased. " +
 "PRFA will be changed and prefixed with the Description of Deceased Estates.");
    }
    else {
      if (document.pat96pdf.ptcnhdps.value != "4") {
        var i=document.pat96pdf.dschdest.selectedIndex;
        var ind=document.pat96pdf.dschdest.options[i].value.substring(14,15);

        if (ind=="D") {
          alert("Patient discharged as deceased. " +
 "PRFA will be changed and prefixed with the Description of Deceased Estates.");
        }
      }
    }
  }
}
function DisplayTrnSrcD() {
  var i=document.pat96pdf.dschstat.selectedIndex;
  var ind=document.pat96pdf.dschstat.options[i].value.substring(4,5)
  var ind1=document.pat96pdf.dschstat.options[i].value.substring(3,4)
  if (ind1=="D") {
     TranSrcDesc.innerHTML=Deathnotif1.innerHTML;
     TranSrcField.innerHTML=Deathnotif2.innerHTML;
  } else {
    if (ind!="1") {
      TranSrcDesc.innerHTML="";
      TranSrcField.innerHTML=transferblank.innerHTML;
      document.pat96pdf.trnsfsrc.value="";
    } else {
      TranSrcDesc.innerHTML="Transfer Destination";
      TranSrcField.innerHTML=transfersrc.innerHTML;
    }
  }
  deceasedIndicator = document.pat96pdf.dschstat.value.substr(3,1);
  checkDeceasedINP(deceasedIndicator);
}
function DisplayTrnSrc() {
  f = document.pat96pdf;
  var i=document.pat96pdf.dschdest.selectedIndex;
  var ind=document.pat96pdf.dschdest.options[i].value.substring(4,5)
  var ind1=document.pat96pdf.dschdest.options[i].value.substring(3,4)

  f.DDind01.value = ind1;

  if(ind1=="D") {
     TranSrcDesc.innerHTML=Deathnotif1.innerHTML;
     TranSrcField.innerHTML=Deathnotif2.innerHTML;
  } else {
    if (ind!="1") {
      TranSrcDesc.innerHTML="";
      TranSrcField.innerHTML=transferblank.innerHTML;
      document.pat96pdf.trnsfsrc.value="";
    } else {
      TranSrcDesc.innerHTML="Transfer Destination";
      TranSrcField.innerHTML=transfersrc.innerHTML;
    }
  }
  if (document.pat96pdf.dschsref != undefined) {
    if (ind1=="Z") {
       document.pat96pdf.dschsref.className="";
       document.pat96pdf.dschsref.readOnly= false;
    } else {
       document.pat96pdf.dschsref.value="";
       document.pat96pdf.dschsref.className="Readonly";
       document.pat96pdf.dschsref.readOnly= true;
    }
  }
  deceasedIndicator = document.pat96pdf.dschdest.value.substr(3,1);
  checkDeceasedINP(deceasedIndicator);
}

function DisplayTrnReason() {
  var i=document.pat96pdf.dschdest.selectedIndex;
  var ind2=document.pat96pdf.dschdest.options[i].value.substring(4,5)
  var extstate=document.pat96pdf.ptcnhdps.value;
  var trnreason=document.pat96pdf.ptcntrrs.value;

  TranReasonDesc.innerHTML="";
  TranReasonField.innerHTML="";

  if (ind2!="1") {return;}
  if (extstate=="0" || extstate=="1") {return;}
  if (trnreason==" " || trnreason=="0") {return;}

  TranReasonDesc.innerHTML=tranreasondesc.innerHTML;
  TranReasonField.innerHTML=tranreasonfield.innerHTML;

  if (trnreason=="1") {
    document.pat96pdf.trnsreas.className="Mandatory"; }
}

function DisplayAutopsy() {
  // Check indicator for deceased
  i=document.pat96pdf.dschstat.selectedIndex
  ind=document.pat96pdf.dschstat.options[i].value.substring(3,4)
  if (ind=="D") {
    document.pat96pdf.dschdind.value="1"
    Autop.innerHTML=autopsyDiv.innerHTML;
  }
  else {
    Autop.innerHTML="";
    document.pat96pdf.dschdind.value="0"}
}

function moveMREC() {
  var msg="Do you want to move Medical Record?";
  if (confirm(msg)) {
    document.pat96pdf.movemrec.value=1;
  } else {
    document.pat96pdf.movemrec.value=0;
  }
  document.pat96pdf.submit();
}

function ShowUDFs() {
  var arrUDFs = [ '1', '2', '3', '4', '5' ];
  ShowUserDefinedFields(arrUDFs);
}

function ShowCATvi() {
  if (VariableNameExists('ShowCatvi')) {
    if(ShowCatvi) {
      DischPrepLabel.innerHTML=DispDischPrepLabel.innerHTML;
      DischPrepField.innerHTML=DispDischPrepField.innerHTML;
    }
  }
}

function ShowREDvi() {
  if (VariableNameExists('ShowCatvi')) {
    if(ShowCatvi) {
      if (DischPrep.substring(3,4)=="B") {
        document.getElementById('DischPrepField').className="Red Bold Large";
      } else {
        document.getElementById('DischPrepField').className="Black Bold";
      }
    }
  }
}

// do not want selection list
function LoadWardBeds() {
}

function ShowDischargeDest() {
  var state = document.getElementById("ptcnhdps").value;
  var separationmode=document.pat96pdf.ptcndrsm.value;
  var hospitalxfer=document.pat96pdf.ptcndtrf.value;
  var destLabel = document.getElementById("DischDestDesc");
  var destDLabel = document.getElementById("DischargeDestLabelD");
  var destDDLabel = document.getElementById("DischargeDestLabelDD");

  var destField = document.getElementById("DischDestField");
  var destDField = document.getElementById("DischargeDestFieldD");
  var destDDField = document.getElementById("DischargeDestFieldDD");

  if ((state == "4") && (separationmode == "1") && (hospitalxfer == "1"))
  {
    destLabel.innerHTML = destDLabel.innerHTML;
    destField.innerHTML = destDField.innerHTML;
    DisplayTrnSrcD();statDischarge();
  }
  else
  {
    destLabel.innerHTML = destDDLabel.innerHTML;
    destField.innerHTML = destDDField.innerHTML;
    DisplayTrnSrc();DisplayTrnReason();statDischarge();
  }
}
function SetDefaultAdmDiagToDisch() {
  var p = document.pat96pdf;
  if (!VariableNameExists('DefaultAdmDiagToDisch')) {
    return;
  }
  if (DefaultAdmDiagToDisch == false) {
    return;
  }
  p.dschdia1.value=p.AdmDiagToDisch.value;
}
function SetDefaultDPS() {
  if (document.pat96pdf.dschpysp == undefined) {return;}

  defaultind = document.pat96pdf.defdisps.value.substr(0,1);
//  defaultind = document.pat96pdf.defdisps.value.substr(1,1);

  if (defaultind == "1") {
    defaultcod = document.pat96pdf.defdisps.value.substr(1,1);
    if(!isWhitespace(defaultcod)){
    for (var i=0; i < document.pat96pdf.dschpysp.length; i++) {
      if (document.pat96pdf.dschpysp.options[i].value.substr(3,1) == 
          defaultcod){
        document.pat96pdf.dschpysp.selectedIndex=i;
        return;
      }
    }
   }
  }

  if (defaultind == "2") {
    defaultcod = document.pat96pdf.defdisps.value.substr(1,2);
    if(!isWhitespace(defaultcod)){
    for (var i=0; i < document.pat96pdf.dschpysp.length; i++) {
      if (trim(document.pat96pdf.dschpysp.options[i].value.substr(14,2)) ==
          trim(defaultcod)){
        document.pat96pdf.dschpysp.selectedIndex=i;
        return;
      }
    }
   }
  } 

}

//TSK 0894837 - hide the MH QLD Emp Status (ptqmh003)  
//if the Healthscope Emp Status (pmvxempl) is populated 
function checkEmploymentStatus(){
  var state = document.getElementById("ptcnhdps").value;
  if(state!="4"){
    return;
  }
  var qldmh = document.getElementById("qldmhdoc").value;
  if(qldmh!="1"){
    return;
  }
  if((document.getElementById("pmvxempl").value)!= ""){
    document.getElementById("empstatlbl").style.display="";
    document.getElementById("empstatval").style.display="";
    document.getElementById("empstatlbl2").style.display="none";
    document.getElementById("empstatval2").style.display="none";
    document.getElementById("pmsvx079").className="Mandatory";
    document.getElementById("ptqmh003").className="";
    document.getElementById("empstatval2").value="";
  }else { 
    document.getElementById("empstatlbl2").style.display="";
    document.getElementById("empstatval2").style.display="";
    document.getElementById("empstatlbl").style.display="none";
    document.getElementById("empstatval").style.display="none";
    document.getElementById("ptqmh003").className="Mandatory";
    document.getElementById("pmsvx079").className="";
    document.getElementById("empstatval").value="";
  }
}

//------------------------------------------------------------
// Statistical Discharge
//------------------------------------------------------------
function statDischarge(){
  if(document.pat96pdf.dschdest!=undefined) {
    var i=document.pat96pdf.dschdest.selectedIndex;
    var ind=document.pat96pdf.dschdest.options[i].value.substr(9,1);  // Cat DD
    var ind8=document.pat96pdf.dschdest.options[i].value.substr(10,1);  // Cat DD
  } else {
    var i=document.pat96pdf.dschstat.selectedIndex;
    var ind=document.pat96pdf.dschstat.options[i].value.substr(9,1);  // Cat D
  }
  if(document.pat96pdf.statvtyp!=undefined) {
     document.pat96pdf.statvtyp.value="";
     document.pat96pdf.statvisn.value="";
  }
  if (ind != "S" && ind !="E") {
   document.getElementById('stathead').style.display="none";
   document.getElementById('statcarehead').style.display="none";
   document.getElementById('statcarevalue').style.display="none";
   document.getElementById('oldcarehead').style.display="none";
   document.getElementById('oldcarevalue').style.display="none";
   document.getElementById('d_ptmis012').className="";
   document.getElementById('d_ptmis004').className="";
   document.getElementById('d_ptmis005').className="";
   document.getElementById('d_ptmis010').className="";
   document.getElementById('pattypehead').style.display="none";
   document.getElementById('pattypevalue').style.display="none";
   document.getElementById('resphead').style.display="none";
   document.getElementById('respvalue').style.display="none";
   document.getElementById('d_ptmis007').className="";
   document.getElementById('d_ptmis024').className="";
   document.getElementById('unithead').style.display="none";
   document.getElementById('unitvalue').style.display="none";
   document.getElementById('wardhead').style.display="none";
   document.getElementById('wardvalue').style.display="none";
   document.getElementById('claimhead').style.display="none";
   document.getElementById('claimvalue').style.display="none";
   document.getElementById('d_ptmis027').className="";
   document.getElementById('CasepaymentLbl').style.display="none";
   document.getElementById('CasepaymentTxt').style.display="none";
   document.getElementById('CasemixLbl').style.display="none";
   document.getElementById('CasemixDet').style.display="none";
   document.getElementById('CasemixCLbl').style.display="none";
   document.getElementById('CasemixCDet').style.display="none";
  } else {
   if (document.pat96pdf.admstat.value=="4") {
    alert("Cannot Perform a Care Type Change when Patient is On Leave.");
    document.pat96pdf.dschdest.value="";
    return;
   } else {
   document.getElementById('stathead').style.display="";
   document.getElementById('statcarehead').style.display="";
   document.getElementById('statcarevalue').style.display="";
   document.getElementById('oldcarehead').style.display="";
   document.getElementById('oldcarevalue').style.display="";
   document.getElementById('d_ptmis012').className="Mandatory SelectMed";
   document.getElementById('d_ptmis004').className="Mandatory SelectMed";
   document.getElementById('d_ptmis005').className="mandatory SelectMed";
   document.getElementById('d_ptmis010').className="Mandatory SelectMed";
   document.getElementById('pattypehead').style.display="";
   document.getElementById('pattypevalue').style.display="";
   document.getElementById('resphead').style.display="";
   document.getElementById('respvalue').style.display="";
   document.getElementById('d_ptmis007').className="Mandatory";
   document.getElementById('d_ptmis024').className="Mandatory SelectMed";
   document.getElementById('unithead').style.display="";
   document.getElementById('unitvalue').style.display="";
   document.getElementById('wardhead').style.display="";
   document.getElementById('wardvalue').style.display="";
   document.getElementById('claimhead').style.display="";
   document.getElementById('claimvalue').style.display="";
   document.getElementById('d_ptmis027').className="Mandatory SelectMed";
   document.getElementById('CasepaymentLbl').style.display="none";
   document.getElementById('CasepaymentTxt').style.display="none";
   document.getElementById('CasemixLbl').style.display="none";
   document.getElementById('CasemixDet').style.display="none";
   document.getElementById('CasemixCLbl').style.display="none";
   document.getElementById('CasemixCDet').style.display="none";
   if (ind8 == 'C') {
     document.getElementById('CasepaymentLbl').style.display="";
     document.getElementById('CasepaymentTxt').style.display="";
     document.getElementById('CasemixLbl').style.display="";
     document.getElementById('CasemixDet').style.display="";
     document.getElementById('CasemixCLbl').style.display="";
     document.getElementById('CasemixCDet').style.display="";
     CasepaymentChanged();
   }

   valDoctorUnit();
   LoadCurrentWard();
   LoadWardBeds();
   if (ind == "E") {
     showStatAdmSearch(document.getElementById('urnumber'),
                       document.getElementById('admissno'),
                       document.getElementById('trandate1'));
   }
   }
  }
}
function CasepaymentChanged() {
  f = document.pat96pdf;
  if (f.d_ptmis075.value == "Y") {
    AddClassName(f.d_ptmis073,"Mandatory");
  }
  else {
    RemoveClassName(f.d_ptmis073,"Mandatory");
  } 
} 


</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);ShowCATvi();ShowHousePRI();ShowUDFs();
  DisplayFieldsPRI();ShowDischargeDest();ShowFaxFields();setScannedMR();
  SetDefaultAdmDiagToDisch();SetDefaultDPS();checkEmploymentStatus();
  displayMRFD();ShowHideLateDischargeReason();loadDisInfo();">
<div id=PatientHeading></div>
<script type="text/javascript">
PatientURN="%PATWEB96.05.003";
PatientVIS="%PATWEB96.05.081";
PatientNAM="%PATWEB96.05.002";
PatientSTA="%PATWEB96.05.086.078";
PatientALT="%PATWEB96.05.084";
PatientSEX="%PATWEB96.05.019";
PatientDOB="%PATWEB96.05.020";
PatientAGE="%PATWEB96.05.021";
PatientLOC="%PATWEB96.05.083";
PatientPRI="%PATWEB96.05.086.066.1";
PatientUNT="%PATWEB96.05.066.0";
DoctorCOD="%PATWEB96.05.082.003";
DoctorNAM="%PATWEB96.05.082.002";
PatientAID="%PATWEB96.05.086.090";
PatientIND="%PATWEB96.05.086.091";
PatientCUR="%PATWEB96.05.086.092";
PatientCLC="%PATWEB96.05.086.093.1";
PatientCLH="%STANDARD.01.017.CL";
PatientHFT="%PATWEB96.05.086.094";
PatientCDM="%PATWEB96.05.086.095";
PatientVDH="%PATWEB96.05.086.099.015";
InsertPatientHeader()
</script>
<div id=PatientMenu></div>
<div id=PageBodySection>

<form onsubmit='return validateMandatory(this)' name=pat96pdf id=pat96pdf style="margin:0"
 %PATWEB96.05.201.001
<input type=hidden name=urnumber id=urnumber value="%PATWEB96.05.003">
<input type=hidden name=admissno id=admissno value="%PATWEB96.05.101">
<input type=hidden name=movemrec id=movemrec value="0">
<input type=hidden name=redirect id=redirect value="%PATWEB96.05.001.patweb98.01.001">
<input type=hidden name=nextpage id=nextpage value="2">
<input type=hidden name=formactn id=formactn>
<input type=hidden name=patsex id=patsex   value="%PATWEB96.05.019">
<input type=hidden name=patage id=patage   value="%PATWEB96.05.021">
<input type=hidden name=statevic id=statevic value="%PATWEB96.05.224">
<input type=hidden name=ptcndees id=ptcndees value="%PATWEB96.05.225">
<input type=hidden name=patcse id=patcse   value="%PATWEB96.05.033">
<input type=hidden name=ptcnchod id=ptcnchod id=ptcnchod
 value="%STANDARD.01.025.114.139.0.1">
<input type=hidden name=ptcnusr1 id=ptcnusr1 value="%PATWEB96.05.332">
<input type=hidden name=ptcnusr2 id=ptcnusr2 value="%PATWEB96.05.333">
<input type=hidden name=ptcnusr3 id=ptcnusr3 value="%PATWEB96.05.334">
<input type=hidden name=ptcnusr4 id=ptcnusr4 value="%PATWEB96.05.335">
<input type=hidden name=ptcnusr5 id=ptcnusr5 value="%PATWEB96.05.336">
<input type=hidden name=ptcnusm1 id=ptcnusm1 value="%PATWEB96.05.337">
<input type=hidden name=ptcnusm2 id=ptcnusm2 value="%PATWEB96.05.338">
<input type=hidden name=ptcnusm3 id=ptcnusm3 value="%PATWEB96.05.339">
<input type=hidden name=ptcnusm4 id=ptcnusm4 value="%PATWEB96.05.340">
<input type=hidden name=ptcnusm5 id=ptcnusm5 value="%PATWEB96.05.341">
<input type=hidden name=dschfaxt id=dschfaxt value="%STANDARD.01.025.119.247.0.6">
<input type=hidden name=informgp id=informgp value="%PATWEB96.05.425.0">
<input type=hidden name=refgpnam id=refgpnam value="%PATWEB96.05.431.0">
<input type=hidden name=refgpfax id=refgpfax value="%PATWEB96.05.498.061">
<input type=hidden name=fxprintr id=fxprintr value="%STANDARD.01.025. 89.244.0.6">
<input type=hidden name=hcpactvs id=hcpactvs value="%PATWEB96.05.860">
<input type=hidden name=hcgactvs id=hcgactvs value="%PATWEB96.05.861">
<input type=hidden name=mulhosid id=mulhosid value="%PATWEB96.05.498. 13.1">
<input type=hidden name=faxitflg id=faxitflg value="0">
<input type=hidden name=faxprcod id=faxprcod value=" ">
<input type=hidden name=dschingp id=dschingp value=" ">
<input type=hidden name=qldmhdoc id=qldmhdoc id="qldmhdoc" value="%PATWEB96.05.241">
<input type=hidden name=admstat id=admstat  value="%PATWEB96.05.855">
<input type=hidden name=deftunit id=deftunit value="">
<input type=hidden name=admntype id=admntype value="%PATWEB96.05.111.3">
<input type=hidden name=ptcntrrs id=ptcntrrs value="%STANDARD.01.025.125.182.0.1">
<input type=hidden name=ptcnhdps id=ptcnhdps id="ptcnhdps"
       value="%STANDARD.01.025.080.250.1.1">
<input type=hidden name=ptcndrsm id=ptcndrsm value="%STANDARD.01.025.021.045.1.1" />
<input type=hidden name=ptcndtrf id=ptcndtrf value="%STANDARD.01.025.021.216.1.1" />
<input type="hidden" name="scannedm" id="scannedm" id="scannedm" value="">
<input type=hidden name=AdmDiagToDisch id=AdmDiagToDisch value="%PATWEB96.05.121"/>
<input type=hidden name=defdisps id=defdisps value="%PATWEB96.05.243">
<input type="hidden" name="d_adate" id="d_adate" value="%PATWEB96.05.102">
<input type=hidden name=dummy id=dummy>
<input type=hidden name=atime id=atime value="%PATWEB96.05.103">
<input type=hidden name=ptcndptm id=ptcndptm value="%PATWEB96.05.248">
<input type=hidden name=BTInd11 id=BTInd11 value="%PATWEB96.05.249">
<input type=hidden name=RTInd07 id=RTind07 value="%PATWEB96.05.250">
<input type=hidden name=DDind01 id=DDind01 value="">

<table  border=0 width=100% cellspacing=0 cellpadding=0>
<tr><td class=HeadingCell align=center colspan=4>
      Patient Discharge Form</td>
</tr>
</table>

<table border=0 width=100% cellspacing=0 cellpadding=4>

<tr><td class=DataLabel width=18%><div id="DischPrepLabel"></div></td>
    <td class=DataField width=32%><div id="DischPrepField"></div></td>
</tr>

<tr><td class=DataLabel width=18%>Discharge Date</td>
    <td width=32%><input type=text size=15 maxlength=12 name=trandate1 id=trandate1
         title="Discharge Date" value="%PATWEB96.05.219" tabindex=1
         class="Mandatory PastDate" 
         onblur="checkDate(this,'Date');"
         onchange="ShowHideLateDischargeReason();">
         <img notab src="../images/DateTimeStamp.gif" class="Icon"
          alt="Current" 
          onclick="SetCurrentDateTime(pat96pdf.trandate1,null);">
         <img notab src="../images/DateLookup.gif" class=Icon
          alt="Calendar" date="pat96pdf.trandate1">
    </td>

    <td class=DataLabel width=18%>Discharge Time</td>  
    <td width=32%><input type=text size=8 name=trantime id=trantime id=trantime tabindex=2
        class="Mandatory" title="Discharge Time" value="%PATWEB96.05.220"
        onblur="checkTime(this),ShowHideLateDischargeReason();">
       <img src="../images/DateTimeStamp.gif" class=Icon
        onclick="SetCurrentDateTime(null,pat96pdf.trantime);">
       <img src="../images/TimeLookup.gif" class=Icon
        onclick="TimeLookupFrame(pat96pdf.trantime);"></td></tr>

<tr>
    <td class=DataLabel><div id=DischDestDesc></div></td>
    <td class=DataField><div id=DischDestField></div></td>
    <td class=DataLabel><div id=TranSrcDesc></div></td>
    <td><div id=TranSrcField></div></td>
</tr>

<tr valign=top><td class=DataLabel>Discharge Consultant</td>
    <td class=DataLabel> 
    <input type=text name=dschadta id=dschadta size=10 value="%PATWEB96.05.108.003"
        class=Readonly readonly notab>
    <input type=text name=dschname id=dschname size=25 value="%PATWEB96.05.108.002"
        class=Readonly readonly notab>
    </td> 
    <td><div id=TranReasonDesc></div></td>
    <td><div id=TranReasonField></div></td>
</tr>

<tr valign=top>
    <td class=DataLabel>Comments</td>
    <td><input type=text name=dschcom1 id=dschcom1 size=50 maxlength=40 tabindex=6><br>
        <input type=text name=dschcom2 id=dschcom2 size=50 maxlength=30 tabindex=6></td>
    <td class=DataLabel>Discharge Diagnosis</td>
    <td><input type=text name=dschdia1 id=dschdia1 size=50 maxlength=50 tabindex=17><br>
        <input type=text name=dschdia2 id=dschdia2 size=50 maxlength=50 tabindex=17>
    </td>
</tr>

</tr>
    <td class=DataLabel width=18%><div id=HouseKeepLabel></div></td>
    <td width=32%><div id=HouseKeepField></div></td>
    <td class=DataLabel width=18%><div id=divUDF1Label></div></td>
    <td width=32%><div id=divUDF1Field></div></td>
</tr>

</tr>
    <td class=DataLabel width=18%><div id=HouseStatLabel></div></td>
    <td width=32%><div id=HouseStatField></div></td>
    <td class=DataLabel width=18%><div id=divUDF2Label></div></td>
    <td width=32%><div id=divUDF2Field></div></td>
</tr>

<tr>
    <td class=DataLabel width=18%><div id=State1Label></div></td>
    <td width=32%><div id=State1Field></div></td>
    <td class=DataLabel width=18%><div id=divUDF3Label></div></td>
    <td width=32%><div id=divUDF3Field></div></td>
</tr>

<div id=State4Field>/<div>

<tr valign=top>
    <td class=DataLabel width=18%><div id=State2Label></div></td>
    <td width=32%><div id=State2Field></div></td>
    <td class=DataLabel width=18%><div id=divUDF4Label></div></td>
    <td width=32%><div id=divUDF4Field></div></td>
</tr>

</tr>
    <td class=DataLabel width=18%><div id=State3Label></div></td>
    <td width=32%><div id=State3Field></div></td>
    <td class=DataLabel width=18%><div id=divUDF5Label></div></td>
    <td width=32%><div id=divUDF5Field></div></td>
</tr>

<tr id=LateDiscReason>
    <td width=18%>&nbsp;</td>
    <td width=32%>&nbsp;</td>
    <td class=DataLabel width=18%>Reason for Late Discharge</td>
    <td width=32%>
      <select name=ltdsresn id=ltdsresn title="Reason for Late Discharge"
       class="SelectBig" onchange="LateDischargeReasonChanged();">
      <option></option>
       %STANDARD.01.007.D6
      </select>
    </td>  
</tr>
<tr id=LateDiscReasonComm1>
    <td width=18%>&nbsp;</td>
    <td width=32%>&nbsp;</td>
    <td class=DataLabel width=18%>Reason for Late Discharge Comments</td>
    <td width=32%>
        <input type=text size=45 maxlength=40 name=ltdscom1 id=ltdscom1
         title="Reason for Late Discharge Comments">
    </td>
</tr>
<tr id=LateDiscReasonComm2>
    <td width=18%>&nbsp;</td>
    <td width=32%>&nbsp;</td>
    <td width=18%>&nbsp;</td>
    <td width=32%>
      <input type=text size=45 maxlength=40 name=ltdscom2 id=ltdscom2
        title="Reason for Late Discharge Comments">
    </td>
</tr>

<!-- qld MH fields -->
<tr id="QLDMHFields1" style="display: none">
     <td align=center colspan="4"><hr></td>
     </tr>

<tr id="QLDMHFields2" style="display: none">
    <td class=DataLabel>Type of Usual Accommodation</td>
    <td class=DataField>
    <select name=ptqmh002 id=ptqmh002 title="Usual Accommodation"
          class="SelectBigE" tabindex=30>
     <option></option>
     <option value="1">House or Flat</option>
     <option value="2">Independant Unit as part of retirement village or similar
             </option>
     <option value="3">Hostel or Hostel Accommodation</option>
     <option value="4">Psychiatric Hospital</option>
     <option value="5">Acute Hospital</option>
     <option value="6">Residential Mental Health Care Facility</option>
     <option value="7">Other Accommodation</option>
     <option value="8">No Usual Residence</option>
     </select>
    </td>
    <td class=DataLabel>Referral to Further Care</td>
    <td class=DataField>
    <select name=ptqmh006 id=ptqmh006 title="Referral to Further Care"
          class="SelectBigE" tabindex=34>
     <option value=" "></option>
     <option value="01">Not Referred</option>
     <option value="02">Private Psychiatrist</option>
     <option value="03">Other Private Medical Practitioner</option>
     <option value="04">Mental Health/Alcohol and Drug Facility - Admitted</option>
     <option value="05">Mental Health/Alcohol and Drug Facility - Non Admitted</option>
     <option value="06">Acute Hospital - Admitted</option>
     <option value="07">Acute Hospital - Non Admitted</option>
     <option value="08">Community Health Program</option>
     <option value="09">General Practitioner</option>
     <option value="10">Residential Mental Health Care Facility</option>
     <option value="29">Other</option>
     <option value="98">Not Applicable</option>
     </select>
    </td>
    </tr>

<tr id="QLDMHFields3" style="display: none">
   <td id=empstatlbl2 class=DataLabel>Employment Status </td>
   <td id=empstatval2 class=DataField style="display: none">
    <select name=ptqmh003 id=ptqmh003 title="Employment Status"
          class="SelectBigE" tabindex=31>
     <option value=" "></option>
     <option value="1">Child Not At School</option>
     <option value="2">Student</option>
     <option value="3">Employed</option>
     <option value="4">Unemployed</option>
     <option value="5">Home Duties</option>
     <option value="6">Pensioner</option>
     <option value="8">Other</option>
     </select>
    </td>

    <td id=empstatlbl class=DataLabel>%STANDARD.01.035.KD
    </td>
    <td id=empstatval class=DataField>
    <select name=pmsvx079 id=pmsvx079 title="%STANDARD.01.035.KD"
          class="SelectBigE" tabindex=31>
       <option></option>
       %PATWEB96.05.498.026.2
    </select>
    </td>

    <td class=DataLabel>Legal Status Indicator</td>
    <td class=DataField>
    <select name=ptqmh007 id=ptqmh007 title="Legal Status Indicator"
          class="SelectBigE" tabindex=35>
     <option value=" "></option>
     <option value="1">Involuntary Patient for Any Part Of The Episode</option>
     <option value="2">Voluntary Patient for All Of The Episode</option>
     </select>
    </td></tr>

<tr id="QLDMHFields4" style="display: none">
    <td class=DataLabel>Pension Status</td>
    <td class=DataField>
    <select name=ptqmh004 id=ptqmh004 title="Pension Status"
          class="SelectBigE" tabindex=32>
     <option value=" "></option>
     <option value="1">Age</option>
     <option value="2">Repatriation</option>
     <option value="3">Invalid</option>
     <option value="4">Unemployment Benefit</option>
     <option value="5">Sickness Benefit</option>
     <option value="7">Other</option>
     <option value="8">No Pension/Benefit</option>
     </select>
    </td>
    <td class=DataLabel>Prev Specialised Non-Admitted Treatment</td>
    <td class=DataField>
    <select name=ptqmh008 id=ptqmh008 
          title="Prev Specialised Non-Admitted Treatment"
          class="SelectBigE" tabindex=36>
     <option value=" "></option>
     <option value="1">No Prev Non-Admitted Service Contacts For Psych</option>
     <option value="2">Prev Non-Admitted Service Contacts For Psych</option>
     </select>
    </td></tr>

<tr id="QLDMHFields5" style="display: none">
    <td class=DataLabel>Problem Status</td>
    <td class=DataField>
    <select name=ptqmh005 id=ptqmh005 title="Problem Status"
          class="SelectBigE" tabindex=33>
     <option value=" "></option>
     <option value="1">No Previous Admission for Psychiatric Treatment</option>
     <option value="2">Previous Admission for Psychiatric Treatment</option>
     </select>
    </td>
    <td class=DataLabel></td>
    <td class=DataField></td>
    </tr>
<!-- end qld MH fields -->

</table>
<div id="divInformGP"></div>
<div id="VicMRFD"></div>

<table  border=0 width=100% cellspacing=0 cellpadding=4>
   <input type=hidden name=oldcare id=oldcare value="%PATWEB96.05.113.1">
       <tr><td colspan=4><hr></hr></td></tr>
<tr><td class=DataField colspan=2 id=stathead style="display:none">
        Statistical Admission Details</td></tr>

<tr><td class=DataLabel id=statcarehead style="display:none" width=18%>
        Statistical Re-admission %STANDARD.01.035.CC</td>
    <td id=statcarevalue style="display:none" width=32%>
        <select name=d_ptmis012 id=d_ptmis012 id=d_ptmis012 class="SelectMed" tabindex=50
         title="Statistical Re-admission %STANDARD.01.035.CC">
        <option></option>
        %STANDARD.01.018.CC.   .9.1.15.1.1
        </select></td>
    <td class=DataLabel id=resphead style="display:none">
    Admitting Doctor</td>
    <td class=DataLabel id=respvalue style="display:none">
        <input type="text" size=8 maxlength=6 name=d_ptmis007 id=d_ptmis007 id=d_ptmis007
          tabindex=53
          value="" title='Admitting Doctor'
          onchange="UpCase(this);valDoctorUnit();" >
        <input type=text readonly size=25 name=doctnam2 id=doctnam2
          value="" class="Readonly" readonly notab>
        <img src="../images/SearchIcon.gif" class="Icon"
         onclick="DoctorSearchFrame(pat96pdf.d_ptmis007,
                                    pat96pdf.doctnam2,
                                    valDoctorUnit)">
        <img src="../images/erase.gif" class=Icon
         onclick="clrFields(pat96pdf.d_ptmis007,
                            pat96pdf.doctnam2,
                            pat96pdf.d_ptmis024);"></td>
</tr>

<tr><td class=DataLabel id=oldcarehead style="display:none">
        Current %STANDARD.01.035.CC</td>
    <td id=oldcarevalue style="display:none">
    <input type=text name=oldcarexx id=oldcarexx size=30 value="%PATWEB96.05.113.0"
           class="SelectMed Readonly" readonly notab>
    </td>
    <td class=DataLabel id=unithead style="display:none" width=18%>
      %STANDARD.01.035.AC</td>
    <td class=DataLabel id=unitvalue style="display:none" width=32%>
      <select name=d_ptmis024 id=d_ptmis024 id=d_ptmis024 class="SelectMed Mandatory"
          title="%STANDARD.01.035.AC" tabindex=54>
          <option></option>
          %PATWEB96.05.124.5
          </select>
      </td>
</tr>
<tr>
    <td class=DataLabel id=pattypehead style="display:none">
        %STANDARD.01.035.A </td>
    <td id=pattypevalue style="display:none">
        <select name=d_ptmis010 id=d_ptmis010 id=d_ptmis010 class="SelectMed Mandatory"
         title="%STANDARD.01.035.A " tabindex=51>
        <option></option>
        %PATWEB96.05.111.5
        </select></td>
    <td class=DataLabel id=wardhead style="display:none">
       Ward / Bed on Admission</td>
      <td class=DataLabel id=wardvalue style="display:none">
         <input type=hidden name=bedstat1 id=bedstat1>
           <input type=hidden name=warddesc id=warddesc>
           <input type=hidden name=x_ptmis005 id=x_ptmis005 value="">
           <select name=d_ptmis004 id=d_ptmis004 id=d_ptmis004 title="Ward" tabindex=55>
            <option> </option>
            %PATWEB96.05.810
           </select>
         <input type=text name=d_ptmis005 id=d_ptmis005 id=d_ptmis005 title="Bed"
                maxlength=3 size=3>
         <img src="../images/SearchIcon.gif" class=Icon
         onclick="WardBedSearchFrame(pat96pdf.d_ptmis004,
                                     pat96pdf.warddesc,
                                     pat96pdf.d_ptmis005,
                                     pat96pdf.bedstat1);">
       </td>
</tr>
<tr><td class=DataLabel id=claimhead style="display:none">
         %STANDARD.01.035.CL</td>
    <td class=DataLabel id=claimvalue style="display:none">
          <select name=d_ptmis027 id=d_ptmis027 id=d_ptmis027
           class="SelectMed Mandatory" tabindex=52
                  title="%STANDARD.01.035.CL">
          <option> </option>
          %PATWEB96.05.126.5
          </select>
    </td>
    <td class=DataLabel id=CasepaymentLbl>Casepayment</td>
    <td id=CasepaymentTxt>
       <select name=d_ptmis075 id=d_ptmis075 tabindex=32
        onchange="CasepaymentChanged();">
        <option></option>
         %PATWEB96.05.197.2
       </select>
    </td>
</tr>
<tr>
     <td>&nbsp;</td>
     <td>&nbsp;</td>
     <td class=DataLabel id=CasemixLbl>Casemix Code</td>
     <td class=DataLabel id=CasemixDet>
      <input type=text name=d_ptmis073 id=d_ptmis073 size=10 maxlength=9
       tabindex=33 value=""
       onblur="validateCode(35,pat96pdf.d_ptmis073,
                            pat96pdf.cmixdesc1,pat96pdf.dummy);">
      <input type=text  name=cmixdesc1 id=cmixdesc1 notab
       class="Readonly" readonly size=35
       value="">
      <img notab src="../images/SearchIcon.gif" class=Icon
       onclick="CmixSearchFrame(pat96pdf.d_ptmis073,pat96pdf.cmixdesc1)">
     </td>
</tr>
<tr>
     <td>&nbsp;</td>
     <td>&nbsp;</td>
     <td id=CasemixCLbl class=GreyText>Casemix Code from Linked Discharge visit
     </td>
     <td id=CasemixCDet class=GreyText>
        %PATWEB96.05.198.0 %PATWEB96.05.198.1
     </td>
</tr>

<!-- Admission fields - used for statistical discharges -->
<!-- Admission date (will get set to discharge date)-->
 <input type="hidden" name="ptmis001" id="ptmis001" value="">
<!-- Admission time (will get set to discharge time + 1 second)-->
 <input type="hidden" name="ptmis002" id="ptmis002" value="">
<!-- Admitting Point -->
 <input type=hidden name=ptvis046 id=ptvis046 value="%PATWEB96.05.845">
<!-- Category P -->
 <input type="hidden" name="ptmis011" id="ptmis011" value="%PATWEB96.05.842">
<!-- Category P organ procurement only -->
 <input type="hidden" name="op_ptmis011" id="op_ptmis011" value="%PATWEB96.05.876">
<!-- Source of referral -->
 <input type="hidden" name="ptmis009" id="ptmis009" value="%PATWEB96.05.843">
<!-- Admitting Doctor -->
 <input type="hidden" name="ptmis007" id="ptmis007" value="">
<!-- Category AC  -->
<input type=hidden name=ptmis024 id=ptmis024 value="%PATWEB96.05.124.3">
 <input type="hidden" name=op_ptmis024 id=op_ptmis024 value="%PATWEB96.05.847">
<!-- Days of hospitalisation -->
 <input type="hidden" name=ptmis031 id=ptmis031 value="%PATWEB96.05.130">
<!-- Admission Diagnosis -->
 <input type=hidden name="ptmis020" id="ptmis020" value="%PATWEB96.05.121">
<!-- Mode of Arrival -->
 <input type=hidden name="ptvis054" id="ptvis054" value="%PATWEB96.05.457.1">
<!-- Category KH -->
 <input type=hidden name="ptvis080" id="ptvis080" value="%PATWEB96.05.496.1">
<!-- Category KA -->
 <input type=hidden name="ptvis107" id="ptvis107" value="%PATWEB96.05.498.028.1">
<!-- Category KI -->
 <input type=hidden name="ptvis108" id="ptvis108" value="%PATWEB96.05.498.029.1">
<!-- Provisional DRG -->
 <input type=hidden name="ptmis066" id="ptmis066" value="%PATWEB96.05.140.0">
<!-- Criteria for Admission-->
 <input type="hidden" name=ptvis041 id=ptvis041 value="%PATWEB96.05.444.1">
<!-- Diet-->
 <input type="hidden" name=ptmis028 id=ptmis028 value="%PATWEB96.05.127.1">
<!-- Referring GP -->
 <input type="hidden" name=ptvis028 id=ptvis028 value="%PATWEB96.05.431.1">
<!-- Practice -->
 <input type=hidden name=ptvis029 id=ptvis029 value="%PATWEB96.05.432.1">
<!-- Count -->
 <input type=hidden name=ptvis030 id=ptvis030 value="%PATWEB96.05.433.1">
<!-- Intended Stay -->
 <input type="hidden" name=ptvis043 id=ptvis043 value="%PATWEB96.05.446.1">
<!-- Inform GP -->
 <input type="hidden" name=ptvis022 id=ptvis022 value="%PATWEB96.05.425.0">
<!-- Religious Visit -->
 <input type=hidden name=ptmis017 id=ptmis017 value="%PATWEB96.05.118.0">
<!-- Category KN -->
 <input type=hidden name=ptvis076 id=ptvis076 value="%PATWEB96.05.492.1">
<!-- Research Contact-->
 <input type=hidden name=ptvis084 id=ptvis084 value="%PATWEB96.05.498.003.0">
<!-- Category KG -->
 <input type="hidden" name=ptvis077 id=ptvis077 value="%PATWEB96.05.493.1">
<!-- Category ae -->
 <input type="hidden" name=ptvis118 id=ptvis118 value="%PATWEB96.05.498.040.1">
<!-- Category af -->
 <input type="hidden" name=ptvis119 id=ptvis119 value="%PATWEB96.05.498.041.1">
<!-- Research Use -->
 <input type="hidden" name=ptvis085 id=ptvis085 value="%PATWEB96.05.498.004.0">
<!-- Preferred Accomodation -->
 <input type="hidden" name="ptvis093" id="ptvis093" value="%PATWEB96.05.498.012.1">
<!-- Foundation -->
 <input type="hidden" name="ptmis071" id="ptmis071" value="%PATWEB96.05.161">
<!-- Valuables Location -->
 <input type="hidden" name="ptvis020" id="ptvis020" value="%PATWEB96.05.423">
<!-- Continuous Billing -->
 <input type="hidden" name="ptmis810" id="ptmis810" value="%PATWEB96.05.199.014.0">
<!-- Post op ward -->
 <input type="hidden" name="ptvis048" id="ptvis048" value="%PATWEB96.05.451.0">
<!-- Post op bed -->
 <input type="hidden" name="ptvis049" id="ptvis049" value="%PATWEB96.05.452.0">
<!-- Program -->
 <input type="hidden" name=ptvis099 id=ptvis099 value="%PATWEB96.05.498.021.1">
<!-- Cat PK -->
 <input type="hidden" name=ptvis110 id=ptvis110 value="%PATWEB96.05.498.033.1">
<!-- Category SI -->
 <input type="hidden" name=ptvis103 id=ptvis103 value="%PATWEB96.05.498.025.1">
<!-- Responsible Clinician - organ procurement only -->
 <input type="hidden" name=op_ptmis007 id=op_ptmis007 value="%PATWEB96.05.846">
<!-- Claim Code -->
 <input type="hidden" name=ptmis027 id=ptmis027 value="%PATWEB96.05.126.1">
 <input type="hidden" name=op_ptmis027 id=op_ptmis027 value="%PATWEB96.05.848">
<!-- Funding Source -->
 <input type="hidden" name=ptvis131 id=ptvis131 value="%PATWEB96.05.851.1">
<!-- Ward -->
 <input type=hidden name=ptmis068 id=ptmis068 value="%PATWEB96.05.105.1">
 <input type=hidden name=ptmis004 id=ptmis004 value="%PATWEB96.05.105.1">
<!-- Bed -->
 <input type=hidden name=ptmis076 id=ptmis076 value="%PATWEB96.05.106">
 <input type=hidden name=ptmis005 id=ptmis005 value="%PATWEB96.05.106">

<!-- Category cw -->
 <input type="hidden" name=ptvis125 id=ptvis125 value="%PATWEB96.05.498.047.1">
<!-- Category KD -->
 <input type="hidden" name=ptvis104 id=ptvis104 value="%PATWEB96.05.498.026.1">
<!-- Cat U7 -->
 <input type=hidden name="ptmis043" id="ptmis043" value="%PATWEB96.05.139.1">
<!-- Usual Accom -->
 <input type=hidden name="ptvis095" id="ptvis095" value="%PATWEB96.05.498.017.1">
<!-- PST -->
 <input type=hidden name="ptvis134" id="ptvis134" value="%PATWEB96.05.498.060.1">
<!-- Category A -->
 <input type="hidden" name=ptmis010 id=ptmis010 value="%PATWEB96.05.111.1">
 <input type="hidden" name=op_ptmis010 id=op_ptmis010 value="%PATWEB96.05.880">
<!-- Category CC - only used for organ procurement -->
 <input type="hidden" name=op_ptmis012 id=op_ptmis012 value="%PATWEB96.05.879">
 <input type="hidden" name=ptmis012 id=ptmis012 value="">

<!-- Category SG -->
 <input type="hidden" name=ptvis101 id=ptvis101 value="%PATWEB96.05.498.023.1">
<!-- Category KO -->
 <input type="hidden" name=ptvis078 id=ptvis078 value="%PATWEB96.05.494.1">
<!-- Category LS -->
 <input type="hidden" name=ptvis074 id=ptvis074 value="%PATWEB96.05.489.1">
<!-- Category SH -->
 <input type="hidden" name=ptvis102 id=ptvis102 value="%PATWEB96.05.498.024.1">
<!-- Planned Length of Stay -->
 <input type=hidden name=ptmis030 id=ptmis030 value="%PATWEB96.05.129">
<!-- Program Code -->
 <input type="hidden" name=prgmcode id=prgmcode value="%PATWEB96.05.498.021.1">
<!-- Health Fund -->
 <input type="hidden" name="ptmis013" id="ptmis013" value="%PATWEB96.05.114.0">
 <input type="hidden" name="ptmis014" id="ptmis014" value="%PATWEB96.05.115.0">
 <input type="hidden" name="ptmis015" id="ptmis015" value="%PATWEB96.05.116">

<!-- Casemix Code -->
 <input type=hidden name=ptmis073 id=ptmis073 value="%PATWEB96.05.198.2">
<!-- Case Payment -->
 <input type=hidden name=ptmis075 id=ptmis075 value="%PATWEB96.05.197.0">

<!-- GST Applicable -->
 <input type=hidden name=ptmis074 id=ptmis074 value="%PATWEB96.05.189.0">
<!-- Regimes -->
 <input type="hidden" name="ptrgm001" id="ptrgm001" value="">
 <input type="hidden" name="ptrgm002" id="ptrgm002" value="">
 <input type="hidden" name="ptrgm003" id="ptrgm003" value="">
<!-- ICD Diagnosis -->
 <input type="hidden" name=ptvis075 id=ptvis075 value="%PATWEB96.05.491">
 <input type="hidden" name=op_ptvis075 id=op_ptvis075 value="%PATWEB96.05.849">
<!-- Mental Health fields -->
<input type="hidden" name="mehvs049" id="mehvs049" value="%PATWEB96.05.951">
<input type="hidden" name="mehvs012" id="mehvs012" value="%PATWEB96.05.913">
<input type="hidden" name="mehvs051" id="mehvs051" value="%PATWEB96.05.953">
<input type="hidden" name="mehvs014" id="mehvs014" value="%PATWEB96.05.915">
<input type="hidden" name="mehvs041" id="mehvs041" value="%PATWEB96.05.943">
<input type="hidden" name="mehvs050" id="mehvs050" value="%PATWEB96.05.952.1">
<input type="hidden" name="mehvs052" id="mehvs052" value="%PATWEB96.05.954">
<input type="hidden" name="mehvs053" id="mehvs053" value="%PATWEB96.05.955">
<input type="hidden" name="mehvs028" id="mehvs028" value="%PATWEB96.05.929.1">
<input type="hidden" name="mehvs042" id="mehvs042" value="%PATWEB96.05.944">
<input type="hidden" name="mehvs043" id="mehvs043" value="%PATWEB96.05.945">
<input type="hidden" name="mehvs021" id="mehvs021" value="%PATWEB96.05.922.1">
<input type="hidden" name="mehvs044" id="mehvs044" value="%PATWEB96.05.946.1">
<input type="hidden" name="mehvs022" id="mehvs022" value="%PATWEB96.05.923.1">
<input type="hidden" name="mehvs023" id="mehvs023" value="%PATWEB96.05.924.1">
<input type="hidden" name="mehvs045" id="mehvs045" value="%PATWEB96.05.947">
<input type="hidden" name="mehvs054" id="mehvs054" value="%PATWEB96.05.956.1">
<input type="hidden" name="mehvs024" id="mehvs024" value="%PATWEB96.05.925.1">
<input type="hidden" name="mehvs048" id="mehvs048" value="%PATWEB96.05.950.1">
<input type="hidden" name="mehvs025" id="mehvs025" value="%PATWEB96.05.926.1">
<input type="hidden" name="mehvs030" id="mehvs030" value="%PATWEB96.05.931.1">
<input type="hidden" name="mehvs033" id="mehvs033" value="%PATWEB96.05.934">
<input type="hidden" name="mehvs005" id="mehvs005" value="%PATWEB96.05.906">
<input type="hidden" name="mehvs046" id="mehvs046" value="%PATWEB96.05.948.1">
<input type="hidden" name="mehvs006" id="mehvs006" value="%PATWEB96.05.907">
<input type="hidden" name="mehvs027" id="mehvs027" value="%PATWEB96.05.928.1">
<input type="hidden" name="mehvs007" id="mehvs007" value="%PATWEB96.05.908">
<input type="hidden" name="mehvs008" id="mehvs008" value="%PATWEB96.05.909">
<input type="hidden" name="mehvs009" id="mehvs009" value="%PATWEB96.05.910">
<input type="hidden" name="mehvs011" id="mehvs011" value="%PATWEB96.05.912.0">
<!-- Baby fields -->
<input type="hidden" name="ptmis036" id="ptmis036" value="%PATWEB96.05.199.022">
<input type="hidden" name="ptmis042" id="ptmis042" value="%PATWEB96.05.138.1">
<input type="hidden" name="ptmis051" id="ptmis051" value="%PATWEB96.05.186">
<!-- Link to existing visit type and number fields -->
<input type="hidden" name="statvtyp" id="statvtyp" value="">
<input type="hidden" name="statvisn" id="statvisn" value="">
<!-- TSK 0894837 -->
<input type="hidden" name=pmvxempl id=pmvxempl id=pmvxempl
 value="%PATWEB96.05.498.026.1">
<!-- PMI Foundation -->
<input type="hidden" name="ptmas046" id="ptmas046" value="0">

<tr><td>&nbsp;</td></tr>
<tr valign=bottom>
  <td colspan=4 width=100% align=center valign=bottom>
    <input type=button value="Discharge" class="button" id="disbutton"
      onclick="tempDisable(this);discharge();">
    <input type=button value="Cancel" class="button"
         onclick="PatientLinkTo('patweb98.pbl',1,1,0);">
</td></tr>
</table>
</form>
</div>

<form name=PatientLinks id=PatientLinks method=get>
<input type=hidden name=reportno id=reportno value=1>
<input type=hidden name=template id=template value=004>
<input type=hidden name=urnumber value="%PATWEB96.05.003">
<input type=hidden name=admissno value="%PATWEB96.05.081">
<input type=hidden name=MenuType id=MenuType value="%PATWEB96.05.088">
<input type=hidden name=alert001 id=alert001 value="">
</form>

<script type="text/javascript">
for (var i =0 ; i < document.pat96pdf.trantime.length; i++) {
  if (document.pat96pdf.trantime.options[i].value=="%PATWEB96.05.103") {
    document.pat96pdf.trantime.selectedIndex=i;
  }
};

//document.pat96pdf.dschsref.readOnly = true;
//document.pat96pdf.dschsref.ClassName = "Readonly";

for (var i =0 ; i < document.pat96pdf.trantime.length; i++) {
  if (document.pat96pdf.trantime.options[i].value=="%PATWEB96.05.103") {
    document.pat96pdf.trantime.selectedIndex=i;
  }
};

// dummy function below to override wa functionality in patweb9605.js
function LoadCurrentWard(){
}

DischPrep = "%PATWEB96.05.877.3";
ShowREDvi();

QMHFields = "%PATWEB96.05.241";
if(QMHFields == 1) {
 for (var i=0; i < document.pat96pdf.ptqmh002.length; i++) {
  if (document.pat96pdf.ptqmh002.options[i].value=="%PATWEB96.05.242.002"){
      document.pat96pdf.ptqmh002.selectedIndex=i;
  }
 }
if((document.getElementById("pmvxempl").value)!= " "){
 for (var i=0; i < document.pat96pdf.ptqmh003.length; i++) {
  if (document.pat96pdf.ptqmh003.options[i].value=="%PATWEB96.05.242.003"){
      document.pat96pdf.ptqmh003.selectedIndex=i;
  }
 }
}
 
 for (var i=0; i < document.pat96pdf.ptqmh004.length; i++) {
  if (document.pat96pdf.ptqmh004.options[i].value=="%PATWEB96.05.242.004"){
      document.pat96pdf.ptqmh004.selectedIndex=i;
  }
 }
 for (var i=0; i < document.pat96pdf.ptqmh005.length; i++) {
  if (document.pat96pdf.ptqmh005.options[i].value=="%PATWEB96.05.242.005"){
      document.pat96pdf.ptqmh005.selectedIndex=i;
  }
 }
 for (var i=0; i < document.pat96pdf.ptqmh006.length; i++) {
  if (document.pat96pdf.ptqmh006.options[i].value=="%PATWEB96.05.242.006"){
      document.pat96pdf.ptqmh006.selectedIndex=i;
  }
 }
 for (var i=0; i < document.pat96pdf.ptqmh007.length; i++) {
  if (document.pat96pdf.ptqmh007.options[i].value=="%PATWEB96.05.242.007"){
      document.pat96pdf.ptqmh007.selectedIndex=i;
  }
 }
 for (var i=0; i < document.pat96pdf.ptqmh008.length; i++) {
  if (document.pat96pdf.ptqmh008.options[i].value=="%PATWEB96.05.242.008"){
      document.pat96pdf.ptqmh008.selectedIndex=i;
  }
 }
}

if ("%PATWEB96.05.227" == "1") {
  alert("Patient linked to a boarder.  "+
        "You may need to discharge the boarder also. ");
}

if ("%PATWEB96.05.228" == "1") {
  alert("Patient has a mother/child link. "+
        "You may need to discharge that patient also.");
}
document.pat96pdf.ptmas046.value = PatientALT.substr(10,1);

function loadDisInfo() {
  disDelay(document.getElementById('mrfddate'));
  for (var j=0; j < document.getElementById('vsxdc014').length; j++) {
    if (document.getElementById('vsxdc014').options[j].value.substr(0,3)
        =="%PATWEB96.05.255") {
        document.getElementById('vsxdc014').selectedIndex=j;
    }
  }
}
</script>

<span id=DischargeDestLabelD style="display:none">
%STANDARD.01.035.D
</span>

<span id=DischargeDestLabelDD style="display:none">
%STANDARD.01.035.DD
</span>

<span id=DischargeDestFieldD style="display:none">
    <select name=dschstat id=dschstat id=dschstat
     onchange="DisplayTrnSrcD();statDischarge();"
     class="Mandatory SelectMed" title="%STANDARD.01.035.D " tabindex=3>
    <option></option>
    %PATWEB96.05.303.4
    </select>
</span>

<span id=DischargeDestFieldDD style="display:none">
    <select name=dschdest id=dschdest id=dschdest
     onchange="DisplayTrnSrc();
               DisplayTrnReason();
               statDischarge();
               ShowHideLateDischargeReason();"
     class="Mandatory SelectMed" title="%STANDARD.01.035.DD" tabindex=3>
    <option></option>
    %PATWEB96.05.304.4
    </select>
</span>

<span id=transfersrc style="display:none">
   <input type="text" size=7 maxlength=5 name=trnsfsrc id=trnsfsrc id=trnsfsrc
    class=Mandatory title="Transfer Destination" tabindex=5
    onblur="validateTransSrc(pat96pdf.trnsfsrc,
                             pat96pdf.trandate1,
                             pat96pdf.trandesc);">
   <input type=text size=27 name=trandesc id=trandesc id=trandesc notab
    class=Readonly readonly>
   <img src="../images/SearchIcon.gif" class=Icon
    onclick="TransferSourceFrame(pat96pdf.trnsfsrc,
                                 pat96pdf.trandesc);">
</span>

<span id=transferblank style="display:none">
   <input type=hidden name=trnsfsrc id=trnsfsrc id=trnsfsrc>
</span>

<span id=autopsyDiv style="display:none">
<table>
<tr>
<td> Autopsy <input type=checkbox name=dschautp id=dschautp value=1 checked></td>
</tr></table>
</span>

<span id=Deathnotif1 style="display:none">
   <td class=DataLabel>%STANDARD.01.035.DY</td>
</span>

<span id=Deathnotif2 style="display:none">
   <td><select name=dschdety id=dschdety class="SelectMed Mandatory" tabindex=4
        title="%STANDARD.01.035.DY">
       <option> </option>
        %PATWEB96.05.214
       </select></td>
</span>

<span id="DisplayHouseKeepLabel" style="display:none">
Notify Housekeeping
</span>

<span id="DisplayHouseKeepField" style="display:none">
      <select name=notifyhs id=notifyhs title="Notify Housekeeping" tabindex=7
                  class=Mandatory onchange="HouseMandatory();">
      <option> </option>
      <option value="0">No</option>
      <option value="1">Yes</option>
      </select>
</span>

<span id="DisplayHouseStatLabel" style="display:none">
%STANDARD.01.035.BV
</span>

<span id="DisplayHouseStatField" style="display:none">
    <input type=hidden name=pmhrd001 id=pmhrd001 value="%PATWEB96.05.498.013.1">
    <input type=hidden name=pmhrd002 id=pmhrd002 value="%PATWEB96.05.105.1">
    <input type=hidden name=pmhrd003 id=pmhrd003 value="%PATWEB96.05.106">
    <input type=hidden name=pmhrd004 id=pmhrd004 value="">
    <input type=hidden name=pmhrd005 id=pmhrd005 value="">
    <select name=pmhrd006 id=pmhrd006 title="%STANDARD.01.035.BV" tabindex=8
     class="SelectMed Readonly" disabled>
    <option> </option>
    %STANDARD.01.007.BV
    </select>
</span>

<span id="DispDischPrepLabel" style="display:none">
%STANDARD.01.035.vi
</span>

<span id="DispDischPrepField" style="display:none">
%PATWEB96.05.877.0
</span>

<span id="spUDF1Label" style="display:none">%STANDARD.01.035.D1</span>
<span id="spUDF1Field" style="display:none">
  <select name=dschusr1 id=dschusr1 title="%STANDARD.01.035.D1" class="SelectMed"
     tabindex=18>
    <option></option>
    %PATWEB96.05.307.4
  </select>
</span>

<span id="spUDF2Label" style="display:none">%STANDARD.01.035.D2</span>
<span id="spUDF2Field" style="display:none">
  <select name=dschusr2 id=dschusr2 title="%STANDARD.01.035.D2" class="SelectMed"
     tabindex=19>
    <option></option>
    %PATWEB96.05.308.4
  </select>
</span>

<span id="spUDF3Label" style="display:none">%STANDARD.01.035.D3</span>
<span id="spUDF3Field" style="display:none">
  <select name=dschusr3 id=dschusr3 title="%STANDARD.01.035.D3" class="SelectMed"
     tabindex=20>
    <option></option>
    %PATWEB96.05.309.4
  </select>
</span>

<span id="spUDF4Label" style="display:none">%STANDARD.01.035.D4</span>
<span id="spUDF4Field" style="display:none">
  <select name=dschusr4 id=dschusr4 title="%STANDARD.01.035.D4" class="SelectMed"
     tabindex=21>
    <option></option>
    %PATWEB96.05.310.4
  </select>
</span>

<span id="spUDF5Label" style="display:none">%STANDARD.01.035.D5</span>
<span id="spUDF5Field" style="display:none">
  <select name=dschusr5 id=dschusr5 title="%STANDARD.01.035.D5" class="SelectMed"
     tabindex=22>
    <option></option>
    %PATWEB96.05.311.4
  </select>
</span>

<span id="DisplayBlankLabel" style="display:none">&nbsp;</span>
<span id="DisplayBlankField" style="display:none">&nbsp;</span>

<span id="DisplayIntToReadmitLabel" style="display:none">
%STANDARD.01.035.VR
</span>

<span id="DisplayIntToReadmitField" style="display:none">
  <select name=dschirad id=dschirad title="%STANDARD.01.035.VR" class="SelectMed Mandatory"
     tabindex=12>
    <option> </option>
    %PATWEB96.05.445.4
  </select>
</span>

<span id="DisplaySeparationRefLabel" style="display:none">
Separation Referral
</span>

<span id="DisplaySeparationRefField" style="display:none">
    <input type=text name=dschsref id=dschsref id=dschsref size=4 class=Readonly readonly
     maxlength=4 title="Separation Referral" tabindex=15
     onblur='SeparationRef(pat96pdf.dschsref,
                           pat96pdf.patsex.value,
                           pat96pdf.patage);'>
    <img src="../images/SearchIcon.gif" class=Icon
     onclick="SeparationAlert();">
</span>

<span id="DisplayCarerAvailabilityLabel" style="display:none">
%STANDARD.01.035.VK
</span>

<span id="DisplayCarerAvailabilityField" style="display:none">
      <select name=dschcrav id=dschcrav title="%STANDARD.01.035.VK" class="SelectMed"
       tabindex=14>
      <option> </option>
      %PATWEB96.05.447.4
      </select>
</span>

<span id="DisplayRefOnSepLabel" style="display:none">
%STANDARD.01.035.YF
</span>

<span id="DisplayRefOnSepField" style="display:none">
     <select class="Mandatory SelectMed" name="dschrtos" id="dschrtos"
      title="%STANDARD.01.035.YF" tabindex=9>
     <option></option>
     %PATWEB96.05.498.038.4
     </select>
</span>

<span id="DisplayPayStatOnSepLabel" style="display:none">
%STANDARD.01.035.KK
</span>

<span id="DisplayPayStatOnSepField" style="display:none">
      <select name=dschpysp id=dschpysp title="%STANDARD.01.035.KK"
       class="SelectMed Mandatory" tabindex=10>
      <option> </option>
      %PATWEB96.05.498.014.4
      </select>
</span>

<span id="DisplayPallCareStatLabel" style="display:none">
%STANDARD.01.035.KG
</span>

<span id="DisplayPallCareStatField" style="display:none">
      <select name=dschpalc id=dschpalc class="SelectMed Mandatory"
       title="%STANDARD.01.035.KG" tabindex=11>
      <option> </option>
      %PATWEB96.05.493.5
      </select>
</span>

<span id="DisplayMentalLegalLabel" style="display:none">
%STANDARD.01.035.LS
</span>

<span id="DisplayMentalLegalField" style="display:none">
      <select name=dschmhls id=dschmhls title="%STANDARD.01.035.LS" tabindex=16
       class="SelectMed">
      <option> </option>
      %PATWEB96.05.489.5
      </select>
</span>

<span id="DisplayMentalLegalHidden" style="display:none">
<input type="hidden" name=dschmhls id=dschmhls value="%PATWEB96.05.489.1">
</span>

<span id=tranreasondesc style="display:none">
    <td class=DataLabel>Reason For Transfer</td>
</span>

<span id=tranreasonfield style="display:none">
    <td><select name=trnsreas id=trnsreas id=trnsreas title="Reason For Transfer">
     <option> </option>
     %PATWEB96.05.498.063.2
    </select></td>
</span>

<!-- inform gp -->
<span id="spInformGP" style="display:none">
<table border=0 width=100% cellspacing=0 cellpadding=4>
<tr>
  <td class=DataLabel width=18%>Inform GP</td>
  <td>
    <select name=ddlInformGP id=ddlInformGP id=ddlInformGP title="Inform GP"
     onchange="ToggleInformGP(this);">
      <option value="0">No</option>
      <option value="1">Yes</option>
    </select>
  </td>
</tr>
<tr>
  <td class=DataLabel>Referring GP</td>
  <td class=DataField><div id="divRefGP">%PATWEB96.05.431.0</div></td>
</tr>
<tr>
  <td class=DataLabel>Fax Number</td>
  <td class=DataField><div id="divFaxNo">%PATWEB96.05.498.061</div></td>
</tr>
<tr>
  <td class=DataLabel>Printer</td>
  <td><div id="divFaxPrinter"></div></td>
</tr>
</table>
</span>

<span id="spFaxPrinter" style="display:none">
  <select name=ddlprntr id=ddlprntr id=ddlprntr title="Default Fax Printer" >
    <option> </option>
    %PATWEB96.05.859
  </select>
</span>

<span id="ShowVicMRFD" style="display:none">
<table border=0 width=100% cellspacing=0 cellpadding=4>
  <tr><td class=DataLabel width=18%>Clinically Ready for Discharge Date</td>
      <td><input type=text size=15 maxlength=12 name=mrfddate
         id=mrfddate title="Medically Ready for Discharge Date"
         value="%PATWEB96.05.247"
         onblur="checkDate(this,'Date');disDelay(this);" class="Date" >
         <img notab src="../images/DateTimeStamp.gif" class=Icon
          alt="Current"
          onclick="SetCurrentDateTime(pat96pdf.mrfddate,null);">
         <img notab src="../images/DateLookup.gif" class=Icon
          alt="Calendar" date="pat96pdf.mrfddate"></td>
      </tr>
      <tr id=rsndisde style="display: none;">
      <td class=DataLabel>Reason for Discharge Delay</td>
      <td><select name=vsxdc014 id=vsxdc014 title="Reason for Discharge Delay">
           <option></option>
           %STANDARD.01.007.z1
          </select></td></tr>
</table>
</span>
