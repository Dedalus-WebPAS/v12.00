<meta name="TemplateVersion" content="V12.00.01">
<meta name="TemplateHome" content="stv">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript">
function init() {
  UpdateForm.redirect.value+="watweb01.pbl?reportno=2&template=1&casekeys=" +
    PatientLinks.casekeys.value.replace(/ /g,"+") + "&showcomm=1";

  checkDate(document.getElementById('date_keyed'),'Date Keyed',document.getElementById('date_keyedCCYYMMDD'));
   hourStay();
   prevTWT();

  if (UpdateForm.BookingStatus.value == "1") {
    UpdateForm.bkrec005.className="Readonly";
    UpdateForm.bkrec005.disabled=true;
  }
  if (UpdateForm.date_keyedCCYYMMDD.value < DOYR2021) {
    UpdateForm.wattr059.className=""
  }
}
 

function DisableIcon(field) {
  if (field.disabled == true) {
    alert(field.title + " is for display only");
    UpdateForm.wattr004.focus();
  }
}

function ChgReason() {
  UpdateForm.wathi001.className="Mandatory";
}

function EnterSus() {
  ChgStat();
  i=document.UpdateForm.wattx004.selectedIndex;
  ind=document.UpdateForm.wattx004.options[i].value.substring(3,4);
  if (ind !="R") {
    CASEKEYS=PatientLinks.casekeys.value.replace(/ /g,"+");
    LinkUrl="watweb01.pbl?reportno=5&template=002&casekeys="+CASEKEYS;
    Left=(document.body.clientWidth-650)/2;
    DFrameLink(LinkUrl,50,Left,650,400);
  }
}

function ChgStat() { }

function Listst() {
  i=document.UpdateForm.ListStat.selectedIndex;
  document.UpdateForm.wattx004.value=document.UpdateForm.ListStat.options[i].value.substring(3,6);
}

function UpdateWat() {
  if (!isWhitespace(UpdateForm.wattx028.value)){
    if (isWhitespace(UpdateForm.wattr022.value)){
      alert("Preadmission Time requires a Preadmission Date")
      return; 
    }
  }

  datechk=validateOpDate();
  if (!datechk) {
    return;
  }
  datechk1=validatePreDate();
  if (!datechk1) {
    return;
  }
  datechk2=validateTime();
  if (!datechk2) {
    return;
  }

  if (UpdateForm.wattr014.value.substr(3,1)=="U"){
    datechk3=validateOverDate();
    if (!datechk3) {
      if(!confirm('Warning - Proposed Admission Date exceeds 30 days')){
        UpdateForm.wattr008.select()
        UpdateForm.wattr008.focus()
        return;
      }
    }
  }

  if (!validateMandatory(UpdateForm)) {return;}

  if (document.getElementById('d_wattx032').checked==true) {
    document.getElementById('wattx032').value="1";
  }
  else {
    document.getElementById('wattx032').value="0";
  }

  if (document.getElementById('wattx032').value=="1" &&
    document.UpdateForm.wattr013.value!="0"){
    alert("Cannot have a length of stay > 0 if planned 23 hour stay.")
    return;
  }

  if (!validateReferalAcctptDate()) {return;}

  SubmitHidden(UpdateForm);
}

function validateReferalAcctptDate() {
  date1=UpdateForm.wattr006.value;
  date2=UpdateForm.wattr059.value;
  date3=UpdateForm.date_keyed.value;

  if (isWhitespace(date1)) {return true;}
  if (isWhitespace(date2)) {return true;}

  if (ChkDateTime2(date1,date2)) {
     message="Referral Accepted Date should be equal to or greater than ";
     message+="Date On List";
     alert(message);
     return false;
  }

  if (isWhitespace(date3)) {return true;}

  if (ChkDateTime2(date2,date3)) {
     message="Referral Accepted Date should be equal to or less than ";
     message+="Date Keyed";
     alert(message);
     return false;
  }

  return true;  

}

function validateOpDate(){
  date1=UpdateForm.wattr008.value;
  date2=UpdateForm.wattr028.value;

  if (isWhitespace(UpdateForm.wattr028.value) ||
      isWhitespace(UpdateForm.wattr008.value)) {
    return true;
  }
  else { 
    if (ChkDateTime2(date1,date2)) {
     message=" \"Proposed Operation Date\" should be equal to or greater than ";
     message+="\"Proposed Admission Date\"";
     alert(message);
     return false;
   }
   return true;
  }
}

function validatePreDate(){
  date2=UpdateForm.wattr008.value;
  date1=UpdateForm.wattr022.value;

  if (isWhitespace(UpdateForm.wattr008.value) ||
      isWhitespace(UpdateForm.wattr022.value)) {
    return true;
  }
  else { 
    if(ChkDateTime2(date1,date2)) {
      message=" \"Proposed Admission Date\" Can't be Less than ";
      message+="\"Preadmission Date\"";
      alert(message);
      return false;
    }
    return true;
  }
}

function validateOverDate(){
  date1=UpdateForm.wattr008.value;
  date2=UpdateForm.overdate.value;

  if (isWhitespace(UpdateForm.wattr008.value) ||
      isWhitespace(UpdateForm.overdate.value)) {
    return true;
  }
  else { 
    if (ChkDateTime2(date1,date2)) {
      return false;
    }
    return true;
  }
}

function ChkDateTime1(strtDate,endDate) {
  var strtDay  = strtDate.substring(0,2);
  var strtMon  = strtDate.substring(3,6);
  var strtYear = strtDate.substring(7,11);

  var endDay   = endDate.substring(0,2);
  var endMon   = endDate.substring(3,6);
  var endYear  = endDate.substring(7,11);

  strtMon = GetMonthNumber(strtMon);
  endMon  = GetMonthNumber(endMon);

  var strtDateTime = strtYear + strtMon + strtDay 
  var endDateTime  = endYear + endMon + endDay 
  if (endDateTime <= strtDateTime ) return false;
  return true;
}

function ChkDateTime2(strtDate,endDate) {
  var strtDay  = strtDate.substring(0,2);
  var strtMon  = strtDate.substring(3,6);
  var strtYear = strtDate.substring(7,11);

  var endDay   = endDate.substring(0,2);
  var endMon   = endDate.substring(3,6);
  var endYear  = endDate.substring(7,11);

  strtMon = GetMonthNumber(strtMon);
  endMon  = GetMonthNumber(endMon);

  var strtDateTime = strtYear + strtMon + strtDay
  var endDateTime  = endYear + endMon + endDay
  if (endDateTime >= strtDateTime ) {
     return false;
  }
  return true;
}

function validateTime(){
  date1=UpdateForm.wattr008.value;
  date2=UpdateForm.wattr006.value;

  if (ChkDateTime1(date1,date2)) {
    message="Proposed Admission Date cannot be before ";
    message+=(DoLDescription);
    alert(message);
    return false;
  }
  return true;
}

function RemoveQuote(Field) {
  Field.value=Field.value.replace(/\"/g,"");
}
</script>

</head>
%START.OF.PAGE
<body onload="PageLoad(event);DisplayTrnSrc(UpdateForm.wattr050);
  referralAcceptedMandatory();">
<div id=PatientHeading></div>
<script type="text/javascript">
PatientURN="%WATWEB01.02.003";
PatientVIS="%WATWEB01.02.081";
PatientNAM="%WATWEB01.02.002";
PatientSTA="%WATWEB01.02.086.078";
PatientALT="%WATWEB01.02.084";
PatientSEX="%WATWEB01.02.019";
PatientDOB="%WATWEB01.02.020";
PatientAGE="%WATWEB01.02.021";
PatientLOC="%WATWEB01.02.083";
DoctorCOD="%WATWEB01.02.082.003";
DoctorNAM="%WATWEB01.02.082.002";
PatientAID="%WATWEB01.02.086.090";
PatientIND="%WATWEB01.02.086.091";
PatientCUR="%WATWEB01.02.086.092";
PatientCLC="%WATWEB01.02.086.093.1";
PatientCLH="%STANDARD.01.017.CL";
PatientHFT="%WATWEB01.02.086.094";
PatientCDM="%WATWEB01.02.086.095";
PatientVDH="%WATWEB01.02.086.099.015";
PatientUNT="%WATWEB01.02.066.0";
PatientPRI="%WATWEB01.02.086.066.1";
InsertPatientHeader()
</script>

<div id=PatientMenu></div>
<div id=PageBodySection style="overflow: auto;">

<form name=UpdateForm action="watweb01.pbl" method=post
 onsubmit="Listst();return validateMandatory(this);">
<input type=hidden name=reportno value=2>
<input type=hidden name=template value=1>
<input type=hidden name=casekeys value="%WATWEB01.02.101">
<input type=hidden name=updttype value="U">
<input type=hidden name=nextpage value="7">
<input type=hidden name=redirect value="">
<input type=hidden name=dummy value="">
<input type=hidden name=wattx004 value="">
<input type=hidden name=BookingStatus value="%WATWEB01.02.175">
<input type=hidden name=overdate value="%WATWEB01.02.615">

<table border=0 width=100% cellspacing=0 align=center cellpadding=1>
<tr><td class=HeadingCell align=center>
    Update Waiting List Entry</td>
</tr>
</table>

<table border=0 width=95% cellspacing=0 cellpadding=1 align=center>
<tr><td class=DataLabel width=10%>Consultant</td>
    <td class=DataField>
    <input type=text name=wattr012 size=8 tabindex=1 maxlength=8 readonly
      title="Consultant" class=Readonly value="%WATWEB01.02.115.003">
    <input type=text name=n_wattr012 size=40 readonly
      title="Consultant Name" class=Readonly 
      value="%WATWEB01.02.115.002">
    </td>
    <td class=DataLabel width=10%>
      <script type="text/javascript">DoLDesc();</script>
    </td>
    <td class=DataField>
    <input type=text name=wattr006 size=12 tabindex=2
     title="Date on List" class=Readonly readonly
     value="%WATWEB01.02.109" onblur="checkDate(this,'Date')">
    </td>
</tr>

<tr><td class=DataLabel>Unit</td>
    <td class=DataField>
    <input type=hidden name=wattr011 value="%WATWEB01.02.114.1">
    <input type=text readonly size=30 class=Readonly name=xxxtr011 
        value="%WATWEB01.02.114.0" readonly tabindex=2>
    </td>
    <td class=DataLabel>Referral Accepted Date</td>
    <td class=DataField>
    <input type=text name=wattr059 size=12 tabindex=3
     onblur="checkDate(this,'Date');"
     title="Referral Accepted Date"
     value="%WATWEB01.02.199.010">
    <img src=../images/DateTimeStamp.gif class=Icon date=UpdateForm.wattr059
     time=null>
    <img src=../images/DateLookup.gif class=Icon date=UpdateForm.wattr059>
    </td></tr>

<tr><td class=DataLabel>Procedure Code</td>
    <td class=DataField>
    <input type=text  class=Readonly  readonly name=wattr001 tabindex=4
    title="Procedure Code" value=%WATWEB01.02.103 ></td>

    <td class=DataLabel>Listing Status</td>
    <td class=DataField>
    <select name=ListStat title="Listing Status" tabindex=5
    onchange="EnterSus();" class=Readonly readonly disabled>
     %WATWEB01.02.504.2
    </select></td></tr>

<tr><td class=DataLabel>Diagnosis</td>
    <td class=DataField width=35%>
    <input type=text name=wattr004 size=80 maxlength=80 tabindex=6
     value="%WATWEB01.02.107" onblur="RemoveQuote(this);"></td>

    <td class=DataLabel>%STANDARD.01.017.TP</td>
    <td class=DataField>
    <select name=wattr014 tabindex=7 class=Readonly readonly disabled 
     title="%STANDARD.01.017.TP">
    <option></option>
    %WATWEB01.02.117.2
    </select></td></tr>

<tr><td class=DataLabel>Procedure</td>
    <td class=DataField>
   <input type=text name=wattr003 size=80 tabindex=8 maxlength=80 
    value="%WATWEB01.02.106" onblur="RemoveQuote(this);"></td>

    <td class=DataLabel>Planned LOS </td>
    <td class=DataField>
    <input type=text name=wattr013 size=5 maxlength=5 tabindex=9
     class="Mandatory Integer" min=0 value="%WATWEB01.02.116"
     title="Planned LOS">(days)</td>
</tr>
<tr><td class=DataLabel>%STANDARD.01.017.CL</td>
    <td class=DataField>
    <select name=wattx026 tabindex=10 class=selectBig  title="">
    <option></option>
    %WATWEB01.02.526.9.1.10.2.X
    </select></td>
    <input type=hidden name=wattx032 id=wattx032>
    <td class=DataLabel>%STANDARD.01.017.As</td>
    <td class=DataField>
      <select name=wattx057 tabindex=10 title="%STANDARD.01.017.A" 
       class="selectBig Mandatory" >
      <option></option>
      %WATWEB01.02.560.9.5
      </select>
    </td></tr>

<tr><td><div id=div23hourstayLabel></div></td>
    <td><div id=div23hourstay></div></td></tr>
</tr>

<tr><td class=DataLabel>Referral Source</td>
    <td class=DataField>
    <select name=wattr050 tabindex=12 class="selectBig Mandatory"
     title="Referral Source" onchange="DisplayTrnSrc(this);">
    <option></option>
    %WATWEB01.02.187.2
    </select></td>
    <td><div id=divTransferLabel></div></td>
    <td><div id=divTransferSource></div></td></tr>
<input type=hidden name=date_keyedCCYYMMDD id=date_keyedCCYYMMDD>

<tr id=previous_twt style="display:none">
   <td></td><td></td>
  <td>
  Previous Total Waiting Time</td>
  <td><input type="text" size=10 
   maxlength=4 name=prevtt01 id=prevtt01 tabindex=13
   title="Previous Total Waiting Days" value=%WATWEB01.02.379>
</td></tr>

<tr><td class=DataLabel>Admitting Point  </td>
    <td class=DataField>
    <select name=wattx006 tabindex=14 class="selectBig Mandatory"
     title="Admitting Point">
    <option></option>  
    %WATWEB01.02.506.2
    </select></td>

    <td class=DataLabel>Exp. Post Op Ward  </td>
    <td class=DataField>
    <select name=wattx005 tabindex=15 class="selectBig Mandatory" 
     title="Exp. Post Op Ward">
    <option></option>  
    %WATWEB01.02.505.2
    </select></td>
</tr>


<tr><td class=DataLabel>Estimated Op Time  </td>
    <td class=DataField>
    <input type=text name=wattr002 size=10 tabindex=16 maxlength=5   
       title="Estimated Operating time" class=Integer min=0 
       value=%WATWEB01.02.105></td>

    <td class=DataLabel>Short Notice</td>
    <td class=DataField>
    <select name=wattr015 tabindex=17 class=selectBig>
    <option></option>
    %WATWEB01.02.118.2
    </select></td></tr>

<tr><td class=DataLabel>Consent Obtained </td>
    <td class=DataField>
    <select name=wattr054 tabindex=18 maxlength=3 class="Mandatory"
     title="Consent Obtained" onchange="changeConsent()">
    <option></option>  
    <option value="No "> No </option>
    <option value="Yes"> Yes </option>
    </select></td>

    <td class=DataLabel>Consent Date</td>
    <td class=DataField>
    <input type=text name=wattr055 size=12 tabindex=19
     onblur="checkDate(this,'Date')" value="%WATWEB01.02.194"
     class= "PastDate" title="Concent Date">
    <img src=../images/DateTimeStamp.gif class=Icon 
     date=UpdateForm.wattr055 time=null>
    <img src=../images/DateLookup.gif class=Icon date=UpdateForm.wattr055>
    </td></tr>

<tr> <td class=DataLabel>Proposed Adm. Date   </td>
<td><input type=text name=wattr008 size=12 maxlength=12 tabindex=20  
     title="Proposed Admission Date" 
     onblur="checkDate(this,'Date')" value="%WATWEB01.02.111" >
    <img src=../images/DateLookup.gif class=Icon
     date=UpdateForm.wattr008>
    Time
    <input type=text name=wattx015 size=8 maxlength=8 tabindex=21 title="Time"
     value="%WATWEB01.02.515">
    <img src=../images/DateTimeStamp.gif class=Icon
     date=UpdateForm.wattr008 time=UpdateForm.wattx015>
    <img src=../images/TimeLookup.gif class=Icon  time=UpdateForm.wattx015>
    <td class=DataLabel>Reason For Change </td>
    <td class=DataField >
    <select name=wathi001 title="Reason for Change" tabindex=22
     class=selectBig >
    <option></option>
    %WATWEB01.02.314.2
    </select></td></tr>
<tr><td class=DataLabel>Proposed Op. Date</td>
    <td class=DataLabel >
    <input type=text name=wattr028 size=12 maxlength=12 tabindex=23 
      title="Date" value="%WATWEB01.02.135" onblur="checkDate(this,'Date');">
    <img src=../images/DateLookup.gif class=Icon date=UpdateForm.wattr028>
    Time
    <input type=text name=wattx029 size=8 maxlength=8 tabindex=24 title="Time"
     value="%WATWEB01.02.529">
    <img src=../images/DateTimeStamp.gif class=Icon
     date=UpdateForm.wattr028 time=UpdateForm.wattx029>
    <img src=../images/TimeLookup.gif class=Icon  time=UpdateForm.wattx029>
    </td>
<td class=DataLabel>Equipment 1</td>
    <td class=DataField>
    <select name=wattx010 tabindex=25 class="SelectBig">
    <option></option>
    %WATWEB01.02.510.2
    </select>
    </td></tr>
<tr><td class=DataLabel> Confirmed Adm. Date </td>
    <td class=DataLabel>
    <input type=text name=bokrx006 size=12 title="Confirmed Adm Date"
     value="%WATWEB01.02.706" class=Readonly readonly tabindex=26>
    <img src=../images/DateLookup.gif class=Icon
     date=UpdateForm.bokrx006 readonly>
     Time
    <input type=text name=bkrec005 size=8 maxlength=8 tabindex=27 title="Time"
     value="%WATWEB01.02.707">
    <img src=../images/DateTimeStamp.gif title="Confirmed Adm Time"
    onclick="SetCurrentDateTime(null,bkrec005);"
    onFocus='javascript:DisableIcon(bkrec005)' tabindex=-1>
    <img src=../images/TimeLookup.gif class=Icon  time=UpdateForm.bkrec005
    onclick='javascript:TimeLookupFrame(bkrec005)'
     onFocus='javascript:DisableIcon(bkrec005);' tabindex=-1>
    </td>
    <td class=DataLabel>Equipment 2 </td>
    <td class=DataField >
    <select name=wattx011 tabindex=28 class="selectBig">
    <option></option>
    %WATWEB01.02.511.2
    </select></td></tr>

<tr><td class=DataLabel>Confirmed Op. Date</td>
    <td class=DataField>
    <input type=text size=12 tabindex=29 value="%WATWEB01.02.710"
      class=Readonly readonly>
    </td>
    <td class=DataLabel>Equipment 3 </td>
    <td class=DataField >
    <select name=wattx027 tabindex=30 class="selectBig">
    <option></option>
    %WATWEB01.02.527.2
    </select></td></tr>

<tr><td class=DataLabel>Preadmission Status</td>
    <td class=DataField>
    <select name=wattx012 tabindex=32>
    <option></option>
     %WATWEB01.02.512.2
    </select></td>
    <td class=DataLabel>Preadmission Date</td>
    <td class=DataLabel>
    <input type=text name=wattr022 size=12 maxlength=12 tabindex=33 
     value="%WATWEB01.02.127" onblur="checkDate(this,'Date');">
    <img src=../images/DateLookup.gif class=Icon date=UpdateForm.wattr022>
     Time
    <input type=text name=wattx028 size=8   maxlength=12  tabindex=34    
     title="Preadmission Time" value="%WATWEB01.02.528" >
    <img src=../images/DateTimeStamp.gif  class=Icon
     date=UpdateForm.wattr022 time=UpdateForm.wattx028>
    <img src=../images/TimeLookup.gif class=Icon
     time=UpdateForm.wattx028></td></tr>
    
<tr><td class=DataLabel>
    <script type="text/javascript">DaKDesc();</script>
    </td>
    <td class=DataField>
    <input type=text class=Readonly readonly size=12 maxlength=12 tabindex=35
     value="%WATWEB01.02.126" name=date_keyed id=date_keyed
     title="Date Keyed"></td>
    <td class=DateLabel>Operator ID</td>
    <td class=DataField>
    <input type=text size=12 maxlength=12 class=Readonly readonly tabindex=36
     value='%WATWEB01.02.310'></td></tr>

<tr><td class=DataLabel>Referring Clinician </td>
    <td class=DataField>
        <input type=text name=wattx046 id=wattx046 tabindex=37
         size=12 maxlength=10 title="Referring Clinician"
         value="%WATWEB01.02.546.001"
         onblur="validateCode(18,wattx046,n_wattx046,dummy,dummy,dummy);">
        <input type=text name=n_wattx046 id=n_wattx046 title="Clinician Name"
         size=35 class=Readonly readonly value="%WATWEB01.02.546.081">
        <img src="../images/SearchIcon.gif" class=Icon
         onclick="GPHCPSearchFrame(wattx046,n_wattx046,dummy,dummy,dummy,
                  dummy,0);">
        <img src="../images/erase.gif" class=Icon
         onclick="clrFields(wattx046,n_wattx046);"></td>
    <td>&nbsp;</td>
    <td>&nbsp;</td></tr>

<tr><td colspan=4>&nbsp;</td></tr>

<tr><td colspan=4 align=center>
    <input type=button class="button" value="Comments" id="commbutt" tabindex=80
     onclick="PatientLinkTo('watweb01.pbl',20,1,1,900,400);">
    <input type=button class="button" value="Ok" tabindex=81
     onclick="UpdateWat();">
    <input type=button class="button" value="Cancel" tabindex=82
     onclick="PatientLinkTo('watweb01.pbl',2,1,0,0,0);">
   </td></tr>
</table>
</form>

<form name=PatientLinks method=get>
<input type=hidden name=reportno value=1>
<input type=hidden name=template value=004>
<input type=hidden name=urnumber value="%WATWEB01.02.003">
<input type=hidden name=admissno value="%WATWEB01.02.081">
<input type=hidden name=MenuType value="%WATWEB01.02.088">
<input type=hidden name=casekeys value="%WATWEB01.02.101">
</form>

<script type="text/javascript">
function DisplayTrnSrc(field) {
  i=field.selectedIndex;
  ind=field.options[i].value.substring(4,5);
  if (ind!="1") {
   document.getElementById('divTransferSource').innerHTML=
     document.getElementById('spTransferBlank').innerHTML;
   document.getElementById('divTransferLabel').innerHTML="";
   document.getElementById('previous_twt').style.display="none";
   document.getElementById('prevtt01').value="";
   document.getElementById('prevtt01').className="";
  } else {
   document.getElementById('divTransferSource').innerHTML=
     document.getElementById('spTransfer').innerHTML;
   document.getElementById('divTransferLabel').innerHTML=
     document.getElementById('spTransferLabel').innerHTML;
     prevTWT();
   }
}
function prevTWT(){
if(document.getElementById('date_keyedCCYYMMDD').value>'20160630'){
   document.getElementById('previous_twt').style.display="";
   document.getElementById('prevtt01').className="Mandatory";}
}

Consent="%WATWEB01.02.193";
for (var i =0 ; i < document.UpdateForm.wattr054.length; i++) {
  if (document.UpdateForm.wattr054.options[i].value==Consent) {
    document.UpdateForm.wattr054.selectedIndex=i;
  }
}

function changeConsent() {
  if (UpdateForm.wattr054.value == "Yes") {
    document.UpdateForm.wattr055.value="%STANDARD.01.015";
    UpdateForm.wattr055.select();
    UpdateForm.wattr055.focus();
  }
  else {
    document.UpdateForm.wattr055.value="";
    UpdateForm.wattr002.focus();
  }
}

comments='%WATWEB01.02.348.001';
if (comments == "1" ){
  document.getElementById("commbutt").className="RedButton";
}
</script>

<span id=spTransferLabel style="display:none">
Transfer Source
</span>

<span id=spTransfer style="display:none">
  <input type="text" size=7 maxlength=5 name=trnsfsrc id=trnsfsrc
   class=Mandatory title="Transfer Source" tabindex=13
   onchange="validateCode(9,trnsfsrc,trandesc)" value="%WATWEB01.02.179">
  <input type=text size=20 name=trandesc id=trandesc notab
   class=Readonly readonly value="%WATWEB01.02.180">
  <img src="../images/SearchIcon.gif" class=Icon
   onclick="TransferSourceFrame(trnsfsrc,trandesc)">&nbsp;Previous ID
  <input type="text" size=15 maxlength=9 name=previd01 id=previd01 tabindex=13
   class=Mandatory title="Previous ID" value=%WATWEB01.02.330>
</span>

<span id=spTransferBlank style="display:none">
  <input type=hidden name=trnsfsrc id=trnsfsrc>
</span>

<span id=23hourstayLabel style="display:none">Planned 23 Hour Stay </span>
<span id=23hourstay style="display:none">
    <input type=checkbox name=d_wattx032 id=d_wattx032 value="1" tabindex=10
     title="Planned 23 hour stay" notab>
</span>
<script type="text/javascript">
function referralAcceptedMandatory(){
  if(document.getElementById('date_keyedCCYYMMDD').value >= DOYR2021){
    UpdateForm.wattr059.className="Mandatory";
  }
}

function hourStay(){
   if(document.getElementById('date_keyedCCYYMMDD').value>'20160630'){
     document.getElementById('div23hourstayLabel').style.display="none";
     document.getElementById('div23hourstay').style.display="none";
   } else {
    document.getElementById('div23hourstayLabel').innerHTML=
     document.getElementById('23hourstayLabel').innerHTML;
     document.getElementById('div23hourstay').innerHTML=
     document.getElementById('23hourstay').innerHTML;
     if ("%WATWEB01.02.532"=="Yes") {
       document.getElementById('d_wattx032').checked=true;
     }
  }
}

document.UpdateForm.wattr006.title=DoLDescription;

</script>

