<meta name="TemplateVersion" content="V12.00.00">
<meta name="TemplateHome" content="standard">
<meta name="CrossBrowser" content="true">
<meta name="HelpFileName" content="NoContextSet.html">
<script type="text/javascript" src="../js/priweb02.js"></script>
<script type="text/javascript">
function UpdateItm() {
  if (validateMandatory(ItemForm)) {
    if (document.ItemForm.d_prhtr017.disabled == true) {
      ItemForm.prhtr017.value=ItemForm.unitamnt.value;
    } else {
      ItemForm.prhtr017.value=ItemForm.d_prhtr017.value;
    }
    document.ItemForm.redirect.value="priweb02.pbl?reportno=01&template=013" +
           "&urnumber=" + document.ItemForm.urnumber.value.replace(/ /g,"+") +
           "&uniqnumb=" + document.ItemForm.uniqnumb.value.replace(/ /g,"+") +
           "&prhre001=" + document.ItemForm.prhre001.value.replace(/ /g,"+") +
           "&prhre003=" + document.ItemForm.prhre003.value.replace(/ /g,"+");
    document.ItemForm.redirec2.value=
           "&prhre002=" + document.ItemForm.prhre002.value.replace(/ /g,"+") +
           "&prhtr005=" + document.ItemForm.prhtr005.value.replace(/ /g,"+") +
           "&prhtr006=" + document.ItemForm.prhtr006.value.replace(/ /g,"+") +
           "&prhtr011=" + document.ItemForm.prhtr011.value.replace(/ /g,"+");
    document.ItemForm.reportno.value = "1";
    document.ItemForm.updttype.value = "O";

    if ((document.getElementById("ptcnuimc").value=="1" &&
         document.getElementById("typeeimc").value== "1") || 
        (document.getElementById("ptcnuesf").value=="1" &&
         document.getElementById("typestfc").value == "1") || 
        (document.getElementById("ptcnuebb").value=="1" &&
         document.getElementById("typebbil").value=="1") ||
        (document.getElementById("ptcndvaw").value=="1" &&
         document.getElementById("typeedva").value=="1")) {
      if (document.getElementById('d_prhtr018').checked==true) {
        document.getElementById('prhtr018').value="1";
      }
      if (document.getElementById('d_prhtr020').checked==true) {
        document.getElementById('prhtr020').value="1";
      }
      if (document.getElementById('d_prhtr021').checked==true) {
        document.getElementById('prhtr021').value="1";
      }

     if ((document.getElementById("ptcnuesf").value=="1" &&
          document.getElementById("typestfc").value == "1") ||
         (document.getElementById("ptcnuebb").value=="1" &&
          document.getElementById("typebbil").value=="1") ||
         (document.getElementById("ptcndvaw").value=="1" &&
          document.getElementById("typeedva").value=="1")) {
      if (document.getElementById('d_prhtr032').checked==true) {
        document.getElementById('prhtr032').value="1";
      }
     } else {
      if (document.getElementById('d_prhtr023').checked==true) {
        document.getElementById('prhtr023').value="1";
      }
//      if (document.getElementById('d_prhtr025').checked==true) {
//        document.getElementById('prhtr025').value="1";
//      }
     }
      justifyRight(document.getElementById('prhtr027'));
    }
    setOCDCookie();
    ItemForm.submit();
  }
}
function DeleteItm() {
  ans=confirm("Are you sure you want to Delete ?")
  if (ans) {
    document.ItemForm.redirect.value="priweb02.pbl?reportno=01&template=013" +
           "&urnumber=" + document.ItemForm.urnumber.value.replace(/ /g,"+") +
           "&uniqnumb=" + document.ItemForm.uniqnumb.value.replace(/ /g,"+") +
           "&prhre001=" + document.ItemForm.prhre001.value.replace(/ /g,"+") +
           "&prhre003=" + document.ItemForm.prhre003.value.replace(/ /g,"+");
    document.ItemForm.redirec2.value=
           "&prhre002=" + document.ItemForm.prhre002.value.replace(/ /g,"+") +
           "&prhtr005=" + document.ItemForm.prhtr005.value.replace(/ /g,"+") +
           "&prhtr006=" + document.ItemForm.prhtr006.value.replace(/ /g,"+") +
           "&prhtr011=" + document.ItemForm.prhtr011.value.replace(/ /g,"+");
    document.ItemForm.reportno.value = "6";
    document.ItemForm.updttype.value = "D";
    setOCDCookie();
    ItemForm.submit();
  }
}
function validateASP() {

//  if (document.getElementById('ptcnuimc').value != '1') {return;}
//
//  if (document.getElementById('d_prhtr023').checked) {
//    document.getElementById('prhtr024').className="Mandatory";
//  } else {
//    document.getElementById('prhtr024').className="";
//  } 
}
function validateIFC() {

//  if (document.getElementById('ptcnuimc').value != '1') {return;}
//
//  if (document.getElementById('d_prhtr025').checked) {
//    document.getElementById('prhtr026').className="Mandatory";
//  } else {
//    document.getElementById('prhtr026').className="";
//  }
}
function ServTxtMan() {
 if(document.ItemForm.d_prhtr032.checked==true) {
   document.ItemForm.prhtr022.className="Mandatory";
 } else {
   document.ItemForm.prhtr022.className="";
 }
}
function getOCDCookie() {
  if (GetCookieData("OtherClaimantDetailsCOOKIE") != "unknown") {
    document.ItemForm.ocdcooki.value=
    GetCookieData("OtherClaimantDetailsCOOKIE");
    ExpireCookiePath("OtherClaimantDetailsCOOKIE");
//alert(document.ItemForm.ocdcooki.value);
  }
}
function setOCDCookie() {
  if (!isWhitespace(document.ItemForm.ocdcooki.value)) {
    SetCookie("OtherClaimantDetailsCOOKIE",document.ItemForm.ocdcooki.value);
//    alert(GetCookieData('OtherClaimantDetailsCOOKIE'));
  }
}
</script>
%START.OF.PAGE
<body onload="PageLoad(event);validateASP();validateIFC();getOCDCookie();">
<span class="DFrameTitleBar">
  <img align="right" alt="Exit" class="MenuIcon" src="../images/ExitIcon.gif"
       onclick="DFrameExit();">
  Update/Delete Item
</span>

<div id="PageBodySection">
 <form name="ItemForm" action="priweb02.pbl" method="post" style="margin:0">
  <input type="hidden" name="reportno" value="1">
  <input type="hidden" name="template" value="021">
  <input type="hidden" name="updttype" value=" ">
  <input type="hidden" name="nextpage" value="0">
  <input type="hidden" name="urnumber" value="%PRIWEB02.01.003">
  <input type="hidden" name="uniqnumb" value="%PRIWEB02.01.207">
  <input type="hidden" name="admissno" value="%PRIWEB02.01.081">
  <input type="hidden" name="redirect" value="%PRIWEB02.01.001.priweb02.01.013">
  <input type="hidden" name="redirec2">
  <input type="hidden" name="prhre001" value="%PRIWEB02.01.208">
  <input type="hidden" name="prhre002" value="%PRIWEB02.01.209">
  <input type="hidden" name="prhre003" value="%PRIWEB02.01.210">
  <input type="hidden" name="prhtr001" value="%PRIWEB02.01.701">
  <input type="hidden" name="prhtr002" value="%PRIWEB02.01.702">
  <input type="hidden" name="prhtr003" value="%PRIWEB02.01.703">
  <input type="hidden" name="prhtr004" value="%PRIWEB02.01.704">
  <input type="hidden" name="prhtr005" value="%PRIWEB02.01.705">
  <input type="hidden" name="prhtr006" value="%PRIWEB02.01.706">
  <input type="hidden" name="prhtr007" value="%PRIWEB02.01.707">
  <input type="hidden" name="prhtr008" value="%PRIWEB02.01.708">
  <input type="hidden" name="prhtr009" value="%PRIWEB02.01.709">
  <input type="hidden" name="prhtr010" value="%PRIWEB02.01.710">
  <input type="hidden" name="prhtr011" value="%PRIWEB02.01.711">
  <input type="hidden" name="prhtr017" value="">
  <input type="hidden" name="prhtr018" id="prhtr018" value=" ">
  <input type="hidden" name="prhtr020" id="prhtr020" value=" ">
  <input type="hidden" name="prhtr021" id="prhtr021" value=" ">
  <input type="hidden" name="prhtr023" id="prhtr023" value=" ">
  <input type="hidden" name="prhtr032" id="prhtr032" value=" ">
<!--  <input type="hidden" name="prhtr025" id="prhtr025" value=" "> -->
  <input type="hidden" name="unitamnt" value="%PRIWEB02.01.717">
  <input type="hidden" name="ptcnuimc" id="ptcnuimc"
   value="%STANDARD.01.025.124.111.0.1">

  <input type="hidden" name="ptcnuesf" id="ptcnuesf"
         value="%STANDARD.01.025.124.222.0.1">
  <input type=hidden name=prhdclam id=prhdclam value="%PRIWEB02.01.243">
  <input type=hidden name=typestfc id=typestfc value="%PRIWEB02.01.246">
  <input type=hidden name=ocdcooki value="">
  <input type=hidden name="ptcnuebb" id="ptcnuebb"
         value="%STANDARD.01.025.127.122.0.1">
  <input type=hidden name=typebbil id=typebbil value="%PRIWEB02.01.248">
  <input type=hidden name=typeeimc id=typeeimc value="%PRIWEB02.01.250">
  <input type=hidden name=typeedva id=typeedva value="%PRIWEB02.01.259">
  <input type=hidden name="ptcndvaw" id="ptcndvaw"
         value="%STANDARD.01.025.129.249.0.1">

  <table border="0" width="100%" cellspacing="1" cellpadding="0">

   <tr><td colspan="2">&nbsp;</td></tr>

   <tr><td class="Datalabel">Date</td>
       <td class="DataField">
           <input type="text" name="prhtr012" size="12" maxlength="12"
                  class="Readonly" readonly title="Date"
                  value="%PRIWEB02.01.712"></td></tr>

   <tr><td class="Datalabel">Time</td>
       <td class="DataField">
           <input type="text" name="prhtr013" size="12" maxlength="12"
                  class="Readonly" readonly title="Time"
                  value="%PRIWEB02.01.713"></td></tr>

   <tr><td class="Datalabel">Item Type</td>
       <td class="DataField">
           <input type="text" name="prhtr014" class="Readonly" readonly
                  title="Item Type" value="%PRIWEB02.01.714"></td></tr>

   <tr><td class="Datalabel">Item</td>
       <td class="DataField">
           <input type="text" name="prhtr008" class="Readonly" readonly
                  title="Item" value="%PRIWEB02.01.708"></td></tr>

   <tr><td class="Datalabel">Description</td>
       <td class="DataField">
           <input type="text" name="prhtr015" size="34" maxlength="30"
                  title="Description" value="%PRIWEB02.01.715"></td></tr>

   <tr><td class="Datalabel">Quantity</td>
       <td class="DataField">
           <input type="text" name="prhtr016" size="5" maxlength="5" min="0"
                  class="Integer Mandatory" title="Quantity"
                  value="%PRIWEB02.01.716"></td></tr>

   <tr><td class="Datalabel">Amount</td>
       <td class="DataField">
           <input type="text" name="d_prhtr017" size="10" maxlength="10"
                  max="999999.99" class="Number" title="Amount"
                  value="%PRIWEB02.01.717"></td></tr>

   <tr><td class="Datalabel">
       <div id="acovtitleDIV">A/C Override Indicator</div></td>
       <td class="DataField">
         <div id="acovfieldDIV">    
         <input type=checkbox name=d_prhtr018 id=d_prhtr018 
          title="A/C Override Indicator" value="1">
         </div>
       </td>
   </tr>

   <tr><td class="Datalabel">
       <div id="durtitleDIV">Duration</td>
       <td class="DataField">
           <div id="durfieldDIV">
           <input type="text" name="prhtr019" size="3" maxlength="3"
                  title="Duration" onblur="setDuration(this);"
                  value="%PRIWEB02.01.721">
           </div>
       </td></tr>

   <tr><td class="Datalabel">
       <div id="mpotitleDIV">Multiple Procedure Override</div></td>
       <td class="DataField">
         <div id="mpofieldDIV">
         <input type=checkbox name=d_prhtr020 id=d_prhtr020
          title="Multiple Procedure Override" value="1">
         </div>
       </td>
   </tr>

   <tr><td class="Datalabel">
       <div id="dsotitleDIV">Duplicate Service Override</div></td>
       <td class="DataField">
         <div id="dsofieldDIV">
         <input type=checkbox name=d_prhtr021 id=d_prhtr021
          title="Duplicate Service Override" value="1">
         </div>
       </td>
   </tr>

   <tr><td class="Datalabel"><div id="srtxtitleDIV">Service Text</div></td>
       <td class="DataField">
           <div id="srtxfieldDIV">
           <input type="text" name="prhtr022" id="prhtr022" size="50" 
                  maxlength="100"
                  title="Description" value="%PRIWEB02.01.725">
           </div>
           </td></tr>

   <tr><td class="Datalabel">
       <div id="hostitleDIV">Hosp Ind</div></td>
       <td class="DataField">
         <div id="hosfieldDIV">
         <input type=checkbox name=d_prhtr032 id=d_prhtr032
          title="Hosp Ind" value="1" onclick="ServTxtMan();">
         </div>
       </td>
   </tr>

   <tr><td class="Datalabel">
       <div id="asptitleDIV">CCI</div></td>
       <td class="DataField">
         <div id="aspfieldDIV">
         <input type=checkbox name=d_prhtr023 id=d_prhtr023
          title="CCI" value="1" >
         </div>
       </td>
   </tr>

   <tr><td class="Datalabel">
       <div id="asctitleDIV">Alternate Service Provider</div></td>
       <td class="DataField">
         <div id="ascfieldDIV">
           <input type="text" size="12" maxlength="10" name="prhtr024"
            title="Alternate Service Provider" tabindex="1" 
            value="%PRIWEB02.01.727"
            onblur="UpCase(this);validateSDoc(prhre001,prhtr024,doctnam2);" />
            <!--onblur="ValidateHCP(18,0,prhtr024,doctnam2);" />-->
            <input type="text" class="Readonly" size="30" maxlength="30"
             name="doctnam2" title="Alternate Service Provider Desc" readonly
             value="%PRIWEB02.01.728" />
            <img src="../images/SearchIcon.gif" class=Icon
             onclick="MPDoctorSearch(prhre001,prhtr024,doctnam2);">
            <!--onclick="HCPSearchFrame(prhtr024,doctnam2,7);">-->
            <img src="../images/erase.gif" class=Icon
             onclick="clrFields(prhtr024,doctnam2);">
         </div>
       </td>
   </tr>

<!--   <tr><td class="Datalabel">
       <div id="ifctitleDIV">Alternate IFC</div></td>
       <td class="DataField">
         <div id="ifcfieldDIV">
         <input type=checkbox name=d_prhtr025 id=d_prhtr025
          title="Alternate IFC" value="1" onclick="validateIFC();">
         </div>
       </td>
   </tr> -->

   <tr><td class="Datalabel">
       <div id="ifvtitleDIV">Alternate IFC Code</div></td>
       <td class="DataField">
         <div id="ifvfieldDIV">
           <select name=prhtr026 id=prhtr026 title="Alternate IFC Code">
             <option></option>
             %PRIWEB02.01.730.2
           </select>
         </div>
       </td>
   </tr>

   <tr><td class="Datalabel"><div id="numptitleDIV">Number of Patients</div></td>
       <td class="DataField">
           <div id="numpfieldDIV">
           <input type="text" name="prhtr027" id="prhtr027" size="5"
                  maxlength="2" class="Number JustifyRight"
                  title="Number of Patients" value="%PRIWEB02.01.731">
           </div>
           </td></tr>

   <tr><td class="Datalabel"><div id="lspntitleDIV">LSPN</div></td>
       <td class="DataField">
           <div id="lspnfieldDIV">
           <input type="text" name="prhtr028" id="prhtr028" size="10"
                  maxlength="6" onblur="validateSixZeroes(this);"
                  title="LSPN" value="%PRIWEB02.01.732">
           </div>
           </td></tr>

   <!-- T0863727
   <tr><td class="Datalabel">
       <div id="rovtitleDIV">Restrictive Override Code</div></td>
       <td class="DataField">
         <div id="rovfieldDIV">
           <select name=prhtr033 id=prhtr033 title="Restrictive Override Code">
             <option></option>
             PRIWEB02.01.736.2
           </select>
         </div>
       </td>
   </tr> -->

   <tr>
      <td><div id=rovtitleDIV></div></td>
      <td><div id=rovfieldDIV></div></td>
   </tr>

   <tr><td class="Datalabel">
       <div id="sdctitleDIV">Self Deemed Code</div></td>
       <td class="DataField">
         <div id="sdcfieldDIV">
           <select name=prhtr029 id=prhtr029 title="Self Deemed Code">
             <option></option>
             %PRIWEB02.01.733.2
           </select>
         </div>
       </td>
   </tr>

   <tr><td class="Datalabel"><div id="dsktitleDIV">Distance in Kms</div></td>
       <td class="DataField">
           <div id="dskfieldDIV">
           <input type="text" name="prhtr034" id="prhtr034" size="5"
                  maxlength="8" class="Number JustifyRight"
                  title="Distance in Kms" value="%PRIWEB02.01.738">
           </div>
           </td></tr>

   <tr><td colspan="2">&nbsp;</td></tr>

   <tr><td colspan="2" align="center">
           <input type="button" value="Update" id=updbtn class="button"
                  onclick="tempDisable(this);UpdateItm();">
           <input type="button" value="Delete" id=delbtn class="button"
                  onclick="tempDisable(this);DeleteItm();">
           <input type="button" value="Close" class="button"
                  onclick="DFrameClose();"></td></tr>
  </table>
 </form>
</div>

<form name="PatientLinks" method="get">
 <input type="hidden" name="reportno" value="1">
 <input type="hidden" name="template" value="004">
 <input type="hidden" name="urnumber" value="%PRIWEB02.01.003">
 <input type="hidden" name="admissno" value="%PRIWEB02.01.081">
 <input type="hidden" name="MenuType" value="%PRIWEB02.01.088">
</form>

<span id="durfieldSPAN" style="display:none">
  <input type="hidden" name="prhtr019" value="">
</span>

<span id="rovtitleSPAN" style="display:none">
   Restrictive Override Code
</span>

<span id="rovfieldSPAN" style="display:none">
       <select name=prhtr033 id=prhtr033 title="Restrictive Override Code">
         <option></option>
          %PRIWEB02.01.736.2
       </select>
</span>

<script type="text/javascript">
  keyinIndic=%PRIWEB02.01.718;
  if (keyinIndic=="0") {
     ItemForm.prhtr015.className="Readonly";
     ItemForm.prhtr015.disabled=true;
  } else {
     ItemForm.prhtr015.className="Mandatory";
     ItemForm.prhtr015.disabled=false;
  }
  fixedCharge=%PRIWEB02.01.719;
  if (fixedCharge=="1") {
     ItemForm.d_prhtr017.className="Readonly";
     ItemForm.d_prhtr017.disabled=true;
  } else {
     ItemForm.d_prhtr017.className="Number Mandatory";
     ItemForm.d_prhtr017.disabled=false;
  }

  if ((document.getElementById("ptcnuimc")!= null &&
      document.getElementById("ptcnuimc").value == "1" &&
      document.getElementById('typeeimc') != null &&
      document.getElementById('typeeimc').value == "1") ||
      (document.getElementById('ptcnuesf') != null &&
      document.getElementById("ptcnuesf").value == "1" &&
      document.getElementById('typestfc') != null &&
      document.getElementById("typestfc").value == "1") ||
      (document.getElementById('ptcnuebb') != null &&
      document.getElementById('ptcnuebb').value == "1" &&
      document.getElementById('typebbil') != null &&
      document.getElementById('typebbil').value == "1") ||
      (document.getElementById('ptcndvaw') != null &&
      document.getElementById('ptcndvaw').value == "1" &&
      document.getElementById('typeedva') != null &&
      document.getElementById('typeedva').value == "1")) {

    if ("%PRIWEB02.01.720"=="1") {
      document.getElementById('d_prhtr018').checked=true;
    }
    if ("%PRIWEB02.01.723"=="1") {
      document.getElementById('d_prhtr020').checked=true;
    }
    if ("%PRIWEB02.01.724"=="1") {
      document.getElementById('d_prhtr021').checked=true;
    }

    if ((document.getElementById("ptcnuesf").value=="1" &&
         document.getElementById("typestfc").value == "1") ||
        (document.getElementById("ptcnuebb").value=="1" &&
         document.getElementById("typebbil").value=="1") ||
        (document.getElementById("ptcndvaw").value=="1" &&
         document.getElementById("typeedva").value=="1")) {
      asptitleDIV.innerHTML="";
      aspfieldDIV.innerHTML="";
      asctitleDIV.innerHTML="";
      ascfieldDIV.innerHTML="";
      ifvtitleDIV.innerHTML="";
      ifvfieldDIV.innerHTML="";
 
      //T0863727 - Show Restrictive Override
      rovtitleDIV.innerHTML=rovtitleSPAN.innerHTML;
      rovfieldDIV.innerHTML=rovfieldSPAN.innerHTML;

      if ("%PRIWEB02.01.735"=="1") {
        document.getElementById('d_prhtr032').checked=true;
        document.ItemForm.prhtr022.className="Mandatory";
      }

      if ((document.getElementById("ptcnuesf").value=="1" &&
           document.getElementById("typestfc").value == "1") ||
          (document.getElementById("ptcnuebb").value=="1" &&
           document.getElementById("typebbil").value=="1")) {

        dsktitleDIV.innerHTML="";
        dskfieldDIV.innerHTML="";        

      }

    } else {

      hostitleDIV.innerHTML="";
      hosfieldDIV.innerHTML="";

      if ("%PRIWEB02.01.726"=="1") {
        document.getElementById('d_prhtr023').checked=true;
      }

//    if ("%PRIWEB02.01.729"=="1") {
//      document.getElementById('d_prhtr025').checked=true;
//    }

      if (document.getElementById("prhdclam").value != "1") {
        document.getElementById('d_prhtr023').disabled=true;
        document.getElementById('d_prhtr023').checked=false;
        document.getElementById('prhtr023').value=" ";
      }

      dsktitleDIV.innerHTML="";
      dskfieldDIV.innerHTML="";     
    }
  } else {
//  Show default fields only
    acovtitleDIV.innerHTML="";
    acovfieldDIV.innerHTML="";
    durtitleDIV.innerHTML="";
    durfieldDIV.innerHTML=durfieldSPAN.innerHTML;
    mpotitleDIV.innerHTML="";
    mpofieldDIV.innerHTML="";
    dsotitleDIV.innerHTML="";
    dsofieldDIV.innerHTML="";
    srtxtitleDIV.innerHTML="";
    srtxfieldDIV.innerHTML="";
    hostitleDIV.innerHTML="";
    hosfieldDIV.innerHTML="";
    asptitleDIV.innerHTML="";
    aspfieldDIV.innerHTML="";
    asctitleDIV.innerHTML="";
    ascfieldDIV.innerHTML="";
//  ifctitleDIV.innerHTML="";
//  ifcfieldDIV.innerHTML="";
    ifvtitleDIV.innerHTML="";
    ifvfieldDIV.innerHTML="";
    numptitleDIV.innerHTML="";
    numpfieldDIV.innerHTML="";
    lspntitleDIV.innerHTML="";
    lspnfieldDIV.innerHTML="";
    rovtitleDIV.innerHTML="";
    rovfieldDIV.innerHTML="";
    sdctitleDIV.innerHTML="";
    sdcfieldDIV.innerHTML="";
    dsktitleDIV.innerHTML="";
    dskfieldDIV.innerHTML="";
   
  }



function validateSixZeroes(lspnfield) {
  if (lspnfield.value=="000000") {
    alert("LSPN value cannot be 000000");
    lspnfield.value="";
  }
}
function setDuration(duration) {

   if (isWhitespace(duration.value)) {return;}

   duration.value=(duration.value*1);
   justifyLeft(duration)

   if (duration.value < 1) {
     alert('Duration must be more than 0.');
     duration.value='';
     duration.select();
     return;
   }

   if (duration.value%15 != 0 ) {
     alert('Duration must be divisible by 15 minutes.');
     duration.value='';
     duration.select();
     return;
   }

}
</script>
