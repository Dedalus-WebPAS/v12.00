<meta name="TemplateVersion" content="V12.00.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript" src="../js/TableSort.js"></script>
<script type="text/javascript">
function CrossConsDetails(referringCons,referredCons,speclty,recnum,showspec) {
  var urnumber = document.PatientLinks.urnumber.value.replace(/ /g,"+");
  var admissno = document.PatientLinks.admissno.value.replace(/ /g,"+");
  var ptcrc001 = referringCons.replace(/ /g,"+");
  var ptcrc002 = referredCons.replace(/ /g,"+");
  var LinkUrl="patweb78.pbl?reportno=02&template=003&urnumber=" + urnumber +
              "&admissno=" + admissno + "&ptcrc001=" + ptcrc001 + 
              "&ptcrc002=" + ptcrc002 + "&ptcrc003=" + recnum + 
              "&ptcrc008=" + speclty + "&showspec=" + showspec;
  var Left=(document.body.clientWidth-600)/2;
  DFrameLink(LinkUrl,75,Left,600,400);
}

function NewCrossCons(referringCons,referredCons) {
  var urnumber = document.PatientLinks.urnumber.value.replace(/ /g,"+");
  var admissno = document.PatientLinks.admissno.value.replace(/ /g,"+");
  var showspec = document.PatientLinks.showspec.value;
  var LinkUrl="patweb78.pbl?reportno=02&template=002&urnumber=" + urnumber +
              "&admissno=" + admissno + "&showspec=" + showspec; 
  var Left=(document.body.clientWidth-600)/2;
  DFrameLink(LinkUrl,75,Left,600,350);
}
//----------------------------------------------------------------------------
// Create New Table Object
// Border, Cellspacing, Cellpadding, Width, Align, Heading Height, Row Height
//----------------------------------------------------------------------------
// Add Columns in Order Required
// Heading,Type,Display Column,Sort Column, Align, Icon, Link Column
// Columns Available
//  1 - Cross Consutation
//  2 - Referring Consultant
//  3 - Referred Consultant    
//  4 - Comments                  
//  5 - Total Hours
//---------------------------------------------------------------------------
function InitTable(TableView) {
  switch(TableView) {
    case 0: {
      document.title="Cross Consultations"
      t = new Table(1,0,2,"100%","center",0,0);
      t.addColumn("Cons","IconLink","","","left","MaintenanceIcon.gif","0",25);
      t.addColumn("Referring Consultant","String",1,1,"left","","",140);
      t.addColumn("Referred Consultant","String",2,2,"left","","",140);

      if(document.PatientLinks.showspec.value=="1") {
        t.addColumn("Speciality","String",6,6,"left","","",100);
      }
      t.addColumn("Comments","String",3,3,"left","","",220);
      t.addColumn("Total Hrs","String",4,4,"right","","",50);
      AddTableRows();
      TableOutput(1,1);    // Order Column,Asc Dsc
      break; 
    }
  }
}
</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);InitTable(0)">
<div id=HeadingSection>
<div id=PatientHeading></div>
<script type="text/javascript">
PatientURN="%PATWEB78.02.003";
PatientVIS="%PATWEB78.02.081";
PatientNAM="%PATWEB78.02.002";
PatientSTA="%PATWEB78.02.086.078";
PatientALT="%PATWEB78.02.084";
PatientSEX="%PATWEB78.02.019";
PatientDOB="%PATWEB78.02.020";
PatientAGE="%PATWEB78.02.021";
PatientLOC="%PATWEB78.02.083";
PatientPRI="%PATWEB78.02.086.066.1";
PatientUNT="%PATWEB78.02.066.0";
DoctorCOD="%PATWEB78.02.082.003";
DoctorNAM="%PATWEB78.02.082.002";
PatientAID="%PATWEB78.02.086.090";
PatientIND="%PATWEB78.02.086.091";
PatientCUR="%PATWEB78.02.086.092";
PatientCLC="%PATWEB78.02.086.093.1";
PatientCLH="%STANDARD.01.017.CL";
PatientHFT="%PATWEB78.02.086.094";
PatientCDM="%PATWEB78.02.086.095";
PatientVDH="%PATWEB78.02.086.099.015";
InsertPatientHeader();
</script>

<div id=PatientMenu></div>

<table width=100% border=0 cellspacing=0 bgcolor=#cccccc>
<tr>
  <td align=left>
    <img src=../images/ListIcon.gif class=Icon alt="Theatre Recovery Details"
     onclick="GoCookiePath('Recovery')" style="visibility:hidden" id="thIcon">
  </td>
  <td align=right> 
    <input type=button class=Bigbutton value="New Cross Cons" 
     onclick="NewCrossCons();">
  </td>
</tr>
</table>
</div>

<div id=TableLocation></div>

<script type="text/javascript">
function AddTableRows() {
  %PATWEB78.02.201
}
</script>

<form name=PatientLinks method=get>
<input type=hidden name=reportno value=2>
<input type=hidden name=template value=001>
<input type=hidden name=urnumber value="%PATWEB78.02.003">
<input type=hidden name=admissno value="%PATWEB78.02.081">
<input type=hidden name=MenuType value="%PATWEB78.02.088">
<input type=hidden name=showspec value="%PATWEB78.02.214">
</form>

<script type="text/javascript">
var usingTheatre = "%STANDARD.01.025.015.189.1.1";
if(usingTheatre=="1"){
   document.getElementById("thIcon").style.visibility="visible";
}
</script>

