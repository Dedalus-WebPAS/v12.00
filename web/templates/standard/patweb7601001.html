<meta name="TemplateVersion" content="V12.00.01">
<meta name="TemplateHome" content="standard">
<meta name="CrossBrowser" content="true">
<meta name="HelpFileName"    content="NoContextSet.html">
<script type="text/javascript" src="../js/patweb7601001.js"></script>
<script type="text/javascript">
function webservicesLinkDVAW() {
  var varURL="eclweb73.pbl?reportno=11" +
    "&template=001" +
    "&urnumber=" +
    document.InputWindow.dvawindc.value.substring(0,8).replace(/ /g,"+") +
    "&mavbatch=" +
    document.InputWindow.dvawindc.value.substring(24,32).replace(/ /g,"+")+
    "&mavinvce=" +
    document.InputWindow.dvawindc.value.substring(16,24).replace(/ /g,"+")+
    "&mavmodul=" +
    document.InputWindow.dvawindc.value.substring(32,33).replace(/ /g,"+")+
    "&uniqnumb=" + document.showopt.uniqnumb.value.replace(/ /g,"+") +
    "&prhre001=" + document.showopt.prhre001.value.replace(/ /g,"+") +
    "&prhre002=" + document.showopt.prhre002.value.replace(/ /g,"+") +
    "&prhre003=" + document.showopt.prhre003.value.replace(/ /g,"+");
  //alert(varURL);
  location.href=varURL;

}
function webservicesLinkBBSW() {
  var varURL="eclweb24.pbl?reportno=09" +
    "&template=001" +
    "&urnumber=" +
    document.InputWindow.bbswindc.value.substring(0,8).replace(/ /g,"+") +
    "&mavbatch=" +
    document.InputWindow.bbswindc.value.substring(24,32).replace(/ /g,"+")+
    "&mavinvce=" +
    document.InputWindow.bbswindc.value.substring(16,24).replace(/ /g,"+")+
    "&mavmodul=" +
    document.InputWindow.bbswindc.value.substring(32,33).replace(/ /g,"+")+
    "&uniqnumb=" + document.showopt.uniqnumb.value.replace(/ /g,"+") +
    "&prhre001=" + document.showopt.prhre001.value.replace(/ /g,"+") +
    "&prhre002=" + document.showopt.prhre002.value.replace(/ /g,"+") +
    "&prhre003=" + document.showopt.prhre003.value.replace(/ /g,"+");
  //alert(varURL);
  location.href=varURL;

}
function webservicesLinkPCIW() {
  var varURL="eclweb24.pbl?reportno=07" +
    "&template=001" +
    "&urnumber=" +
    document.InputWindow.pciwindc.value.substring(0,8).replace(/ /g,"+") +
    "&mavbatch=" +
    document.InputWindow.pciwindc.value.substring(24,32).replace(/ /g,"+")+
    "&mavinvce=" +
    document.InputWindow.pciwindc.value.substring(16,24).replace(/ /g,"+")+
    "&mavmodul=" +
    document.InputWindow.pciwindc.value.substring(32,33).replace(/ /g,"+")+
    "&uniqnumb=" + document.showopt.uniqnumb.value.replace(/ /g,"+") +
    "&prhre001=" + document.showopt.prhre001.value.replace(/ /g,"+") +
    "&prhre002=" + document.showopt.prhre002.value.replace(/ /g,"+") +
    "&prhre003=" + document.showopt.prhre003.value.replace(/ /g,"+");
  //alert(varURL);
  location.href=varURL;

}
function webservicesLinkIMCW() {
  location.href="eclweb24.pbl?reportno=02" +
    "&template=001" +
    "&urnumber=" +
    document.InputWindow.imcwindc.value.substring(0,8).replace(/ /g,"+") +
    //          "&admissno=" +
    //       document.InputWindow.imcwindc.value.substring(8,16).replace(/ /g,"+")+
    "&mavbatch=" +
    document.InputWindow.imcwindc.value.substring(24,32).replace(/ /g,"+")+
    "&mavinvce=" +
    document.InputWindow.imcwindc.value.substring(16,24).replace(/ /g,"+")+
    "&uniqnumb=" + document.showopt.uniqnumb.value.replace(/ /g,"+") +
    "&prhre001=" + document.showopt.prhre001.value.replace(/ /g,"+") +
    "&prhre002=" + document.showopt.prhre002.value.replace(/ /g,"+") +
    "&prhre003=" + document.showopt.prhre003.value.replace(/ /g,"+");

}
function webservicesLinkIHCW() {
  location.href="eclweb24.pbl?reportno=5" +
            "&template=001" +
            "&urnumber=" + document.InputWindow.ihcwindc.value.substring(0,8) +
            "&admissno=" + document.InputWindow.ihcwindc.value.substring(8,16)+
            "&mavbatch=" + document.InputWindow.ihcwindc.value.substring(24,32)+
            "&mavinvce=" + document.InputWindow.ihcwindc.value.substring(16,24);

}
function eclipseLink() {
  location.href="patweb93.pbl?reportno=16" +
            "&template=001" +
	    "&urnumber=" + document.InputWindow.ecliindc.value.substring(0,8) +
	    "&admissno=" + document.InputWindow.ecliindc.value.substring(8,16)+
	    "&mavbatch=" + document.InputWindow.ecliindc.value.substring(24,32)+
	    "&mavinvce=" + document.InputWindow.ecliindc.value.substring(16,24);

}
function eclipseLinkIMC() {
  location.href="eclweb01.pbl?reportno=02" +
    "&template=001" +
    "&urnumber=" + 
    document.InputWindow.eclmindc.value.substring(0,8).replace(/ /g,"+") +
    //          "&admissno=" + 
    //       document.InputWindow.eclmindc.value.substring(8,16).replace(/ /g,"+")+
    "&mavbatch=" + 
    document.InputWindow.eclmindc.value.substring(24,32).replace(/ /g,"+")+
    "&mavinvce=" + 
    document.InputWindow.eclmindc.value.substring(16,24).replace(/ /g,"+")+
    "&uniqnumb=" + document.showopt.uniqnumb.value.replace(/ /g,"+") +
    "&prhre001=" + document.showopt.prhre001.value.replace(/ /g,"+") +
    "&prhre002=" + document.showopt.prhre002.value.replace(/ /g,"+") +  
    "&prhre003=" + document.showopt.prhre003.value.replace(/ /g,"+");

}
function eclipseLinkPCS() {
  var varURL="eclweb01.pbl?reportno=05" +
    "&template=001" +
    "&urnumber=" +
    document.InputWindow.epcsindc.value.substring(0,8).replace(/ /g,"+") +
    "&mavbatch=" +
    document.InputWindow.epcsindc.value.substring(24,32).replace(/ /g,"+")+
    "&mavinvce=" +
    document.InputWindow.epcsindc.value.substring(16,24).replace(/ /g,"+")+
    "&mavmodul=" +
    document.InputWindow.epcsindc.value.substring(32,33).replace(/ /g,"+")+
    "&uniqnumb=" + document.showopt.uniqnumb.value.replace(/ /g,"+") +
    "&prhre001=" + document.showopt.prhre001.value.replace(/ /g,"+") +
    "&prhre002=" + document.showopt.prhre002.value.replace(/ /g,"+") +
    "&prhre003=" + document.showopt.prhre003.value.replace(/ /g,"+");
  //alert(varURL);
  location.href=varURL;

}
//T0859743-Start
function eclipseLinkBB() {
  var varURL="eclweb01.pbl?reportno=08" +
    "&template=001" +
    "&urnumber=" +
    document.InputWindow.ecbbindc.value.substring(0,8).replace(/ /g,"+") +
    "&mavbatch=" +
    document.InputWindow.ecbbindc.value.substring(24,32).replace(/ /g,"+")+
    "&mavinvce=" +
    document.InputWindow.ecbbindc.value.substring(16,24).replace(/ /g,"+")+
    "&mavmodul=" +
    document.InputWindow.ecbbindc.value.substring(32,33).replace(/ /g,"+")+
    "&uniqnumb=" + document.showopt.uniqnumb.value.replace(/ /g,"+") +
    "&prhre001=" + document.showopt.prhre001.value.replace(/ /g,"+") +
    "&prhre002=" + document.showopt.prhre002.value.replace(/ /g,"+") +
    "&prhre003=" + document.showopt.prhre003.value.replace(/ /g,"+");
  //alert(varURL);
  location.href=varURL;

}
//T0859743-End

function ChkSplitInv() {

  if(document.InputWindow.splitflg.value=="2") {
    if(confirm("Split Invoice exists. Both Invoices will be credited.  Ok to Proceed ?"))
    { CrdAll();}

  } else {
    if(document.InputWindow.splitflg.value=="1") {
      alert("Split Invoice exists. Neutralise payments and journals before continuing.");
      return;

    } else {

      if(document.InputWindow.splitflg.value=="4") {
	if(confirm("Split Invoice exists. All Invoices will be credited.  Ok to Proceed ?")) {
	  CrdAll();
	} else {
	  return;
	}
      } else {
	CrdAll();}
    }
  }
}
function AnasTypeEnable() {
  // Enable the Anaasthetic Type button only required for
  // Inpatient Visits that have an Eclipse Claim attached
  // and where the Theatre Module enable flag is relevant
  if(document.showopt.anaesthetic != undefined &&
      document.InputWindow.visittyp.value=="3" &&
      document.InputWindow.anastype.value=="0" &&
      document.InputWindow.ecliflag.value=="1") {
    document.showopt.anaesthetic.style.visibility="visible";
    document.showopt.anaesthetic.disabled=false;
  }
}
function Anaesthetic() {
  linkURL="patweb98.pbl?reportno=01&template=097" +
    "&urnumber=" + document.InputWindow.urnumber.value.replace(/ /g,"+") +
    "&admissno=" + document.InputWindow.admissno.value.replace(/ /g,"+");
  Left=(document.body.clientWidth,900)/2;
  DFrameLink(linkURL,250,Left,400,150);
}
function DRGEnable() {
  if (typeof DisplayDRG != "undefined" && DisplayDRG == true) {
    if (document.getElementById('visittyp').value == "3") {
      document.showopt.drgversion.style.visibility="visible";
      document.showopt.drgversion.disabled=false;
    }
  }
}
function DRGVersion() {
    LinkURL="patweb76.pbl?reportno=01&template=029&urnumber=" +
             document.InputWindow.urnumber.value.replace(/ /g,"+") +
            "&admissno=" +
             document.InputWindow.admissno.value.replace(/ /g,"+")
    Left=(document.body.clientWidth-600)/2;
    DFrameLink(LinkURL,70,Left,600,350);
}
function ABFEnable() {
  if((document.getElementById('ptcnuabf').value == "1") &&
      (document.getElementById('invotype').value == "3") &&
      (document.getElementById('abfindic').value.substr(4,1) == "A")) {
    document.showopt.abfdetails.style.visibility="visible";
    document.showopt.abfdetails.disabled=false;
  }
}
function ABFDetail() {
 if (document.getElementById('visittyp').value == "3") {

  if (document.getElementById('mhadmiss').value == "1") {
    LinkURL="patweb71.pbl?reportno=01&template=027" +
      "&invoicno=" + document.InputWindow.invoicen.value.replace(/ /g,"+") +
      "&urnumber=" + document.InputWindow.urnumber.value.replace(/ /g,"+") +
      "&admissno=" + document.InputWindow.admissno.value.replace(/ /g,"+");
    Left=(document.body.clientWidth-980)/2;
    DFrameLink(LinkURL,70,Left,980,650);
  } else {
    LinkURL="patweb71.pbl?reportno=01&template=012" +
      "&invoicno=" + document.InputWindow.invoicen.value.replace(/ /g,"+") +
      "&urnumber=" + document.InputWindow.urnumber.value.replace(/ /g,"+") +
      "&admissno=" + document.InputWindow.admissno.value.replace(/ /g,"+");
    Left=(document.body.clientWidth-980)/2;
    DFrameLink(LinkURL,70,Left,980,650);
  }

  } else {

    if (document.getElementById('visittyp').value == "2") {
      Left=(document.body.clientWidth-600)/2
	LinkURL="outweb07.pbl?reportno=01&template=002" +
	"&invoicno=" + document.InputWindow.invoicen.value.replace(/ /g,"+") +
	"&urnumber=" + document.InputWindow.urnumber.value.replace(/ /g,"+") +
	"&admissno=" + document.InputWindow.admissno.value.replace(/ /g,"+");
      Left=(document.body.clientWidth-550)/2;
      DFrameLink(LinkURL,100,Left,550,350);

    } else {
      if (document.getElementById('visittyp').value == "1") {
	LinkURL="emrweb04.pbl?reportno=01&template=002" +
	  "&invoicno=" + document.InputWindow.invoicen.value.replace(/ /g,"+") +
	  "&urnumber=" + document.InputWindow.urnumber.value.replace(/ /g,"+") +
	  "&admissno=" + document.InputWindow.admissno.value.replace(/ /g,"+");
        Left=(document.body.clientWidth-600)/2;
        DFrameLink(LinkURL,80,Left,600,400);
      }
    }
  }
}
function validateIHCAdj() {
  if (GetCookieData("EclipseAdjustCookie") != "unknown") {
    document.IHCAdjustmentForm.prevtrid.value=
      GetCookieData("EclipseAdjustCookie");
    document.IHCAdjustmentForm.ihcinvon.value=
      GetCookieData("EclipseAdjustCookieIN");
    document.IHCAdjustmentForm.ihcbtchn.value=
      GetCookieData("EclipseAdjustCookieBN");
    ExpireCookiePath("EclipseAdjustCookie");
    ExpireCookiePath("EclipseAdjustCookieIN");
    ExpireCookiePath("EclipseAdjustCookieBN");
    document.getElementById('ihcadjbt').style.visibility="visible";
  }
}
function validateIHCWAdj() {
  if (GetCookieData("WBSAdjustCookie") != "unknown") {
    document.IHCWAdjustmentForm.prevtrid.value=
      GetCookieData("WBSAdjustCookie");
    document.IHCWAdjustmentForm.ihcinvon.value=
      GetCookieData("WBSAdjustCookieIN");
    document.IHCWAdjustmentForm.ihcbtchn.value=
      GetCookieData("WBSAdjustCookieBN");
    ExpireCookiePath("WBSAdjustCookie");
    ExpireCookiePath("WBSAdjustCookieIN");
    ExpireCookiePath("WBSAdjustCookieBN");
    document.getElementById('ihcwadjb').style.visibility="visible";
  }
}
function IHCAdjustment() {
  document.IHCAdjustmentForm.redirect.value =
    "patweb71.pbl?reportno=01&template=001" +
    "&urnumber=" + document.IHCAdjustmentForm.urnumber.value.replace(/ /g,"+") +
    "&admissno=" + document.IHCAdjustmentForm.admissno.value.replace(/ /g,"+") +
    "&prevtrid=" + document.IHCAdjustmentForm.prevtrid.value.replace(/ /g,"+") +
    "&showhead=0";

  document.IHCAdjustmentForm.submit();
}
function IHCWAdjustment() {
  document.IHCWAdjustmentForm.redirect.value =
   "patweb71.pbl?reportno=01&template=001" +
   "&urnumber=" + document.IHCWAdjustmentForm.urnumber.value.replace(/ /g,"+") +
   "&admissno=" + document.IHCWAdjustmentForm.admissno.value.replace(/ /g,"+") +
   "&prevtrid=" + document.IHCWAdjustmentForm.prevtrid.value.replace(/ /g,"+") +
   "&showhead=0";

  document.IHCWAdjustmentForm.submit();
}
function UpdAccount() {
  //T0863727 - Account paid in full checkbox no longer required
  //  if (document.getElementById('d_fullpaid').checked==true) {
  //    document.getElementById('fullpaid').value="1";
  //  } else {
  //    document.getElementById('fullpaid').value="0";
  //  }
  //T0863727-end

  document.InputWindow.redirect.value =
    "patweb76.pbl?reportno=01&template=001&urnumber=" +
    document.PatientLinks.urnumber.value.replace(/ /g,"+") +
    "&admissno=" +
    document.PatientLinks.admissno.value.replace(/ /g,"+") +
    "&invoicen=" +
    document.PatientLinks.invoicen.value.replace(/ /g,"+") +
    "&visittyp=" +
    document.InputWindow.visittyp.value.replace(/ /g,"+")

    document.InputWindow.nextpage.value="1";
  document.InputWindow.updatety.value="8";
  document.InputWindow.submit();
}
</script>
</head>
%START.OF.PAGE
<body  onLoad="PageLoad(event); AnasTypeEnable();ABFEnable();DRGEnable();
               validateIHCAdj();validateIHCWAdj();assignrefEclipseDIV();">
<div id=PatientHeading></div>
<script type="text/javascript">
PatientURN="%PATWEB76.01.003";
PatientVIS="%PATWEB76.01.081";
PatientNAM="%PATWEB76.01.002";
PatientSTA="%PATWEB76.01.086.078";
PatientALT="%PATWEB76.01.084";
PatientSEX="%PATWEB76.01.019";
PatientDOB="%PATWEB76.01.020";
PatientAGE="%PATWEB76.01.021";
PatientLOC="%PATWEB76.01.083";
PatientPRI="%PATWEB76.01.086.066.1";
PatientUNT="%PATWEB76.01.066.0";
DoctorCOD="%PATWEB76.01.082.003";
DoctorNAM="%PATWEB76.01.082.002";
PatientAID="%PATWEB76.01.086.090";
PatientIND="%PATWEB76.01.086.091";
PatientCUR="%PATWEB76.01.086.092";
PatientCLC="%PATWEB76.01.086.093.1";
PatientCLH="%STANDARD.01.017.CL";
PatientHFT="%PATWEB76.01.086.094";
PatientCDM="%PATWEB76.01.086.095";
PatientVDH="%PATWEB76.01.086.099.015";
InsertPatientHeader()
  </script>
  <div id=PatientMenu></div>
  <div id=PageBodySection >

<form name=InputWindow action=patweb76.pbl method=get style="margin:0">
<input type=hidden name=reportno value=1>
<input type=hidden name=template value=2>
<input type=hidden name=updatety value=2>
<input type=hidden name=nextpage value="">
<input type=hidden name=redirect value="">
<input type=hidden name=fullpaid value="">
<input type=hidden name=invoicen value="%PATWEB76.01.302">
<input type=hidden name=visittyp id=visittyp value="%PATWEB76.01.310">
<input type=hidden name=urnumber value="%PATWEB76.01.003">
<input type=hidden name=admissno value="%PATWEB76.01.081">
<input type=hidden name=invcdate value="%PATWEB76.01.303">
<input type=hidden name=uniqnumb value="%PATWEB76.01.328">
<input type=hidden name=prhre001 value="%PATWEB76.01.329">
<input type=hidden name=prhre002 value="%PATWEB76.01.330">
<input type=hidden name=prhre003 value="%PATWEB76.01.331">
<input type=hidden name=splitflg value="%PATWEB76.01.379">
<input type=hidden name=progflag value="1">
<input type=hidden name=ecliindc value="%PATWEB76.01.380">
<input type=hidden name=eclmindc value="%PATWEB76.01.393">
<input type=hidden name=epcsindc value="%PATWEB76.01.731">
<input type=hidden name=ecliflag value="%PATWEB76.01.394">
<input type=hidden name=mhadmiss id=mhadmiss value="%PATWEB76.01.754">
<input type=hidden name=invotype id=invotype value="%PATWEB76.01.636">
<input type=hidden name=anastype value="%STANDARD.01.025. 15.189.1.1">
<input type=hidden name=ptcnuabf id=ptcnuabf
  value="%STANDARD.01.025.128.105.0.1">
<input type="hidden" name=abfindic id=abfindic value="%PATWEB76.01.399.3">
<input type="hidden" name="ptcnuimc" id="ptcnuimc"
 value="%STANDARD.01.025.124.111.0.1">
<input type=hidden name="ptcnuesf" id="ptcnuesf"
 value="%STANDARD.01.025.124.222.0.1">
<input type=hidden name=ptcnirai id=ptcnirai 
 value="%STANDARD.01.025.124.212.0.1">
<input type=hidden name=ptcnuebb id=ptcnuebb 
 value="%STANDARD.01.025.127.122.0.1">
<input type=hidden name=ecbbindc value="%PATWEB76.01.734">
<input type=hidden name=imcwindc value="%PATWEB76.01.744">
<input type=hidden name=ihcwindc value="%PATWEB76.01.746">
<input type=hidden name=pciwindc value="%PATWEB76.01.748">
<input type=hidden name=bbswindc value="%PATWEB76.01.749">
<input type=hidden name="ptcnwsin" id="ptcnwsin"
 value="%STANDARD.01.025.129. 61.0.1">
<input type=hidden name=ptcndvaw id=ptcndvaw
 value="%STANDARD.01.025.129.249.0.1">
<input type=hidden name=dvawindc value="%PATWEB76.01.755">

<table cellspacing=0 cellpadding=1 border=0 width=100%>
<tr><td class=HeadingCell align=center>
    Invoice Number : %PATWEB76.01.302</td>
    <td class=HeadingCell align=center><div id=InvRaisedDateTime></div></td>
    <td class=HeadingCell><div id=InvRaisedByNam></div></td>
    <td class=HeadingCell align=right>%PATWEB76.01.333
    </td> </tr>
</table>
</form> 

<table border=0 cellspacing=0 cellpadding=0 width=100% bgcolor=#CCCCCC>
%PATWEB76.01.304.0
</table>
<table border=1 cellspacing=0 cellpadding=0 width=100%>
%PATWEB76.01.304.1
</table>

<form name=showopt action="patweb76.pbl" method=post style="margin:0">
<input type=hidden name=reportno value=2>
<input type=hidden name=template value=1>
<input type=hidden name=urnumber value="%PATWEB76.01.003">
<input type=hidden name=admissno value="%PATWEB76.01.081">
<input type=hidden name=sbwindow value=0>
<input type=hidden name=updatety value=0>
<input type=hidden name=fullpaid value="">
<input type=hidden name=invoicen value="%PATWEB76.01.302">
<input type=hidden name=visittyp value="%PATWEB76.01.310">
<input type=hidden name=mhadmiss id=mhadmiss value="%PATWEB76.01.754">
<input type=hidden name=uniqnumb value="%PATWEB76.01.328">
<input type=hidden name=prhre001 value="%PATWEB76.01.329">
<input type=hidden name=prhre002 value="%PATWEB76.01.330">
<input type=hidden name=prhre003 value="%PATWEB76.01.331">
<input type="hidden" name=typeacct id=typeacct value="%PATWEB76.01.728.3">
<input type="hidden" name=dummy id=dummy value=" ">

<table border=0 cellpadding=2 cellspacing=0 width=100% bgcolor=#CCCCCC>
     <tr>
     <td class="DataLabel" width=25%>
     <div id=lnkvisnumtitleDIV></div></td>
     <td><div id=lnkvisnumfieldDIV></div></td>
     <td><div id=admDateDIV></div></td>
     <td><div id=disDateDIV></div></td>
     </tr>

<tr><td class=DataField colspan=8>
    <span id=showprintopt></span>
    </td></tr>

<!-- T0863727 - Account paid in full checkbox no longer required
<tr><td class=DataField colspan=8>
    <span id=showfullpaidopt></span>
    </td></tr> -->

<tr><td class=DataField></td>
    <td class=DataField colspan=7>
    <span id="OtherClaimant"></span>
    </td></tr>

<tr><td align=center class=DataField colspan=8>
    <span id=showoptions></span>
    </td></tr>

</table>
</form>
</div>

<span id=printoption style="display:none">
<table width=100%>
<tr><td class=DataLabel>Select Printer </td> 
    <td><select name=selprint > 
        %STANDARD.01.001.PATWEB76.02
        </select></td>
    <td class=DataLabel>Copies</td>
    <td><select name=nocopies>
       <option value=" 1">1</option>
       <option value=" 2">2</option>
       <option value=" 3">3</option>
       <option value=" 4">4</option>
       <option value=" 5">5</option>
       <option value=" 6">6</option>
       <option value=" 7">7</option>
       <option value=" 8">8</option>
       <option value=" 9">9</option>
       <option value=" 10">10</option>
       </select></td>
</tr>
</table>
</span>

<span id=ppprtoption style="display:none">
<table width=100%>
<tr><td class=DataLabel>Select Printer </td> 
    <td><select name=selprint > 
        %STANDARD.01.001.PRIWEB02.05
        </select></td>
    <td class=DataLabel>Copies</td>
    <td><select name=nocopies>
       <option value=" 1">1</option>
       <option value=" 2">2</option>
       <option value=" 3">3</option>
       <option value=" 4">4</option>
       <option value=" 5">5</option>
       <option value=" 6">6</option>
       <option value=" 7">7</option>
       <option value=" 8">8</option>
       <option value=" 9">9</option>
       <option value=" 10">10</option>
       </select></td>
</tr>
</table>
</span>

<!--T0863727- Account paid in full checkbox no longer required
<span id=FullPaidOption style="display:none">
<table width=100%>
<tr><td width=24% class=DataLabel>Account Paid in Full</td>
    <td><input type=checkbox name=d_fullpaid id="d_fullpaid"
         onclick="UpdAccount();"></td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
</tr>
</table>
</span> -->

<!-- No longer required
<span id=defoption style="display:none">
<table width=100%>

<span id=defoption style="display:none">
<table width=100%>
<tr><td align=center>
  <input type=submit name=formactn value="Re-Print" class="button">

  <input type=button value="Input Journal" 
   onclick="JournalAdj();" class="button">
  <input type=button value="PRFA" class="button"
   onclick="PRFAccount();">
</tr></td>
</table>
</span>
-->

<span id=cmtoption style="display:none">
<table width=100%>
<tr><td align=center>
  <input type=submit name=formactn value="Re-Print" class="button">
  <input type=button value="Input Journal" name=inputoption
   onclick="JournalAdj();" class="button">
  <input type=button value="PRFA" class="button"
   onclick="PRFAccount();">
  <input type=button class="Bigbutton" value="Billing Comments"
   onclick="comments();">
  <input type=button id=crdbtn3 class="button" value="Credit All" name=creditall
   onclick="tempDisable(this);ChkSplitInv();">
  <input type=button class="button" value="Credit by Item" name=credititm
   onclick="CrdItm(urnumber,admissno,invoicen);">
  <input type=button class="button" value="Transaction" name=credittrn
   onclick="CrdTrn(urnumber,admissno,invoicen);">
  <input type=button class="button" value="Input Receipt" name=inprecpt
   onclick="InputRecptn();">
  <input type=button class="button" value="Receipt" name=receiptrec
   onclick="Recptn(urnumber,admissno,invoicen,visittyp);">
  <input type=button class="Bigbutton" value="Transfer Payment" name=cashtrans
   onclick="OverPayment();">
  <input type=button class="Bigbutton" value="Eclipse IHC Batch" name=eclibutn 
   disabled onclick="eclipseLink();">
  <input type=button class="Bigbutton" value="Eclipse PCS Batch" name=epcsbutn
   disabled onclick="eclipseLinkPCS();">
  <input type=button class="Bigbutton" value="Eclipse DBS Batch" name=ebbibutn
   disabled onclick="eclipseLinkBB();">
  <input type=button class="button" value="Reassign Debt" name=reassign
   onclick="Reassign();">
  <input type=button class="button" value="Action Plan" name=actplan
   onclick="ActionPlan();">
  <input type=button class="Bigbutton" value="Invoice Comments" name=invcomment
   onclick="InvComment();">
   <input type=button class="Bigbutton" value="IHCW Batch"
   name=ihcwbutn disabled onclick="webservicesLinkIHCW();">
  <input type=button class="Bigbutton" value="PCIW Batch" name=pciwbutn
   disabled onclick="webservicesLinkPCIW();">
  <input type=button class="Bigbutton" value="BBSW Batch" name=bbswbutn
   disabled onclick="webservicesLinkBBSW();">
  <input type=button class="Bigbutton" value="DVAW Batch" name=dvawbutn
   disabled onclick="webservicesLinkDVAW();">
  <input style="visibility:hidden;" type=button
         value="DRG Versions" name=drgversion disabled
         class="button" onclick="DRGVersion();" />
  <input style="visibility:hidden;" type=button
         value="ABF Details" name=abfdetails disabled
         class="button" onclick="ABFDetail();" />
  <input style="visibility:hidden;" type=button
         value="Anaesthetic Type" name=anaesthetic disabled
         class="button" onclick="Anaesthetic();" />
  <input style="visibility:hidden;" 
   type=button class="button" value="IHC Adjustment" name=ihcadjbt
   id=ihcadjbt onclick="IHCAdjustment();">
  <input style="visibility:hidden;"
   type=button class="button" value="IHCW Adjustment" name=ihcwadjb
   id=ihcwadjb onclick="IHCWAdjustment();">
  </td></tr>
</table>
</span>

<span id=redcommnt style="display:none">
<table width=100%>
<tr><td align=center>
  <input type=submit name=formactn value="Re-Print" class="button">
  <input type=button value="Input Journal" name=inputoption
   onclick="JournalAdj();" class="button">
  <input type=button value="PRFA" class="button"
   onclick="PRFAccount();">
  <input type=button class="Red BigButton" value="Billing Comments"
   onclick="comments();">
  <input type=button id=crdbtn1 class="button" value="Credit All" name=creditall
   onclick="tempDisable(this);ChkSplitInv();">
  <input type=button class="button" value="Credit by Item" name=credititm
   onclick="CrdItm(urnumber,admissno,invoicen);">
  <input type=button class="button" value="Transaction" name=credittrn
   onclick="CrdTrn(urnumber,admissno,invoicen);">
  <input type=button class="button" value="Input Receipt" name=inprecpt
   onclick="InputRecptn();">
  <input type=button class="button" value="Receipt" name=receiptrec
   onclick="Recptn(urnumber,admissno,invoicen,visittyp);">
  <input type=button class="Bigbutton" value="Transfer Payment" name=cashtrans
   onclick="OverPayment();">
  <input type=button class="Bigbutton" value="Eclipse IHC Batch" name=eclibutn
   disabled onclick="eclipseLink();">
  <input type=button class="Bigbutton" value="Eclipse PCS Batch" name=epcsbutn
   disabled onclick="eclipseLinkPCS();">
  <input type=button class="Bigbutton" value="Eclipse DBS Batch" name=ebbibutn
   disabled onclick="eclipseLinkBB();">
  <input type=button class="button" value="Reassign Debt" name=reassign
   onclick="Reassign();">
  <input type=button class="button" value="Action Plan" name=actplan
   onclick="ActionPlan();">
  <input type=button class="Bigbutton" value="Invoice Comments" name=invcomment
   onclick="InvComment();">
   <input type=button class="Bigbutton" value="IHCW Batch"
   name=ihcwbutn disabled onclick="webservicesLinkIHCW();">
  <input style="visibility:hidden;" type=button
         value="DRG Versions" name=drgversion disabled
         class="button" onclick="DRGVersion();" />
  <input style="visibility:hidden;" type=button
         value="ABF Details" name=abfdetails disabled
         class="button" onclick="ABFDetail();" />
  <input style="visibility:hidden;" type=button
         value="Anaesthetic Type" name=anaesthetic disabled
         class="button" onclick="Anaesthetic();" />
  <input type=button class="Bigbutton" value="PCIW Batch" name=pciwbutn
   disabled onclick="webservicesLinkPCIW();">
  <input type=button class="Bigbutton" value="BBSW Batch" name=bbswbutn
   disabled onclick="webservicesLinkBBSW();">
  <input type=button class="Bigbutton" value="DVAW Batch" name=dvawbutn
   disabled onclick="webservicesLinkDVAW();">
</td></tr>
</table>
</span>
<span id=rcpoptionPP style="display:none">
<table width=100%>
<tr><td align=center>
  <input type=button class="button" value="Account Status"
   onclick="AccStatPP();">
  <input type=button class="button" value="Re-Print"
   onclick="PrtInvPP();">
  <input type=button class="button" value="Input Journal" name=ppjournal
   onclick="InpJnlPP();">
  <input type=button class="Bigbutton" value="Change %STANDARD.01.017.CL"
   onclick="ChangeClaim();">
  <input type=button class="button" value="PRFA"
   onclick="PRFAPP();">
  <input type=button class="button" value="Comments" name=pricomment
   onclick="PPcomments();">
  <input type=button id=crdbtn2 class="button" value="Credit All" name=creditall
   onclick="tempDisable(this);CrdAllPP();">
  <input type=button class="button" value="Credit by Item" name=credititm
   onclick="CrdItmPP();">
  <input type=button class="Bigbutton" value="Transfer Payment" name=cashtrans
   onclick="TransPayPP();">
<!--
  <input type=button class="button" value="Reassign Debt" name=reassignpp
   onclick="ReassignPP();">
 -->
  <input type=button class="Bigbutton" value="Eclipse IMC Batch" name=eclmbutn
   disabled onclick="eclipseLinkIMC();">
  <input type=button class="Bigbutton" value="Eclipse PCS Batch" name=epcsbutn
   disabled onclick="eclipseLinkPCS();">
  <input type=button class="Bigbutton" value="Eclipse DBS Batch" name=ebbibutn
   disabled onclick="eclipseLinkBB();">
  <input type=button class="button" value="Transaction" name=credittrn
   onclick="CrdTrnPP();">
  <input type=button class="button" value="Input Receipt" name=inprecpt
   onclick="InputRecptn();">
  <input type=button class="button" value="Receipt" name=receiptrec
   onclick="Recptn(urnumber,admissno,invoicen,visittyp);">
  <!-- <input type=button class="button" value="Ref. Override"
  onclick="ReferralOverride();" id="referraloverrideBUTTON"> -->
   <input type=button class="Bigbutton" value="IMCW Batch" 
   name=imcwbutn disabled onclick="webservicesLinkIMCW();">
  <input type=button class="Bigbutton" value="PCIW Batch" name=pciwbutn
   disabled onclick="webservicesLinkPCIW();">
  <input type=button class="Bigbutton" value="BBSW Batch" name=bbswbutn
   disabled onclick="webservicesLinkBBSW();">
  <input type=button class="Bigbutton" value="DVAW Batch" name=dvawbutn
   disabled onclick="webservicesLinkDVAW();">
</td></tr>
</table>
</span>

<span id=rcpoptionAC style="display:none">
<table width=100%>
<tr><td align=center>
  <input type=button class="button" value="Receipt" name=receiptrec
   onclick="Recptn(urnumber,admissno,invoicen,visittyp);">
</td></tr>
</table>
</span>

<form name=AlignPrint action="patweb76.pbl" method=post>
<input type=hidden name=reportno value=3>
</form>

<form name=PatientLinks method=get>
<input type=hidden name=reportno value=1>
<input type=hidden name=template value=004>
<input type=hidden name=urnumber value="%PATWEB76.01.003">
<input type=hidden name=admissno value="%PATWEB76.01.081">
<input type=hidden name=MenuType value="%PATWEB76.01.088">
<input type=hidden name=uniqnumb value="%PATWEB76.01.328">
<input type=hidden name=prhre001 value="%PATWEB76.01.329">
<input type=hidden name=prhre002 value="%PATWEB76.01.330">
<input type=hidden name=prhre003 value="%PATWEB76.01.331">
<input type=hidden name=invoicen value="%PATWEB76.01.302">
</form>

<form name=PrivPracInv action=priweb02.pbl method=get>
<input type=hidden name=reportno value=5>
<input type=hidden name=template value=001>
<input type=hidden name=urnumber value="%PATWEB76.01.003">
<input type=hidden name=admissno value="%PATWEB76.01.081">
<input type=hidden name=invoicen value="%PATWEB76.01.302">
<input type=hidden name=uniqnumb value="%PATWEB76.01.328">
<input type=hidden name=prhre001 value="%PATWEB76.01.329">
<input type=hidden name=prhre002 value="%PATWEB76.01.330">
<input type=hidden name=prhre003 value="%PATWEB76.01.331">
<input type=hidden name=nextpage value="6">
<input type=hidden name=updttype value="">
<input type=hidden name=selprint value="">
<input type=hidden name=nocopies value="">
<input type=hidden name=prdtr030 value="">
<input type=hidden name=d_prhre028 id=d_prhre028 value="%PATWEB76.01.728.3">
<input type=hidden name=d_pmclt003 id=d_pmclt003 value="1">
<!--
<input type=hidden name=d_pmclt003 id=d_pmclt003 value="PATWEB76.01.730.003">
 -->
</form>

<form name=IHCAdjustmentForm action=patweb76.pbl method=post>
<input type=hidden name=reportno value=1>
<input type=hidden name=template value=001>
<input type=hidden name=urnumber value="%PATWEB76.01.003">
<input type=hidden name=admissno value="%PATWEB76.01.081">
<input type=hidden name=MenuType value="%PATWEB76.01.088">
<input type=hidden name=uniqnumb value="%PATWEB76.01.328">
<input type=hidden name=prhre001 value="%PATWEB76.01.329">
<input type=hidden name=prhre002 value="%PATWEB76.01.330">
<input type=hidden name=prhre003 value="%PATWEB76.01.331">
<input type=hidden name=invoicen value="%PATWEB76.01.302">
<input type=hidden name=showhead value="0">
<input type=hidden name=updatetp value="2">
<input type=hidden name=redirect value=" ">
<input type=hidden name=nextpage value="1">
<input type=hidden name=prevtrid value=" ">
<input type=hidden name=ihcinvon value=" ">
<input type=hidden name=ihcbtchn value=" ">
</form>

<form name=IHCWAdjustmentForm action=patweb76.pbl method=post>
<input type=hidden name=reportno value=1>
<input type=hidden name=template value=001>
<input type=hidden name=urnumber value="%PATWEB76.01.003">
<input type=hidden name=admissno value="%PATWEB76.01.081">
<input type=hidden name=MenuType value="%PATWEB76.01.088">
<input type=hidden name=uniqnumb value="%PATWEB76.01.328">
<input type=hidden name=prhre001 value="%PATWEB76.01.329">
<input type=hidden name=prhre002 value="%PATWEB76.01.330">
<input type=hidden name=prhre003 value="%PATWEB76.01.331">
<input type=hidden name=invoicen value="%PATWEB76.01.302">
<input type=hidden name=showhead value="0">
<input type=hidden name=updatetp value="3">
<input type=hidden name=redirect value=" ">
<input type=hidden name=nextpage value="1">
<input type=hidden name=prevtrid value=" ">
<input type=hidden name=ihcinvon value=" ">
<input type=hidden name=ihcbtchn value=" ">
</form>

<span id=InvRaisedByDesc style="display:none">Raised By: %PATWEB76.01.398</span>
<span id=InvRaisedDate style="display:none">
      Invoice Date : %PATWEB76.01.303</span>
<span id=InvRaisedTime style="display:none">
      Invoice Date : %PATWEB76.01.303 at %PATWEB76.01.742</span>

<span id=ShowOtherClaimant style="display:none">
<table width=90%>
    <tr><td class="DataLabel">Claimant Family Name</td>
        <td class="DataField">%PATWEB76.01.730.003</td>
        <td class="DataLabel">Claimant Address Line 1</td>
        <td class="DataField">%PATWEB76.01.730.008</td>
        </tr>
    <tr><td class="DataLabel">Claimant First Name</td>
        <td class="DataField">%PATWEB76.01.730.004</td>
        <td class="DataLabel">Claimant Address Line 2</td>
        <td class="DataField">%PATWEB76.01.730.009</td>
        </tr>
    <tr><td class="DataLabel">Claimant Medicare Number</td>
        <td class="DataField">%PATWEB76.01.730.006 &nbsp;&nbsp;
                              %PATWEB76.01.730.007</td>
        <td class="DataLabel">Claimant Suburb</td>
        <td class="DataField">%PATWEB76.01.730.010</td>
        </tr>
    <tr><td class="DataLabel">Claimant Date of Birth</td>
        <td class="DataField">%PATWEB76.01.730.005</td>
        <td class="DataLabel">Claimant Post Code </td>
        <td class="DataField">%PATWEB76.01.730.012</td>
        </tr>
</table>
</span>

<script type="text/javascript">
if(document.getElementById("ptcnirai").value == 1) {
    InvRaisedDateTime.innerHTML=InvRaisedDate.innerHTML;
    InvRaisedByNam.innerHTML=InvRaisedByDesc.innerHTML;}
else {
  if(document.getElementById("ptcnirai").value == 2){
    InvRaisedDateTime.innerHTML=InvRaisedTime.innerHTML;
    InvRaisedByNam.innerHTML=InvRaisedByDesc.innerHTML;}
  else {
    InvRaisedDateTime.innerHTML=InvRaisedDate.innerHTML;
    InvRaisedByNam.innerHTML="";}
}

i="%PATWEB76.01.310";
CmntIndic="%PATWEB76.01.392";
if ((i=="1") || (i=="2") || (i=="3")) {  // Patient Billing - Inp,Emr,Out
  document.all.showprintopt.innerHTML=document.all.printoption.innerHTML 
  if ( CmntIndic =="1" ) {
     document.all.showoptions.innerHTML=document.all.redcommnt.innerHTML 
  }
  else  {
     document.all.showoptions.innerHTML=document.all.cmtoption.innerHTML 
  }

  LastInv="%PATWEB76.01.601";
  if (LastInv=="0") {
     showopt.creditall.disabled=false; 
  }
  else {
     showopt.creditall.disabled=true; 
  }

  CredItm="%PATWEB76.01.610";
  if (CredItm=="0") {
     showopt.credititm.disabled=false; 
  }
  else {
     showopt.credititm.disabled=true; 
  }

  Outstanding="%PATWEB76.01.619.1";
  if (trim(Outstanding)==".00") {
     showopt.inprecpt.disabled=true;
  }
  else {
     showopt.inprecpt.disabled=false;
  }

  TranOpt="%PATWEB76.01.609";
  if (TranOpt!="0") {
     showopt.credittrn.disabled=false; 
  }
  else {
     showopt.credittrn.disabled=true; 
  }

  JrnlIP="%PATWEB76.01.634";
  if (JrnlIP=="0") {
    showopt.inputoption.disabled=false; 
  } 
  else {
    showopt.inputoption.disabled=true;
  }

//  if ((i=="1") || (i=="2") || (i=="3")) {  // Patient Billing - Inp,Emr,Out
  CashTran="%PATWEB76.01.616";
  if (CashTran=="0") {
     showopt.cashtrans.disabled=false;
  }
  else {
     showopt.cashtrans.disabled=true;
  }
    InvComm="%PATWEB76.01.631";
    if (InvComm=="1") {
      showopt.invcomment.className="BigRedButton";
    }
    ReAssignDebt="%PATWEB76.01.621.0";
    if (ReAssignDebt=="0") {
      showopt.reassign.disabled=false;
    } else {
     showopt.reassign.disabled=true;
    }
//  ReAssignDebtPP="%PATWEB76.01.621.1";
//  if (ReAssignDebtPP=="0") {
//    showopt.reassignpp.disabled=false;
//  } else {
//   showopt.reassignpp.disabled=true;
//  }
    ActPlan="%PATWEB76.01.628";
    Outstanding="%PATWEB76.01.619.1";
    if ((ActPlan=="1") && (trim(Outstanding)>".00")) {
      showopt.actplan.disabled=false;
    } else {
      showopt.actplan.disabled=true;
    }

//T0863727-start - Account paid in full checkbox no longer required
//  if((document.getElementById("ptcnuesf").value == "1") || (i=="1")){  // Emr
//     document.all.showfullpaidopt.innerHTML=
//     document.all.FullPaidOption.innerHTML;
//
//     if ("%PATWEB76.01.732"=="1") {
//      document.getElementById('d_fullpaid').checked=true;
//     } else {
//      document.getElementById('d_fullpaid').checked=false;
//     }
//  } else  {
//    document.all.showfullpaidopt.innerHTML="";
//}
//T0863727-end
 
  if(!isWhitespace(document.getElementById("d_pmclt003").value)) {
     document.getElementById("OtherClaimant").innerHTML=
     document.getElementById("ShowOtherClaimant").innerHTML;
  }
//  }
}
else  {
//T0863727  document.all.showfullpaidopt.innerHTML="";
  if (i=="4") {                            // Private Practice
    document.all.showprintopt.innerHTML=document.all.ppprtoption.innerHTML 
    document.all.showoptions.innerHTML=document.all.rcpoptionPP.innerHTML; 
    document.InputWindow.anastype.value="1"
    CashTran="%PATWEB76.01.630";
    if (CashTran=="0") {
       showopt.cashtrans.disabled=false;
    }
    else {
       showopt.cashtrans.disabled=true;
    }

    LastPPInv="%PATWEB76.01.613";
    if (LastPPInv=="0") {
     showopt.creditall.disabled=false; 
    }
    else {
     showopt.creditall.disabled=true; 
    }

    PPComment="%PATWEB76.01.632";
    if (PPComment == "1") {
      showopt.pricomment.className="BigRedButton";
    }

    CredItmPP="%PATWEB76.01.614";
    if (CredItmPP=="0") {
     showopt.credititm.disabled=false; 
    }
    else {
     showopt.credititm.disabled=true; 
    }

    JrnlPP="%PATWEB76.01.633";
    if (JrnlPP=="0") {
     showopt.ppjournal.disabled=false; 
    }
    else {
     showopt.ppjournal.disabled=true; 
    }

    OutstandingPP="%PATWEB76.01.620";
    if (trim(OutstandingPP)==".00") {
     showopt.inprecpt.disabled=true;
    }
    else {
     showopt.inprecpt.disabled=false;
    }

    TranOpt="%PATWEB76.01.615";
    if (TranOpt=="0") {
     showopt.credittrn.disabled=false; 
    }
    else {
     showopt.credittrn.disabled=true; 
    }
    if(document.getElementById("d_prhre028").value.substr(3,1) == "5" &&
      !isWhitespace(document.getElementById("d_pmclt003").value)) {
       document.getElementById("OtherClaimant").innerHTML=
       document.getElementById("ShowOtherClaimant").innerHTML;
    }
  }
  else {                                   // Account Receivable
    document.all.showoptions.innerHTML=document.all.rcpoptionAC.innerHTML; 
    document.InputWindow.anastype.value="1"
  }
}

RcptOpt="%PATWEB76.01.612";
if (RcptOpt=="0") {
  showopt.receiptrec.disabled=false; 
}
else {
  showopt.receiptrec.disabled=true; 
}

  if (document.InputWindow.ptcnwsin.value != "1") {
    if (document.showopt.eclibutn != undefined && 
        !isWhitespace(document.InputWindow.ecliindc.value)) {
      document.showopt.eclibutn.disabled = false;
    }

    if (document.showopt.eclmbutn != undefined &&
        !isWhitespace(document.InputWindow.eclmindc.value)) {
      document.showopt.eclmbutn.disabled = false;
    }

    if (document.showopt.epcsbutn != undefined &&
        !isWhitespace(document.InputWindow.epcsindc.value)) {
      document.showopt.epcsbutn.disabled = false;
    }

//T0859743-start
    if (document.showopt.ebbibutn != undefined &&
        !isWhitespace(document.InputWindow.ecbbindc.value)) {
      document.showopt.ebbibutn.disabled = false;
    }
//T0859743-end  
  }

if ((i=="1")) {
  showopt.actplan.disabled=true;
}

  if (document.showopt.imcwbutn != undefined &&
      !isWhitespace(document.InputWindow.imcwindc.value)) {
    document.showopt.imcwbutn.disabled = false;
  }

  if (document.showopt.ihcwbutn != undefined &&
      !isWhitespace(document.InputWindow.ihcwindc.value)) {
    document.showopt.ihcwbutn.disabled = false;
  }
  if (document.showopt.pciwbutn != undefined &&
      !isWhitespace(document.InputWindow.pciwindc.value)) {
    document.showopt.pciwbutn.disabled = false;
  }
  if (document.showopt.bbswbutn != undefined &&
      !isWhitespace(document.InputWindow.bbswindc.value)) {
    document.showopt.bbswbutn.disabled = false;
  }
  if (document.showopt.dvawbutn != undefined &&
      !isWhitespace(document.InputWindow.dvawindc.value)) {
    document.showopt.dvawbutn.disabled = false;
  }


//T0859743-start - Removed Ref.Override button
//if (document.getElementById("ptcnuimc").value!="1") {
//  document.getElementById("referraloverrideBUTTON").disabled=true;
//} else {
//
//  if (!isWhitespace("%PATWEB76.01.395")) {
//    document.getElementById("referraloverrideBUTTON").className="BigRedButton";
//  }
//
//  if (!isWhitespace("%PATWEB76.01.397")) {
//    document.getElementById("referraloverrideBUTTON").disabled=true;
//  }
//
//}
//T0859743-end

function InvComment() {
  LinkURL="patweb76.pbl?reportno=01&template=046&urnumber=" +
           document.PatientLinks.urnumber.value.replace(/ /g,"+") +
          "&admissno=" + 
           document.PatientLinks.admissno.value.replace(/ /g,"+") +
          "&invoicen=" + 
           document.PatientLinks.invoicen.value.replace(/ /g,"+")
  Left=(document.body.clientWidth-880)/2
  DFrameLink(LinkURL,50,Left,880,300);
}

function comments() {
  LinkURL="cliweb06.pbl?reportno=12&template=007&urnumber=" +
           document.PatientLinks.urnumber.value.replace(/ /g,"+") +
          "&admissno=" + 
           document.PatientLinks.admissno.value.replace(/ /g,"+") +
          "&notetype=003"
  Left=(document.body.clientWidth-880)/2
  DFrameLink(LinkURL,50,Left,880,300);
}
function PPcomments() {
  LinkURL="priweb02.pbl?reportno=14&template=001&urnumber=" +
           document.PatientLinks.urnumber.value.replace(/ /g,"+") +
          "&invoicen=" + 
           document.PatientLinks.invoicen.value.replace(/ /g,"+") +
          "&notetype=001"
  Left=(document.body.clientWidth-1100)/2
  DFrameLink(LinkURL,50,Left,1100,400);
}

//T0859743-start - Removed Ref.Override button
//function ReferralOverride() {
//  LinkURL="priweb02.pbl?reportno=15&template=002&urnumber=" +
//             document.InputWindow.urnumber.value.replace(/ /g,"+")
//           + "&uniqnumb=" + document.InputWindow.uniqnumb.value
//           + "&prhre001=" + document.InputWindow.prhre001.value
//           + "&prhre002=" + document.InputWindow.prhre002.value
//           + "&prhre003=" + document.InputWindow.prhre003.value 
//           + "&invoicen=" + document.InputWindow.invoicen.value;
//
//  Left=(document.body.clientWidth-700)/2
//  DFrameLink(LinkURL,180,150,700,290);
//}
//T0859743-end

function ValidateVisit(ValidateV,ValidateUR,ReturnName) {
  ReturnFunction="" ;
  ReturnName.value="";
  document.getElementById('admDateDIV').innerHTML="";
  document.getElementById('disDateDIV').innerHTML="";
  for (var i=3; i < ValidateVisit.arguments.length; i++) {
    if (typeof(ValidateVisit.arguments[i]) == 'function') {
      ReturnFunction=ValidateVisit.arguments[i] }
    else {
      ValidateVisit.arguments[i].value=""; }  }
  if (isWhitespace(ValidateV.value)) return;;
  var serverURL = "../cgi-bin/emrweb08.pbl?reportno=18&valdcode=" +
                    ValidateV.value.replace(/ /g,"+") +
                    "&valdurno=" + ValidateUR.value.replace(/ /g,"+")
  var returnValue = RSExecute(serverURL);
  if (returnValue.status==0) {
    ReturnValue=returnValue.return_value.split("|");
    ReturnName.value=ReturnValue[0];
    j=0
    for (var i=3; i < ValidateVisit.arguments.length; i++) {
       if (typeof(ValidateVisit.arguments[i]) != 'function') {
         j++
         ValidateVisiValidateVisit.arguments[i].value=ReturnValue[j] } }
    if (typeof(ReturnFunction) == 'function') {
       ReturnFunction() } }
  else {
    ValidateV.value="";
    ValidateV.focus();;
    return false;}
}
function validateAdmDis() {
  var serverURL = "../cgi-bin/emrweb08.pbl?reportno=51&valdcode=" +
                    document.getElementById('prdtr030').value.replace(/ /g,"+");
  var returnValue = RSExecute(serverURL);
  if (returnValue.status==0) {
    ReturnValue=returnValue.return_value.split("|");
    document.getElementById('admDateDIV').innerHTML=
    "&nbsp;<b>Adm Date:</b>&nbsp;" + ReturnValue[0] +
                         "&nbsp;";
    document.getElementById('disDateDIV').innerHTML=
    "&nbsp;<b>Dis Date:</b>&nbsp;" + ReturnValue[1] +
                         "&nbsp;";
    document.PrivPracInv.prdtr030.value=document.showopt.prdtr030.value; 
  }
}
function assignrefEclipseDIV() {

  if (((document.InputWindow.ptcndvaw.value == "1") &&
      (!isWhitespace(document.InputWindow.dvawindc.value)))) {

    if (document.InputWindow.dvawindc.value.substring(32,33)=="2") {

    lnkvisnumtitleDIV.innerHTML=lnkvisnumtitleSPAN.innerHTML;
    lnkvisnumfieldDIV.innerHTML=lnkvisnumfieldSPAN.innerHTML;

    ValidateVisit(showopt.prdtr030,showopt.urnumber,
                  showopt.dummy,validateAdmDis);

    }
 
    return;
  }

  if (isWhitespace(document.getElementById('typeacct').value)) {return;}

  if (document.getElementById('typeacct').value.substr(3,1)=="1" ||
      document.getElementById('typeacct').value.substr(3,1)=="2" ||
      document.getElementById('typeacct').value.substr(3,1)=="6" ||
      document.getElementById('typeacct').value.substr(3,1)=="7") {

    lnkvisnumtitleDIV.innerHTML=lnkvisnumtitleSPAN.innerHTML;
    lnkvisnumfieldDIV.innerHTML=lnkvisnumfieldSPAN.innerHTML;

    ValidateVisit(showopt.prdtr030,showopt.urnumber,
                  showopt.dummy,validateAdmDis);
  }
}
</script>

<span id="lnkvisnumtitleSPAN" style="display:none">
Linked Visit Number
</span>

<span id="lnkvisnumfieldSPAN" style="display:none">
     <input type=text maxlength=8 class="Mandatory" Title="Link Visit Number"
     name=prdtr030 id=prdtr030 value="%PATWEB76.01.396"
     size=12 onblur="justifyRight(this);
     ValidateVisit(showopt.prdtr030,showopt.urnumber,
                   showopt.dummy,validateAdmDis);">
     <img src="../images/SearchIcon.gif" class=Icon
      onclick="VisitSearchFrame(showopt.urnumber,showopt.prdtr030);">
     <img src="../images/erase.gif" align=absmiddle class=Icon
      onclick="clrFields(showopt.prdtr030);
               document.getElementById('admDateDIV').innerHTML='';
               document.getElementById('disDateDIV').innerHTML='';">

</span>


