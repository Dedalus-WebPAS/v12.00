<meta name="TemplateVersion" content="V12.00.01">
<meta name="TemplateHome"    content="standard">
<meta name="HelpFileName"    content="NoContextSet.html">
<meta name="CrossBrowser"    content="true">
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"/>
<meta http-equiv="Pragma" content="no-cache"/>
<meta http-equiv="Expires" content="0"/>
<link rel="stylesheet" href="../html/postcode.css" type="text/css">
<script type="text/javascript" src="../js/patweb99.js"></script>
<script type="text/javascript" src="../js/AutoPostCode.js"></script>
<script type="text/javascript" src="../js/AddressSearch.js"></script>

<script type="text/javascript">
var arrElemVals = {};  // associative array of original element values on load
var arrElemNames = ['pmhcp004','pmhcp005','pmhcp045','pmhcp046','pmhcp057'];

function SaveOrigVals() {
  StoreElemVals(arrElemNames, arrElemVals);
}
function VerifyChanges() {
  // verify that the field values have actually changed since page load
  for (var i=0; i < arrElemNames.length; i++) {
    if (VerifyElemValChange(arrElemNames[i], arrElemVals)) {
      document.UpdateForm.chngmade.value = "1";
      break;
    }
  }
}
function FundPayee() {
  linkurl="patweb99.pbl?reportno=21&template=1"+
      "&pmfph001=" + document.UpdateForm.pmhcp001.value.replace(/ /g,"+");
  Left=(document.body.clientWidth-800)/2
  DFrameLink(linkurl,0,Left,800,400)
}
function SetPostVarsSurg() {
  suburb = document.UpdateForm.pmhcp022;
  state =  document.UpdateForm.pmhcp023;
  postcode = document.UpdateForm.pmhcp026;
}
function SetPostVarsHCP() {
  suburb = document.UpdateForm.pmhcp045;
  state =  document.UpdateForm.pmhcp046;
  postcode = document.UpdateForm.pmhcp049;
}

function setMandatory(){
  if(HCPSurgeryPhoneNumMand){
    document.getElementById('pmhcp029').className="Mandatory";
  }
  if(HCPNationalRegNumMand){
    document.getElementById('pmhcp080').className="Mandatory";
  }
  if(HCPPrimarySpecialtyMand){
    document.getElementById('pmhcp009').className="Mandatory";
  }
  if(HCPRegistrationStatusDisplay == '2'){
    document.getElementById('pmhcp082').className="Mandatory";
  }
}

function setValidations(){
  if(HCPSurgeryPhoneFaxNumValidation){
    document.getElementById('pmhcp029').onchange = function() {
      checkPhoneNumberNoSpaces(document.getElementById('pmhcp029'));
    }
    document.getElementById('pmhcp059').onchange = function() {
      checkPhoneNumberNoSpaces(document.getElementById('pmhcp059'));
    }
  }

  if(HCPProviderNumValidation){
    document.getElementById('pmhcp037').onchange = function() {
      validateProviderNo(document.getElementById('pmhcp037'));
    }
  }

  if(HCPNationalRegNumValidation){
    document.getElementById('pmhcp080').onchange = function() {
      validateNationalRegNum(document.getElementById('pmhcp080'));
    }
  }
}

//
// Functions called from AddressSearch.js
//
function InitAddressSearch() {
  // line1 - 'pmhcp020'
  // line2 - 'pmhcp021'
  // suburb - 'pmhcp022'
  // state - 'pmhcp023'
  // postcode - 'pmhcp026'

  InitAddressSearchFields('trAddrSrch1','pmhcp020','pmhcp021','pmhcp022','pmhcp023','pmhcp026');

  // line1 - 'pmhcp043'
  // line2 - 'pmhcp044'
  // suburb - 'pmhcp045'
  // state - 'pmhcp046'
  // postcode - 'pmhcp049'

  InitAddressSearchFields('trAddrSrch2','pmhcp043','pmhcp044','pmhcp045','pmhcp046','pmhcp049');
}
function ShowAddressSearch1() {
  OpenAddressSearch('1',PopulateAddress1,ClearSearchAddress1);
}
function PopulateAddress1(StreetLine, Suburb, State, Postcode) {
  LookupSuburb(Postcode);  // validate Postcode with our Lookup values
  if (SelectPC.length == 0) return;  // no match found

  ToggleFieldReadOnly('pmhcp020', true);
  ToggleFieldReadOnly('pmhcp021', false);
  ToggleFieldReadOnly('pmhcp022', true);
  ToggleFieldReadOnly('pmhcp023', true);
  ToggleFieldReadOnly('pmhcp026', true);

  SetFieldValue('pmhcp020',StreetLine);
  SetFieldValue('pmhcp021','');
  SetFieldValue('pmhcp022',Suburb);
  SetFieldValue('pmhcp023',State);
  SetFieldValue('pmhcp026',Postcode);
}
function ClearSearchAddress1() {
  ToggleFieldReadOnly('pmhcp020', false);
  ToggleFieldReadOnly('pmhcp021', false);
  ToggleFieldReadOnly('pmhcp022', false);
  ToggleFieldReadOnly('pmhcp023', false);
  ToggleFieldReadOnly('pmhcp026', false);

  SetFieldValue('pmhcp020','');
  SetFieldValue('pmhcp021','');
  SetFieldValue('pmhcp022','');
  SetFieldValue('pmhcp023','');
  SetFieldValue('pmhcp026','');
}

function ShowAddressSearch2() {
  OpenAddressSearch('1',PopulateAddress2,ClearSearchAddress2);
}
function PopulateAddress2(StreetLine, Suburb, State, Postcode) {
  LookupSuburb(Postcode);  // validate Postcode with our Lookup values
  if (SelectPC.length == 0) return;  // no match found

  LookupPostCode(Suburb);  // validate Suburb
  if (SelectPC.length == 0) return;  // no match found

  ToggleFieldReadOnly('pmhcp043', true);
  ToggleFieldReadOnly('pmhcp044', false);
  ToggleFieldReadOnly('pmhcp045', true);
  ToggleFieldReadOnly('pmhcp046', true);
  ToggleFieldReadOnly('pmhcp049', true);

  SetFieldValue('pmhcp043',StreetLine);
  SetFieldValue('pmhcp044','');
  SetFieldValue('pmhcp045',Suburb);
  SetFieldValue('pmhcp046',State);
  SetFieldValue('pmhcp049',Postcode);
}
function ClearSearchAddress2() {
  ToggleFieldReadOnly('pmhcp043', false);
  ToggleFieldReadOnly('pmhcp044', false);
  ToggleFieldReadOnly('pmhcp045', false);
  ToggleFieldReadOnly('pmhcp046', false);
  ToggleFieldReadOnly('pmhcp049', false);

  SetFieldValue('pmhcp043','');
  SetFieldValue('pmhcp044','');
  SetFieldValue('pmhcp045','');
  SetFieldValue('pmhcp046','');
  SetFieldValue('pmhcp049','');
}


function submitUpdate(){
  if(HCPSurgeryPhoneFaxNumValidation){ 
    if (checkPhoneNumberNoSpaces(document.getElementById('pmhcp029'))==false) {
      return;
    }
  
    if (checkPhoneNumberNoSpaces(document.getElementById('pmhcp059'))==false) {
      return;
    }
  }
   
  if(HCPProviderNumValidation){
    if(!validateProviderNo(document.getElementById('pmhcp037'))) {
      return;
    }
  }

  if(HCPNationalRegNumValidation){
    if(!validateNationalRegNum(document.getElementById('pmhcp080'))) {
      return;
    } else {
      //last validation to check if NRN already exists using Ajax call
      error = "National Registration Number is an invalid number;";
      regNumber = document.getElementById('pmhcp080').value.trim();
      hcpcode = document.getElementById('pmhcp001').value.trim();
      f = document.NewNote;
      var serverURL = "../cgi-bin/comweb81.pbl?reportno=55" +
                      "&valdnrno=" + regNumber.replace(/ /g,"+") +
                      "&valddoct=" + hcpcode.replace(/ /g,"+");
      if (IEBrowser) {
        var returnValue = RSExecute(serverURL);
        if (returnValue.status==0) {
          ReturnValue=returnValue.return_value;
          if (!isWhitespace(ReturnValue)) {
            alert(error + " number already exists for HCP - "+ ReturnValue);
            return;
          } else {
            subUpdate();                    
          }
        }
      } else {
        var returnValue = RSExecuteFetch(serverURL);
        returnValue.then(
          function (returnValue) {
            returnValue = ParseFetchData(returnValue);  // parse fetch() result
            if (returnValue.status==0) {
              ReturnValue=returnValue.return_value;
              if (!isWhitespace(ReturnValue)) {
                alert(error + " number already exists for HCP - "+ ReturnValue);
                return;
              } else {
                subUpdate();             
              }
            }
          }
        );
      }    
    }
  } else { 
    subUpdate();
  }
}
function setInsurance() {
  document.getElementById('InsuranceDIV').innerHTML=
                document.getElementById('InsuranceSPAN1').innerHTML;
  if (InsuranceKeywordSearch){
    document.getElementById('InsuranceDIV').innerHTML=
                document.getElementById('InsuranceSPAN2').innerHTML;
  }
}
</script>
%START.OF.PAGE
</head>
<body onload="PageLoad(event);document.UpdateForm.pmhcp003.focus();
              setSurgeryFields(UpdateForm);InitPostCodes();SetHosSpec06();
              chkDoctMandatory(UpdateForm);setInsurance();
              InsuranceDesc(UpdateForm);SaveOrigVals();InitAddressSearch();
              ValidateWWCCStatus(UpdateForm);setMandatory();
              setValidations();ValidateRegToDate(UpdateForm);">
<form name="UpdateForm" method="post" action="patweb99.pbl">
<input type=hidden name=reportno value="6" />
<input type=hidden name=template value="003" />
<input type=hidden name=updttype value="" />
<input type=hidden name=nextpage value="1" />
<input type=hidden name=redirect value="">
<input type=hidden name=retnflag value="%PATWEB99.06.115" />
<input type=hidden name=ibcnmhos value="%STANDARD.01.025.000.043.1.1" />
<input type=hidden name=showrhos value="%PATWEB99.06.084" />
<input type=hidden name=currdate value="%STANDARD.01.015" />
<input type=hidden name=currtime value="%STANDARD.01.016" />
<input type=hidden name=usrsvrsl value="%STANDARD.01.042.PATWEB99" />
<input type=hidden name=d_pmhcp057 value=%PATWEB99.06.038.1 />
<input type=hidden name=ptcnnssi id=ptcnnssi 
                  value="%STANDARD.01.044.125.093.020" />
<input type=hidden name=ptcnuimc id=ptcnuimc
 value="%STANDARD.01.025.124.111.0.1">
<input type=hidden name=chngmade value="0" />
<input type=hidden name=d_pmhccdte value="%PATWEB99.06.075" />
<input type=hidden name=d_pmhcctim value="%PATWEB99.06.076" />
<input type=hidden name=d_mins value="0" />
<input type=hidden name=ptcnuadv id=ptcnuadv
 value="%STANDARD.01.025.123.247.0.1">
<input type=hidden name=ptcnhdps id=ptcnhdps value="%PATWEB99.06.314">
<input type=hidden name=ptcnunet value="%STANDARD.01.025.120.158.0.1" >

<table border="1" width="100%" align="center" cellspacing="0" cellpadding="0">
<tr><td>
    <table border="1" width="100%" cellspacing="0" cellpadding="0">
    <tr><td valign="top">
        <table border="0" width="100%" cellspacing="0" cellpadding="0">
        <tr align="center"><td class="HeadingCell" colspan="4" width="100%">
            HCP SURGERY DETAILS</td></tr>
        <tr><td valign="top" colspan="4">
          <table border="0" width="100%" cellspacing="1" cellpadding="1">
          <tr><td class="DataLabel">HCP Code</td>
              <td class="DataLabel">Title</td>
              <td class="DataLabel">Surname</td>
              <td class="DataLabel">Given Name</td></tr>
          <tr><td><input type="text" size="13" maxlength="10" tabindex="-1"
                   name="pmhcp001" id=pmhcp001 class="ReadOnly" readonly
                   title= "HCP Code" value="%PATWEB99.06.001" /></td>
              <td><input type="text" size="10" maxlength="10" tabindex="1"
                   name="pmhcp003" id="pmhcp003" title="Title" class="Mandatory"
                   value="%PATWEB99.06.003" /></td>
              <td><input type="text" size="25" maxlength="35" tabindex="2"
                   name="pmhcp005" id="pmhcp005" title="Surname"
                   class="Mandatory" value="%PATWEB99.06.005" /></td>
              <td><input type="text" size="25" maxlength="35" tabindex="3"
                   name="pmhcp004" id="pmhcp004" class="Mandatory"
                   title="Given Names" value="%PATWEB99.06.004" /></td></tr>
         </table></td></tr>
         <tr><td class="DataLabel">HCP Type</td>
             <td><select name="pmhcp057" id="pmhcp057" tabindex="4"
                  title="HCP Type" class="Mandatory"
                  onchange="validHCPType(UpdateForm);">
                   <option></option>
                   %PATWEB99.06.038.2
                 </select></td>
             <td class="DataLabel">Doctor Code</td>
             <td><input type="text" size="8" maxlength="6"
                  name="pmhcp112" id="pmhcp112" title="Doctor Code"
                  value="%PATWEB99.06.092.0" 
                  onblur="UpCase(this);
                          ValDoctor(UpdateForm.pmhcp112,
                                    UpdateForm.doctname)"/>
                 <input type="text" readonly class="ReadOnly" size="25"
                  title="Doctor Name" name="doctname" id="doctname"
                  value="%PATWEB99.06.092.1" tabindex="-1"
                  onfocus="this.blur();pmhcp006.focus();" />
                 <img src="../images/SearchIcon.gif" class=Icon
                  onclick="DoctorSearchFrame(pmhcp112,doctname);" />
                 <img src="../images/erase.gif" class=Icon
                  onclick="clrDoc(pmhcp112,doctname);" /></td></tr>
         <tr><td class="DataLabel">Initials</td>
             <td><input type="text" size="7" maxlength="5" tabindex="9"
                  name="pmhcp006" id="pmhcp006" title="Initials"
                  value="%PATWEB99.06.006" /></td>
             <td class="DataLabel">Active</td>
             <td><input type="checkbox" value="2" tabindex="20"
                  name="pmhcp095" id="pmhcp095" title="Active" /></td></tr>
         <tr id=trAddrSrch1 style="display:none">
             <td colspan=2>&nbsp;</td>
             <td class=DataLabel nowrap>Search Address</td>
             <td><input type=text readonly size=42 tabindex="-1"
                  style="cursor:pointer;text-align:center;"
                  value="Click here to search for an address"
                  title="Click here to search for an address"
                  onclick="ShowAddressSearch1();">
             </td>
         </tr>
         <tr><td class="DataLabel">Pref. Name</td>
             <td><input type="text" size="32" maxlength="30" tabindex="10"
                  name="pmhcp091" id="pmhcp091" title="Preferred Name"
                  value="%PATWEB99.06.068" /></td>
             <td class="DataLabel">Address</td>
             <td><input type="text" size="42" maxlength="35" tabindex="22"
                  name="pmhcp020" id="pmhcp020" title="Address Line 1"
                  value="%PATWEB99.06.011.1" onchange="UpCase(this);"/>
             </td></tr>
         <tr><td class="DataLabel">Receptionist</td>
             <td><input type="text" size="27" maxlength="25" tabindex="11"
                  name="pmhcp019" id="pmhcp019" title="Receptionist"
                  value="%PATWEB99.06.010" /></td>
             <td class="DataLabel">&nbsp;</td>
             <td><input type="text" size="42" maxlength="35" tabindex="24"
                  name="pmhcp021" id="pmhcp021" title="Address Line 2"
                  value="%PATWEB99.06.011.2" onchange="UpCase(this);"/>
             </td></tr>
         <tr><td class="DataLabel">Telephone</td>
             <td><input type="text" size="20" maxlength="20" tabindex="12"
                  name="pmhcp029" id="pmhcp029" title="Surgery Telephone"
                  value="%PATWEB99.06.015"/></td>
             <td class="DataLabel">Suburb</td>
             <td><input type="text" size="42" maxlength="35" tabindex="25"
                  name="pmhcp022" id="pmhcp022" title="Suburb"
                  value="%PATWEB99.06.011.3"
                  onchange="valSurgeryPostCode(UpdateForm);" /></td></tr>
         <tr><td class="DataLabel">Fax Number</td>
             <td><input type="text" size="20" maxlength="20" tabindex="13"
                  name="pmhcp059" id="pmhcp059" title="Surgery Fax"
                  value="%PATWEB99.06.040"/></td>
             <td class="DataLabel">State</td>
             <td><input type="text" size="16" maxlength="20" tabindex="26"
                  name="pmhcp023" id="pmhcp023" title="State"
                  value="%PATWEB99.06.011.4" />
                 <input type="text" size="5" maxlength="4" tabindex="27"
                  name="pmhcp026" id="pmhcp026" title="Post Code"
                  value="%PATWEB99.06.012"
                  onchange="SetPostVarsSurg();LookupSuburb(this.value);" /></td>         </tr>
         <tr><td class="DataLabel" colspan="2">&nbsp;</td>
             <td class="DataLabel">Email</td>
             <td><input type="text" size="42" maxlength="80" tabindex="28"
                  name="pmhcp028" id="pmhcp028" title="Surgery Email"
                  value="%PATWEB99.06.014"
                  onchange="emailCheck(this.value);" /></td>
         </tr>

        </table></td>

   <td valign="top">
        <table border="0" width="100%" cellspacing="0" cellpadding="0">
         <tr align="center"><td class="HeadingCell" colspan="2" width="100%">
             HCP PERSONAL DETAILS</td></tr>
         <tr valign="top"><td>
           <table border="0" width="100%" cellspacing="1" cellpadding="1">
           <tr id=trAddrSrch2 style="display:none">
             <td class=DataLabel nowrap>Search Address</td>
             <td><input type=text readonly size=42 tabindex="-1"
                  style="cursor:pointer;text-align:center;"
                  value="Click here to search for an address"
                  title="Click here to search for an address"
                  onclick="ShowAddressSearch2();">
             </td>
           </tr>
           <tr><td class="DataLabel">Address</td>
               <td><input type="text" size="42" maxlength="35" tabindex="30"
                    name="pmhcp043" id="pmhcp043" title="Address Line 1"
                    value="%PATWEB99.06.029.1" onchange="UpCase(this);"/>
               </td></tr>
           <tr><td class="DataLabel">&nbsp;</td>
               <td><input type="text" size="42" maxlength="35" tabindex="31"
                    name="pmhcp044" id="pmhcp044" title="Address Line 2"
                    value="%PATWEB99.06.029.2" onchange="UpCase(this);"/>
               </td></tr>
           <tr><td class="DataLabel">Suburb</td>
               <td><input type="text" size="42" maxlength="35" tabindex="32"
                    name="pmhcp045" id="pmhcp045" title="Suburb"
                    value="%PATWEB99.06.029.3"
                    onchange="valPersonalPostCode(UpdateForm);" /></td></tr>
           <tr><td class="DataLabel">State</td>
               <td><input type="text" size="17" maxlength="20" tabindex="33"
                    name="pmhcp046" id="pmhcp046" title="State"
                    value="%PATWEB99.06.029.4" />
                   <input type="text" size="5" maxlength="4" tabindex="34"
                    name="pmhcp049" id="pmhcp049" title="Post Code"
                    value="%PATWEB99.06.030"
                    onchange="SetPostVarsHCP();LookupSuburb(this.value);"/></td></tr>
           <tr><td class="DataLabel">Gender</td>
               <td><select name="pmhcp007" id="pmhcp007" tabindex="35"
                    title="Gender">
                     <option></option>
                     %PATWEB99.06.007.2
                   </select></td></tr>
           <tr><td class="DataLabel">Date of Birth</td>
               <td><input type="text" size="12" maxlength="12" tabindex="36"
                    name="pmhcp008" id="pmhcp008" title="Date of Birth"
                    value="%PATWEB99.06.008"
                    onblur="checkDate(this,'Date of Birth')" />
                   <img notab src="../images/DateLookup.gif" class=Icon
                    onclick="DateLookupFrame(pmhcp008);" />
                   <img src="../images/erase.gif" class=Icon
                    onclick="clrFields(pmhcp008);" /></td></tr>
           <tr><td class="DataLabel">Pref. Contact Method</td>
               <td><select name="pmhcp090" id="pmhcp090" tabindex="37"
                    title="Contact Method">
                     <option></option>
                     %PATWEB99.06.067.2
                   </select></td></tr>
           <tr><td class="DataLabel">Exclude From Mailing Lst</td>
               <td><input type="checkbox" value="1" tabindex="38"
                    name="pmhcp106" id="pmhcp106"
                    title="Exclude from Mailing List" /></td></tr>
           <tr><td class="DataLabel">Email</td>
               <td><input type="text" size="42" maxlength="80" tabindex="39"
                    name="pmhcp050" id="pmhcp050" title="home Email"
                    value="%PATWEB99.06.031"
                    onchange="emailCheck(this.value);" /></td></tr>
           <tr><td class="DataLabel">AH Method of Contact 1</td>
               <td><select name="pmhcp109" id="pmhcp109" tabindex="40"
                    title="AH Method of Contact 1">
                     <option></option>
                     %PATWEB99.06.089.2
                   </select></td></tr>
           <tr><td class="DataLabel">AH Method of Contact 2</td>
               <td><select name="pmhcp110" id="pmhcp110" tabindex="41"
                    title="AH Method of Contact 2">
                           <option></option>
                            %PATWEB99.06.090.2
                   </select></td></tr>
           <tr><td class="DataLabel">AH Method of Contact 3</td>
               <td><select name="pmhcp111" id="pmhcp111" tabindex="42"
                    title="AH Method of Contact 3">
                           <option></option>
                            %PATWEB99.06.091.2
                   </select></td></tr>
          </table></td>
          <td>
          <table border="0" width="100%" cellspacing="1" cellpadding="1">
           <tr><td>Home Telephone</td>
               <td><input type="text" size="22" maxlength="20" tabindex="50"
                    name="pmhcp042" id="pmhcp042" title="Home Telephone"
                    value="%PATWEB99.06.028" /></td></tr>
           <tr><td>Fax Number</td>
               <td><input type="text" size="22" maxlength="20" tabindex="51"
                    name="pmhcp060" id="pmhcp060" title="Home Fax"
                    value="%PATWEB99.06.041" /></td></tr>
           <tr><td class="DataLabel">Mobile No.</td>
               <td><input type="text" size="14" maxlength="12" tabindex="52"
                    name="pmhcp061" id="pmhcp061" title="Mobile No."
                    value="%PATWEB99.06.042" /></td></tr>
           <tr><td class="DataLabel">Pager Phone No.</td>
               <td><input type="text" size="22" maxlength="20" tabindex="53"
                    name="pmhcp030" id="pmhcp030" title="Pager Telephone No."
                    value="%PATWEB99.06.016" /></td></tr>
           <tr><td class="DataLabel">Pager No.</td>
               <td><input type="text" size="22" maxlength="20" tabindex="54"
                    name="pmhcp031" id="pmhcp031" title="Pager No."
                    value="%PATWEB99.06.017" /></td></tr>
           <tr><td class="DataLabel">ABN</td>
               <td><input type="text" size="13" maxlength="11" tabindex="55"
                    name="pmhcp092" id="pmhcp092" title="ABN"
                          value="%PATWEB99.06.069" /></td></tr>
           <tr><td class="DataLabel">Creditor</td>
               <td><input type="text" size="7" maxlength="5" tabindex="56"
                    name="pmhcp062" id="pmhcp062" title="Creditor"
                    value="%PATWEB99.06.043.1" />
                   <img src="../images/SearchIcon.gif" class=Icon
                    onclick="SuppSearchFrame(pmhcp062,d_pmhcp062);" />
                   <img src="../images/erase.gif" class=Icon
                    onclick="clrDoc(pmhcp062,d_pmhcp062);" /></td></tr>
           <tr><td>&nbsp;</td>
               <td><input type="text" size="20" maxlength="35" tabindex="-1"
                    name="d_pmhcp062" id="d_pmhcp062" title="Creditor"
                    class="ReadOnly" readonly 
                    value="%PATWEB99.06.043.0" /></td></tr>
           <tr><td>&nbsp;</td>
               <td>&nbsp;</td></tr>
           <tr><td>WWCC Number</td>
               <td><input type="text" size="12" maxlength="11" tabindex="57"
                    name="pmhcp116" id="pmhcp116" title="WWCC Number"
                    value="%PATWEB99.06.096" 
                    onblur="ValidateWWCCNo2(this,UpdateForm.ptcnhdps);"/>
               </td></tr>
           <tr><td>WWCC Expiry</td>
               <td><input type="text" size="12" maxlength="12" tabindex="58"
                    name="pmhcp117" id="pmhcp117" title="WWCC Expiry Date"
                    value="%PATWEB99.06.097"
                    onblur="checkDate(this,'WWCC Expiry Date')" />
                   <img notab src="../images/DateLookup.gif" class=Icon
                    onclick="DateLookupFrame(pmhcp117);" />
                   <img src="../images/erase.gif" class=Icon
                    onclick="clrFields(pmhcp117);" />
               </td></tr>
           <tr><td>WWCC Status</td>
               <td><select name="pmhcp118" id="pmhcp118" tabindex="59"
                    title="WWCC Status"
                    onblur="ValidateWWCCStatus(UpdateForm)">
                     <option></option>
                     %PATWEB99.06.098.2
                   </select></td></tr>
           <tr><td>&nbsp;</td>
               <td valign="top" align="center">
                   <script type="text/javascript">
                           InsertDoctorImage("%PATWEB99.06.001")
                   </script></td></tr>
          </table></td></tr>
        </table></td></tr>
    </table></td></tr>
   <tr><td>
    <table border="0" width="100%" cellspacing="0" cellpadding="0">
     <tr align="center"><td class="HeadingCell" colspan="6" width="100%">
         HCP MEDICAL DETAILS</td></tr>
     <tr><td class="DataLabel">Associated Doctor 1</td>
         <td class="DataLabel">Primary Speciality</td>
         <td class="DataLabel">Provider Number</td>
         <td class="DataLabel">Accreditation Type</td>
         <td class="DataLabel">National Registration Number</td></tr>
     <tr><td><input type="text" name="pmhcp032" id="pmhcp032" title="Associate Doctor 1"
                    value="%PATWEB99.06.018" size="27" maxlength="25"
                    tabindex="60" />
             <input type=hidden name="d_pmhcp032" id="d_pmhcp032" title="Associate Doctor 1" />
               <img src="../images/SearchIcon.gif" class=Icon
                    onclick="DoctorSearchFrame(d_pmhcp032,pmhcp032);" />
               <img src="../images/erase.gif" class=Icon
                    onclick="clrDoc(pmhcp032,d_pmhcp032);" /></td>
         <td><select name="pmhcp009" id="pmhcp009" title="Primary Speciality"
                     tabindex="70">
                     <option></option>
                      %PATWEB99.06.009.0.2
             </select></td>
         <td><input type="text" name="pmhcp037" id="pmhcp037" title="Provider Number"
                    value="%PATWEB99.06.023" size="12" maxlength="10"
                    tabindex="80" /></td>
         <td><select name="pmhcp054" id="pmhcp054" title="Accreditation Type" tabindex="90">
                     <option></option>
                      %PATWEB99.06.035.2
             </select></td>
         <td><input type="text" name="pmhcp080" id="pmhcp080" title="National Registration Number"
                    size="30" maxlength="20" value="%PATWEB99.06.057"
                    tabindex="100" /></td></tr>
     <tr><td class="DataLabel">Associated Doctor 2</td>
         <td class="DataLabel">Specialities</td>
         <td class="DataLabel">Prescriber Number</td>
         <td class="DataLabel">First Accredited Date</td>
         <td class="DataLabel">Registered From</td></tr>
     <tr><td><input type="text" name="pmhcp033" id="pmhcp033" title="Associate Doctor 2"
                    value="%PATWEB99.06.019" size="27" maxlength="25"
                    tabindex="61" />
             <input type=hidden name="d_pmhcp033" id="d_pmhcp033" title="Associate Doctor 2" />
               <img src="../images/SearchIcon.gif" class=Icon
                    onclick="DoctorSearchFrame(d_pmhcp033,pmhcp033);" />
               <img src="../images/erase.gif" class=Icon
                    onclick="clrDoc(pmhcp033,d_pmhcp033);" /></td>
         <td><select name="pmhcp011" id="pmhcp011" title="Specialty 1" tabindex="71">
                     <option></option>
                      %PATWEB99.06.009.2.2
             </select></td>
         <td><input type="text" name="pmhcp065" id="pmhcp065" title="Prescriber Number"
                    value="%PATWEB99.06.046" size="12" maxlength="10"
                    tabindex="81" /></td>
         <td><input type="text" name="pmhcp051" id="pmhcp051" title="First Accredited Date"
                    value="%PATWEB99.06.032" size="12" maxlength="12"
                    tabindex="91" onblur="checkDate(this,'Date')" />
               <img notab src="../images/DateLookup.gif" class=Icon
                    date="UpdateForm.pmhcp051" />
               <img src="../images/erase.gif" class=Icon
                    onclick="clrFields(pmhcp051);" /></td>
         <td><input type="text" name="pmhcp083" id="pmhcp083" title="Registered From"
                    size="12" maxlength="12" value="%PATWEB99.06.060"
                    tabindex="101"
                    onblur="checkDate(this,'Registered From')" />
               <img notab src="../images/DateLookup.gif" class=Icon
                    date="UpdateForm.pmhcp083" />
               <img src="../images/erase.gif" class=Icon
                    onclick="clrFields(pmhcp083);" /></td></tr>
     <tr><td class="DataLabel"><div id=catR5DIV>%STANDARD.01.035.R5 <br>
              <select name="pmhcp066" id="pmhcp066" class="SelectBig"
               title="%STANDARD.01.035.R5    " tabindex="61">
               <option></option>
               %PATWEB99.06.047.1.2
              </select>
              </div>

     </td>
         <td><select name="pmhcp013" id="pmhcp013" title="Specialty 2" tabindex="72">
                     <option></option>
                      %PATWEB99.06.009.4.2
             </select></td>
         <td class="DataLabel">%STANDARD.01.017.DL</td>
         <td class="DataLabel">Last Accreditation Date</td>
         <td class="DataLabel" id="regttext">Registered To</td>     
         <td class="DataLabel"><div id="HCPRegStatLabel"></div></td>
     <tr><td>&nbsp;</td>
         <td><select name="pmhcp015" id="pmhcp015" title="Specialty 3" tabindex="73">
                     <option></option>
                      %PATWEB99.06.009.6.2
             </select></td>
         <td><select name="pmhcp056" id="pmhcp056" 
                     title="%STANDARD.01.017.DL" tabindex="83">
                     <option></option>
                       %PATWEB99.06.037.2
             </select></td>
         <td><input type="text" name="pmhcp052" id="pmhcp052" title="Last Accredited Date"
                    size="12" maxlength="12" value="%PATWEB99.06.033"
                    tabindex="93" onblur="checkDate(this,'Date')" />
               <img notab src="../images/DateLookup.gif" class=Icon
                    date="UpdateForm.pmhcp052" />
               <img src="../images/erase.gif" class=Icon
                    onclick="clrFields(pmhcp052);" /></td>
         <td><input type="text" name="pmhcp084" id="pmhcp084" title="Registered To"
                    size="12" maxlength="12" value="%PATWEB99.06.061"
                    tabindex="103" onblur="checkDate(this,'Registered To')" />
               <img notab src="../images/DateLookup.gif" class=Icon
                    date="UpdateForm.pmhcp084" />
               <img src="../images/erase.gif" class=Icon
                    onclick="clrFields(pmhcp084);" /></td>

         <td><div id="HCPRegStatField"></div></td></tr>
     <tr><td class="DataLabel">&nbsp;</td>
         <td><select name="pmhcp017" id="pmhcp017" title="Specialty 4" tabindex="74" >
                     <option></option>
                      %PATWEB99.06.009.8.2
              </select></td>
         <td class="DataLabel">Auto Update</td>
         <td class="DataLabel">Years Of Accreditation</td>
         <td class="DataLabel">Registration Number (pre 2010)</td></tr>
     <tr><td>&nbsp;</td>
         <td>&nbsp;</td>
         <td><input type="checkbox" name="pmhcp093" id="pmhcp093" 
                    title="Auto Update" value="A" tabindex="84" /></td>
         <td><input type="text" name="pmhcp053" id="pmhcp053" 
                    title="Years of Accreditation" class="Number" 
                    value="%PATWEB99.06.034" size="3"
                    maxlength="2" tabindex="94" /></td>
         <td><input type="text" name="pmhcp064" id="pmhcp064" 
                    value="%PATWEB99.06.045" size="12"
                    maxlength="10" title="Registration Number (pre 2010)"
                    tabindex="104" /></td></tr>
     <tr><td class="DataLabel">&nbsp;</td>
         <td class="DataLabel">Start Date</td>
         <td class="DataLabel">End Date</td>
         <td class="DataLabel" id="accrtext">Accreditation Expiry Date</td>
         <td id=HPILabel style="display:none;" class="DataLabel">
          Health Provider Identifier - Individual</td>
     </tr>
     <tr><td>&nbsp;</td>
         <td><input type="text" name="pmhcp113" id="pmhcp113" title="Start Date" size="12"
                    value="%PATWEB99.06.093" maxlength="12" tabindex="75"
                    class="Mandatory" onblur="checkDate(this,'Date')" />
               <img notab src="../images/DateLookup.gif" class=Icon
                    date="UpdateForm.pmhcp113" />
               <img src="../images/erase.gif" class=Icon
                    onclick="clrFields(pmhcp113);" /></td>
         <td><input type="text" name="pmhcp114" id="pmhcp114" title="End Date" size="12"
                    value="%PATWEB99.06.094" maxlength="12" tabindex="85"
                    onblur="checkDate(this,'Date')" />
               <img notab src="../images/DateLookup.gif" class=Icon
                    date="UpdateForm.pmhcp114" />
               <img src="../images/erase.gif" class=Icon
                    onclick="clrFields(pmhcp114);" /></td>
         <td><input type="text" name="pmhcp107" id="pmhcp107" title="Accreditation Expiry Date"
                    size="12" maxlength="12" value="%PATWEB99.06.087"
                    tabindex="95" onblur="checkDate(this,'Date')" />
               <img notab src="../images/DateLookup.gif" class=Icon
                    date="UpdateForm.pmhcp107" />
               <img src="../images/erase.gif" class=Icon
                    onclick="clrFields(pmhcp107);" /></td>
         <td id=HPIDetail style="display:none;">
             <input type="text" name="pmhcp115" size="25" maxlength="16"
              title="Health Provider Identifier - Individual" tabindex="105"
              value="%PATWEB99.06.095"
              onblur="validateNEHTA(this,'1');" />
         </td></tr>

     <tr> <td class="DataLabel">&nbsp;</td>
          <td class="DataLabel">&nbsp;</td>
          <td class="DataLabel">&nbsp;</td> 
          <td class="DataLabel">&nbsp;</td>
          <td><div id="AHPRALabel"></div></td>
     </tr> 

     <tr> <td class="DataLabel">&nbsp;</td>
          <td class="DataLabel">&nbsp;</td>
          <td class="DataLabel">&nbsp;</td>
          <td class="DataLabel">&nbsp;</td>
          <td><div id="AHPRAField"></div></td>
     </tr>


     <tr> <td class="DataLabel">&nbsp;</td>
          <td class="DataLabel">&nbsp;</td>
          <td class="DataLabel">&nbsp;</td>
          <td class="DataLabel">&nbsp;</td>
          <td><div id="StafflinkLabel"></div></td>  
     </tr>

     <tr> <td class="DataLabel">&nbsp;</td>
          <td class="DataLabel">&nbsp;</td>
          <td class="DataLabel">&nbsp;</td>
          <td class="DataLabel">&nbsp;</td>
          <td><div id="StafflinkField"></div></td> 
     </tr> 

    </table></td></tr>

  <tr><td>
    <table border="0" width="100%" cellspacing="0" cellpadding="0">
     <tr align="center"><td class="HeadingCell" colspan="4" width="100%">
                   HCP INSURANCE DETAILS</td></tr>
     <tr><td class="DataLabel" width="40%">Insurance Code</td>
         <td class="DataLabel">Policy Number</td>
         <td class="DataLabel">Insurance Date From</td>
         <td class="DataLabel" id="insttext">Insurance Date To</td></tr>
     <tr><td><div id="InsuranceDIV"></div></td>
         <td><input type="text" name="pmhcp077" id="pmhcp077" title="Policy Number"
                    value="%PATWEB99.06.054.1" size="20" maxlength="20"
                    tabindex="111" /></td>
         <td><input type="text" name="pmhcp078" id="pmhcp078" title="Insurance Date From"
                    value="%PATWEB99.06.055" size="12" maxlength="12"
                    tabindex="112" onblur="checkDate(this,'Date')" />
               <img notab src="../images/DateLookup.gif" class=Icon
                    date="UpdateForm.pmhcp078" />
               <img src="../images/erase.gif" class=Icon
                    onclick="clrFields(pmhcp078);" /></td>
         <td><input type="text" name="pmhcp079" id="pmhcp079" title="Insurance Date To"
                    value="%PATWEB99.06.056" size="12" maxlength="12"
                    tabindex="113" onblur="checkDate(this,'Date')" />
               <img notab src="../images/DateLookup.gif" class=Icon
                    date="UpdateForm.pmhcp079" />
               <img src="../images/erase.gif" class=Icon
                  onclick="clrFields(pmhcp079);" /></td></tr>
    </table></td></tr>

   <tr>
    <td>
     <table border="0" width="100%" cellspacing="0" cellpadding="0">
       <tr align="center"><td class="HeadingCell" colspan="4" width="100%">
           RECORD CREATED / UPDATED DETAILS</td></tr>
       <tr><td class=DataLabel width=10%>Record Created By</td>
           <td><b>%PATWEB99.06.099.004</b></td>
       </tr>
       <tr><td class=DataLabel>Record Created Date/Time</td>
           <td><b>%PATWEB99.06.099.002</b></td>
       </tr>
       <tr><td>&nbsp;</td></tr>
       <tr><td class=DataLabel>Record Updated By</td>
          <td><b>%PATWEB99.06.099.005</b></td>
       </tr>
       <tr><td class=DataLabel>Record Last Update Date/Time</td>
           <td><b>%PATWEB99.06.099.003</b></td>
      </tr>
      <tr><td>&nbsp;</td></tr>
     </table>
    </td>
   </tr>

   <tr><td colspan="4" align="center">
           <input type="button" value="Update" class=button id=updatebutton 
            tabindex="120"
            onclick="VerifyChanges();tempDisable(this);submitUpdate();" />
           <input type="button" value="Linked Practices" class="button"
                  name="pracbutt" id="pracbutt" tabindex="121"
                  onclick='location.href="%PATWEB99.06.108.patweb99.08.001";' />
           <input type="button" value="Comments" class="button" 
                  name="commbutt" id="commbutt" tabindex="122"
                  onclick='ViewComments06();' />
           <input type="button" value="Case Teams" class="button" 
                  name="castbutt" id="castbutt" tabindex="123"
                  onclick='AddCaseTeam("%PATWEB99.06.001");' />
           <input type="button" value="Photo ID" class="button" 
                  name="photbutt" id="photbutt" tabindex="124"
                  onclick='AddPhotoID("%PATWEB99.06.001");' />

           <span id="DeleteButton">
           <input type="button" value="Delete" class="button" tabindex="125"
                  onclick="SETRedirectDelete();setFormactn('D');" />
           </span>

           <span id="HospitalButton" style="display: none">
                 <input type="button" value="Hospital" class="button"
                  name="HospButton" id="HospButton" tabindex="126"
                  onclick="LinkedHospitals06();" /></span>
           <input type="button" value="Arrangements" align="right"
                  class="button" tabindex="127" name="arrabutt" id="arrabutt"
                  onclick='LinkedArrangements06();' />

           <input type="button" value="Fund Payee" align="right" class="button"
            tabindex="127" name="fundbutt" id="fundbutt" onclick='FundPayee();' />

           <input type="button" value="Cancel" class="button" tabindex="128"
             onclick='SETRedirect();location.href=linkurl;' />
           </td></tr>
  </table>
</form>

<span id="DisplayAHPRALabel" style="display:none">
<td>AHPRA ID</td>
</span>

<span id="DisplayAHPRAField" style="display:none">
           <td><select name="pmhcp068" id="pmhcp068" tabindex="60"
                      title="AHPRA ID" onblur="">
                <option></option>
                %PATWEB99.06.047.3.2     
               </select>
          </td>
</span>

<span id="DisplayStafflinkLabel" style="display:none">
<td>Stafflink ID</td>
</span>

<span id="DisplayStafflinkField" style="display:none">
 <input type="text" name="pmhcp038" id="pmhcp038" title="Stafflink ID" 
    size="10" maxlength="10" value="%PATWEB99.06.024" 
    tabindex="110" onblur="" />
</span>

<span id="DisplayHCPRegStatLabel" style="display:none">
<td>Registration Status</td>
</span>

<span id="DisplayHCPRegStatField" style="display:none">
  <td>                                                
       <select name="pmhcp082" id="pmhcp082" tabindex="104"
               onchange="ValidateRegToDate(UpdateForm)"
                title="Registration Status">
                     <option></option>
                     %PATWEB99.06.059.9.2
      </select>
  </td>
</span>

<span id="InsuranceSPAN1" style="display:none">		  
    <input type="text" name="pmhcp076" title="Insurance Code" id="pmhcp076"
        size="6" maxlength="6" tabindex="110" value="%PATWEB99.06.053"
    onblur="validateCode(36,UpdateForm.pmhcp076,UpdateForm.desc_pmhcp076);"/>
    <input type="text" name="desc_pmhcp076" size="35" readonly />
       <img src="../images/SearchIcon.gif" align="absmiddle" class=Icon
        onclick="InsuranceCodeSearch(UpdateForm.pmhcp076,UpdateForm.desc_pmhcp076);"/>
       <img src="../images/erase.gif" align="absmiddle" class=Icon
        onclick="clrFields(UpdateForm.pmhcp076,UpdateForm.desc_pmhcp076);" />
</span>		  

<span id="InsuranceSPAN2" style="display:none">
    <input type="text" name="pmhcp076" title="Insurance Code" id="pmhcp076"
        size="6" maxlength="6" tabindex="110" value="%PATWEB99.06.053"
        onblur="validateCode(36,UpdateForm.pmhcp076,UpdateForm.desc_pmhcp076);"/>
    <input type="text" name="desc_pmhcp076" size="35" readonly />
       <img src="../images/SearchIcon.gif" align="absmiddle" class=Icon
        onclick="InsuranceSearchFrame(UpdateForm.pmhcp076,UpdateForm.desc_pmhcp076);"/>
       <img src="../images/erase.gif" align="absmiddle" class=Icon
        onclick="clrFields(UpdateForm.pmhcp076,UpdateForm.desc_pmhcp076);" />
<input type=hidden name=emrcn048 value=" ">
</span>

<script type="text/javascript">
 if ("%PATWEB99.06.070" == "A") {
    document.UpdateForm.pmhcp093.checked=1 }
 if ("%PATWEB99.06.072" == "0") {
    document.UpdateForm.pmhcp095.checked=1 }
 if ("%PATWEB99.06.114" == "1") {
    document.UpdateForm.commbutt.className="RedButton"; }
 if ("%PATWEB99.06.116" == "1") {
    document.UpdateForm.castbutt.className="RedButton"; }
 if ("%PATWEB99.06.086" == "1") {
    document.UpdateForm.pmhcp106.checked=1 }
 if ("%PATWEB99.06.121" == "1") {
    document.UpdateForm.pracbutt.className="RedButton"; }
 if ("%PATWEB99.06.122" == "1") {
    document.UpdateForm.arrabutt.className="RedButton"; }
 if (!isWhitespace(UpdateForm.pmhcp079.value)) {
     if (SetDateYYYYMMDD(UpdateForm.pmhcp079.value) <=
         SetDateYYYYMMDD(UpdateForm.currdate.value)) {
         document.getElementById('insttext').className="RedText"; }
    }
 if (!isWhitespace(UpdateForm.pmhcp084.value)) {
     if (SetDateYYYYMMDD(UpdateForm.pmhcp084.value) <=
         SetDateYYYYMMDD(UpdateForm.currdate.value)) {
         document.getElementById('regttext').className="RedText"; }
    }
 if (!isWhitespace(UpdateForm.pmhcp107.value)) {
    if (SetDateYYYYMMDD(UpdateForm.pmhcp107.value) <=
        SetDateYYYYMMDD(UpdateForm.currdate.value)) {
        document.getElementById('accrtext').className="RedText"; }
    }
 if(document.UpdateForm.ibcnmhos.value=="1"){
    //document.UpdateForm.pmhcp009.className="";
  }
 if(!isWhitespace(document.getElementById('ptcnnssi').value)) {
   AHPRALabel.innerHTML=DisplayAHPRALabel.innerHTML;
   AHPRAField.innerHTML=DisplayAHPRAField.innerHTML;
   
   StafflinkLabel.innerHTML=DisplayStafflinkLabel.innerHTML;
   StafflinkField.innerHTML=DisplayStafflinkField.innerHTML; 
 }
 if ("%PATWEB99.06.209" == "1") {
   document.getElementById("fundbutt").className="RedButton";
 }
 if (document.getElementById("ptcnuimc").value!="1") {
   document.getElementById("fundbutt").disabled=true;
 }

 if ((HCPRegistrationStatusDisplay=="1") ||
     (HCPRegistrationStatusDisplay=="2")) 
   {
   HCPRegStatLabel.innerHTML=DisplayHCPRegStatLabel.innerHTML;
   HCPRegStatField.innerHTML=DisplayHCPRegStatField.innerHTML;
 }

 p=document.UpdateForm;
 CalculateDuration(p.d_pmhccdte,p.d_pmhcctim,p.currdate,p.currtime,p.d_mins);
 if(parseInt(p.d_mins.value,10)>120 && p.d_mins.value != "0") {
   document.getElementById("DeleteButton").style.display="none";
 }
  if (isWhitespace("%STANDARD.01.017.R5 ")) {
    catR5DIV.innerHTML="";
  }

 if(document.UpdateForm.ptcnunet.value=="3") {
   document.getElementById('HPILabel').style.display="";
   document.getElementById('HPIDetail').style.display="";
 }
</script>
