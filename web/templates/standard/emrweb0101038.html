<meta name="TemplateVersion" content="V12.00.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<META HTTP-EQUIV="Refresh" content="200">
<script type="text/javascript" src="../js/EmergencyTable.js"> </script>
<script type="text/javascript">
function SelectPatient(urnumber,admissno) { 
  if(document.HiddenFields.venquiry.value=="1") {
    location.href="emrweb02.pbl?reportno=1&template=017&urnumber=" +
                  urnumber + "&admissno=" + admissno;
  } else {
    location.href="emrweb02.pbl?reportno=1&template=100&urnumber=" +
                  urnumber + "&admissno=" + admissno;
  }
}
function OpenLocation(urnumber,admissno) { 
  linkURL="emrweb02.pbl?reportno=1&template=107&urnumber=" +
          urnumber + "&admissno=" + admissno;
  DFrameLink(linkURL,57,465,410,270);
}
function SetReturnPathCookie() {
  document.cookie = "ReturnPath=" + escape(location.href) + ";"
}
function ShowSiteFilter() {
  if(document.SelectFilter.showsite.value=="1") {
    document.getElementById("FilterSite").innerHTML=
    document.getElementById("ShowFilterSite").innerHTML;
  } else {
    document.getElementById("FilterSite").innerHTML="";
  }
}
function UpdateNutrition(urnumber,admissno) {
  linkurl="patweb98.pbl?reportno=4&template=004" +
          "&urnumber=" + urnumber + "&admissno=" + admissno +
          "&viewtype=0&nonxtpat=1";
  DFrameLink(linkurl,0,75,650,350);
}
function PatientAlerts(urnumber,admissno) {
  linkurl="patweb98.pbl?reportno=1&template=003" +
          "&urnumber=" + urnumber + "&admissno=" + admissno
  location.href=linkurl;
}
</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);initTable(%EMRWEB01.01.052);SetReturnPathCookie();
              ShowSiteFilter();">

<form name=SelectFilter action=emrweb01.pbl method=get style="margin:0">
<input type=hidden name=reportno value=1>
<input type=hidden name=template value=2>
<input type=hidden name=showsite value="%EMRWEB01.01.063">

<div id=HeadingSection>
<table cellpadding=3 cellspacing=0 bgcolor=#CCCCCC border=0 width=100%>
<tr><td><div id="FilterSite"></div></td>
</tr>
</table>
</div>
</form>

<div id=TableLocation></div>

<script type="text/javascript">
function initTable(TableView) {
 document.title="Current Patient Nutrition List"
 obj = new Table(1,0,2,"100%","center");    // Create New Table Object
 immediate = 0
 emergency = 0
 urgent = 20
 semi = 50
 non = 110
 template = 2
//
// Add Columns in Order Required
// Heading,Type,Display Column,Sort Column,Align
//
switch (TableView) {
 case 0: {
  obj.addColumn("Loc","String",1,1,"left","LocationIcon.gif","2",45)
  obj.addColumn("Patient","ImageText",39,39,"left","PatientFolder","1",150,37)
  obj.addColumn("Alerts","String",87,87,"left","","",45)
  obj.addColumn("Fasting","String",76,76,"center","","",30)
  obj.addColumn("Diet Type 1","String",77,77,"left","DietIcon.gif",5,50,"UpdateNutrition")
  obj.addColumn("Diet Type 2","String",78,78,"left","","",50)
  obj.addColumn("Diet Type 3","String",79,79,"left","","",50)
  obj.addColumn("Diet Type 4","String",80,80,"left","","",50)
  obj.addColumn("Diet Type 5","String",81,81,"left","","",50)
  obj.addColumn("Comments","String",86,86,"left","","",80)
  obj.addColumn("Menu / <br>Assistance","String",82,82,"left nowrap","","",50)
  obj.addColumn("Last Updated <br>Date Time","DateTime",83,83,"left","","",50,"","","",84)
  obj.addColumn("Arr","Time",7,7,"center","","",30)
  break;
 }
}
//
// Add Rows to Table (Output from Web Server)
//
%EMRWEB01.01.001
//
//
 OrderColumn=0;
 AscDsc=1;
 lastOrderColumn=OrderColumn;
 TableOutput(OrderColumn,AscDsc,immediate,emergency,urgent,semi,non,template);
}
</script>
<form name="HiddenFields" style="margin:0">
<input type="hidden" name="venquiry" value="%EMRWEB01.01.056">
</form>

<span id="ShowFilterSite" style="display:none">
  Site&nbsp;
  <select name=filtsite title="Site" 
   onchange="document.SelectFilter.submit();">
   <option value="~~~">All</option>
   %EMRWEB01.01.062
  </select>
</span>
