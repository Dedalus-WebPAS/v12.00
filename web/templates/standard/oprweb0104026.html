<meta name="TemplateVersion" content="V12.00.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName"    content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript" >
function validateNurse() {
  var hcpnurse = chkHcpOTNurse();
  if (hcpnurse==true){
     validateCode('18',document.arrivalForm.oppoi082,
                       document.arrivalForm.name_oppoi082);
  }
  else {
     validateCode('17',document.arrivalForm.oppoi082,
                       document.arrivalForm.name_oppoi082,
                       document.arrivalForm.gnm,
                       SetNurseName);
  }
}
function SetNurseName() {
arrivalForm.name_oppoi082.value=arrivalForm.gnm.value.replace(/\s*$/g,"")+
                              " " +
                            arrivalForm.name_oppoi082.value.replace(/\s*$/g,"")
}
function formSubmit(){
 
  document.getElementById('redirect').value =
  document.getElementById('redirect').value + 
  '&urnumber=' + document.arrivalForm.urnumber.value.replace(/ /g,'+') + 
  '&admissno=' + document.arrivalForm.admissno.value.replace(/ /g,'+') +
  '&sesskeys=' + document.PatientLinks.sesskeys.value.replace(/ /g,'+') + 
  '&casekeys=' + document.PatientLinks.casekeys.value.replace(/ /g,'+');

//alert(document.getElementById('redirect').value);
 
  if(validateMandatory(arrivalForm)) arrivalForm.submit();
}

function validateFutureDateTime(){
  p=document.arrivalForm

  if (isWhitespace(p.oppoi057.value)){
      return;
  }

  if (!checkTime(p.oppoi057,p.oppoi057.title)){
      return;
  }

  if (isWhitespace(p.oppoi087.value)){
      return;
  }

  CheckFutureTime(p,p.oppoi087.value,p.oppoi057);

}
//C-0825792 - Check parameter to use pmshcpaf/oprnuraf for OT Nurse
function chkHcpOTNurse(){
  if (document.getElementById('opcnurse')) {
      if (document.getElementById('opcnurse').value == "1") {
        return true;
      }
      else {
        return false;
      }
  }
  else {
      return false;
  }
}
//C-0825792 - Search Nurse from pmshcpaf/oprnuraf for OT Nurse
function SearchOTNurse(NurseId,ReturnNurseName) {
  var hcpnurse = chkHcpOTNurse();
  if (hcpnurse==true){
     HCPSearchFrame(NurseId,ReturnNurseName,20);
  }
  else {
     NurseSearchFrame(NurseId,ReturnNurseName);
  }
}
</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);">
<span class=DFrameTitleBar>
<img align="right" alt="Exit" class="MenuIcon" 
 src="../images/ExitIcon.gif" onclick="DFrameExit();">
<img src="../images/PrinterIcon.gif" class=MenuIcon alt="Print"
onclick="PrintThisPage();" align ="right">
Pre-Induction of Anaesthesia - Sign In Safety Checklist
</span>

<div id=PageBodySection style="overflow: auto;">
<form name=arrivalForm method=get action=oprweb01.pbl style="margin:0">
<input type=hidden name=reportno value=5>
<input type=hidden name=template value=016>
<input type=hidden name=updatedf value="1">
<input type=hidden name=urnumber value="%OPRWEB01.04.003">
<input type=hidden name=admissno value="%OPRWEB01.04.081">
<input type=hidden name=anaesTime value="%OPRWEB01.04.133">
<input type=hidden name=mindelay value="%OPRWEB01.04.602">
<input type=hidden name=casekeys value="%OPRWEB01.04.101">
<input type=hidden name=gnm id=gnm>
<input type=hidden name=gwnm id=gwnm>
<input type=hidden name=nextpage value="1">
<input type=hidden name=redirect id=redirect 
 value="oprweb01.pbl?reportno=4&template=004">
<input type=hidden name=currdate value='%STANDARD.01.013'>
<input type=hidden name=currtime>
<input type=hidden name=opcnurse id=opcnurse
       value="%STANDARD.01.025.113.051.0.1">


<table border="0" cellpadding="0" cellspacing="0" width="100%" >
<tr><td class=DataLabel>Patient Name:</td>
    <td class=DataField>%OPRWEB01.04.002</td>
    <td>&nbsp</td>
    <td class=DataLabel>Date of Birth</td>
    <td class=DataField>%OPRWEB01.04.020</td></tr>

<tr><td class=DataLabel>UR Number:</td>
    <td class=DataField>%OPRWEB01.04.003</td>
    <td>&nbsp</td>
    <td class=DataLabel>Visit Number:</td>
    <td class=DataField>%OPRWEB01.04.081</td></tr>

<tr><td class=DataLabel>Consulting Doctor:</td>
    <td class=DataField>%OPRWEB01.04.082.002</td>
</tr>

<tr align=left><td align=center colspan="5"><hr></td></tr>

<tr><td class=DataLabel>Scheduled Procedure</td>
    <td class=DataField>%OPRWEB01.04.121.0</td>
    <td>&nbsp</td>
    <td class=DataLabel>Session Date</td>
    <td class=DataField>%OPRWEB01.04.306 %OPRWEB01.04.302</td></tr>

<tr align=left><td align=center colspan="5"><hr></td></tr>

<tr><td>&nbsp;Patient has confirmed:</td></tr>
<tr width=100% align=center><td width=70% colspan=4 valign=top>
<!-- Left Hand Side of the screen -->
    <table border="0" cellpadding="0" cellspacing="0" width="85%" >
    <tr>
        <td class=DataLabel>&nbsp;Identity (Full Name & DOB)</td>
        <td class=DataField>
        <input type=radio name=oppoi047 value="2">Yes
        <input type=radio name=oppoi047 value="1" checked>No</td>
    </tr>
    <tr>
        <td class=DataLabel>
        &nbsp;Site</td>
        <td class=DataField>
        <input type=radio name=oppoi050 value="2">Yes
        <input type=radio name=oppoi050 value="1" checked>No</td>
    </tr>
    <tr>
        <td class=DataLabel>
        &nbsp;Consent (Completed and Signed)</td>
        <td class=DataField>
        <input type=radio name=oppoi004 value="2">Yes
        <input type=radio name=oppoi004 value="1" checked>No</td>
    </tr>
    <tr>
        <td class=DataLabel>
        &nbsp;Procedure (in own words & Corresponds<br>
        &nbsp;with Consent Form)</td>
        <td class=DataField>
        <input type=radio name=oppoi048 value="2">Yes
        <input type=radio name=oppoi048 value="1" checked>No</td>
    </tr>
    <tr><td>&nbsp;</td></tr>
    </table>
    <table border="1" cellpadding="0" cellspacing="0" width="100%" >
    <tr><td class=DataLabel>&nbsp;Site/s marked for laterality or digits</td>
        <td class=DataField colspan=2>
        <input type=radio name=oppoi049 value="2">Yes
        <input type=radio name=oppoi049 value="1" checked>No
        <input type=radio name=oppoi049 value="3">Not Applicable</td>
    </tr>
    <tr><td class=DataLabel>&nbsp;Anaesthesia safety check completed
        </td>
        <td class=DataField align=left>
        <table border="0" cellpadding="0" cellspacing="0" width="100%" >
        <tr>
        <td class=DataField align=left valign=top>
        <input type=radio name=oppoi051 value="2">Yes
        </td>
        <td class=DataField align=right valign=top>
        <input type=radio name=oppoi051 value="1" checked>No</td>
        </td>
        </tr>
        </table>
    </tr>
    <tr><td class=DataLabel>&nbsp;Pulse Oximeter on patient and functioning
        </td>
        <td class=DataField align=left>
        <table border="0" cellpadding="0" cellspacing="0" width="100%" >
        <tr>
        <td class=DataField align=left valign=top>
        <input type=radio name=oppoi052 value="2">Yes
        </td>
        <td class=DataField align=right valign=top>
        <input type=radio name=oppoi052 value="1" checked>No</td>
        </td>
        </tr>
        </table>
    </tr>
    <tr><td class=DataLabel>&nbsp;Does Patient have a known alert/allergy?</td>
        <td class=DataField align=left>
        <table border="0" cellpadding="0" cellspacing="0" width="100%" >
        <tr>
        <td class=DataField align=left valign=top>
        <input type=radio name=oppoi012 value="2">Yes
        </td>
        <td class=DataField align=right valign=top>
        <input type=radio name=oppoi012 value="1" checked>No</td>
        </td>
        </tr>
        </table>
    </tr>
    <tr><td class=DataLabel valign=top>
        &nbsp;Difficult airway/aspiration risk</td>
        <td class=DataField align=left valign=top>
        <table border="0" cellpadding="0" cellspacing="0" width="100%" >
        <tr>
        <td class=DataField align=left valign=top>
        <input type=radio name=oppoi053 value="2">Yes
        <br>&nbsp;Equipment/Assistance Available
        </td>
        <td class=DataField align=right valign=top>
        <input type=radio name=oppoi053 value="1" checked>No</td>
        </td>
        </tr>
        </table>
    </tr>
    <tr><td class=DataLabel valign=top width=50%>
        &nbsp;Risk of > 500ml blood loss (7 ml/kg) in children?</td>
        <td class=DataField align=left valign=top width=40%>
        <table border="0" cellpadding="0" cellspacing="0" width="100%" >
        <tr>
        <td class=DataField align=left valign=top>
        <input type=radio name=oppoi054 value="2">Yes
        <br>&nbsp;Adequate IV/Central Fluids<br>&nbsp;/bloods planned
        </td>
        <td class=DataField align=right valign=top>
        <input type=radio name=oppoi054 value="1" checked>No</td>
        </td>
        </tr>
        </table>
    </tr>
    <tr><td class=DataLabel valign=top width=50%>
        &nbsp;Prosthesis/special equipment to be used?</td>
        <td class=DataField align=left valign=top width=40%>
        <table border="0" cellpadding="0" cellspacing="0" width="100%" >
        <tr>
        <td class=DataField align=left valign=top>
        <input type=radio name=oppoi055 value="2">Yes
        <br>&nbsp;Checked and confirmed
        </td>
        <td class=DataField align=right valign=top>
        <input type=radio name=oppoi055 value="1" checked>No</td>
        </td>
        </tr>
        </table>
    </tr>

    </table>

   </td>
</tr>

<tr><td class=DataLabel width=30%>Nurse Name</td>
    <td class=DataField>
    <input type=text name=oppoi082 id=oppoi082 title="Nurse Name Code" size=6
      class=DataField  maxlength=6 value="%OPRWEB01.04.620. 97.1"
     onblur=validateNurse()>
    <input type=text name=name_oppoi082 id=name_oppoi082 
     title="Nurse Name Desc" class=ReadOnly readonly size=22 maxlength=30 
     value="%OPRWEB01.04.620. 97.0">
    <img src="../images/SearchIcon.gif" align=absmiddle
     onClick="SearchOTNurse(oppoi082,name_oppoi082);">
     </td></tr>
<tr><td class=DataLabel width=30%>
    Pre-Induction of Anaesthesia checklist date and time</td>
    <td class=DataLabel>
    <input type=text name=oppoi087 id=oppoi087 size=12 
     value="%OPRWEB01.04.620. 87"
     title="Pre-Induction of Anaesthesia checklist Date"
     class="PastDate">
    <img src=../images/DateLookup.gif class=Icon date=arrivalForm.oppoi087>
    Time
    <input type=text name=oppoi057 id=oppoi057 
     size=6 value="%OPRWEB01.04.620. 57"
     title="Pre-Induction of Anaesthesia checklist Time"
    onblur=validateFutureDateTime()>
    <img src=../images/DateTimeStamp.gif class=Icon date=arrivalForm.oppoi087
     time=arrivalForm.oppoi057>
    <img src=../images/TimeLookup.gif class=Icon time=arrivalForm.oppoi057>
    </td>
</tr>

<tr><td colspan=7 align=center>
        <input class="button" id="opr01sub" type=button value="Ok" onclick="tempDisable(this);formSubmit();">
        <input class="button" type=button value="Cancel" onclick=DFrameClose()>
    </td>
</tr>
 
</table>
</form>
</div>

<form name=PatientLinks method=get>
<input type=hidden name=reportno value=1>
<input type=hidden name=template value=004>
<input type=hidden name=urnumber value="%OPRWEB01.04.003">
<input type=hidden name=admissno value="%OPRWEB01.04.081">
<input type=hidden name=casekeys value="%OPRWEB01.04.101">
<input type=hidden name=MenuType value="%OPRWEB01.04.088">
<input type=hidden name=sesskeys value="%OPRWEB01.04.301">
</form>

<script type="text/javascript">
if ("%OPRWEB01.04.620. 47" == "2")
  arrivalForm.oppoi047[0].checked = true;
if ("%OPRWEB01.04.620. 50" == "2")
  arrivalForm.oppoi050[0].checked = true;
if ("%OPRWEB01.04.620.  4" == "2")
  arrivalForm.oppoi004[0].checked = true;
if ("%OPRWEB01.04.620. 48" == "2")
  arrivalForm.oppoi048[0].checked = true;
if ("%OPRWEB01.04.620. 49" == "2") {
  arrivalForm.oppoi049[0].checked = true;
} else {
  if ("%OPRWEB01.04.620. 49" == "3") {
    arrivalForm.oppoi049[2].checked = true;
  }
}
if ("%OPRWEB01.04.620. 51" == "2")
  arrivalForm.oppoi051[0].checked = true;
if ("%OPRWEB01.04.620. 52" == "2")
  arrivalForm.oppoi052[0].checked = true;
if ("%OPRWEB01.04.620. 12" == "2")
  arrivalForm.oppoi012[0].checked = true;
if ("%OPRWEB01.04.620. 53" == "2")
  arrivalForm.oppoi053[0].checked = true;
if ("%OPRWEB01.04.620. 54" == "2")
  arrivalForm.oppoi054[0].checked = true;
if ("%OPRWEB01.04.620. 55" == "2")
  arrivalForm.oppoi055[0].checked = true;
</script>
