<meta name="TemplateVersion" content="V12.00.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript" src="../js/OutpatientSelect.js"></script>
<script type="text/javascript" src="../js/OutpatientTypeClinic.js"></script>
<script type="text/javascript" src="../js/allweb0201.js"></script>
<script type="text/javascript">
function SelectPeriodSubmit() {
  SelectPeriod.submit();
}
function UpdateReferral(urn,adn,dpc) {
  PatientLinks.urnumber.value=urn;
  PatientLinks.admissno.value=adn;
  PatientLinks.deptcode.value=dpc;
  PatientLinks.submit();
}
function AddNewReferral() {
  AddReferral.doctcode.value=SelectPeriod.doctcode.value;
  Left=(document.body.clientWidth-900)/2;
  DFrameSubmit(AddReferral,0,Left,900,900);
}
function AddUserReferral() {
  if(isWhitespace(document.PatientLinks.wbsedall.value)) {
     alert("User does not have a default department.");
     return;
  }
  document.AddReferral.allrf001.value=document.PatientLinks.wbsedall.value;
  Left=(document.body.clientWidth-900)/2;
  DFrameSubmit(AddReferral,0,Left,900,900);
}
function HospitalFilter() {
  if(document.SelectPeriod.alcndhos.value=="1") {
     document.getElementById("HospTitle").innerHTML=
     document.getElementById("DisplayHospitalTitle").innerHTML;
     document.getElementById("HospField").innerHTML=
     document.getElementById("DisplayHospitalField").innerHTML;
     document.getElementById("SiteTitle").innerHTML=
     document.getElementById("DisplaySiteTitle").innerHTML;
     document.getElementById("SiteField").innerHTML=
     document.getElementById("DisplaySiteField").innerHTML;
  }
}
function TriageFilter() {
  if(document.SelectPeriod.alcndtrg.value=="1") {
    document.getElementById("TriageTitle").innerHTML=
    document.getElementById("DisplayTriageTitle").innerHTML;
    document.getElementById("TriageField").innerHTML=
    document.getElementById("DisplayTriageField").innerHTML;
  }
}
</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);HospitalFilter();TriageFilter();
      setTimeout('SetClinicTypeList(document.SelectPeriod);',100);">
<div id="HeadingSection"></div>
<div id="PHeadingSection">

<form name=PatientLinks action=allweb02.pbl method=get style="margin:0">
<input type=hidden name=reportno value=2>
<input type=hidden name=template value=2>
<input type=hidden name=urnumber>
<input type=hidden name=admissno>
<input type=hidden name=deptcode>
<input type=hidden name=wbsedall value="%STANDARD.01.028">
</form>

<form name=SelectPeriod action=allweb02.pbl method=get style="margin:0">
<input type=hidden name=reportno value=1>
<input type=hidden name=template value=18>
<input type=hidden name=viewtype value="%ALLWEB02.01.008">
<input type=hidden name=usersite value="%STANDARD.01.023">
<input type=hidden name=wbseclid value="%STANDARD.01.026">
<input type=hidden name=defctype value="%ALLWEB02.01.028">
<input type=hidden name=deftclid value="%ALLWEB02.01.027">
<input type=hidden name=alcndhos value="%STANDARD.01.025.106.224.0.1">
<input type=hidden name=alcndtrg value="%STANDARD.01.025.121.125.0.1">

<table width=100% cellspacing=0 border=0 bgcolor=#cccccc>
<tr>
  <td>Department</td>
  <td>
    <select class=PMenuSelectList name=deptcode
     onchange="SelectPeriodSubmit();">
      <option></option>
      %ALLWEB02.01.012
    </select>
  </td>
  <td class=DataLabel>Referring HCP</td>
  <td>
    <input type=text name=doctcode value="%ALLWEB02.01.020.0" class=DataField
     onchange="ValidateHCP(18,0,SelectPeriod.doctcode,SelectPeriod.psevt000,
               SelectPeriodSubmit);"
     size=10 maxlength=10>
    <input type=text name=psevt000 title="Attending HCP" readonly size=24 
     value="%ALLWEB02.01.020.1">
    <img src="../images/SearchIcon.gif" class=Icon
     onclick="HCPSearchFrame(SelectPeriod.doctcode,SelectPeriod.psevt000,
              7,SelectPeriodSubmit);">
    <img src="../images/ClearIcon.gif" class=Icon
     onclick="clrFields(SelectPeriod.doctcode,SelectPeriod.psevt000,
              SelectPeriodSubmit);">
  </td>
  <td>Case Review Date</td>
  <td>
    <input type=button value="<<" class=SmallButton
     onclick='location.href="%ALLWEB02.01.002"'>
    %ALLWEB02.01.007 
    <input type=button value=">>" class=SmallButton
     onclick='location.href="%ALLWEB02.01.001"'>
    <a href='javascript:SelectDateFrame();'>
      <img src="../images/DateLookup.gif" alt="Select Date" class="Icon"></a>
    <a href='javascript:SelectView("0");'>
      <img src=../images/DayIcon.gif alt="View Today" class="Icon"></a>
    <a href='javascript:SelectView("1");'>
      <img src=../images/WeekIcon.gif alt="View This Week" class="Icon"></a>
    <a href='javascript:SelectView("2");'>
      <img src=../images/MonthIcon.gif alt="View This Month" class="Icon"></a>
  </td>
</tr>
<tr>
  <td class=DataLabel>Clinic Type</td>
  <td>
    <select name=filtctyp class=SelectBig
     onchange="SetClinicIDList(document.SelectPeriod);SelectPeriodSubmit();">
      <option value="  ">Select Clinic Type</option>
    </select>
  </td>
  <td class=DataLabel>Clinic ID</td>
  <td>
    <select name=filtclid onchange="SelectPeriodSubmit();" class=SelectBig>
      <option value="zzzzzz">Select Clinic ID</option>
    </select>
  </td>
  <td class=DataLabel>Case Team</td>
  <td>
    <input type=text name=filtteam size=10 maxlength=10 title="Case Team"
     onblur="validateCode2(7,SelectPeriod.filtteam,SelectPeriod.n_filtteam,
                           SelectPeriodSubmit)"
     value="%ALLWEB02.01.025.1">
    <input type=text name=n_filtteam size=25 readonly value="%ALLWEB02.01.025.0"
     class=Readonly tabindex=-1 title="Team Description">
    <img src="../images/SearchIcon.gif" class=Icon
     onclick="TeamSearchFrame(SelectPeriod.filtteam,SelectPeriod.n_filtteam,
              SelectPeriodSubmit)">
    <img src="../images/ClearIcon.gif" class=Icon
     onclick="clrFields(SelectPeriod.filtteam,SelectPeriod.n_filtteam,
              SelectPeriodSubmit);">
  </td>
</tr>
<tr>
  <td>Status</td>
  <td>
    <select name=statcode onchange="SelectPeriodSubmit();">
      <option></option>
      <option value="0">Waiting</option>
      <option value="1">Active</option>
      <option value="2">Closed</option>
      <option value="3">Inactive</option>
      <option value="4">Cancelled</option>
      <option value="5">Rejected</option>
      <option value="7">Waiting & Active</option>
      <option value="8">Closed & Rejected</option>
      <option value="9">Inactive & Cancelled</option>
    </select>
  </td>
  <td>Priority</td>
  <td>
    <select name=priority onchange="SelectPeriodSubmit();" >
      <option value="  ">All</option>
      %ALLWEB02.01.010.2
    </select>
  </td>
  <td><div id="TriageTitle"></div></td>
  <td><div id="TriageField"></div></td>
</tr>
<tr>
  <td><div id="HospTitle"></div></td>
  <td><div id="HospField"></div></td>
  <td><div id="SiteTitle"></div></td>
  <td><div id="SiteField"></div></td>
  <td>&nbsp;</td>
  <td>&nbsp;</td>
</tr>
</table>
</form>
</div>

<form name=AddReferral method=get action=allweb02.pbl style="margin:0">
<input type=hidden name=reportno value=3>
<input type=hidden name=template value=2>
<input type=hidden name=doctcode value="">

<table width=100% cellspacing=0 border=1 bgcolor=#cccccc>
<tr>
  <td align=right class=HeadingCell colspan=2 >Add Referral
    <input type=button class=SlimButton value="Add"
     title="Add referral for users department" onclick="AddUserReferral();">
    <select class=PMenuSelectList name=allrf001
     onmouseover='MenuOver(event,this)'
     onchange="AddNewReferral();">
      <option></option>
      %ALLWEB02.01.012
    </select>
  </td>
</tr>
<tr>
  <td width=95% class=HeadingCell align=center> 
    %ALLWEB02.01.023  Referrals - Case Review Date
  </td>
  <td class=HeadingCell align=right><img src='../images/PrinterIcon.gif'
   class=Icon alt='Print Page' onclick='print();'>
  </td>
</tr>
</table>
</form>

<div id=TableLocation>
<table width=100% cellspacing=0 border=1>
<tr>
  <td class=HeadingCell>Booking Status</td>
  <td class=HeadingCell>Patient</td>
  <td class=HeadingCell>Case Review Date</td>
  <td class=HeadingCell>Referring HCP</td>
  <script type="text/javascript">
  if(document.SelectPeriod.alcndtrg.value=="1") {
    document.write("<td class=HeadingCell>Triage Status</td>");
  }
  </script>
  <td class=HeadingCell>Priority</td>
  <td class=HeadingCell>Days Overdue</td>
</tr>
%ALLWEB02.01.032.0
</table>
</div>

<table width=100% bgcolor=#CCCCCC>
<tr>
  <td align=center>
    <input type=button value="<< Previous" class="button"
     onclick='location.href="%ALLWEB02.01.022.018"'>
    <input type=button value="Next >>" class="button"
     onclick='location.href="%ALLWEB02.01.021.018"'>
  </td>
</tr>
</table>

<div id=DisplayHospitalTitle style="display: none">
<table align=center width=100% border=0 cellspacing=0>
<tr>
  <td>Preferred Hospital</td>
</tr>
</table>
</div>

<div id=DisplayHospitalField style="display: none">
<table align=center width=100% border=0 cellspacing=0>
<tr>
  <td>
    <select name=filthosp onchange="SelectPeriodSubmit();">
      <option></option>
      %ALLWEB02.01.039
    </select>
  </td>
</tr>
</table>
</div>

<div id=DisplaySiteTitle style="display: none">
<table align=center width=100% border=0 cellspacing=0>
<tr>
  <td>Preferred Site</td>
</tr>
</table>
</div>

<div id=DisplaySiteField style="display: none">
<table align=center width=100% border=0 cellspacing=0>
<tr>
  <td>
    <select name=filtpsit onchange="SelectPeriodSubmit();" >
      <option></option>
      %ALLWEB02.01.040
    </select>
  </td>
</tr>
</table>
</div>

<div id=DisplayTriageTitle style="display: none">
<table align=center width=100% border=0 cellspacing=0>
<tr><td>Triage Status</td>
    </tr>
</table>
</div>

<div id=DisplayTriageField style="display: none">
<table align=center width=100% border=0 cellspacing=0>
<tr><td>
    <select name=filttrgs onchange="SelectPeriodSubmit();" >
    <option value="   ">All</option>
     %ALLWEB02.01.277.2
    </select>
    </td></tr>
</table>
</div>

<script type="text/javascript">
  FilterStat="%ALLWEB02.01.031";
  if(isWhitespace(FilterStat)){
     FilterStat=1;
  }
  for(var i =0 ; i < document.SelectPeriod.statcode.length; i++){
      if(document.SelectPeriod.statcode.options[i].value==trim(FilterStat)){
         document.SelectPeriod.statcode.selectedIndex=i; 
      } 
  }

  var els = document.getElementById("TableLocation").getElementsByTagName("tr");
  var rowHeight = 30; //change this to change desired minimum row height
  for (var i=1; i < els.length; i++) {
    var el = els[i];
    if(el.offsetHeight < rowHeight)
    {
      el.height = rowHeight;
    }
  }
</script>
