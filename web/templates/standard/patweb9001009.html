<meta name="TemplateVersion" content="V12.00.00">
<meta name="TemplateHome"    content="standard">
<meta name="HelpFileName"    content="NoContextSet.html">
<meta name="CrossBrowser"    content="true">
<!-- The json2.js file is a gap-filler for older IE browsers (such as IE8) 
     that do not natively support JSON. -->
<script type="text/javascript" src="../js/json2.js"></script>
<script type="text/javascript" src="../js/AddressSearch.js"></script>

<script type="text/javascript">
function SetHeight() {
  var DFrameHeading = document.getElementById('DFrameHeading');
  var PageHeadingSection = document.getElementById('PageHeadingSection');

  var FrameTitleBarHeight = getClientHeight(DFrameHeading);
  var HeadingSectionHeight = getClientHeight(PageHeadingSection);
  var BottomSectionHeight = 0;

  if ((window.navigator.userAgent.indexOf("MSIE 6.0")>=1) ||
      (window.navigator.userAgent.indexOf("MSIE 7.0")>=1)) {  // IE11
    BottomSectionHeight = 35;
  }
  else {  // other browsers
    BottomSectionHeight = 45;
  }

  var ResultSection = document.getElementById('ResultSection');

  ResultSection.style.height = getClientHeight() -
                                (HeadingSectionHeight + FrameTitleBarHeight +
                                 BottomSectionHeight) + "px";
}
function init() {
  document.getElementById('addrFld').focus();
  SetHeight();
}
</script>

<style>
#ResultSection {
  width: 100%;
  height: 60%; /* Previous Value: 100% - Caused Buttons to be Off Screen. */
  overflow: auto;
  padding: 0px;
  margin-bottom: 2px;
}
</style>
</head>

%START.OF.PAGE
<body onload="PageLoad(event);">
<span class=DFrameTitleBar id=DFrameHeading>
<img align="right" alt="Exit" class="MenuIcon" 
 src="../images/ExitIcon.gif" onclick="CheckDFrameExit();">
Address Search
</span>

<form id=SearchForm style="margin:0">

<div id=PageHeadingSection>
<table width=100% border=0 cellpadding=2 cellspacing=0>
<tr><td class=HeadingCell align=center colspan=7>Search Criteria </td>
<tr><td class=DataLabel>Address Type</td>
    <td>
      <select name=filtAddrType id=filtAddrType title="Address Type"
       class=Mandatory onchange="SearchAddress();">
        <option value="1">All address types</option>
        <option value="2">Valid physical addresses</option>
        <option value="3">PO Box addresses</option>
      </select>
    </td>
    <td class=DataLabel>State</td>
    <td>
      <select name=filtState id=filtState title="State" class=Mandatory
       onchange="SearchAddress();">
        <option value=" ">All</option>
        <option value="NSW">NSW</option>
        <option value="ACT">ACT</option>
        <option value="VIC">VIC</option>
        <option value="QLD">QLD</option>
        <option value="SA">SA</option>
        <option value="WA">WA</option>
        <option value="NT">NT</option>
        <option value="TAS">TAS</option>
      </select>
    </td>
    <td class=DataLabel>Post Code</td>
    <td>
      <input type=text size=4 maxlength=4 title="Post Code"
       name=filtPostcode id=filtPostcode style="cursor:auto"
       onblur="SearchAddress();">
    </td>
    <td class=DataLabel>Include close matches&nbsp;&nbsp;
      <input type=checkbox name=chkCloseMatch id=chkCloseMatch value="1" 
       title="Include close matches" onclick="SearchAddress();">
    </td>
</tr>
<tr><td class=DataLabel>Search Address</td>
    <td colspan=7>
      <input type=text class=Mandatory size=70 name=addrFld id=addrFld 
       onkeyup="SearchAddress();" style="cursor:auto"
       title="Type in an address; e.g. 500 George St">
    </td>
</tr>
</table>

<table width=100% border=0 cellpadding=0 cellspacing=0>
<tr><td width=100% class=HeadingCell align=center>Search Results </td></tr>
</table>
</div>

<div id=ResultSection>
<table width=100% border=0 cellpadding=0 cellspacing=0>
<tr><td><ul id=srchReslts class="AddressList"></ul></td></tr>
</table>
</div>

<table width=100% border=0 cellpadding=2 cellspacing=1>
<tr><td colspan=5 align=center>
    <input type=button class="Bigbutton" value="Address not listed" 
     title="Address not listed" onclick="AddressNotListed();">
    <input type=button value="Close" title="Close" class="button" 
     onclick="DFrameExit();">
    </td>
</tr>
</table>

</form>

<form name=PatientLinks method=get>
<input type=hidden name=reportno value=1>
<input type=hidden name=template value=001>
<input type=hidden name=urnumber value="%PATWEB07.06.003">
<input type=hidden name=admissno value="%PATWEB07.06.081">
<input type=hidden name=casekeys value="%PATWEB07.06.203">
<input type=hidden name=shwprint value="%PATWEB07.06.202">
<input type=hidden name=waitflag value="%PATWEB07.06.205">
<input type=hidden name=trnsflag value="%PATWEB07.06.206">
</form>

<script type="text/javascript">
  var AddrType = "%PATWEB90.01.037";
  var filtAddrType = document.getElementById('filtAddrType');

  for (i=0; i < filtAddrType.length; i++) {
    if (filtAddrType.options[i].value == AddrType) {
      filtAddrType.selectedIndex = i;
    }
  }
</script>
