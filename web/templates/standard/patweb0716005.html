<meta name="TemplateVersion" content="V12.00.00">
<meta name="TemplateHome" content="standard">
<meta name="CrossBrowser" content="true">
<meta name="HelpFileName"    content="NoContextSet.html">
<script  type="text/javascript">

function UpdBreakdown() {
  if ((!isWhitespace(UpdateForm.pmpbr001.value)) &&
       CheckNaN(UpdateForm.pmpbr001)) {

   parseFloat(UpdateForm.pmpbr001.value);
   document.UpdateForm.updttype.value="B";
   document.UpdateForm.submit();
   } else {
   alert("Counter is a required field. Please enter it now.");
   UpdateForm.pmpbr001.focus();
  }
}

function CheckNaN(field) {
  if(isNaN(field.value)) {
     alert("Field must be Numeric");
     field.value=""
     return false;
    }
  else return true;
}

function TotalsMax(theForm,maxamnt,dayamnt) {

    if ((dayamnt!=undefined) && (maxamnt!=undefined)) {
      if ((!checkNumber(maxamnt,maxamnt.title)) &&
          (!checkNumber(dayamnt,dayamnt.title))) { return };
    }

    var total1 = 0.00 ;

  for(var e = 0; e < theForm.elements.length; e++) {
    var el=theForm.elements[e] ;
    if(!isWhitespace(el.value) && !isNaN(el.value)) {
      if(el.id.match(/mxbil/)) {
        total1+=(parseFloat(el.value,10));
      }
    }
  }

  theForm.totalmax.value=total1
  RoundNumber(theForm.totalmax,2);

     if (!isWhitespace(dayamnt.value)) {
      if (parseFloat(dayamnt.value)>parseFloat(maxamnt.value)) {
    alert("Maximum Billing Period can not be Less than Per Day Amount.");
        maxamnt.value=0.00;
        document.UpdateForm[maxamnt.name].blur()
        document.UpdateForm[maxamnt.name].select()
        return false
      } 

      maxday=parseFloat(dayamnt.value)*100;
      maxbil=parseFloat(maxamnt.value)*100;
      divided=maxbil.toFixed(0)%maxday.toFixed(0);
      if (divided>0) {
        alert("Maximum Billing Period must be Multiple of Per Day Amount.");
        maxamnt.value=0.00;
        document.UpdateForm[maxamnt.name].blur()
        document.UpdateForm[maxamnt.name].select()
        return false
      }

     }

  RoundNumber(maxamnt,2);
  RoundNumber(dayamnt,2);
  return true
}


function TotalsDay(theForm,maxamnt,dayamnt) {

 if ((parseFloat(dayamnt.value)) != 0.00 ||
     (parseFloat(dayamnt.value) != 0)) {

  if (parseFloat(maxamnt.value)==0.00) {
    alert("Per Day Amount can not be greater than Maximum Billing Period.");
    dayamnt.value=0.00;
    document.UpdateForm[dayamnt.name].blur()
    document.UpdateForm[dayamnt.name].select()
    return false
  }

    if ((dayamnt!=undefined) && (maxamnt!=undefined)) {
      if ((!checkNumber(maxamnt,maxamnt.title)) &&
          (!checkNumber(dayamnt,dayamnt.title))) { return };
    }

    var total1 = 0.00 ;

  for(var e = 0; e < theForm.elements.length; e++) {
    var el=theForm.elements[e] ;
    if(!isWhitespace(el.value) && !isNaN(el.value)) {
      if(el.id.match(/mxday/)) {
        total1+=(parseFloat(el.value,10));
      }
    }
  }
  theForm.totalpday.value=total1
  RoundNumber(theForm.totalpday,2);

   if (!isWhitespace(maxamnt.value)) {
    if (parseFloat(maxamnt.value)!=0.00) {
      if (parseFloat(dayamnt.value)>parseFloat(maxamnt.value)) {
    alert("Per Day Amount can not be greater than Maximum Billing Period.");
        dayamnt.value=0.00;
        document.UpdateForm[dayamnt.name].blur()
        document.UpdateForm[dayamnt.name].select()
        return false
      } 
     }
      maxday=parseFloat(dayamnt.value)*100;
      maxbil=parseFloat(maxamnt.value)*100;
      divided=maxbil.toFixed(0)%maxday.toFixed(0);
      if (divided>0) {
        alert("Per Day Amount must be Multiple of Maximum Billing Period.");
        dayamnt.value=0.00;
        document.UpdateForm[dayamnt.name].blur()
        document.UpdateForm[dayamnt.name].select()
        return false
      }

   }
 }
 RoundNumber(maxamnt,2);
 RoundNumber(dayamnt,2);
 return true
}

</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);">

<span class=DFrameTitleBar>
<img align="right" alt="Exit" class="MenuIcon" 
 src="../images/ExitIcon.gif" onclick="DFrameExit();">
Payer Breakdown
</span>

<form name=UpdateForm method=post action=patweb07.pbl style="margin:0">
    <input type=hidden name=reportno value="16">
    <input type=hidden name=template value="005">
    <input type=hidden name=updttype value="">
    <input type=hidden name=urnumber value="%PATWEB07.16.003">
    <input type=hidden name=admissno value="%PATWEB07.16.081">
    <input type=hidden name=pmpyr001 value="%PATWEB07.16.003">
    <input type=hidden name=pmpyr003 value="%PATWEB07.16.103.1">
    <input type=hidden name=pmpyr018 value="%PATWEB07.16.118">
    <input type=hidden name=ptrgm001 value="%PATWEB07.16.202">

<table align=center cellspacing=2 cellpadding=1 width=90% border=0>

<tr><td width=25% class=DataLabel>Name</td>
    <td width=40% class=DataField>%PATWEB07.16.203</td>
    <td width=10% class=DataLabel>Default</td>
    <td class=DataField>%PATWEB07.16.102.1</td>
</tr>

<tr><td class=DataLabel>%STANDARD.01.017.CL</td>
    <td class=DataField>%PATWEB07.16.103.0</td>
    <td class=DataLabel>Counter</td>
    <td class=DataField>
    <input type=text name=pmpbr001 class="Mandatory" size=5
     title="Counter" maxlength=3 min=1 value="%PATWEB07.16.205">
    </td></tr>

<tr><td colspan=5><hr></td></tr>
</table>

<table align=center cellspacing=2 cellpadding=1 width=90% border=0>
<tr><td width=40% colspan=2>Maximum per Billing Period</td>
    <td width=20% colspan=2>Current Payer</td>
    <td colspan=2>Maximum per Day Amount(Partial Billing Periods)</td>
</tr>
<tr><td>&nbsp</td>
    <td>&nbsp</td></tr>
</table>

<table align=center cellspacing=4 cellpadding=1 width=90% border=0>
%PATWEB07.16.204
</table>

<table cellspacing=2 cellpadding=1 width=90% border=0>
<tr><td align=center  colspan=2><br>
    <input type=button value="Update" id=updbtn class="button" 
     onclick="tempDisable(this);UpdBreakdown();">
    <input type=button value="Cancel" class="button" onclick=DFrameClose();>
</td></tr>
</table>

</form>

