<meta name="TemplateVersion" content="V12.00.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript" src="../js/allweb01.js"></script>
<script type="text/javascript" src="../js/patweb87.js"></script>
<script type="text/javascript">
function AddMap() {
  var tabName = 'alldiaaf';
  var tabIndx = document.UpdateForm.deptcode.value +
                 document.UpdateForm.diagcode.value;

  AddMapping(tabName, tabIndx);
}

function compareDates(startDate, endDate, triggered) {
  if (!isWhitespace(startDate) || !isWhitespace(endDate)) {
    if (isWhitespace(UpdateForm.d_aldia008.value)) {
      UpdateForm.aldia008.value = "";
    }
    if (isWhitespace(UpdateForm.d_aldia009.value)) {
      UpdateForm.aldia009.value = "";
    }
    if (startDate > endDate && triggered == 1) {
      if (!isWhitespace(UpdateForm.d_aldia009.value)) {
        alert("Start date cannot be after end date.");
        UpdateForm.aldia008.value = "";
        UpdateForm.d_aldia008.value = "";
      }
    } else if (startDate > endDate && triggered == 2) {
      if (!isWhitespace(UpdateForm.d_aldia008.value) 
       && !isWhitespace(UpdateForm.d_aldia009.value)) {
        alert("End date cannot be before start date.");
        UpdateForm.aldia009.value = "";
        UpdateForm.d_aldia009.value = "";
      }
    }
  } else {
    UpdateForm.aldia008.value = "";
    UpdateForm.aldia009.value = "";
  } 
}
</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);">
<span class=DFrameTitleBar>
<img align="right" alt="Exit" class="MenuIcon" 
 src="../images/ExitIcon.gif" onclick="DFrameExitRefresh();">
<script type="text/javascript">
 document.write('%ALLWEB01.04.001.0 Diagnosis Maintenance');</script>
</span>
<form name=UpdateForm method=post action=allweb01.pbl style="margin:0">
<input type=hidden name=reportno value="4">
<input type=hidden name=template value="003">
<input type=hidden name=updttype value="">
<input type=hidden name=deptcode value="%ALLWEB01.04.001.1">
<input type=hidden name=diagcode value="%ALLWEB01.04.002">
<input type=hidden name=aldia008 value="%ALLWEB01.04.021">
<input type=hidden name=aldia009 value="%ALLWEB01.04.022">

<table align=center width=95% border=0 cellpadding=0 cellspacing=0>
<tr><td class=DataLabel>Diagnosis Code</td>
    <td><input type=text name=aldia002 class=Mandatory title="Diagnosis Code"
         size=12 maxlength=9 readonly value="%ALLWEB01.04.002">
    </td></tr>

<tr><td class=DataLabel>Diagnosis Description</td>
    <td><input type=text name=aldia003 class=Mandatory title="Description"
         size=80 maxlength=80 value="%ALLWEB01.04.003">
    </td></tr>

<tr><td class=DataLabel>Equivalent ICD10 Code</td>
    <td><input type=text readonly class=Readonly 
         name=aldia004 title="ICD10 Code"
         size=10 maxlength=10 value="%ALLWEB01.04.004">
    <input type=text size=50 name=mricdds1 value="%ALLWEB01.04.015" 
     readonly class=Readonly>
    <img src=../images/DiagnosisSearchIcon.gif class=Icon
     onclick='Icd10DisSearchFrame(UpdateForm.aldia004,UpdateForm.mricdds1)'>
    <img src="../images/ClearIcon.gif" class=Icon
     onclick="clrFields(UpdateForm.aldia004,UpdateForm.mricdds1);">
</td></tr>

<tr><td class=DataLabel>HDP Equivalent</td>
    <td><input type=text name=aldia006 title="HDP Equivalent"
         value="%ALLWEB01.04.016" size=4 maxlength=4>
    </td></tr>

<tr><td class=DataLabel>HCP Equivalent</td>
    <td><input type=text name=aldia007 title="HCP Equivalent"
         value="%ALLWEB01.04.019" size=4 maxlength=4>
    </td></tr>

<tr><td class=DataLabel>Start Date</td>
    <td><input type=text name=d_aldia008 title="Start Date"
        size=11 maxlength=11 onblur='checkDate(UpdateForm.d_aldia008,
        "Start Date", UpdateForm.aldia008);compareDates(UpdateForm.aldia008.value,
        UpdateForm.aldia009.value, 1)'>
    <img src=../images/DateLookup.gif class=Icon
     onclick='DateLookupFrame(UpdateForm.d_aldia008);'>
    <img src="../images/erase.gif" class=Icon
     onclick="clrFields(UpdateForm.d_aldia008, UpdateForm.aldia008);">
    </td></tr>

<tr><td class=DataLabel>End Date</td>
    <td><input type=text name=d_aldia009 title="End Date"
        size=11 maxlength=11 onblur='checkDate(UpdateForm.d_aldia009, 
        "End Date", UpdateForm.aldia009);compareDates(UpdateForm.aldia008.value,
        UpdateForm.aldia009.value, 2);'>
    <img src="../images/DateLookup.gif" class=Icon
     onclick="DateLookupFrame(UpdateForm.d_aldia009);">
    <img src="../images/erase.gif" class=Icon
     onclick="clrFields(UpdateForm.d_aldia009, UpdateForm.aldia009);">
    </td></tr>

<tr><td class=DataLabel>Active</td>
    <td><input type=checkbox name=aldia005 title="Active" value="1">
    </td></tr>
</table>

<br>

<div id=divMappings style="height:200px;overflow-y:auto">
  <table border=0 width=95% cellspacing=0 cellpadding="1" align=center>
  <tr><td class="HeadingCell HeadingCellB" align=center>
      Clinical Coding System Mappings
      </td>
  </tr>
  </table>

  <table border=0 width=95% cellspacing=0 cellpadding="1" align=center>
  <tr><td class="HeadingCell HeadingCellB" width=30%>Clinical Coding System</td>
      <td class="HeadingCell HeadingCellB" width=20%>Code</td>
      <td class="HeadingCell HeadingCellB">Description</td>
  </tr>
  %ALLWEB01.04.020.patweb87.50.003.alldiaaf
  </table>
</div>

<table align=center border=0 cellpadding=0 cellspacing=0>
<tr><td>
      <input type=button value="Update" class="button" id="all01upd"
       onclick="tempDisable(this);setFormactn('U');">
      <input type=button value="Delete" class="button" id="all01del"
       onclick="tempDisable(this);setFormactn('D');">
      <input type=button value="Add Mapping" class="button"
       onclick="AddMap();">
      <input type=button value="Cancel" class="button" 
       onclick="DFrameCloseRefresh();">
    </td>
</tr>
</table>
</form>

<script language=javascript>
if ("%ALLWEB01.04.005" == "1") {
  document.UpdateForm.aldia005.checked="1";
}
if (!isWhitespace(UpdateForm.aldia008.value)) {
  UpdateForm.d_aldia008.value = SetDateDDMMMYYYY(UpdateForm.aldia008.value);
}
if (!isWhitespace(UpdateForm.aldia009.value)) {
  UpdateForm.d_aldia009.value = SetDateDDMMMYYYY(UpdateForm.aldia009.value);
}
</script>
