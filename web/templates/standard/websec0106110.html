Content-Type: text/html
Cache-Control: no-cache

%START.OF.PAGE
<!DOCTYPE html>
<html>
<head>
<title>Add/Update Portal Tables</title>
<meta name="ServerID"       content="%STANDARD.01.004">
<meta name="ServerName"     content="%STANDARD.01.005">
<meta name="ServerVersion"  content="%STANDARD.01.006">
<meta name="ServerOption"   content="%STANDARD.01.002">
<meta name="ServerTemplate" content="%STANDARD.01.003">
<meta name="TemplateFile"   content="websec0106110.html">
<meta name="TemplateVersion" content="V12.00.00">
<meta name="TemplateHome"    content="standard">
<meta name="HelpFileName"    content="NoContextSet.html">
<meta name="CrossBrowser"    content="true">
<script type="text/javascript" src="../js/Standard.js"></script>
<script type="text/javascript" src="../js/Custom.js"></script>
<script type="text/javascript" src="../js/json2.js"></script>
<link rel="stylesheet" href="../html/standard.css" type="text/css">
<link rel="stylesheet" href="../html/custom.css" type="text/css">
<style type=text/css>
.FreeTextEditor {
  width:800px;
  height:600px;
  background-color:white;
  border:3px outset silver;
}
.FreeTextEditorHeading {
 font-weight:bold;
 background-color: #99CCFF;
 padding-top:3px;
 padding-bottom:3px;
 text-align:center;
}
.FreeTextEditorFooter {
 text-align:center;
 padding:10px;
}
.Label {
  font-weight:bold;
}
</style>
<script type=text/javascript>
function EditCodes() {
  var el=document.getElementById('TableID');
  parent.ShowCodes(el.value);
  DFrameExit();
}
function Save() {
  var url="PortalConfiguration.php" 
  var el;
  var qry="reportno=10"
  el=document.getElementById('TableID');
  qry=qry+"&TableID="+encodeURIComponent(el.value);
  el=document.getElementById('Description');
  if (el.value=='') { alert('Table Description Required'); return;}
  qry=qry+"&Description="+encodeURIComponent(el.value);
  el=document.getElementById('Active');
  if (el.checked) {
    qry=qry+"&Active="+encodeURIComponent('Y');
  } else {
    qry=qry+"&Active="+encodeURIComponent('N');
  }
  var xmlHttp = createHttpObject();
  xmlHttp.open("POST",url,false);
  xmlHttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");
  xmlHttp.send(qry);
  if (xmlHttp.status == 200) {
    if (xmlHttp.responseText=="COMPLETE") {
      alert("Update Complete");
      parent.location.reload();
      return;
    } else {
      alert(xmlHttp.responseText);
    }
  } else {
    alert("ERROR : A problem occurred saving the records Try Again.");
    return;
  }
}
function init() {
  var el;
  var table;
  if (parent.TablesArray != undefined && parent.TableSelected>=0) {
    var table=parent.TablesArray[parent.TableSelected];
    el=document.getElementById('TableID');
    el.value = table.tableId;
    el=document.getElementById('Description');
    el.value = table.description;
    el=document.getElementById('Active');
    if (table.active=='Y') el.checked=true;
  } else {
    el=document.getElementById('Active');
    el.checked=true;
    el=document.getElementById('EditButton');
    el.style.display='none';
  }
}
</script>
</head>
<body onload="PageLoad(event);">
<span class=DFrameTitleBar>
<img align="right" alt="Exit" class="MenuIcon"
 src="../images/ExitIcon.gif" onclick="DFrameExit();">
Add/Update Portal Tables
</span>
<form name=PageEdit action=PortalConfiguration.php method=POST>
<input type=hidden name=reportno value=10>
<input type=hidden id=TableID name=TableID>
<table width=100%>
<tr valign=top><td>
<table width=100% cellpadding=4 border=1 style='border:1px #ccc solid'>
<tr><td class=Label>Table Description</td>
     <td><input type=text id=Description name=Description size=50></td></tr>
<tr><td class=Label>Active</td>
    <td><input type=checkbox value='Y' name=Active id=Active></td></tr>
</table>
</td></tr>
<tr><td style='text-align:center;'>
  <input type=button class=button value='Ok' onclick='Save();'>
  <input type=button class=button value='Cancel' onclick='parent.location.reload();'>
  <input type=button class=button value='Edit Codes' onclick='EditCodes();' id=EditButton>
</td></tr>
<table>
</form>


