<meta name="TemplateVersion" content="V12.00.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript" src=../js/allweb03.js></script>
<script type="text/javascript">
function PackComments(){
  AddForm.alenc107.value=AddForm.comments.value.substring(0,80);
  AddForm.alenc108.value=AddForm.comments.value.substring(80,160);
}

function GetBookings() {
  if(document.AddForm.alcndoos.value=="1") {
   document.getElementById("ServiceDepartmentLabel").innerHTML=
   document.getElementById("ShowServiceDepartmentLabel").innerHTML
   document.getElementById("ServiceDepartmentField").innerHTML=
   document.getElementById("ShowServiceDepartmentField").innerHTML
   document.getElementById("OccasionOfServiceLabel").innerHTML=
   document.getElementById("ShowOccasionOfServiceLabel").innerHTML
   document.getElementById("OccasionOfServiceField").innerHTML=
   document.getElementById("ShowOccasionOfServiceField").innerHTML
   SelectServiceDept();
 } 
  if(document.AddForm.alcndevp.value=="1"){
     document.getElementById("EventProgramLabel").innerHTML=
     document.getElementById("ShowEventProgramLabel").innerHTML;
     document.getElementById("EventProgramField").innerHTML=
     document.getElementById("ShowEventProgramField").innerHTML;
  }
  AddForm.checkbx3.disabled=true;
  if(!isWhitespace(AddForm.bulkenck.value)) {
    p=parent
    AddForm.checkbx3.disabled=false;

    if(p.UpdateStatus==undefined) {
      p=parent.parent
    }

    Appointments.innerHTML+="<input type=hidden name=bulkekey" +
                            " value='" + AddForm.bulkenck.value + "'>"

    if(p.UpdateStatus.othedurn !== undefined ) {

      var interval = p.UpdateStatus.othedurn.value;
      interval = parseInt(interval,10);

      var assocNumber = document.getElementById("vtypeInd");
      assocNumber = assocNumber.value.substr(27,1);
      assocNumber = parseInt(assocNumber,10);

      if(!isNaN(assocNumber)) {
        if(assocNumber > 0) {
          document.AddForm.alenc011.value = (interval * assocNumber)  ;
        }else {
          document.AddForm.alenc011.value = interval;
        }
      }else{
          document.AddForm.alenc011.value = interval;
      }

    }
//
    if(p.SelectPeriod!=undefined) {
      f=document.AddForm;
      f.alenc005.value = f.d_obadate.value;
      f.alenc017.value = f.d_obadate.value;
      if(!isWhitespace(f.d_otbbcitm.value)) {
        f.alenc006.value = f.d_otbbcitm.value + ":00";
      }
      if(!isWhitespace(f.d_otbbastm.value)) {
        f.alenc006.value = f.d_otbbastm.value + ":00";
      }
      if(f.d_obastat.value=="5") {   // DNA
        f.alenc006.value = f.d_obatime.value + ":00";
        DefaultClientPresentStatusDNA();
      }
      if(!isWhitespace(f.d_otbbdptm.value)) {
        f.alenc018.value = f.d_otbbdptm.value + ":00";
      } else {
        DefaultContactEndTime();
      }
      CalcDirectUnitEndTime(f);
    } else {
      document.AddForm.alenc005.value=p.UpdateStatus.dateclin.value;
      document.AddForm.alenc017.value=p.UpdateStatus.dateclin.value;
    }
        
    if(!isWhitespace(p.UpdateStatus.xocadoct.value)) {
      document.AddForm.alenc004.value=p.UpdateStatus.xocadoct.value;
    }
//
    document.AddForm.AddButton.disabled=false;
    return;
  }

  Flag=0
  Appointments.innerHTML="";
  for (var e = 0; e < parent.UpdateForm.elements.length; e++) {
    var el=parent.UpdateForm.elements[e] ;
    if(el.name.match(/referral/) && el.checked==true) {
    Appointments.innerHTML+="<input type=hidden name=bulkekey" +
                            " value='" + el.value + "'>"
    }
  }
  document.AddForm.alenc011.value=parent.UpdateForm.othedurn.value;
//
  Edate=parent.SelectPeriod.sesskeys.options[parent.SelectPeriod.sesskeys.selectedIndex].text;
  document.AddForm.alenc005.value=Edate.substr(4,11);
  document.AddForm.alenc017.value=Edate.substr(4,11);
  if(!isWhitespace(parent.SelectPeriod.xocadoct.value)) {
    document.AddForm.alenc004.value=parent.SelectPeriod.xocadoct.value;
  }
//
  document.AddForm.AddButton.disabled=false;
}
function AddEncounter() {
    if(!validateContactTime()) { return; }
    if(!checkFutureContactTime()) { return; }

    if(!CheckDateTimeRange(AddForm.alenc005,
                           AddForm.alenc006,
                           AddForm.alenc017,
                           AddForm.alenc018)) {
      alert('Contact Start Date/Time cannot be after Contact End Date/Time');
      return;
    }

    var closereferralstring = "";

    if(!isWhitespace(AddForm.alreudt1.value)) {
      if(SetDateYYYYMMDD(AddForm.alenc005.value) <
       SetDateYYYYMMDD(AddForm.alreudt1.value)) {
        alert("Contact Date cannot be before Episode Start Date.");
        return;
      }
    } else {
      if(!isWhitespace(AddForm.alredact.value)) {
        if(SetDateYYYYMMDD(AddForm.alenc005.value) <
           SetDateYYYYMMDD(AddForm.alredact.value)) {
          alert("Contact Date cannot be before Episode Start Date.");
          return;
        }
      }
    }

    if(AddForm.checkbx3.checked==true){
//      if(confirm("Would you like to return to the patient's Patient " +
//                 "Referral List to close the referral?")){
      AddForm.nextpage.value="4";
      AddForm.redirect.value="allweb02.pbl?reportno=02&template=002" +
             "&urnumber=" + AddForm.urnumber.value.replace(/ /g,"+") +
           "&admissno=" + AddForm.bulkenck.value.substr(0,8).replace(/ /g,"+") +
             "&deptcode=" + AddForm.deptcode.value.replace(/ /g,"+");
      if (parent.name=="PopUpFrame") {
        document.AddForm.nextpage.value="7";
      }    
//      }

//  Create cookie for close referral dframe redirect

      closereferralstring="allweb02.pbl?reportno=02&template=004" +
             "&urnumber=" + AddForm.urnumber.value.replace(/ /g,"+") +
           "&admissno=" + AddForm.bulkenck.value.substr(0,8).replace(/ /g,"+") +
             "&deptcode=" + AddForm.deptcode.value.replace(/ /g,"+");


      SetCookie("CloseReferralCookie",closereferralstring);

    }

    // Validate Client Present Status
    if (AddForm.alenc083.value.substr(14,2) == '13') {
      if (AddForm.alenc084.value.substr(14,1) != '3') {
        var sPresentStatus = getSelectionText(AddForm.alenc083, '13');
        var sDeliverMode = getSelectionText(AddForm.alenc084, '3');
        alert("Warning: If Client Present Status is " + sPresentStatus +
          ", Delivery Mode must be " + sDeliverMode + ".");
        AddForm.alenc084.focus();
        return;
      }
    }
    // Validate data entry of a Contract ,Delivery mode and Present Status

    if(!checkDeliveryModeClientPresentStatus(AddForm)) {
      FocusDelay(AddForm.alenc084);      
      return;
    }

    if(!checkContactPurposeEnc(AddForm)) {  // Check Contact Purpose Valid
      return;
    }

    if(!CheckClientPresentStatusDNA(AddForm)) {  // Check Valid for DNA
      return;
    }

// Check Client Present Status validation for Patient DNA & Indirect-No Patient.
    if(!CheckPresentStatus(AddForm)) {
      return;
    }

// Check Delivery Mode is Delivery Mode is Face to Face, Telephone
// Telehealth,Written, Electronic Mail, SMS Text Messages
    if(!CheckDeliveryMode(AddForm)) {
      return;
    }

  if(!isWhitespace(AddForm.bulkenck.value)) {
     //See if the patient was an inpatient at the time of the contact
     CheckContactCurrentIP(AddForm.urnumber,AddForm.alenc005,AddForm.alenc006,
     AddForm.d_currip);
     
     //check Contact has a Delivery Setting of 11-Inpatient Setting
     if(!checkDeliverySettingIP(AddForm.d_currip,AddForm.alenc086)) {
       FocusDelay(AddForm.alenc086);
       return;
     }
  }

    //Display alert it NDIS Flag set and claim type NDIS
    if ((AddForm.alenc115.value.charAt(28)=="D") &&
        (AddForm.ndisvald.value=="0")){

       NDISRedirect();
    }

  getCheckInTimeCookie();
  getTimeSeenCookie();
  getDepartureTimeCookie();
  SubmitHidden(AddForm);
}
function ShowHideBill() {
  CompensationCode=AddForm.alenc115.value.substr(13,1);
  MandatoryCMBS=AddForm.alenc115.value.substr(28,1);  //Ind 12
  MandatoryCMBS1=AddForm.alenc115.value.substr(36,1);  //Ind 20
  DNAPresentStatus=AddForm.alenc083.value.substr(5,1);  //Ind 3
  if(MandatoryCMBS=="M" || MandatoryCMBS1=="M" || MandatoryCMBS1=="N") {
    //  Private CMBS fund
    Items.innerHTML=DisplayItems.innerHTML;
    Items.style.display="";
    if(MandatoryCMBS1=="N") {
      document.AddForm.itemn001.className="";
    }
    if(DNAPresentStatus=="N") {
      document.AddForm.itemn001.className="";
    }
    if (CompensationCode=="C" || CompensationCode=="E") {
      PatientIndicatorDIV.innerHTML=PatientIndicatorSPAN2.innerHTML;
      ShowHideBUnits();
    } else {
      PatientIndicatorDIV.innerHTML=PatientIndicatorSPAN1.innerHTML;
      BillableUnitsDIV.innerHTML=BillableUnitsSPAN1.innerHTML;
    }
  } else {
    Items.innerHTML="";
    Items.style.display="none";
    PatientIndicatorDIV.innerHTML=PatientIndicatorSPAN1.innerHTML;
    BillableUnitsDIV.innerHTML=BillableUnitsSPAN1.innerHTML;
  }
}
function ClintPrsntSt(){
  DNAPresentStatus=AddForm.alenc083.value.substr(5,1);  //Ind 3
  MandatoryCMBS1=AddForm.alenc115.value.substr(36,1);  //Ind 20
  if(document.AddForm.itemn001==undefined) {
    return;
  }
  if(DNAPresentStatus=="N" || MandatoryCMBS1=="N") {
    document.AddForm.itemn001.className="";
  } else {
    document.AddForm.itemn001.className="Mandatory";
  }
}
function displayClinicType() {
  if (document.AddForm.deptlcod.value.substr(36,1)  == "2") {
      clinictypetitlespan.style.display="";
      clinictypefieldspan.style.display="";
    return;
  }
  if (document.AddForm.deptlcod.value.substr(36,1)  == "1") {
      clinictypetitlespan.style.display="";
      clinictypefieldspan.style.display="";
      document.AddForm.alenc003.className="Mandatory SelectBig";
    return;
  }
}

function SelectServiceDept()
{
  // Calls remote script to get 'Occasion of Service' list for
  // the selected department.
  selectOptions2("82",AddForm.alenc127,AddForm.alenc010);
}

function ShowHideBUnits() {
  isBillable=AddForm.flag.value;
  PatientType=AddForm.alenc009.value.substr(4,1);

  if(isBillable==1&&(PatientType==1 || PatientType==2)) {
    BillableUnitsDIV.innerHTML=BillableUnitsSPAN2.innerHTML;
  } else {
    BillableUnitsDIV.innerHTML=BillableUnitsSPAN1.innerHTML;
  }
}
</script>
</head>

%START.OF.PAGE
<body onload="PageLoad(event);GetBookings();ShowHideBill();
              ValidateHCP(18,13,AddForm.alenc004,AddForm.SProvider);
              CommonContact(AddForm);
              setRMPtBeingDischargedText();">
<span class=DFrameTitleBar>
<img border=0 align=right src=../images/ExitIcon.gif onclick=DFrameExitRefresh()>
Add Contact for %ALLWEB03.13.017 %ALLWEB03.13.216 %ALLWEB03.13.217
</span>

<div id=PageBodySection>
<form name=AddForm action="allweb03.pbl" method=post>
<input type=hidden name=reportno value=13>
<input type=hidden name=deptcode value="%ALLWEB03.13.012">
<input type=hidden name=deptlcod value="%ALLWEB03.13.036.3">
<input type=hidden name=updatety value="A">
<input type=hidden name=flag value="%ALLWEB03.13.023">
<input type=hidden name=urnumber value='%ALLWEB03.13.015'>
<input type=hidden name=alenc107 value="">
<input type=hidden name=alenc108 value="">
<input type=hidden name=bulkenck value="%ALLWEB03.13.030">
<input type=hidden name=vtypeInd id="vtypeInd" value="%ALLWEB03.13.034.3">
<input type=hidden name=dummyret value="">
<input type=hidden name=dummysit value="">
<input type=hidden name=dummydat value="">
<input type=hidden name=dummy1>
<input type=hidden name=d_currip id=d_currip value="">
<input type=hidden name=mbs value="M">
<input type=hidden name=redirect value="">
<input type=hidden name=nextpage value="0">
<input type=hidden name=alcndoos value="%STANDARD.01.025.106.226.0.1">
<input type=hidden name=urnockie value="">
<input type=hidden name=admnckie value="">
<input type=hidden name=rwnockie value="">
<input type=hidden name=clnockie value="">
<input type=hidden name=caseckie value="">

<input type=hidden name=lnkoctyp value="%ALLWEB03.13.205">

<input type=hidden name=prevuc37 value="%ALLWEB03.13.206">
<input type=hidden name=prevcomp value="%ALLWEB03.13.207">
<input type=hidden name=prevuc38 value="%ALLWEB03.13.208">
<input type=hidden name=prevuc40 value="%ALLWEB03.13.209">
<input type=hidden name=prevuc34 value="%ALLWEB03.13.210">
<input type=hidden name=prevuc35 value="%ALLWEB03.13.211">
<input type=hidden name=alcndevp value="%STANDARD.01.025.106.225.0.1">
<input type=hidden name=alcnprev value="%STANDARD.01.025.106.249.0.1">
<input type=hidden name=alreudt1 value="%ALLWEB03.13.551">
<input type=hidden name=alredact value="%ALLWEB03.13.504">
<input type=hidden name=d_otbbcitm value="%ALLWEB03.13.038">
<input type=hidden name=currdate value="">
<input type=hidden name=currtime value="">
<input type=hidden name=CATEG_CL value="CL">
<input type=hidden name=CATEG_zH value="zH">
<input type=hidden name=d_obadate value="%ALLWEB03.13.228">
<input type=hidden name=d_otbbastm value="%ALLWEB03.13.229">
<input type=hidden name=d_otbbdptm value="%ALLWEB03.13.230">
<input type=hidden name=d_currtime value="%STANDARD.01.016">
<input type=hidden name=d_obatime value="%ALLWEB03.13.231">
<input type=hidden name=d_duration value="%ALLWEB03.13.232">
<input type=hidden name=d_obastat value="%ALLWEB03.13.233">
<input type=hidden name=ndisvald value="%ALLWEB03.13.236">
<input type=hidden id=CATEG_zL  name=CATEG_zL
                                 value="%STANDARD.01.018.zL.9  .9.3">
<table align=center cellspacing=0 cellpadding=1 border=0 width=98%>
<tr><td>
<div id=Appointments></div>
</td></tr>

<tr><td class=DataLabel>Contact Start Date</td>
    <td class=DataLabel>
    <input type=text readonly name=alenc005 value="%STANDARD.01.015"
      title="Contact Start Date" class="ReadOnly" Size=12
      onblur="CalcDirectUnitStartDate(AddForm);">
     Start Time
    <input type=text size=8 title="Contact Start Time" value="" 
      class="Mandatory" Name=alenc006
      onblur="CalcDirectUnitStartTime(AddForm);">
    <img notab src=../images/DateTimeStamp.gif class="Icon"
         onclick="SetCurrentDateTime(null,AddForm.alenc006);">
    <img src="../images/TimeLookup.gif" class=Icon
     onclick="TimeLookupFrame(AddForm.alenc006);">
   </td>
  <td class=DataLabel>Entered By</td>
  <td>
    <input type=text readonly size=25 name=usnm class="ReadOnly"
     value="%STANDARD.01.009">
  </td>
</tr>

<tr><td class=DataLabel>Contact End Date</td>
    <td class=DataLabel>
    <input type=text readonly name=alenc017 value="%STANDARD.01.015"
      title="Contact End Date" class="ReadOnly" Size=12>
     End Time &nbsp;
    <input type=text size=8 title="Contact End Time" value="" 
      class="Mandatory" Name=alenc018
      onblur="CalcDirectUnitEndTime(AddForm);">
    <img notab src=../images/DateTimeStamp.gif class="Icon"
         onclick="SetCurrentDateTime(null,AddForm.alenc018);">
    <img src="../images/TimeLookup.gif" class=Icon
     onclick="TimeLookupFrame(AddForm.alenc018);">
   </td>
</tr>

<tr><td class=DataLabel>Health Care Provider</td>
    <td class=DataLabel>
    <input type=text name=alenc004 size=10 maxlength=10 class=Mandatory
     onblur="ValidateHCP(18,13,AddForm.alenc004,AddForm.SProvider);" 
     title="Health Care Provider">
    <input type=text name=SProvider size=25 class=Readonly readonly
      title="Health Care Provider">

    <img src=../images/SearchIcon.gif class=Icon
     onclick="HCPSearchFrame(AddForm.alenc004,AddForm.SProvider,4);" >
    <img src="../images/ClearIcon.gif" class=Icon
     onclick="clrFields(AddForm.alenc004,AddForm.SProvider);">
    </td>
    <td class=DataLabel>Linked Visit Number</td>
    <td colspan=3>
    <input type = text size = 20 readonly name=lvis
    value="" class = Readonly>
    </td>
</tr>

<tr><td class=DataLabel width=15%>Direct Units</td>
    <td class=DataField width=35%>
    <input type=text size=12 name=alenc011 id=alenc011 maxlength=6 
      class=Mandatory title="Direct Units"
      onblur="CalcContactEndDateTime(AddForm);"></td>
    <td class=DataLabel width=15%>Indirect Units</td>
    <td class=DataField><input type=text size=12 name=alenc013 maxlength=6 
      onblur="checkInteger(this,this.title);"></td></tr>

<tr><td class=DataLabel width=15%>
    <span id="clinictypetitlespan" style="display:none">
    Clinic Type
    </span>
    </td>
    <td class=DataField>
    <span id="clinictypefieldspan" style="display:none">
    <select class="SelectBig" name=alenc003
     title="Clinic Type">
    <option></option>
    %ALLWEB03.13.308
    </select>
    </span>
    </td></tr>
    </table>

<div id=Items></div>

<table align=center cellspacing=0 cellpadding=1 border=0 width=98%>
<tr><td class=DataLabel width=15%>Client Present Status</td>
    <td class=DataField width=35%>
      <select class="Mandatory SelectBig" name=alenc083
       title="Client Present Status" onchange="ClintPrsntSt();">
      <option></option>
      %ALLWEB03.13.147.37.5
      </select></td>
    <td class=DataLabel width=15%>%STANDARD.01.017.CL</td>
    <td class=DataField><select class="Mandatory SelectBig"
        name=alenc115  title="%STANDARD.01.017.CL"
        onchange="ShowHideBill();">
    <option></option>
    %ALLWEB03.13.535.2
    </select>
    </td></tr>

<tr><td class=DataLabel>Delivery Mode</td>
    <td class=DataField><select class="Mandatory SelectBig" name=alenc084
       title="Delivery Mode">
      <option></option>
      %ALLWEB03.13.147.38.5
      </select></td>

    <td class=DataLabel>Delivery Setting</td>
    <td class=DataField><select class="Mandatory SelectBig" name=alenc086
       title="Delivery Setting">
      <option></option>
      %ALLWEB03.13.147.40.5
      </select>
    </td></tr>

<tr><td class=DataLabel>Contact Purpose</td>
    <td class=DataField><select class="Mandatory SelectBig" name=alenc080
       title="Contact Purpose" style="width: 300px;">
      <option></option>
      %ALLWEB03.13.147.34.9.5
      </select></td>
    <td class=DataLabel>Session Type</td>
    <td class=DataField><select class="Mandatory SelectBig" name=alenc081
       title="Session Type">
      <option></option>
      %ALLWEB03.13.147.35.5
      </select>
    </td></tr>

<tr><td class=DataLabel>Travel Time</td>
    <td class=DataField>
    <input type=text size=12 maxlength=8 name=alenc106 title="Travel time" min=0
    onblur=checkInteger(this,this.title)></td>
    <!-- CGA ME#71703 - Field Label Changed - TSK 0901084 -->           
    <td class=DataLabel id=txtRef></td>
    <td class=DataField>
        <input type=checkbox name=checkbx3 value="1"></td>
    <td></td>
    </tr>

<tr><td class=DataLabel><div id="EventProgramLabel"></div></td>
    <td class=DataField><div id="EventProgramField"></div></td>
    </tr>

<tr><td class=DataLabel><div id="ServiceDepartmentLabel"></div></td>
    <td class=DataField><div id="ServiceDepartmentField"></div></td>
    <td class=DataLabel><div id="OccasionOfServiceLabel"></div></td>
    <td class=DataField><div id="OccasionOfServiceField"></div></td></tr>

</table>

<div id=PatientIndicatorDIV>
<table align=center cellspacing=0 cellpadding=1 border=0 width=95%>
  <tr>
    <td>
      <input type=hidden name=alenc009 value="">
    </td>
  </tr>
</table>
</div>

<div id=BillableUnitsDIV>
<table align=center cellspacing=0 cellpadding=1 border=0 width=95%>
 <tr>
    <td>
      <input type=hidden name=alenc012 value="0">
      <input type=hidden name=alenc014 value="0">
    </td>
 </tr>
</table>
</div>


<table align=center cellspacing=0 cellpadding=1 border=0 width=98%>
<tr valign=top><td class=DataLabel width=15%>Comments</td>
    <td class=DataField colspan=3>
    <textarea rows=3 cols=60 onblur="PackComments();" name=comments
     onkeydown="LimitText(this,3,160);"></textarea>
    </td></tr>
</table>
<div id="HCPcheckbox" style="display:none">
<table align=center cellspacing=0 cellpadding=1 border=0 width=98%>
<tr><td class=DataLabel width=15%>Additional HCP</td>
<td><input type=checkbox name=addithcp value="1"
           onclick="CheckAddHCP();"></td></tr>
</table>
</div>

<div id=AdditionalHCP></div>

<table align=center cellspacing=0 cellpadding=1 border=0 width=98%>
<tr><td colspan=4 align=center><br>
    <input type=button value="Add" class="button" id="all03a"
     disabled name=AddButton onclick="tempDisable(this);AddEncounter()">
    <input type=button Value="Cancel" class="button" 
     onclick="DFrameCloseRefresh();">
    </td></tr>
</table>
</form>
</div>

<span id="ShowServiceDepartmentLabel" style="display:none">
  Service Department
</span>


<span id="ShowServiceDepartmentField" style="display:none">
<select class="Mandatory SelectBig" name=alenc127 title="Service Department"
  onchange="SelectServiceDept();">
  <option></option>
  %ALLWEB03.13.191.9.6.08.2. 
  </select>
</span>

<span id="ShowOccasionOfServiceLabel" style="display:none">
  Occasion of Service
</span>

<span id="ShowOccasionOfServiceField" style="display:none">
  <select class="Mandatory SelectBig" name=alenc010 title="Occasion of Service">
  </select>
</span>

<span id="ShowEventProgramLabel" style="display:none">
  Event Program
</span>

<span id="ShowEventProgramField" style="display:none">
  <select class="Mandatory SelectBig" name=alenc079 title="Event Program"
   id=alenc079 onchange="filterContactPurpose(AddForm);
                         filterNDISContactCL(AddForm);">
  <option></option>
  %ALLWEB03.13.599.016.2
  </select>
</span>

<span id="ShowAdditionalHCP" style="display:none;">
<table align=center cellspacing=0 cellpadding=1 border=0 width=98%>
<tr><td class=DataLabel width=15%>Additional HCP 1</td>
    <td><input type=text name=alenc025 size=10 maxlength=10
         title="Additional HCP 1"
         onblur="ValidateHCP(18,0,AddForm.alenc025,AddForm.d_alenc025);">
        <input type=text name=d_alenc025 size=20 class=Readonly readonly
         title="Additional HCP 1">
        <img src=../images/SearchIcon.gif class=Icon
         onclick="HCPSearchFrame(AddForm.alenc025,AddForm.d_alenc025,0);" >
        <img src="../images/ClearIcon.gif" class=Icon
         onclick="clrFields(AddForm.alenc025,AddForm.d_alenc025);">
    </td>
    <td class=DataLabel width=15%>Additional HCP 2</td>
    <td><input type=text name=alenc026 size=10 maxlength=10
         title="Additional HCP 2"
         onblur="ValidateHCP(18,0,AddForm.alenc026,AddForm.d_alenc026);">
        <input type=text name=d_alenc026 size=20 class=Readonly readonly
         title="Additional HCP 2">
        <img src=../images/SearchIcon.gif class=Icon
         onclick="HCPSearchFrame(AddForm.alenc026,AddForm.d_alenc026,0);" >
        <img src="../images/ClearIcon.gif" class=Icon
         onclick="clrFields(AddForm.alenc026,AddForm.d_alenc026);">
    </td></tr>

<tr><td class=DataLabel width=15%>Additional HCP 3</td>
    <td><input type=text name=alenc027 size=10 maxlength=10
         title="Additional HCP 3"
         onblur="ValidateHCP(18,0,AddForm.alenc027,AddForm.d_alenc027);">
        <input type=text name=d_alenc027 size=20 class=Readonly readonly
         title="Additional HCP 3">
        <img src=../images/SearchIcon.gif class=Icon
         onclick="HCPSearchFrame(AddForm.alenc027,AddForm.d_alenc027,0);" >
        <img src="../images/ClearIcon.gif" class=Icon
         onclick="clrFields(AddForm.alenc027,AddForm.d_alenc027);">
    </td>
    <td class=DataLabel width=15%>Additional HCP 4</td>
    <td><input type=text name=alenc028 size=10 maxlength=10
         title="Additional HCP 4"
         onblur="ValidateHCP(18,0,AddForm.alenc028,AddForm.d_alenc028);">
        <input type=text name=d_alenc028 size=20 class=Readonly readonly
         title="Additional HCP 4">
        <img src=../images/SearchIcon.gif class=Icon
         onclick="HCPSearchFrame(AddForm.alenc028,AddForm.d_alenc028,0);" >
        <img src="../images/ClearIcon.gif" class=Icon
         onclick="clrFields(AddForm.alenc028,AddForm.d_alenc028);">
    </td></tr>
</table>
</span>

<span id="DisplayItems" style="display:none;">
<table align=center cellspacing=0 cellpadding=1 border=0 width=98%>
<tr><td class=DataLabel width=15%>MBS Item 1</td>
    <td class=DataField width=35%>
    <input type=text size=10 name=itemn001 title="MBS Item 1"
     class="Mandatory" onblur="validatePMBS(AddForm.itemn001,AddForm.dummy);">
    <input type=text size=20 name=dummy value="" readonly class=Readonly>
    <img src=../images/SearchIcon.gif class=Icon
     onclick='PriMbsSearchFrame(AddForm.dummyret,AddForm.itemn001,
              AddForm.dummysit,AddForm.dummyret,
              AddForm.dummy,AddForm.mbs);'>
    <img src="../images/ClearIcon.gif" class=Icon
     onclick="clrFields(AddForm.itemn001,AddForm.dummy);">
     </td>
    <td class=DataLabel width=15%>MBS Item 2</td>
    <td class=DataField>
    <input type=text size=10 name=itemn002 title="MBS Item 2"
     onblur="validatePMBS(AddForm.itemn002,AddForm.dummy2);">
    <input type=text size=20 name=dummy2 value="" readonly class=Readonly>
    <img src=../images/SearchIcon.gif class=Icon
    onclick='PriMbsSearchFrame(AddForm.dummyret,AddForm.itemn002,
             AddForm.dummysit,AddForm.dummyret,
             AddForm.dummy2,AddForm.mbs)'>
    <img src="../images/ClearIcon.gif" class=Icon
     onclick="clrFields(AddForm.itemn002,AddForm.dummy2);">
    </td></tr>

<tr><td class=DataLabel>MBS Item 3</td>
    <td class=DataField>
    <input type=text size=10 name=itemn003 title="MBS Item 3"
     onblur="validatePMBS(AddForm.itemn003,AddForm.dummy3);">
    <input type=text size=20 name=dummy3 value="" readonly class=Readonly>
    <img src=../images/SearchIcon.gif class=Icon
    onclick='PriMbsSearchFrame(AddForm.dummyret,AddForm.itemn003,
             AddForm.dummysit,AddForm.dummyret,
             AddForm.dummy3,AddForm.mbs);'>
    <img src="../images/ClearIcon.gif" class=Icon
     onclick="clrFields(AddForm.itemn003,AddForm.dummy3);">
    </td>
    <td class=DataLabel>MBS Item 4</td>
    <td class=DataField>
    <input type=text size=10 name=itemn004 title="MBS Item 4"
     onblur="validatePMBS(AddForm.itemn004,AddForm.dummy4);">
    <input type=text size=20 name=dummy4 value="" readonly class=Readonly>
    <img src=../images/SearchIcon.gif class=Icon
    onclick='PriMbsSearchFrame(AddForm.dummyret,AddForm.itemn004,
             AddForm.dummysit,AddForm.dummyret,
             AddForm.dummy4,AddForm.mbs);'>
    <img src="../images/ClearIcon.gif" class=Icon
     onclick="clrFields(AddForm.itemn004,AddForm.dummy4);">
    </td></tr>

<tr><td class=DataLabel>MBS Item 5</td>
    <td class=DataField>
    <input type=text size=10 name=itemn005 title="MBS Item 5"
     onblur="validatePMBS(AddForm.itemn005,AddForm.dummy5);">
    <input type=text size=20 name=dummy5 value="" readonly class=Readonly>
    <img src=../images/SearchIcon.gif class=Icon
    onclick='PriMbsSearchFrame(AddForm.dummyret,AddForm.itemn005,
             AddForm.dummysit,AddForm.dummyret,
             AddForm.dummy5,AddForm.mbs);'>
    <img src="../images/ClearIcon.gif" class=Icon
     onclick="clrFields(AddForm.itemn005,AddForm.dummy5);">
    </td>
    <td class=DataLabel>MBS Item 6</td>
    <td class=DataField>
    <input type=text size=10 name=itemn006 title="MBS Item 6"
     onblur="validatePMBS(AddForm.itemn006,AddForm.dummy6);">
    <input type=text size=20 name=dummy6 value="" readonly class=Readonly>
    <img src=../images/SearchIcon.gif class=Icon
    onclick='PriMbsSearchFrame(AddForm.dummyret,AddForm.itemn006,
             AddForm.dummysit,AddForm.dummyret,
             AddForm.dummy6,AddForm.mbs)'>
    <img src="../images/ClearIcon.gif" class=Icon
     onclick="clrFields(AddForm.itemn006,AddForm.dummy6);">
    </td></tr>
</table>
</span>

<span id="PatientIndicatorSPAN1" style="display:none;">
<table align=center cellspacing=0 cellpadding=1 border=0 width=98%>
  <tr>
    <td>
      <input type=hidden name=alenc009 value="">
    </td>
  </tr>
</table>
</span>

<span id="PatientIndicatorSPAN2" style="display:none;">
<table align=center cellspacing=0 cellpadding=1 border=0 width=98%>
  <tr><td class=DataLabel width=15%>Patient Indicator</td>
    <td><select class="Mandatory SelectBig" name=alenc009
         title="Patient Indicator" onchange="ShowHideBUnits();">
         <option></option>
         %ALLWEB03.13.109.2
         </select></td></tr>
</table>
</span>

<span id="BillableUnitsSPAN1" style="display:none;">
<table align=center cellspacing=0 cellpadding=1 border=0 width=95%>
  <tr>
    <td>
      <input type=hidden name=alenc012 value="0">
      <input type=hidden name=alenc014 value="0">
    </td>
  </tr>
</table>
</span>

<span id="BillableUnitsSPAN2" style="display:none;">
<table align=center cellspacing=0 cellpadding=1 border=0 width=95%>
<tr><td class=DataLabel width=15%>Direct Billable Units</td>
    <td class=DataField width=40%>
    <input type=text size=12 name=alenc012 title="Direct Billable Units" min=0
     onblur=checkInteger(this,this.title) ></td>
    <td class=DataLabel width=15%>Indirect Billable Units</td>
    <td class=DataField>
    <input type=text size=12 title="Indirect Billable Units" min=0
    onblur=checkInteger(this,this.title) name=alenc014>
    </td></tr>
</table>
</span>

<script type="text/javascript">
 displayClinicType();
 if(document.AddForm.alenc003!=undefined) {
   for (var i =0 ; i < document.AddForm.alenc003.length; i++) {
      if (document.AddForm.alenc003.options[i].value ==
          document.AddForm.lnkoctyp.value) {
         document.AddForm.alenc003.selectedIndex=i }
   }
 }
 DefaultPreviousContactCombined();
  document.AddForm.lvis.value=document.AddForm.bulkenck.value.substr(8,16);

if(%ALLWEB03.13.400.12==1){
  document.getElementById("HCPcheckbox").style.display="block";
}



//BHS Customisation - TSK 0901084
function setRMPtBeingDischargedText(){
  document.getElementById("txtRef").innerHTML=RMPtBeingDischargedText;
}

</script>
