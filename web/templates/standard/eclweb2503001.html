<meta name="TemplateVersion" content="V12.00.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript" src="../js/TableSort.js"> </script>
<style type="text/css">
  span.ProgressBar {
    color:black;
    background-image:url(../images/ProgressBar.gif);
    height:10px;
    width:200px;
    text-align:center;
  }
input.orangebutton {
      font-size:8pt; width:90px; background-color:orange; border:1px solid;
      cursor: pointer;
}
</style>
<script type="text/javascript">
function SelectPeriodOS() {
  ProgressBar.innerHTML="ERA being processed...";
  ProgressBar.className="ProgressBar";
}
function FilterSubmit() {
   document.SelectPeriod.submit();
}
function exdtblankchange () {
  document.SelectPeriod.exdtblnk.value=0;
  if (document.SelectPeriod.lastdate!=undefined) {
    if (isWhitespace(document.SelectPeriod.lastdate.value)) {
      document.SelectPeriod.exdtblnk.value=1;
    }
  }
  if (document.SelectPeriod.vyearmth!=undefined) {
    if (isWhitespace(document.SelectPeriod.vyearmth.value)) {
      document.SelectPeriod.exdtblnk.value=1;
    }
  }
}
function releaseRem(fundtrid,remadv,partnum,hospcode,paymref,depamt,button,depoamt,claimamt) {

if (depoamt.replace(/\+/g,'0') > claimamt.replace(/\+/g,'0')){
  alert("Benefit amount is more than Claim amount.");
}
//alert(depoamt+" "+claimamt);
//alert(fundtrid+"|"+remadv+"|"+partnum+"|"+hospcode+"|"+paymref+"|"+depamt);
    paymref=paymref.replace(/\+/g,' ');
//alert();
//    if (!confirm("Payment Reference: "+paymref+"\nOk to release selected ERA?"))
//    {
//      return;
//    }
    button.disabled=true;
    button.value="Processing...";
    button.className="orangebutton";
    document.SelectPeriod.updatety.value="L";
    document.SelectPeriod.fundtrid.value=fundtrid;
    document.SelectPeriod.remitadv.value=remadv;
    document.SelectPeriod.partnumb.value=partnum;
    document.SelectPeriod.hospcode.value=hospcode;
    loopAndDisableButtons();
    //alert(partcode+" "+remadv+" "+partnum);
    //subPartCode()
  DFrameStart()

  linkurl="../cgi-bin/eclweb25.pbl?reportno=03&template=006"+
          "&fundtrid="+fundtrid+
          "&ecreadvc="+remadv+
          "&ecreptno="+partnum+
          "&hospcode="+hospcode+
          "&updatety=R";
  Left=(document.body.clientWidth-600)/2
  DFrameLink(linkurl,100,Left,600,150)
}
function subPartCode() {
  SetCookie("UnreleasedRemittanceCookie",location.href);
  SelectPeriodOS();
  document.SelectPeriod.submit();
}
function displayRemH(eradate,fundtrid,remadv,partnum,hospcode,templno) {
//  alert(fundtrid+"|"+remadv+"|"+partnum);
  DFrameStart()

  linkurl="../cgi-bin/eclweb25.pbl?reportno=03&template="+templno+
          "&fundtrid="+fundtrid+
          "&ecreadvc="+remadv+
          "&ecreptno="+partnum+
          "&hospcode="+hospcode+
          "&updatety=R";
  Left=(document.body.clientWidth-900)/2
  DFrameLink(linkurl,100,Left,900,500)
}
function displayJSON(tranid) {
  DFrameStart()
  linkurl="../cgi-bin/eclweb25.pbl?reportno=02&template=001"+
          "&ecclstrd="+tranid;
//  alert(linkurl);
  Left=(document.body.clientWidth-1300)/2
  DFrameLink(linkurl,0,Left,1300,700)
}
//----------------------------------------------------------------------------
// Create New Table Object
// Border, Cellspacing, Cellpadding, Width, Align, Heading Height, Row Height
//----------------------------------------------------------------------------
// Add Columns in Order Required
// Heading,Type,Display Column,Sort Column, Align, Icon, Link Column
// Columns Available
//---------------------------------------------------------------------------
function InitTable(TableView) {
switch (TableView) {
case 0: {
 t = new Table(1,0,2,"100%","center",35,55);
 t.addColumn("Health&nbsp;Fund<br>Run&nbsp;Date","String",0,0,"left","","",75)
 t.addColumn("Part","String",1,1,"left","","",50)
 t.addColumn("Status","String",2,2,"left","","",50)
 t.addColumn("Deposit<br>Amount","String",3,3,"left","","",50)
 t.addColumn("Claim<br>Amount","String",4,4,"left","","",50)
 t.addColumn("Payment<br>Reference","String",5,5,"left","","",150)
 t.addColumn("Hospital","String",10,10,"left","","",50)
 t.addColumn("ERAW Details","String",11,11,"left","","",20)
 AddTableRows()
 TableOutput(0,1);    // Order Column,Asc Dsc
 break; 
  }
 }
}
function loopAndDisableButtons() {
  if (findOrangeButton()) {
    var elem = document.getElementById('SelectPeriod').elements;
    for (var i=0; i < elem.length; i++) {
      if (elem[i].type=='button') {
        if (elem[i].value=='Release') {
          elem[i].disabled=true;
        }
      }
    }
  }
}
function loopAndDisableButtonsRefresh() {
  if (findOrangeButton()) {
    var elem = document.getElementById('SelectPeriod').elements;
    for (var i=0; i < elem.length; i++) {
      if (elem[i].type=='button') {
        if (elem[i].value=='Release') {
          elem[i].disabled=true;
        }
      }
    }
    setTimeout("StdPageRefresh();",10000);
  }
}
function findOrangeButton() {
  var elem = document.getElementById('SelectPeriod').elements;
  for (var i=0; i < elem.length; i++) {
    if (elem[i].className=='orangebutton') {
      return 1;
    }
  }
  return 0;
}
function getURRC() {
  if (GetCookieData("UnreleasedRemittanceCookie") != "unknown") {
    document.SelectPeriod.unrlrmck.value=
    GetCookieData("UnreleasedRemittanceCookie");
    ExpireCookiePath("UnreleasedRemittanceCookie");
    location.href=document.SelectPeriod.unrlrmck.value
  }
}
function showHospital() {
  if(document.SelectPeriod.ibcnmhos.value=="1") {
    document.getElementById('Hospital').innerHTML=
    document.getElementById('ShowHospital').innerHTML
  } else {
    document.getElementById('Hospital').innerHTML=
    document.getElementById('ShowNoHospital').innerHTML
  }
}
function unlockToPartial(wbeihosp,wbeiftid,wbeiradv,wbeipnum) {

    var serverURL   = "../cgi-bin/comweb81.pbl?reportno=54" +
         "&valdcode=" + wbeihosp.replace(/ /g,"+") +
                        wbeiftid.replace(/ /g,"+") +
                        wbeiradv.replace(/ /g,"+") +
                        wbeipnum.replace(/ /g,"+");
    var returnValue = RSExecute(serverURL);
    if (returnValue.status==0) {
      if (returnValue.return_value=="1") {
        location.href=location.href;
      }
    }

}
</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);InitTable(0);loopAndDisableButtonsRefresh();
             getURRC();showHospital();">
<div id=HeadingSection style="display: none;">
</div>
<form id=SelectPeriod name=SelectPeriod action=eclweb25.pbl method=get style="margin:0">
  <input type=hidden id=reportno name=reportno value=03>
  <input type=hidden id=template name=template value=1>
  <input type=hidden id=updatety name=updatety value=" ">
  <input type=hidden id=nextpage name=nextpage value="5">
  <input type=hidden id=redirect name=redirect value="eclweb25.pbl?reportno=03&template=1">
  <input type=hidden id=fundtrid name=fundtrid value=" ">
  <input type=hidden id=remitadv name=remitadv value=" ">
  <input type=hidden id=partnumb name=partnumb value=" ">
  <input type=hidden id=hospcode name=hospcode value=" ">
  <input type=hidden id=exdtblnk name=exdtblnk value="%ECLWEB25.03.034">
  <input type=hidden id=viewtype name=viewtype value="%ECLWEB25.03.033">
  <input type=hidden id=selprint name=selprint value=" ">
  <input type=hidden id=multlt01 name=multlt01 value=" ">
  <input type=hidden id=unrlrmck name=unrlrmck value=" ">
  <input type=hidden id=ibcnmhos name=ibcnmhos value="%STANDARD.01.025.000.043.1.1">
  <input type=hidden id=deftallh name=deftallh value="1">

<table cellpading=0 cellspacing=0 bgcolor=#CCCCCC border=0 width=100%>

<tr><td align=left >
    <span id=ProgressBar></span>
    </td>
    <td class=DataLabel align=left><div id="Hospital"></div></td>
    <td align=right>Health Fund Run Date
    <input type=button value="<<" class=SmallButton
     onClick='location.href="%ECLWEB25.03.031"'>
    %ECLWEB25.03.030
    <input type=button value=">>" class=SmallButton
     onClick='location.href="%ECLWEB25.03.032"'>
    <a href='javascript:document.SelectPeriod.exdtblnk.value=0;SelectDateFrame();'>
    <img src="../images/DateLookup.gif" border=0
     alt="Select Date" align=absmiddle></a>
    <a href='javascript:document.SelectPeriod.exdtblnk.value=0;SelectView("0");'>
    <img src=../images/DayIcon.gif border=0
     alt="View Today" align=absmiddle></a>
    <a href='javascript:document.SelectPeriod.exdtblnk.value=0;SelectView("1");'>
    <img src=../images/WeekIcon.gif border=0
     alt="View This Week" align=absmiddle></a>
    <a href='javascript:document.SelectPeriod.exdtblnk.value=0;SelectView("2");'>
    <img src=../images/MonthIcon.gif border=0
     alt="View This Month" align=absmiddle></a>
    </td>
</tr>

</table>

</form>

<div id=TableLocation></div>

<span id=ShowHospital style="display:none">
  Hospital&nbsp;
  <select id=filthosp name=filthosp title="Hospital"
   onchange="FilterSubmit();">
   <option value="   ">All</option>
   %ECLWEB25.03.035
  </select>
</span>

<span id=ShowNoHospital style="display:none">
  <input type=hidden id=filthosp name=filthosp value="    ">
</span>

<script type="text/javascript">
function AddTableRows() {
%ECLWEB25.03.001.0.0.0
%ECLWEB25.03.001.0.0.1
%ECLWEB25.03.001.0.0.3
}
</script>

<script type="text/javascript">
</script>
