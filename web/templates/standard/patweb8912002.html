<meta name="TemplateVersion" content="V12.00.00">
<meta name="TemplateHome" content="standard">
<meta name="CrossBrowser" content="true">
<meta name="HelpFileName"    content="NoContextSet.html">
<link rel="stylesheet" href="../html/postcode.css" type="text/css">
<script type="text/javascript" src=../js/AutoPostCode.js>  </script>
<script type="text/javascript" src=../js/patweb8912.js>  </script>
<!-- Overseas Student -->

<script type="text/javascript">

function SubmitDetails() {
  if(document.UpdateForm.d_ffaddr.checked==true) {
   document.UpdateForm.pmres034.value=document.UpdateForm.d_pmres034.value;
   document.UpdateForm.pmres035.value=document.UpdateForm.d_pmres035.value;
   document.UpdateForm.pmres036.value=document.UpdateForm.d_pmres036.value;
   document.UpdateForm.pmres037.value=document.UpdateForm.d_pmres037.value;
   document.UpdateForm.pmres038.value=document.UpdateForm.d_pmres038.value;
   document.UpdateForm.pmres039.value=document.UpdateForm.d_pmres039.value;
   document.UpdateForm.pmres040.value=document.UpdateForm.d_pmres040.value;
  } else {
   document.UpdateForm.pmres033.value="";
   document.UpdateForm.pmres034.value="";
   document.UpdateForm.pmres035.value="";
   document.UpdateForm.pmres036.value="";
   document.UpdateForm.pmres037.value="";
   document.UpdateForm.pmres038.value="";
   document.UpdateForm.pmres039.value="";
   document.UpdateForm.pmres040.value="";
  }

  if(((isWhitespace(document.UpdateForm.pmres015.value))) &&
     ((isWhitespace(document.UpdateForm.pmres034.value))))
   {
    alert('Name of School or Other School Address Line 1 must be entered');
    return;
   }

  UpdateForm.updatety.value="1";
  SubmitHidden(UpdateForm);
}

function DisplayIns() {
  if(!isWhitespace(document.UpdateForm.pmres011.value)) {
    GetIns(document.UpdateForm.pmres011,
           document.UpdateForm.insadd1,
           document.UpdateForm.insadd2,
           document.UpdateForm.insadd3,
           document.UpdateForm.insadd4,
           document.UpdateForm.inspcode,
           document.UpdateForm.inscname,
           document.UpdateForm.insctelp,
           document.UpdateForm.inscfaxn);
   } else {
     ClearIns();
   }
}

function GetOrg(ReturnCode,ReturnAdd1,ReturnAdd2,ReturnAdd3,
                ReturnAdd4,ReturnPost,ReturnCNam,ReturnCPhn)
{
  if (isWhitespace(ReturnCode.value)) {
    ChkSchool();
    ReturnAdd1.value="";
    ReturnAdd2.value="";
    ReturnAdd3.value="";
    ReturnAdd4.value="";
    ReturnPost.value="";
    ReturnCNam.value="";
    ReturnCPhn.value="";
    return;;
  }

  var serverURL = "../cgi-bin/mehweb01.pbl?reportno=15" +
        "&valdcode=" + ReturnCode.value.replace(/ /g,"+") +
        "&valdtype=2"

  var returnValue = RSExecute(serverURL);
  if (returnValue.status==0) {
    ReturnValue=returnValue.return_value.split("|");
    ReturnAdd1.value=ReturnValue[1];
    ReturnAdd2.value=ReturnValue[2];
    ReturnAdd3.value=ReturnValue[3];
    ReturnAdd4.value=ReturnValue[4];
    ReturnPost.value=ReturnValue[5];
    ReturnCNam.value=ReturnValue[6];
    ReturnCPhn.value=ReturnValue[7];
    ChkSchool();
  }
}

</script>
%START.OF.PAGE
<body onLoad="PageLoad(event);DisplayIns();DispReciprocal();ChkSchool();">

<div id=PageHeadingSection>
<div id=PatientHeading></div>
<script type="text/javascript">
PatientURN="%PATWEB89.12.003";
PatientVIS="%PATWEB89.12.081";
PatientNAM="%PATWEB89.12.002";
PatientSTA="%PATWEB89.12.086.078";
PatientALT="%PATWEB89.12.084";
PatientSEX="%PATWEB89.12.019";
PatientDOB="%PATWEB89.12.020";
PatientAGE="%PATWEB89.12.021";
PatientLOC="%PATWEB89.12.083";
PatientPRI="%PATWEB89.12.086.066.1";
PatientUNT="%PATWEB89.12.066.0";
DoctorCOD="%PATWEB89.12.082.003";
DoctorNAM="%PATWEB89.12.082.002";
PatientAID="%PATWEB89.12.086.090";
PatientIND="%PATWEB89.12.086.091";
PatientCUR="%PATWEB89.12.086.092";
PatientCLC="%PATWEB89.12.086.093.1";
PatientCLH="%STANDARD.01.017.CL";
PatientHFT="%PATWEB89.12.086.094";
PatientCDM="%PATWEB89.12.086.095";
PatientVDH="%PATWEB89.12.086.099.015";
InsertPatientHeader()
</script>
<div id=PatientMenu></div>
</div>
<div id=PageBodySection>
<form name=UpdateForm action="patweb89.pbl" method=get style="margin:0">
  <input type=hidden name=reportno value="12">
  <input type=hidden name=template value="002">
  <input type=hidden name=urnumber value="%PATWEB89.12.003">
  <input type=hidden name=admissno value="%PATWEB89.12.081">
  <input type=hidden name=updatety value=" ">
  <input type=hidden name=redirect value="%PATWEB89.12.001.patweb98.01.001">
  <input type=hidden name=nextpage value=2>
  <input type=hidden name=schdcopy value="1">
  <input type=hidden name=pmres034 value="%PATWEB89.12.234">
  <input type=hidden name=pmres035 value="%PATWEB89.12.235">
  <input type=hidden name=pmres036 value="%PATWEB89.12.236">
  <input type=hidden name=pmres037 value="%PATWEB89.12.237">
  <input type=hidden name=pmres038 value="%PATWEB89.12.238">
  <input type=hidden name=pmres039 value="%PATWEB89.12.239">
  <input type=hidden name=pmres040 value="%PATWEB89.12.240">
  <input type=hidden name=dummy value="">

<table border=0 width=100% cellspacing=0 cellpadding=0>
<tr><td class=HeadingCell align=center>
    PMI Overseas Student Details</td></tr>
<tr><td>
</table>

<table cellspacing=0 cellpadding=1 border=0 align=center width=100%>

<tr><td class=DataLabel>Name of School</td>
    <td><select name="pmres015" title="Name of School" tabindex=1
         onchange="DispFFAddr();
         GetOrg(UpdateForm.pmres015,orgadd1,orgadd2,orgadd3,orgadd4,orgpcode,orgcname,orgcphone);">
        <option> </option>
         %PATWEB89.12.215.1
        </select></td>
    <td class=DataLabel>Other School</td>
    <td><input type=checkbox name=d_ffaddr tabindex=20
     title="Other School" onclick="DispFFAddr();ClearSchool();">
       <input type="text" size="30" maxlength="30" name=pmres033 tabindex=22
        value="%PATWEB89.12.233" class=Mandatory title="Name of School">
    </td>
</tr>

<tr><td>Student Number</td>
    <td><input type="text" size="25" maxlength="20" name=pmres014 tabindex=2
        value="%PATWEB89.12.214" title="Student Number"></td>
    <td>School Address</div></td>
    <td><div id=FSchoolAdd1></div></td>
</tr>

<tr><td>Local Address</td>
    <td><input type="text" size="40" maxlength="35" name=pmcex007 tabindex=3
        class=Mandatory value="%PATWEB89.12.107" title="Local Address line 1"
        onChange="UpCase(this);"></td>
    <td>&nbsp;</td>
    <td><div id=FSchoolAdd2></div></td>
</tr>

<tr><td>&nbsp;</td>
    <td><input type="text" size="40" maxlength="35" name=pmcex008 tabindex=4
        value="%PATWEB89.12.108" title="Address line 2"
        onChange="UpCase(this);"></td>
    <td>Suburb</td>
    <td><div id=FSchoolAdd3></div></td>
</tr>

<tr><td>Suburb</td>
    <td><input type="text" size="40" maxlength="35" name=pmcex009 tabindex=5
        class=Mandatory value="%PATWEB89.12.109" title="Suburb" 
        onchange="valPostCode();"></td>
    <td>&nbsp;</td>
    <td><div id=FSchoolAdd4></div></td>
</tr>

<tr>
    <td>&nbsp;</td>
    <td><input type="text" size="40" maxlength="35" name=pmcex010 tabindex=6
        value="%PATWEB89.12.110" title="Address line 4"
        onChange="UpCase(this);"></td>
    <td>Post Code</td>
    <td><div id=FSchoolPCode></div></td>
</tr>

<tr><td>Post Code</td>
    <td><input type=text size=4 maxlength=4 value="%PATWEB89.12.111"
        class=Mandatory name=pmcex011 title="Post Code" tabindex=7
        onchange="LocalSuburb(pmcex011.value);">
    <td>School Contact Name</td>
    <td><div id=FSchoolCName></div></td>
</tr>

<tr><td>Overseas Address</td>
    <td><input type="text" readonly class=ReadOnly name=oseaadd1 size=35
        title="Overseas Address 1" value="%PATWEB89.12.012"></td>
    <td>School Phone</div></td>
    <td><div id=FSchoolCPhone></div></td>
</tr>

<tr><td class=DataLabel>&nbsp;</td>
    <td><input type=text readonly class=ReadOnly name=oseaadd2 size=35
         title="Address Line 2" value="%PATWEB89.12.013"></td>
    <td class=DataLabel>Insurance Fund</td>
    <td><select name="pmres011" title="Insurance Fund" tabindex=29
         class=Mandatory onchange="DisplayIns();">
        <option> </option>
         %PATWEB89.12.402.0
        </select></td>
</tr>

<tr><td class=DataLabel>&nbsp;</td>
    <td><input type=text readonly class=ReadOnly name=oseaadd3 size=35
        title="Suburb" value="%PATWEB89.12.014"></td>
    <td>Insurance Address</td>
    <td><input type="text" size="35" maxlength="35" name=insadd1
        class=ReadOnly readonly title="Insurance Address"></td>
</tr>

<tr><td class=DataLabel>Country</td>
    <td><input type=text readonly class=ReadOnly name=oseaadd4 size=35
       title="Address Line 4" value="%PATWEB89.12.015"></td>
    <td>&nbsp;</td>
    <td><input type="text" size="35" maxlength="35" name=insadd2
        class=ReadOnly readonly title="Insurance Address"></td>
</tr>

<tr><td class=DataLabel>Post code</td>
    <td><input type=text readonly class=ReadOnly name=oseaadd5 size=8
       title="Postcode" value="%PATWEB89.12.016"></td>
    <td>Suburb</td>
    <td><input type="text" size="35" maxlength="35" name=insadd3
        class=ReadOnly readonly title="Insurance Address"></td>
</tr>

<tr><td class=DataLabel>Passport Number</td>
    <td><input type="text" size="25" maxlength="20" name=pmres008 tabindex=8
        value="%PATWEB89.12.208" title="Passport Number"></td>
    <td>&nbsp;</td>
    <td><input type="text" size="35" maxlength="35" name=insadd4
        class=ReadOnly readonly title="Insurance Address"></td>
</tr>

<tr><td class=DataLabel>Passport Country</td>
    <td><select name="pmres010" title="Passport Country" tabindex=9
         onchange="DispReciprocal();">
        <option> </option>
         %PATWEB89.12.210.2
        </select>
        <div id=reciphd></div>
        </td>
    <td>Post Code</td>
    <td><input type="text" size="8" maxlength="8" name=inspcode
        class=ReadOnly readonly title="Insurance Postcode"></td>
</tr>

<tr><td class=DataLabel>Visa Expiry Date</td>
    <td><input type=text size=12 name=pmres006 id=pmres006 tabindex=10 
        value="%PATWEB89.12.206" class="Date" title="Date">
        <img notab src=../images/DateLookup.gif border=0 hspace=4
        align=absmiddle 
        onclick="DateLookupFrame(pmres006);">
        </td>
    <td class=DataLabel>Contact Name</td>
    <td><input type="text" size="50" maxlength="50" name=inscname
        class=ReadOnly readonly title="Insurance Contact Name"></td>
</tr>

<tr><td class=DataLabel>Comments</td>
    <td><input type="text" size="55" maxlength="50" name=pmres026 tabindex=11
        value="%PATWEB89.12.226" title="Comments"></td>
    <td class=DataLabel>Contact Phone</td>
    <td><input type="text" size="20" maxlength="20" name=insctelp
        class=ReadOnly readonly title="Insurance Contact Phone"></td>
</tr>

<tr><td>&nbsp;</td>
    <td><input type="text" size="55" maxlength="50" name=pmres027 tabindex=12
        value="%PATWEB89.12.227" title="Comments"></td>
    <td class=DataLabel>Fax Number</td>
    <td><input type="text" size="20" maxlength="20" name=inscfaxn
        class=ReadOnly readonly title="Insurance Contact Fax No"></td>
</tr>

<tr><td>&nbsp;</td>
    <td><input type="text" size="55" maxlength="50" name=pmres028 tabindex=13
        value="%PATWEB89.12.228" title="Comments"></td>
    <td class=DataLabel>Insurance Fund Membership Number</td>
    <td><input type="text" size="25" maxlength="20" name=pmres012 tabindex=30
        class=Mandatory value="%PATWEB89.12.212" 
        title="Insurance Fund Membership Number"></td>
</tr>

<tr><td>&nbsp;</td>
    <td>&nbsp;</td>
    <td class=DataLabel>Insurance Expiry Date</td>
    <td><input type=text size=12 name=pmres013 id=pmres013 tabindex=31
        value="%PATWEB89.12.213" class="Date" title="Date">
        <img notab src=../images/DateLookup.gif border=0 hspace=4
        align=absmiddle onclick="DateLookupFrame(pmres013);">
        </td>
</tr>
</table>

<table cellspacing=0 cellpadding=1 border=0 align=center width=100%>
<tr><td align=center colspan=4>
    <input type=button value="Update" class="button" id="pat89sub"
         onclick="tempDisable(this);SubmitDetails();">
        <input type=button class="button"  value="Cancel" 
         onclick='PatientLinkTo("patweb98.pbl",1,1,0,0,0);'>
        </td>
    </tr>
</table>

</form>

<div id=SelectHeading></div>
<div id=SelectLocation></div>

<form name=PatientLinks method=get>
<input type=hidden name=reportno value=1>
<input type=hidden name=template value=004>
<input type=hidden name=urnumber value="%PATWEB89.12.003">
<input type=hidden name=admissno value="%PATWEB89.12.081">
<input type=hidden name=MenuType value="%PATWEB89.12.088">
</form>

<span id=FFAdd1 style="display:none">
       <input type="text" size="35" maxlength="35" name=d_pmres034 tabindex=23
        class=Mandatory value="%PATWEB89.12.217" title="Free format Address">
</span>

<span id=FFAdd2 style="display:none">
      <input type="text" size="35" maxlength="35" name=d_pmres035 tabindex=24
      value="%PATWEB89.12.218" title="Free format Address">
</span>

<span id=FFAdd3 style="display:none">
      <input type="text" size="35" maxlength="35" name=d_pmres036 tabindex=25
      value="%PATWEB89.12.219" title="Free format Address"
      onblur="valSchoolPostCode();">
</span>

<span id=FFAdd4 style="display:none">
      <input type="text" size="35" maxlength="35" name=d_pmres037 tabindex=26
      value="%PATWEB89.12.220" title="Free format Address">
</span>

<span id=FFPCode style="display:none">
      <input type="text" size="8" maxlength="8" name=d_pmres038 tabindex=27
      value="%PATWEB89.12.221" title="Free format Address" 
      onchange="LookupSuburb(d_pmres038.value)">
</span>

<span id=FFCName style="display:none">
      <input type="text" size="50" maxlength="50" name=d_pmres039 tabindex=28
      title="Free format School Contact">
</span>

<span id=FFCPhone style="display:none">
      <input type="text" size="20" maxlength="20" name=d_pmres040 tabindex=29
      title="Free format school phone">
</span>

<span id=SAdd1 style="display:none">
      <input type="text" size="35" maxlength="35" name=orgadd1 id=orgadd1
      class=ReadOnly readonly title="School Address line 1">
</span>

<span id=SAdd2 style="display:none">
      <input type="text" size="35" maxlength="35" name=orgadd2 id=orgadd2
      class=ReadOnly readonly title="School Address line 2">
</span>

<span id=SAdd3 style="display:none">
      <input type="text" size="35" maxlength="35" name=orgadd3 id=orgadd3
      class=ReadOnly readonly title="School Suburb">
</span>

<span id=SAdd4 style="display:none">
      <input type="text" size="35" maxlength="35" name=orgadd4 id=orgadd4
      class=ReadOnly readonly title="School Address line 4">
</span>

<span id=SPCode style="display:none">
      <input type="text" size="30" maxlength="30" name=orgpcode id=orgpcode
      class=ReadOnly readonly title="School Postcode">
</span>

<span id=SCName style="display:none">
      <input type="text" size="30" maxlength="30" name=orgcname id=orgcname
      class=ReadOnly readonly title="School Contact">
</span>

<span id=SCPhone style="display:none">
      <input type="text" size="20" maxlength="20" name=orgcphone id=orgcphone
      class=ReadOnly readonly title="School Phone">
</span>


<div name=recipfl id=recipfl style="display: none;" class="DisplayLocation">
<td class=DataLabel>Reciprocal</td>
</div>

<script LANGUAGE=javascript>

   resistat="%PATWEB89.12.024.3"
   if(resistat.substr(5,1) !="S") {
    alert("Patient is not an Overseas Student.");
    history.go(-1);
  }

 school="%PATWEB89.12.233";
 if(!isWhitespace(school)) {
   document.UpdateForm.d_ffaddr.checked=true;
   DispFFAddr();
   document.UpdateForm.d_pmres034.value=document.UpdateForm.pmres034.value;
   document.UpdateForm.d_pmres035.value=document.UpdateForm.pmres035.value;
   document.UpdateForm.d_pmres036.value=document.UpdateForm.pmres036.value;
   document.UpdateForm.d_pmres037.value=document.UpdateForm.pmres037.value;
   document.UpdateForm.d_pmres038.value=document.UpdateForm.pmres038.value;
   document.UpdateForm.d_pmres039.value=document.UpdateForm.pmres039.value;
   document.UpdateForm.d_pmres040.value=document.UpdateForm.pmres040.value;
 } else {
   document.UpdateForm.d_ffaddr.checked=false;
   GetOrg(UpdateForm.pmres015,orgadd1,orgadd2,orgadd3,orgadd4,orgpcode,orgcname,orgcphone);
   DispFFAddr();
 }

</script>
