<meta name="TemplateVersion" content="V12.00.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript" src="../js/TableSort.js"> </script>
<script type="text/javascript" src="../js/patweb92.js"> </script>
<script type="text/javascript">
function selectView(viewTypeValue) {
  document.SelectView.viewtype.value=viewTypeValue
  document.SelectView.submit();
}
function PatientAlerts(urnumber,admissno) {
  linkurl="patweb98.pbl?reportno=1&template=003" +
          "&urnumber=" + urnumber + "&admissno=" + admissno
  location.href=linkurl
}
function chngview(){
  document.SelectPeriod.template.value=document.SelectPeriod.booklist.value;
  window.document.SelectPeriod.deftflag.value="1";
  document.SelectPeriod.submit();
}
function DispMapping() {
  LinkUrl="patweb92.pbl?reportno=4&template=3"
  Left=(((document.body.clientWidth-400)/2)+ document.body.scrollLeft)
  DFrameLink(LinkUrl,0,Left,400,250)
}
function SMSOption() {
  if(document.SelectPeriod.ptcnsmsn.value=="1") {
     SelectPeriod.booklist.options[SelectPeriod.booklist.options.length]=
     new Option("Confirmation","14");
  }
}
function UpdatePreAssessment(admissno) {
  linkurl="patweb92.pbl?reportno=16&template=001&admissno=" + admissno
         + "&pacaflag=" + document.SelectPeriod.pacaflag.value.replace(/ /g,"+")
  Left=(document.body.clientWidth-700)/2
  DFrameLink(linkurl,100,Left,550,250)
}
function openDocument(urno,admno) {
  LinkUrl="cliweb08.pbl?reportno=1&template=048&urnumber="+urno+"&admissno="+admno;
  Left=(document.body.clientWidth-810)/2
  DFrameLink(LinkUrl,0,Left,1000,550)
}
</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);initTable();SMSOption();"
      onunload="SaveBokTypFiltCookie();">

<div id=HeadingSection>
<form name=SelectPeriod action=patweb92.pbl method=get style="margin:0">
<input type=hidden name=reportno value=6>
<input type=hidden name=template value=16>
<input type=hidden name=deftflag value=0>
<input type=hidden name=viewtype value="%PATWEB92.06.011">
<input type=hidden name=ptcnsmsn id=ptcnsmsn
 value="%STANDARD.01.025.120.243.0.1">
<input type=hidden name=bktypcol value="%PATWEB92.06.043">
<input type=hidden name=pacaflag value="%PATWEB92.06.046">

<table cellpadding=2 bgcolor=#CCCCCC border=0 width=100%>
  <tr><td class=DataLabel>View</td>
      <td><select name=booklist class=SelectBig
                  onchange="chngview();">
           <option value="8">Booking</option>
           <option value="3">Clinical</option>
           <option value="6">Eligibility</option>
           <option value="13">Nutrition</option>
           <option value="15">Pre-assessment</option>
           <option value="16" selected>W/L Pre-assessment</option>
          </select></td>
      <td class=DataLabel>Ward</td>
      <td><select name=wardcode class=SelectMed
                  onchange="submit();">
           <option value="  ">ALL</option>
            %PATWEB92.06.012.2
          </select></td>
      <td class=DataLabel align=center>Unit</td>
      <td><select name=unitcode class=SelectMed
                  onchange="submit();">
           <option value="  ">ALL</option>
            %PATWEB92.06.013.2
          </select></td>
      <td class=DataLabel>Intended Stay</td>
      <td><select name=filtstay class=SelectMed 
                  onchange="submit();">
          <option value="  ">All</option>
            %PATWEB92.06.040.2
          </select></td>
      <td class="DataLabel" align="right">Legend
          <img src="../images/Help16.gif" border="0" hspace=2 align=absmiddle
               onclick="DispMapping();" /></td>
  </tr>

  <tr><td class=DataLabel>Adm. Point</td>
      <td><select name=adpoints class=SelectMed
                  onchange="submit();">
           <option value="  ">ALL</option>
            %PATWEB92.06.014.2
          </select></td>
      <td class=DataLabel>Claim Type</td>
      <td><select name=claimtyp class=SelectMed
                  onchange="submit();">
           <option value="  ">ALL</option>
            %PATWEB92.06.037.2
          </select></td>
      <td class=DataLabel>%STANDARD.01.017.TP</td>
      <td><select name=wlcategy class=SelectMed
                  onchange="submit();">
           <option value="  ">ALL</option>
            %PATWEB92.06.047.2
          </select></td>
      <td><div id=divBokTypLbl></div></td>
      <td><div id=divBokTypFld style="padding-top:3px"></div>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td align=right>
          <input type=button value="<<" class=SmallButton
                 onclick='location.href="%PATWEB92.06.002"'>
          %PATWEB92.06.007
          <input type=button value=">>" class=SmallButton
                 onclick='location.href="%PATWEB92.06.001"'>
          <a href='javascript:SelectDateFrame();'>
             <img src="../images/DateLookup.gif" border=0 hspace=1 align=absmiddle
                  alt="Select Date"></a>
          <a href='javascript:SelectView("0");'>
             <img src=../images/DayIcon.gif border=0 hspace=1 align=absmiddle
                  alt="View Today"></a>
          <a href='javascript:SelectView("1");'>
             <img src=../images/WeekIcon.gif border=0 hspace=1 align=absmiddle
                  alt="View This Week"></a>
          <a href='javascript:SelectView("2");'>
             <img src=../images/MonthIcon.gif border=0 hspace=1 align=absmiddle
                  alt="View This Month"></a></td></tr>
 </table>
</form>
</div>

<div id="TableLocation"></div>

<span id=spBokTypLbl style="display:none">Booking Type</span>
<span id=spBokTypFld style="display:none">
  <select name=bktypfil id=bktypfil onchange="onFilterList(this,'79');">
    <option value="">ALL</option>
  </select>
</span>

<script type="text/javascript">
function initTable() {
 document.title="Patient Bookings for %PATWEB92.06.003 to %PATWEB92.06.004"
 t = new Table(1,0,1,"100%","center",40,60);    // Create New Table Object
 template = 2
// Add Columns in Order Required
// Heading,Type,Display Column,Sort Column,Align
 t.addColumn("Name","ImageText",0,0,"left","PatientFolder","12",180,31,"","",67,25)
 t.addColumn("Admission Date","DateTime",3,3,"center","","",80)
 t.addColumn("Admitting Doctor","String",7,7,"left","","",90)
 t.addColumn("Reason for Admission","String",23,23,"left","","",100)

 if (document.SelectPeriod.bktypcol.value == "1") {
   t.addColumn("Booking Type","String",79,79,"left","","",70)
   ShowHideBookTypeFilter(true);
 }
 else {
   ShowHideBookTypeFilter(false);
 }

 t.addColumn("Claim Type","String",33,33,"left","","",70)
 t.addColumn("Intended Stay","String",82,82,"left","","",70)
 t.addColumn("Expected LOS","String",94,94,"left","","",70)
 t.addColumn("WL Category","String",91,91,"left","","",70)
 t.addColumn("RFC Days","String",93,93,"left","","",70)
 t.addColumn("Overdue Date","Date",90,90,"left","","",70)
 t.addColumn("Hospital Initiated Postponement","String",92,92,"left","","",70)
 t.addColumn("Contact Details","String",89,89,"left","","",70)
// Add Rows to Table (Output from Web Server)
 %PATWEB92.06.028.patweb89.01.020.A
//
 OrderColumn=0;
 AscDsc=1;
 lastOrderColumn=OrderColumn;
 TableOutput(OrderColumn,AscDsc,template);

 if (document.SelectPeriod.bktypcol.value == "1") {
   ShowFilter('bktypfil',79);
   LoadBokTypFiltCookie();
 }
}
try{
   template = parent.document.cookie.split("fromtemplate=")[1];
   template = template.split(";")[0];
   document.SelectPeriod.booklist[0].value = template;
}
catch(e){}
</script>
