<meta name="TemplateVersion" content="V12.00.00">
<meta name="TemplateHome" content="standard">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript" src="../js/TableSort.js"> </script>
<script type="text/javascript" src="../js/oprweb0122.js"> </script>
<script type="text/javascript">
function InitTable(TableView) {
  document.title=""
  document.SelectPeriod.sortview.value=TableView;
  switch (parseInt(TableView)) {
    case 0: {
      t = new Table(1,0,1,"100%","center",40);    // Create New Table Object
//
// Add Columns in Order Required
// Heading,Type,Display Column,Sort Column,Align
//
      t.addColumn("Priority","String",1,1,"left","","",25)
      t.addColumn("Patient","String",2,2,"left","","",125)
      t.addColumn("Alerts","String",3,3,"left","","",50)
      t.addColumn("Operation/ Procedure","String",4,4,"left","","",75)
      t.addColumn("Consultant","String",5,5,"left","","",50)
      t.addColumn("Unit","String",6,6,"left","","",50)
      t.addColumn("Request Date/Time","DateTime",18,18,"left","","",75)
      t.addColumn("Wait","String",10,10,"left","","",50)
      t.addColumn("Location","String",11,11,"left","","",75)
      t.addColumn("&nbsp;","String",12,12,"center","","",50)
//
      AddTableRows()
      TableOutput(0,1)
      GetPriorityandBreachTimeZero();
      break; 
    }

    case 1: {
      t = new Table(1,0,1,"100%","center",40);    // Create New Table Object
//
// Add Columns in Order Required
// Heading,Type,Display Column,Sort Column,Align
//
      t.addColumn("Priority","String",1,1,"left","","",25)
      t.addColumn("Patient","String",2,2,"left","","",100)
      t.addColumn("Alerts","String",3,3,"left","","",50)
      t.addColumn("Operation/ Procedure","String",4,4,"left","","",50)
      t.addColumn("Surgeon","String",13,13,"left","","",50)
      t.addColumn("Anaesthetist","String",14,14,"left","","",50)
      t.addColumn("Unit","String",6,6,"left","","",50)
      t.addColumn("Theatre Session","DateTime",15,15,"left","","",50)
      t.addColumn("Theatre","String",16,16,"left","","",50)
      t.addColumn("Current Status","String",17,17,"left","","",50)
      t.addColumn("Ward/Bed","String",11,11,"left","","",50)
      t.addColumn("Wait","String",10,10,"left","","",50)
// 
      AddTableRows()
      TableOutput(0,1)
      GetPriorityandBreachTimeOne();
      break; 
    }
    case 2: {
      t = new Table(1,0,1,"100%","center",40);    // Create New Table Object
//
// Add Columns in Order Required
// Heading,Type,Display Column,Sort Column,Align
//
      t.addColumn("Priority","String",1,1,"left","","",25)
      t.addColumn("Patient","String",2,2,"left","","",100)
      t.addColumn("Operation/ Procedure","String",4,4,"left","","",50)
      t.addColumn("Consultant","String",5,5,"left","","",50)
      t.addColumn("Unit","String",6,6,"left","","",50)
      t.addColumn("Theatre Session","DateTime",15,15,"left","","",50)
      t.addColumn("Theatre","String",16,16,"left","","",50)
      t.addColumn("Request Date/Time","DateTime",18,18,"left","","",50)
      t.addColumn("Clock Start Date/Time","DateTime",7,7,"left","","",50)
      t.addColumn("Booking Date","Date",19,19,"left","","",50)
      t.addColumn("Theatre Arrival Date/Time","DateTime",20,20,"left","","",50)
      t.addColumn("Wait Time","String",21,21,"left","","",50)
//
      AddTableRows()
      TableOutput(0,1)
      GetPriorityandBreachTimeTwo();
      break;
    }
    case 3: {
      t = new Table(1,0,1,"100%","center",40);    // Create New Table Object
//
// Add Columns in Order Required
// Heading,Type,Display Column,Sort Column,Align
//
      t.addColumn("Priority","String",1,1,"left","","",25)
      t.addColumn("Patient","String",2,2,"left","","",125)
      t.addColumn("Alerts","String",3,3,"left","","",50)
      t.addColumn("Operation/ Procedure","String",4,4,"left","","",75)
      t.addColumn("Consultant","String",5,5,"left","","",50)
      t.addColumn("Unit","String",6,6,"left","","",50)
      t.addColumn("Request Date/Time","DateTime",18,18,"left","","",75)
      t.addColumn("Cancellation Reason","String",22,22,"left","","",50)
      t.addColumn("Cancellation Date/Time","DateTime",23,23,"left","","",75)
      t.addColumn("User who cancelled","String",24,24,"left","","",50)
//
      AddTableRows()
      TableOutput(0,1)
      GetPriorityandBreachTimeThree();
      break;
    }
  }
}
function addApprovedToStatus() {

  if (document.getElementById("opcnutra").value!="1") {return;} 

  var selectField = document.getElementById("filtstat");
  var option = document.createElement("option");

  option.text = "Approved";
  option.value = "A";

  selectField.add(option,2);
}
</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);InitTable(document.SelectPeriod.tablview.value);">
<div id=HeadingSection>
<form name=SelectPeriod action=oprweb01.pbl method=get style="margin:0">
<input type=hidden name=reportno value=22>
<input type=hidden name=template value=3>
<input type=hidden name=viewtype value="%OPRWEB01.22.172">
<input type=hidden name=d_filtstat value="%OPRWEB01.22.174">
<input type=hidden name=tablview value="%OPRWEB01.22.175">
<input type=hidden name=sortview value="">
<input type=hidden id="unsstdin" name=unsstdin value="">
<input type=hidden name=opcnutra id=opcnutra  value="%OPRWEB01.22.421">

<table cellpadding=3 bgcolor=#CCCCCC border=0 width=100%>
<tr><td>
   <a href=javascript:InitTable(0)>
   <img src=../images/TableViewIcon.gif class=Icon
    alt="Default View" ></a>
   <a href=javascript:InitTable(1)>
   <img src=../images/TableViewIcon.gif class=Icon
    alt="Show Scheduled" ></a>
   <a href=javascript:InitTable(2)>
   <img src=../images/TableViewIcon.gif class=Icon
    alt="Show Cancelled" ></a>
   <a href=javascript:InitTable(3)>
   <img src=../images/TableViewIcon.gif class=Icon
    alt="Show Completed" ></a>


   <input type=button value="<<" class=SmallButton
   onClick='location.href="%OPRWEB01.22.170"'>
   %OPRWEB01.22.169
   <input type=submit value="Go" class=SmallButton>
   <input type=button value=">>" class=SmallButton
   onClick='location.href="%OPRWEB01.22.171"'>

   &nbsp;&nbsp;&nbsp;

    Priority
   &nbsp;
    <select name=filtprio title="Priority" class="SelectBig"
     onchange='SelectPeriodSubmit();'>
    <option value=" ">All</option>
    %OPRWEB01.22.173.2
    </select>

   &nbsp;&nbsp;&nbsp;

    Status
   &nbsp;
    <select name=filtstat id=filtstat title="Status" class="SelectBig"
     onchange='ChangeViewandSelectPeriodSubmit(this.value);'>
    <option value=" ">All</option>
    <option value="0">Unscheduled</option>
    <option value="1">Scheduled</option>
    <option value="2">Cancelled</option>
    <option value="3">Completed</option>
    </select>

  </td>

  <td align=right>
  <a href='javascript:SelectDateFrame();'>
  <img src="../images/DateLookup.gif" 
   alt="Select Date" class=Icon></a>
  <a href='javascript:SelectView("0");'>
  <img src=../images/DayIcon.gif 
   alt="View Today" class=Icon></a>
  <a href='javascript:SelectView("1");'>
  <img src=../images/WeekIcon.gif 
   alt="View This Week" class=Icon></a>
  <a href='javascript:SelectView("2");'>
  <img src=../images/MonthIcon.gif 
   alt="View This Month" class=Icon></a>
</td></tr>
</table>
</form>
</div>
<div id="TableLocation" >
</div>

<script type="text/javascript">
function AddTableRows() {
%OPRWEB01.22.168
}

 addApprovedToStatus();

 for (var i=0; i < document.SelectPeriod.filtstat.length; i++) {
  if (document.SelectPeriod.filtstat.options[i].value==
      document.SelectPeriod.d_filtstat.value){
      document.SelectPeriod.filtstat.selectedIndex=i;
  }
 }

</script>

<form name=LinkForm method=post action=oprweb01.pbl>
<input type=hidden name=reportno value=22>
<input type=hidden name=template value=3>
<input type=hidden name=urnumber value="">
<input type=hidden name=sesskeys value="">
</form>

<form name=Registration method=get action="patweb89.pbl">
<input type=hidden name=reportno value=05>
<input type=hidden name=template value=001>
<input type=hidden name=srchsnam value="">
<input type=hidden name=srchgnam value="">
<input type=hidden name=srchpdob value="">
<input type=hidden name=srchpage value="">
<input type=hidden name=srchpsex value="">
<input type=hidden name=temporar value="0">
</form>

<form name=NewRegistration method=get action=patweb89.pbl>
<input type=hidden name=reportno value=05>
<input type=hidden name=template value=004>
<input type=hidden name=srchsnam value="">
<input type=hidden name=srchgnam value="">
<input type=hidden name=srchpdob value="">
<input type=hidden name=srchpage value="">
<input type=hidden name=srchpsex value="">
<input type=hidden name=temporar value="1">
</form>
