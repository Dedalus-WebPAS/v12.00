<meta name="TemplateVersion" content="V12.00.00">
<meta name="TemplateHome" content="hea-sa">
<meta name="HelpFileName"    content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<META HTTP-EQUIV="Refresh" content="200">
<script type="text/javascript" src="../js/EmergencyTopTable.js"> </script>
<script type="text/javascript">
function TriagePatient(urnumber,admissno,triageIcon) {
    if (triageIcon == "000") {
      top.content.location.href="emrweb02.pbl?reportno=1&template=011" + 
                     "&urnumber=" + urnumber + "&admissno=" + admissno;
    } else {
      alert("Patient Already Triaged");
    }
}
//
function SelectPatient(urnumber,admissno) { 
top.content.location.href="emrweb02.pbl?reportno=1&template=4&urnumber=" +
              urnumber.replace(/ /g,"+") + 
              "&admissno=" + admissno.replace(/ /g,"+");
}
function SelectPatient2(urnumber,admissno) { 
         location.href="emrweb02.pbl?reportno=1&template=100&urnumber=" +
              urnumber.replace(/ /g,"+") + 
              "&admissno=" + admissno.replace(/ /g,"+");
}
function OpenLocation(urnumber,admissno) { 
  linkURL="emrweb02.pbl?reportno=1&template=107&urnumber=" +
          urnumber + "&admissno=" + admissno;
  DFrameLink(linkURL,57,465,410,270);
}
</script>
</head>
%START.OF.PAGE
<body onload=PageLoad(event);initTable(%EMRWEB01.01.052);>
<div id=HeadingSection>
<table cellpadding=3 cellspacing=0 bgcolor=#CCCCCC border=0 width=100%>
<tr><td>
  <a href=javascript:initTable(0)>
  <img src=../images/TableViewIcon.gif class="Icon"
  alt="Show Times"></a>
  <a href=javascript:initTable(1)>
  <img src=../images/TableViewIcon.gif class="Icon"
  alt="Default View"></a>
</td></tr>
</table>
</div>
<div id=TableLocation >
</div>

<script type="text/javascript">
function initTable(TableView) {
 document.title="Current Patient List"
 obj = new Table(1,0,0,"100%","center");    // Create New Table Object
 immediate = 0
 emergency = 0
 urgent = 20
 semi = 50
 non = 110
 template = 2
//
// Add Columns in Order Required
// Heading,Type,Display Column,Sort Column,Align
//
switch (TableView) {
 case 0: {
  obj.addColumn("Tri","Image",5,5,"center","","",25)
  obj.addColumn("Patient","ImageText",39,39,"left","PatientFolder","4",170,37)
  obj.addColumn("Age","String",9,9,"right","","",29)
  obj.addColumn("Arr","Time",7,7,"center","","",30)
  obj.addColumn("Seen","String",64,64,"center","","",30)
  obj.addColumn("Doc","String",33,33,"left","","",30)
  obj.addColumn("Nur","String",14,14,"left","","",30)
  obj.addColumn("Presenting Complaint","String",34,34,"left","","",130)
  obj.addColumn("Loc","String",1,1,"left","LocationIcon.gif","2",41)
  obj.addColumn("Admitting Dr.","String",46,46,"left","","",70)
  obj.addColumn("Bed Status","String",43,43,"left","","",70)
  obj.addColumn("ED Ready to Discharge","DateTime",47,47,"left","","",70)
  obj.addColumn("%STANDARD.01.017.et","String",44,44,"left","","",70)
  break;
 }
 case 1: {
  obj.addColumn("Tri","Image",5,5,"center","","",25)
  obj.addColumn("Patient","ImageText",39,39,"left","PatientFolder","4",170,37)
  obj.addColumn("Age","String",9,9,"right","","",29)
  obj.addColumn("Sex","String",8,8,"center","","",24)
  obj.addColumn("Arr","Time",7,7,"center","","",30)
  obj.addColumn("Seen","Time",64,64,"center","","",30)
  obj.addColumn("Doc","String",33,33,"left","","",30)
  obj.addColumn("Nur","String",14,14,"left","","",30)
  obj.addColumn("Presenting Complaint","String",34,34,"left","","",130)
  obj.addColumn("Loc","String",1,1,"left","LocationIcon.gif","2",43)
  obj.addColumn("Exp. Ward","String",22,22,"left","","",35)
  obj.addColumn("Unit","String",32,32,"left","","",75)
  obj.addColumn("Time Since Arrival","String",31,31,"left","","",30)
  break;
 }
}

//
// Add Rows to Table (Output from Web Server)
//
%EMRWEB01.01.001
//
//
 OrderColumn=8;
 AscDsc=1;
 lastOrderColumn=OrderColumn;
 TableOutput(OrderColumn,AscDsc,immediate,emergency,urgent,semi,non,template);
}
</script>
