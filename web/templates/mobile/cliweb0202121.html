Content-Type: text/html
Cache-Control: no-cache

<!DOCTYPE HTML>
<head>
<!--"TemplateVersion"  : "V12.00.00"
    "TemplateHome"     : "mobile"-->
<title>Add Basic Observations</title>
<script type="text/javascript" src="../html/iphone/iphone.js"> </script>
<link   rel="stylesheet" href="../html/iphone/iphone.css" type="text/css">
<link rel="stylesheet" href="../html/iphone/spinningwheel.css" type="text/css" media="all" />
<script type="text/javascript" src="../html/iphone/spinningwheel.js"></script>
<script type="text/javascript">
function init() {
 FormInit()
 UpdateForm.redirect.value=parent.document.location.href;
 calculateBSA();
 calculateBMI();
}
function calculateBSA() {
 var weight = UpdateForm.pmsvx045;
 var height    = UpdateForm.pmsvx046;
 var bsaLabel = document.getElementById("bsavalue");
 var h = parseFloat(height.value);
 var w = parseFloat(weight.value);

 if(!isNaN(h) && !isNaN(w)){
   bsaLabel.value = Math.sqrt( (h * w) / 3600 ).toFixed(2);
 }
}

function calculateBMI() {
 var weight = UpdateForm.pmsvx045;
 var height    = UpdateForm.pmsvx046;
 var bmiLabel = document.getElementById("bmivalue");
 var h = parseFloat(height.value);
 var w = parseFloat(weight.value);

 if(!isNaN(h) && !isNaN(w)){
   bmiLabel.value =  Math.round( w / ( ( h / 100 )  * ( h / 100 ) )) ;
 }
}

function SubmitObs(thisForm) {
  thisForm.redirect.value=parent.document.location.href;
  if (validateMandatory(thisForm)) {
    if (thisForm.chckhigh.checked==true) {
      thisForm.obdet034.value=999;
    }
    thisForm.submit();
  }
}
</script>
<style type=text/css>
.subhead {
 font-weight:bold;
 font-size:15px;
 margin-top:0px;
 margin-bottom:0px;
 margin-left:15px;
}
.sectionText {
 position:absolute;
 right:8px;
 margin-top:-5px;
 margin-right:10px;
 vertical-align:top;
}
</style>
%START.OF.PAGE
<body onload="init();">
<form name=UpdateForm method=post action="cliweb02.pbl">
  <input type=hidden name=reportno value=2>
  <input type=hidden name=template value=111>
  <input type=hidden name=urnumber value="%CLIWEB02.02.003">
  <input type=hidden name=admissno value="%CLIWEB02.02.081">
  <input type=hidden name=nextpage value="3">
  <input type=hidden name=redirect value="">
  <input type=hidden name=updttype value="U">
  <input type=hidden name=obdet003 value="B" title="Observation Type">
  <input type=hidden name=obserkey value="%CLIWEB02.02.141">

<ul class=sectionList>
<li class=sectionItem onclick='javsscript:location.reload();'>
 date
<span class=sectionText>
 <input type=text name=obdet001 title="Observation Date" readonly
 value="%CLIWEB02.02.101" readonly size=12 class="Readonly Date">
</span></li>

<li class=sectionItem>
time
<span class=sectionText>
  <input type=text name=obdet002 title="Observation Time" readonly
  value="%CLIWEB02.02.102" size=9 class=Mandatory class=Time>
</span></li>

<li class=sectionItem>pulse
<span class=sectionText>
  <select name=obdet004 title="Pulse" style='width:75px;text-align:right'>
  <option></option>
  <option> 5</option><option>10</option>
  <option>15</option><option>20</option>
  <option>25</option><option>30</option>
  <option>35</option><option>40</option>
  <option>45</option><option>50</option>
  <option>55</option><option>60</option>
  <option>65</option><option>70</option>
  <option>75</option><option>80</option>
  <option>85</option><option>90</option>
  <option>95</option><option>100</option>
  <option>105</option><option>110</option>
  <option>115</option><option>120</option>
  <option>125</option><option>130</option>
  <option>135</option><option>140</option>
  <option>175</option><option>180</option>
  <option>185</option><option>190</option>
  <option>195</option><option>200</option>
  <option>205</option><option>210</option>
  <option>215</option><option>220</option>
  <option>225</option><option>230</option>
  <option>235</option><option>240</option>
  <option>245</option><option>250</option>
  <option>255</option><option>260</option>
  <option>265</option><option>270</option>
  <option>275</option><option>280</option>
  <option>285</option><option>290</option>
  <option>295</option><option>300</option>
  </select>
</span></li>

<li class=sectionItem>respiration
<span class=sectionText>
  <select name=obdet008 title="Respiration" style='width:75px;text-align:right'>
  <option></option>
  <option>2</option><option>3</option>
  <option>4</option><option>5</option>
  <option>6</option><option>7</option>
  <option>8</option><option>9</option>
  <option>10</option><option>11</option>
  <option>12</option><option>13</option>
  <option>14</option><option>15</option>
  <option>16</option><option>17</option>
  <option>18</option><option>19</option>
  <option>20</option><option>21</option>
  <option>22</option><option>23</option>
  <option>24</option><option>25</option>
  <option>26</option><option>27</option>
  <option>28</option><option>29</option>
  <option value=30>Greater Than 30</option>
  </select>
</span></li>

<li class=sectionItem>temperature
<span class=sectionText>
  <select name=obdet005 title="Temperature" style='width:75px;text-align:right'>
  <option></option>
  <option value=35>Less than 35</option><option>35.5</option>
  <option>36.0</option><option>36.5</option>
  <option>37.0</option><option>37.5</option>
  <option>38.0</option><option>38.5</option>
  <option>39.0</option><option>39.5</option>
  <option value=40>Greater than 40</option>
  </select>
</span></li>

<li class=sectionItem onclick="openBP(UpdateForm.obdet006,UpdateForm.obdet007);">blood pressure
<span class=sectionText>
  <input type=text name=obdet006 readonly size=5 title="Systolic" style='width:50px;text-align:right'> / 
  <input type=text name=obdet007 readonly size=5 title="Diastolic" style='width:50px;'>
</span></li>

<li class=sectionItem>pulse/oximeter SaO<sub>2</sub>
<span class=sectionText>
  <select name=obdet009 title="Pulse/Oximeter" style='width:75px;text-align:right'>
  <option></option>
  <option>65</option><option>70</option><option>75</option>
  <option>80</option><option>81</option><option>82</option><option>83</option><option>84</option>
  <option>85</option><option>86</option><option>87</option><option>88</option><option>89</option>
  <option>90</option><option>90.5</option>
  <option>91</option><option>91.5</option>
  <option>92</option><option>92.5</option>
  <option>93</option><option>93.5</option>
  <option>94</option><option>94.5</option>
  <option>95</option><option>95.5</option>
  <option>96</option><option>96.5</option>
  <option>97</option><option>97.5</option>
  <option>98</option><option>98.5</option>
  <option>99</option><option>99.5</option>
  <option>100</option>
  </select>
</span></li>

<li class=sectionItem>F<sub>1</sub>O<sub>2</sub> Type
<span class=sectionText>
 <select name=obdet032 title="F1 O2 type" 
  onchange="checkRoomAir(obdet032,obdet010);">
  <option></option>
  %CLIWEB02.02.132.2
 </select>
</span></li>

<li class=sectionItem>F<sub>1</sub>O<sub>2</sub> Flow (ltr per min)
<span class=sectionText>
  <select name=obdet010 title="O2 Flow" style='width:75px;text-align:right'>
  <option></option>
  <option> 1</option>
  <option> 2</option>
  <option> 3</option>
  <option> 4</option>
  <option> 5</option>
  <option> 6</option>
  <option> 7</option>
  <option> 8</option>
  <option> 9</option>
  <option>10</option>
  <option>11</option>
  <option>13</option>
  <option>14</option>
  <option>15</option>
  </select>
</span></li>

<li class=sectionItem>peak flow
<span class=sectionText>
  <select name=obdet011 title="Peak Flow" style='width:75px;text-align:right'>
  <option></option>
  <option> 50</option>
  <option> 60</option>
  <option> 70</option>
  <option> 80</option>
  <option> 90</option>
  <option>100</option>
  <option>110</option>
  <option>120</option>
  <option>130</option>
  <option>140</option>
  <option>150</option>
  <option>160</option>
  <option>170</option>
  <option>180</option>
  <option>190</option>
  <option>200</option>
  <option>210</option>
  <option>220</option>
  <option>230</option>
  <option>240</option>
  <option>250</option>
  <option>260</option>
  <option>270</option>
  <option>280</option>
  <option>290</option>
  <option>300</option>
  <option>310</option>
  <option>320</option>
  <option>330</option>
  <option>340</option>
  <option>350</option>
  <option>360</option>
  <option>370</option>
  <option>380</option>
  <option>390</option>
  <option>400</option>
  <option>410</option>
  <option>420</option>
  <option>430</option>
  <option>440</option>
  <option>450</option>
  <option>460</option>
  <option>470</option>
  <option>480</option>
  <option>490</option>
  <option>500</option>
  <option>510</option>
  <option>520</option>
  <option>530</option>
  <option>540</option>
  <option>550</option>
  <option>560</option>
  <option>570</option>
  <option>580</option>
  <option>590</option>
  <option>600</option>
  <option>610</option>
  <option>620</option>
  <option>630</option>
  <option>640</option>
  <option>650</option>
  <option>660</option>
  <option>670</option>
  <option>680</option>
  <option>690</option>
  <option>700</option>
  </select>
</span></li>

<li class=sectionItem>pain score
<span class=sectionText>
  <select name=obdet041 title="Pain Score" style='width:75px;text-align:right'>
  <option></option>
  <option value=0> 0 (No Pain)</option>
  <option> 1</option>
  <option> 2</option>
  <option> 3</option>
  <option> 4</option>
  <option> 5</option>
  <option> 6</option>
  <option> 7</option>
  <option> 8</option>
  <option> 9</option>
  <option value=10>10 (Worst)</option>
  </select>
</span></li>

<li class=sectionItem>weight (kg)
<span class=sectionText>
  <input type=number size=6 maxlength=6 name=pmsvx045 title="Weight"
   class=Number value="%CLIWEB02.02.245" 
   style='text-align:right'>
</span></li>

<li class=sectionItem>height (cm)
<span class=sectionText>
  <input type=number size=6 maxlength=6 name=pmsvx046 title="Height"
   class=Number value="%CLIWEB02.02.246" 
   onblur="RoundNumber(this,'1');calculateBSA();caculateBMI()" 
   style='text-align:right'>
</span></li>

<li class=sectionItem>bmi (kg/m<sup>2</sup>)
<span class=sectionText>
  <input type=number size=6 maxlength=6 id=bmivalue name=bmivalue readonly title="BMI"
   class=Number value="" style='text-align:right'>
</span></li>

<li class=sectionItem>bsa (m<sup>2</sup>)
<span class=sectionText>
  <input type=number size=6 maxlength=6 id=bsavalue name=bsavalue readonly title="BSA"
   class=Number value="" style='text-align:right'>
</span></li>

<li class=sectionItem>blood sugar
<span class=sectionText>
 <input type=number name=obdet034 title="Blood Sugar Level"  
  size=5 maxlength=4 class=Number 
  onblur="RoundNumber(this,'1');checkMinMax(obdet034,'0.0','60.0');">
</span></li>

<li class=sectionItem>blood sugar high
<span class=sectionText>
 <input type=checkbox name=chckhigh value="Y" 
  onclick="checkBSL(chckhigh,obdet034);">
</span></li>

<li class=sectionItem>action
<span class=sectionText>
    <select name=obdet027 title="Action/Comment">
    <option></option>
    %CLIWEB02.02.127.2
    </select>
</span>
</li>

<li class=sectionItem>comments
<span class=commentText><br>
 <input size=25 maxlength=40 name=obdet038 title="Comment" value="%CLIWEB02.02.138"><br>
 <input size=25 maxlength=40 name=obdet039 title="Comment" value="%CLIWEB02.02.139"><br>
 <input size=25 maxlength=40 name=obdet040 title="Comment" value="%CLIWEB02.02.140">
</span></li>

</ul>
<input type=button name=addobsbt value="Update" class="FormButton green"
 onclick="SubmitObs(UpdateForm);">
<input type=button name=cancelbt value="Cancel" class="FormButton red" 
 onClick="parent.restoreSections();">
</form>

<form name=PatientLinks method=get>
<input type=hidden name=reportno value=1>
<input type=hidden name=template value=004>
<input type=hidden name=urnumber value="%CLIWEB02.01.003">
<input type=hidden name=admissno value="%CLIWEB02.01.081">
</form>
<script type=text/javascript>
function FormInit() {
  setValue(document.UpdateForm.obdet004,"%CLIWEB02.02.104");    // Pulse
  setValue(document.UpdateForm.obdet008,"%CLIWEB02.02.108");    // Respiration
  setValue(document.UpdateForm.obdet005,"%CLIWEB02.02.105");    // Temperature
  setValue(document.UpdateForm.obdet006,"%CLIWEB02.02.106");    // Sysstolic
  setValue(document.UpdateForm.obdet007,"%CLIWEB02.02.107");    // Diastolic
  setValue(document.UpdateForm.obdet009,"%CLIWEB02.02.109");    // Oxy Sats
  setValue(document.UpdateForm.obdet011,"%CLIWEB02.02.111");    // Peak Flow
  setValue(document.UpdateForm.obdet041,"%CLIWEB02.02.142");    // Pain Score
//  setValue(document.UpdateForm.obdet042,"%CLIWEB02.02.143");    // CVP
  setValue(document.UpdateForm.pmsvx045,"%CLIWEB02.02.245");    // Weight
  setValue(document.UpdateForm.pmsvx046,"%CLIWEB02.02.246");    // Weight
  setValue(document.UpdateForm.obdet034,"%CLIWEB02.02.134");    // Blood Sugar
  if (UpdateForm.obdet034.value==999) {
    UpdateForm.chckhigh.checked=true;
    UpdateForm.obdet034.value="";
  }
}
function setValue(theField,theDefaultValue) {
 if (theField.type=="text") {
   theField.value=theDefaultValue;
 }
 if (theField.type=="select-one") {
   for (var i =0 ; i < theField.length; i++) {
     if (trim(theField[i].value)==trim(theDefaultValue)) {
       theField.selectedIndex=i
     }
   }
 }
}
</script>
