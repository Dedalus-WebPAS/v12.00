Content-Type: text/html
Cache-Control: no-cache

<!DOCTYPE HTML>
<head>
<title>Clinical Summary</title>
<meta name="TemplateFile"   content="patweb9801183.html">
<meta name="TemplateVersion" content="V12.00.00">
<meta name="TemplateHome"    content="mobile">
<link   rel="stylesheet"      href="../html/ipad/ipad.css" type="text/css">
<script type="text/javascript" src="../html/ipad/ipad.js"> </script>
<script type="text/javascript"> 
function LoadPage() {
  switch (document.PatientLinks.visittyp.value) {
    case "1":
      setTimeout(function() { InpatientSummary() },100);
      break;
    case "2":
      setTimeout(function() { InpatientSummary() },100);
      break;
    case "2":
      setTimeout(function() { InpatientSummary() },100);
      break;
  }
}
function InpatientSummary() {
  if (getPatientData("patweb93","05","012")) {
    el=document.getElementById("PatientSection");
    el.innerHTML+=ConditionDetails("CONDESC");
    el.innerHTML+=ConditionDetails("WRKDIAG");
    el.innerHTML+=ConditionDetails("EDDDATE");
  }
  setTimeout(function() { HealthIssues() },100);
}
function HealthIssues() {
  if (getPatientData("patweb03","01","024")) {
    AddProblems();
  }
  setTimeout(function() { Procedures() },100);
}
function Procedures() {
  if (getPatientData("oprweb06","11","012")) {
    AddProcedures();
  }
  setTimeout(function() { Results() },100);
}
function Results() {
  showPatientData("PatientSection","cliweb10","06","002");
}
function showPatientData(sectionID,serverID,reportID,templateID) {
 var theURL = CGIPath + serverID +".pbl?reportno="+reportID+ "&template=" + templateID+
              "&urnumber="+document.PatientLinks.urnumber.value.replace(/ /g,"+") +
              "&admissno="+document.PatientLinks.admissno.value.replace(/ /g,"+") +
              "&httprand="+Math.random();
 var xmlHttp = createHttpObject();
 var h  = document.getElementsByTagName("head")[0];
 var s = document.createElement("script");
 xmlHttp.open("GET", theURL, false);
 xmlHttp.send();
 if (xmlHttp.responseText!=""&&xmlHttp.status == 200) {
    el=document.getElementById(sectionID);
    el.innerHTML+=xmlHttp.responseText;
 }
}
function getPatientData(serverID,reportID,templateID) {
 var theURL = CGIPath + serverID +".pbl?reportno="+reportID+ "&template=" + templateID+
              "&urnumber="+document.PatientLinks.urnumber.value.replace(/ /g,"+") +
              "&admissno="+document.PatientLinks.admissno.value.replace(/ /g,"+") +
              "&httprand="+Math.random();
 var xmlHttp = createHttpObject();
 var h  = document.getElementsByTagName("head")[0];
 var s = document.createElement("script");
 xmlHttp.open("GET", theURL, false);
 xmlHttp.send();
 if (xmlHttp.responseText.match(/<script type=/)) {  /* WEBERR00 Output */
   alertify.alert(xmlHttp.responseText.replace(/.*alert\(./,"").replace(/.\).*/,""));
   return false;
 }
 if (xmlHttp.responseText!=""&&xmlHttp.status == 200) {
   s.type="text/javascript";
   h.appendChild(s);
   s.text=xmlHttp.responseText;
   return true;
 } else {
   alertify.alert("Web Service Not Avalaible. ("+serverID+reportID+templateID+".html)");
   return false;
 }
}
</script>
</head>
%START.OF.PAGE
<body class=WhitePage onload="LoadPage();">
<ul class=sectionList id=PageSection>

</ul>
<form name=PatientLinks method=get>
<input type=hidden name=urnumber value="%PATWEB98.01.003">
<input type=hidden name=admissno value="%PATWEB98.01.081">
<input type=hidden name=visittyp value="%PATWEB98.01.081">
</form>
</body>
