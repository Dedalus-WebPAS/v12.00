Content-Type: text/html
Cache-Control: no-cache

<!DOCTYPE HTML>
<head>
<!--"TemplateVersion"  : "V12.00.00"
    "TemplateHome"     : "mobile"-->
<title>Clinical Result Details</title>
<script type="text/javascript" src="../html/iphone/iphone.js"></script>
<script type="text/javascript" src="../html/iphone/iphone-settings.js"></script>
<link   rel="stylesheet" href="../html/iphone/iphone.css" type="text/css">
<style type=text/css>
pre {
 white-space: pre;
 font-family:Arial;
}
.AuditTable {
 width:100%;
}
.AuditTable td {
 color: #324F85;
 font-size:11px;
}
.AuditTable td.HeadingCell {
 color: rgb(0,0,0);
}
</style>
<script type="text/javascript">
function init() {
  var ListOutput = "<ul class=sectionList>";
  var ttable = document.getElementById("RawResults");
  var trows = ttable.getElementsByTagName("tr");

  for (i=0; i < trows.length; i++) {
    if (!isWhitespace(trows[i].innerHTML)) {
      var tcells = trows[i].getElementsByTagName("td");

      if (tcells[0].colSpan == "6") {  // Comments Text
        if (tcells[0].className == "HeadingCell") {
          ListOutput += "<li class=sectionItem>" + tcells[0].innerHTML;
        }
        else {
          ListOutput += "<span class=sectionText style='display:block;'>";

          $str = tcells[0].innerHTML.replace(/\n/g,"<br>");
          $str = $str.replace(/\<pre\>/,"");
          $str = $str.replace(/\<\/pre\>/,"");
          $str = $str.replace(/\<br\>\<br\>/g,"<br>");
          $str = $str.replace(/\<br\>$/,"");

          ListOutput += $str + "</span></li>";
        }
      }
      else {  // Result Items
        if (tcells[0].className != "HeadingCell") { 
          ListOutput += "<li class=ItemRes ";

          bgcolor = tcells[1].getAttribute("bgcolor");
          if (!isWhitespace(bgcolor)) {
            ListOutput += "style='background-color:#" + bgcolor + "' ";
          }

          ListOutput += "><span class=ResultLine>" + tcells[0].innerHTML + 
                        "</span>";

          if (!isWhitespace(tcells[5].innerHTML)) {
            ListOutput += "<span class=ResultFlag>" + tcells[5].innerHTML +
                          "</span>";
          }
          else {
            ListOutput += "<span class=ResultFlag>&nbsp;</span>";
          }

          if (isWhitespace(tcells[3].innerHTML)) {
            ListOutput += "<span class=ResultRefRan>&nbsp;" +
                          "<br><span class=ResultLabel>&nbsp;</span></span>";
          }
          else {
            ListOutput += "<span class=ResultRefRan>" + tcells[3].innerHTML + 
                          "<br><span class=ResultLabel>Ref. Range</span></span>";
          }

          ListOutput += "<span class=ResultValue>" + tcells[1].innerHTML + "<br>";

          var index = tcells[2].innerHTML.indexOf('^');
          if (index != -1) {
            tcells[2].innerHTML = tcells[2].innerHTML.substring(0,index);
          }

          if (isWhitespace(tcells[2].innerHTML)) {
            ListOutput += "<span class=ResultLabel>&nbsp;</span></span></li>";
          }
          else {
            ListOutput += "<span class=ResultLabel>" + tcells[2].innerHTML + 
                          "</span></span></li>";
          }
        }
      }
    }
  }

  ListOutput += "</ul>";

  ListLocation = document.getElementById("sectionList");
  ListLocation.style.display = "block";
  ListLocation.innerHTML = ListOutput;


  // Linked Documents
  var docSection=document.getElementById("DocumentSection");
  var docTable=document.getElementById("DocumentTable");
  var docRegex=/.*OpenDocument\(([^)]+)\).+/g;

  if (typeof docTable.rows[1] == "undefined") {
    docSection.style.display="none";
  } else {
    if (typeof docTable.rows[1].cells[0] != "undefined") {
      DocType='DOCS';
      DocURL=docTable.rows[1].cells[0].innerHTML.replace(docRegex,"$1").replace(/\"?(\&quot;)?/g,"");

      if ((typeof window['resultOpenDocument'] !== 'undefined')
          && (window['resultOpenDocument'] == true)) {
        DocLink(DocURL,DocURL);  // open the first Linked Document automatically
      }
    }
  }
}
function OpenDocument(DocURL) {
  DocLink(DocURL,DocURL);
}
</script>
</head>
%START.OF.PAGE
<body onload="init();">
<ul class=resultList>
<li class=sectionItem onclick='javsscript:location.reload();'>
patient            
<span class=sectionText>
%CLIWEB10.01.136
%CLIWEB10.01.137
%CLIWEB10.01.138
</span></li> 

<li class=sectionItem onclick='javsscript:location.reload();'>
diagnostic service
<span class=sectionText>%CLIWEB10.01.128.0
</span></li> 

<li class=sectionItem>panel  
<span class=sectionText>%CLIWEB10.01.115 (%CLIWEB10.01.114)
</span></li> 

<li class=sectionItem>date       
<span class=sectionText>%CLIWEB10.01.102 at %CLIWEB10.01.103
</span></li> 
</ul>

<div class="section" id="sectionList" style="display:none;" ></div>

<ul class=resultList>
<li class=sectionItem>notes
<span class=sectionText>
%CLIWEB10.01.133
</span></li> 

<li class=sectionItem>laboratory ref    
<span class=sectionText>
 %CLIWEB10.01.113   
</span></li> 

<li class=sectionItem>ordered by
<span class=sectionText>%CLIWEB10.01.125 %CLIWEB10.01.124(%CLIWEB10.01.123)
</span></li>

<li class=sectionItem><span class=labelText>copy to</span>
<span class=sectionText>
%CLIWEB10.01.161
</span></li>

<li class=sectionItem><span class=labelText>clinical notes</span>
<span class=sectionText>
%CLIWEB10.01.162<br>
%CLIWEB10.01.163
</span></li>

<li class=sectionItem>status
<span class=sectionText>%CLIWEB10.01.131.1 %CLIWEB10.01.131.0</span></li> 

<li id=DocumentSection class=sectionItem><span class=labelText>documents</span>
<table id=DocumentTable width=100% cellpadding=0 cellspacing=0 border=0
 class=AuditTable>
<tr><td class=HeadingCell>Linked Documents</td>
    <td class=HeadingCell>Description</td>
    <td class=HeadingCell>Date Input</td>
    <td class=HeadingCell>Input By</td></tr>
%CLIWEB10.01.158
</table>
</li>

</ul>

<form name=MarkSeen action=cliweb10.pbl method=post>
<input type=hidden name=reportno value=2>
<input type=hidden name=template value=001>
<input type=hidden name=markalll value=1>
<input type=hidden name=auditkey value="%CLIWEB10.01.152">
<input type=button name=markseen value="Mark as Read" class="red"
 onclick="MarkResult();">
<input type=button name=close value="Close" class="green"
 onclick="parent.restoreSections();">
</form>

</div>

<div style='display:none'>
<table id=RawResults>
%CLIWEB10.01.155
</div>

<form name=PatientLinks method=get>
<input type=hidden name=reportno value=1>
<input type=hidden name=template value=004>
<input type=hidden name=urnumber value="%CLIWEB10.01.003">
<input type=hidden name=admissno value="%CLIWEB10.01.081">
<input type=hidden name=MenuType value="%CLIWEB10.01.088">
</form>
</body>

