<meta name="TemplateVersion" content="V12.00.00">
<meta name="TemplateHome"    content="nz">
<meta name="HelpFileName"    content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript" src="../js/patweb90.js"></script>
<!--  HPS Code Added for Defect ODCFIXAH24 -->
<script type="text/javascript">
function CheckUR() {
if (!isWhitespace(search.urnumber.value)) {
  if(typeof parent.parent.Allweb02Return === "function") {
    if(!parent.parent.Allweb02Return(search.urnumber.value))
    {
      // user chose to cancel
      return;
    }
  }

justifyRight(document.search.urnumber)
validateCode(8,search.urnumber,search.patfname,UpdateURSearch,
                               search.srchpsex,
                               search.srchpdob,
                               search.admissno)
  parent.parent.ReturnUR=document.search.urnumber.value
  parent.parent.ReturnName=document.search.patfname.value
  parent.parent.ReturnVisit=document.search.admissno.value
    SearchFrameExit()
    if (parent.parent.ReturnFunction!="" ) {
      parent.parent.ReturnFunction()  }
}
}
function UpdateURSearch() {
  parent.parent.ReturnUR.value=document.search.urnumber.value
  parent.parent.ReturnName.value=document.search.patfname.value
  parent.parent.ReturnVisit.value=document.search.admissno.value
  SearchFrameExit()
}
function ProcessSubmit() {
  if(!isWhitespace(search.urnumber.value)) {
    setUR();
    CheckUR();
    return false;
  } else {
    search.srchsnam.value.replace(/\'/g,"~")
    setUR();
    checkDate(search.srchpdob,'Date of Birth');
    setBirth(search.srchpdob);
    return true;
  }
}
function nhiSearch() {
  document.nhisrch.nzsrh003.value=document.search.srchtype.value;
  document.nhisrch.nzsrh004.value=document.search.srchsnam.value;
  document.nhisrch.nzsrh005.value=document.search.srchgnam.value;
  document.nhisrch.nzsrh006.value=document.search.srchpdob.value;
  document.nhisrch.nzsrh007.value=document.search.srchpage.value;
  document.nhisrch.nzsrh008.value=document.search.srcharan.value;
  for (var i =0 ; i < document.search.srchpsex.length; i++) {
    if (document.search.srchpsex[i].checked=="1" ) {
      document.nhisrch.nzsrh009.value=document.search.srchpsex[i].value;
    }
  }
  document.nhisrch.submit();
}
</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);setUR();checkType();setDefault();">
<!--        Sub-Frame Header Section       -->
<span class=DFrameTitleBar>
<img border=0 align=right src=../images/ExitIcon.gif onclick=SearchFrameExit()>
<script type="text/javascript">document.write(self.document.title);</script>
</span>
<!--        Search Options                 -->
<div style="background-color:#cccccc;height:100%;">
<form name=nhisrch method=get action=nhiweb96.pbl style="margin:0"
onsubmit='return validateMandatory(this)'>
<input type=hidden name=reportno value=1>
<input type=hidden name=template value=4>
<input type=hidden name=norecord value=10>
<input type=hidden name=nzsrh001 value=0>
<input type=hidden name=nzsrh002 value="">
<input type=hidden name=nzsrh003 value="">
<input type=hidden name=nzsrh004 value="">
<input type=hidden name=nzsrh005 value="">
<input type=hidden name=nzsrh006 value="">
<input type=hidden name=nzsrh007 value="">
<input type=hidden name=nzsrh008 value="">
<input type=hidden name=nzsrh009 value="">
</form>
<form name=search method=post action=patweb90.pbl target=SearchResults
 style="margin:0"
 onsubmit="return ProcessSubmit();">
<input type=hidden name=reportno value="1">
<input type=hidden name=template value=11>
<input type=hidden name=norecord value="%PATWEB90.01.032">
<input type=hidden name=patfname value=20>
<input type=hidden name=admissno value=10>
<input type=hidden name=srchadmn value="%PATWEB90.01.013">

<table width="90%" align=center cellpadding=0 cellspacing=0 border=0 >
   <tr><td class=DataLabel>U/R Number<br>
       <input type=text name=urnumber onblur="setUR()" size=10
        maxlength=8 textalign=left></td>
       <td class=DataLabel>Surname<br>
       <input type=text name=srchsnam size=15
        onblur="UpCase(this);TextBlurHandler(this);"></td>
       <td class=DataLabel>Given Name<br>
       <input type=text name=srchgnam size=15
        onblur="UpCase(this);TextBlurHandler(this);"></td>
       <td rowspan=2>
       <input type=radio name=srchpsex value=" " checked> All <br>
       <input type=radio name=srchpsex value="M"> Male <br>
       <input type=radio name=srchpsex value="F"> Female</td>
       <td align=center valign=middle rowspan=2>
       <input type=button value="NHI Search" class="button"
                   onclick="nhiSearch()">
       <br><input type=submit class="button" value=Search name=SearchButton><br>
       <input type=reset class="button" value=Reset></td></tr>
   <tr><td class=DataLabel>Date of Birth<br>
       <input type="text" size="12" name="srchpdob"
        onblur="checkDate(this,'Date of Birth')" ></td>
       <td class=DataLabel>Age<br>
       <input type=text name=srchpage size=4 class="JustifyLeft Integer"></td>
       <td class=DataLabel>Range<br>
       <select name=srcharan > 
            <option value=2 selected>2 years</option>
            <option value=4>4 years</option>
            <option value=6>6 years</option>
            <option value=8>8 years</option>
            <option value=10>10 years</option>
           </select></td>
       <td class=DataLabel>Search Type<br>
           <select name=srchtype onchange="checkType();">
           <option value=1>Surname</option>
           <option value=2>Sound-Ex</option>
           <option value=3>Date of Birth</option>
<!--  HPS Code Added for Defect ODCFIXAH24 -->
           <option value=4>U/R Number</option>
      <!-- <option value=5>Medicare No</option>-->
           </select></td></tr>
   </table>
</form>
</div>
<script type="text/javascript">
function setDefault() {
//
   document.search.srchpage.value==trim("%PATWEB90.01.006");
   document.search.srchpdob.value="%PATWEB90.01.007";
//
   for (var i =0 ; i < document.search.srcharan.length; i++) {
     if (document.search.srcharan.options[i].value==trim("%PATWEB90.01.008")) {
         document.search.srcharan.selectedIndex=i } };
//
   for (var i =0 ; i < document.search.srchtype.length; i++) {
     if (document.search.srchtype.options[i].value=="%PATWEB90.01.009.2") {
         document.search.srchtype.selectedIndex=i; 
         checkType(); }  };
//
   for (var i =0 ; i < document.search.srchpsex.length; i++) {
     if (document.search.srchpsex[i].value=="%PATWEB90.01.005") {
         document.search.srchpsex[i].checked="1" } };
//
}
</script>
