<meta name="TemplateVersion" content="V12.00.00">
<meta name="TemplateHome" content="crdhb">
<meta name="HelpFileName"    content="NoContextSet.html">
<META HTTP-EQUIV="Refresh" content="200">
<!-- <script type="text/javascript" src="../js/EmergencyTable.js"> </script> -->
<script type="text/javascript" src="../custom-js/EmergencyTable.js"> </script>
<script type="text/javascript">
function TriagePatient(urnumber,admissno,triageIcon) {
    if (triageIcon == "000") {
      location.href="emrweb02.pbl?reportno=1&template=113&urnumber=" +
                     urnumber + "&admissno=" + admissno
    } else {
	  // 01 : CTAS : Call Supervisor Screen to allow retriage
	  // alert("Patient Already Triaged");
	  linkURL="emrweb02.pbl?reportno=1&template=904&urnumber=" +
          urnumber + "&admissno=" + admissno;
	  Left=(document.body.clientWidth-600)/2;
	  DFrameLink(linkURL,100,Left,600,250);
	  // uncomment if required */
    }
}
//
function SelectPatient(urnumber,admissno) { 
location.href="emrweb02.pbl?reportno=1&template=100&urnumber=" +
              urnumber + "&admissno=" + admissno
}
function OpenLocation(urnumber,admissno) { 
  linkURL="emrweb02.pbl?reportno=1&template=107&urnumber=" +
          urnumber + "&admissno=" + admissno;
  Left=(document.body.clientWidth-410)/2;
  DFrameLink(linkURL,100,Left,410,270);
}
function SetReturnPathCookie() {
  document.cookie = "ReturnPath=" + escape(location.href) + ";"
}
function DoctorHandover(urnumber,admissno) {
  linkURL="emrweb02.pbl?reportno=1&template=035&urnumber=" +
          urnumber + "&admissno=" + admissno;
  Left=(document.body.clientWidth-500)/2;
  DFrameLink(linkURL,100,Left,500,300);
}
function NurseHandover(urnumber,admissno) {
  linkURL="emrweb02.pbl?reportno=1&template=036&urnumber=" +
          urnumber + "&admissno=" + admissno;
  Left=(document.body.clientWidth-500)/2;
  DFrameLink(linkURL,100,Left,500,300);
}
</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);initTable();SetReturnPathCookie();">
<div id=HeadingSection style="display:none">
</div>
<div id=TableLocation >
</div>

<form id=secForm>
<input type=hidden name=occGroup id=occGroup value="%STANDARD.01.012.1">
</form>

<script type="text/javascript">
function initTable() {
 document.title="Current Patient List"
 obj = new Table(1,0,0,"100%","center");    // Create New Table Object
 immediate = 0
 emergency = 0
 urgent = 20
 semi = 50
 non = 110
 template = 2
//
// Add Columns in Order Required
// Heading,Type,Display Column,Sort Column,Align
//
 obj.addColumn("Tri","Image",5,5,"center","","3",25)
 obj.addColumn("Patient","ImageText",39,39,"left","PatientFolder","1",180,37)
 obj.addColumn("Age","String",9,45,"right","","",25)
 obj.addColumn("Sex","String",8,8,"center","","",25)
 obj.addColumn("Arr","Time",7,7,"center","","",35)
 obj.addColumn("Doctor","String",62,62,"left","SelectItem.gif","5",65,"DoctorHandover")
 obj.addColumn("Nurse","String",63,63,"left","SelectItem.gif","5",65,"NurseHandover")
 obj.addColumn("Presenting Complaint","String",10,10,"left","","",100)
 obj.addColumn("Loc","String",1,1,"left","LocationIcon.gif","2",43)
 obj.addColumn("Exp. Ward","String",22,22,"left","","",40)
 obj.addColumn("Unit","String",32,32,"left","","",75)
 obj.addColumn("Time Since First Doc.","String",49,49,"left","","",65)
 obj.addColumn("Time Since Arrival","String",31,31,"left","","",35)
//
// Add Rows to Table (Output from Web Server)
//
%EMRWEB01.01.001
//
//
 OrderColumn=8;
 AscDsc=1;
 lastOrderColumn=OrderColumn;
 TableOutput(OrderColumn,AscDsc,immediate,emergency,urgent,semi,non,template);
}
</script>
