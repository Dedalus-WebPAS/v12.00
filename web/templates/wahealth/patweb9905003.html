<meta name="TemplateVersion" content="V12.00.00">
<meta name="TemplateHome"    content="wahealth">
<meta name="HelpFileName"    content="NoContextSet.html">
<meta name="CrossBrowser"    content="true">
<link rel="stylesheet" href="../html/postcode.css" type="text/css">
<script type="text/javascript" src="../js/patweb99.js"> </script>
<script type="text/javascript" src=../js/AutoPostCode.js></script>
<script type="text/javascript" src="../js/AddressSearch.js"></script>

<script type="text/javascript">
function UpdatePractice() {
  if(document.UpdateForm.d_pmhcg026.checked==true) {
    document.UpdateForm.pmhcg026.value="A";
  } else {
    document.UpdateForm.pmhcg026.value="M";
  }
  if(document.UpdateForm.d_pmhcg027.checked==true) {
    document.UpdateForm.pmhcg027.value="2";
  } else {
    document.UpdateForm.pmhcg027.value="1";
  }

  setFormactn('U');
}

//
// Functions called from AddressSearch.js
//
function InitAddressSearch() {
  // line1 - 'pmhcg006'
  // line2 - 'pmhcg007'
  // suburb - 'pmhcg008'
  // state - 'pmhcg009'
  // postcode - 'pmhcg012'

  InitAddressSearchFields('trAddrSrch','pmhcg006','pmhcg007','pmhcg008',
                          'pmhcg009','pmhcg012','pmhcg013');
}
function ShowAddressSearch() {
  OpenAddressSearch('1',PopulateAddress,ClearSearchAddress);
}
function PopulateAddress(StreetLine, Suburb, State, Postcode) {
  LookupSuburb(Postcode);  // validate Postcode with our Lookup values
  if (SelectPC.length == 0) return;  // no match found

  LookupPostCode(Suburb);  // validate Suburb
  if (SelectPC.length == 0) return;  // no match found

  ToggleFieldReadOnly('pmhcg006', true);
  ToggleFieldReadOnly('pmhcg007', false);
  ToggleFieldReadOnly('pmhcg008', true);
  ToggleFieldReadOnly('pmhcg009', true);
  ToggleFieldReadOnly('pmhcg012', true);
  ToggleFieldReadOnly('pmhcg013', true);

  SetFieldValue('pmhcg006',StreetLine);
  SetFieldValue('pmhcg007','');
  SetFieldValue('pmhcg008',Suburb);
  SetFieldValue('pmhcg009',State);
  SetFieldValue('pmhcg012',Postcode);
}
function ClearSearchAddress() {
  ToggleFieldReadOnly('pmhcg006', false);
  ToggleFieldReadOnly('pmhcg007', false);
  ToggleFieldReadOnly('pmhcg008', false);
  ToggleFieldReadOnly('pmhcg009', false);
  ToggleFieldReadOnly('pmhcg012', false);
  ToggleFieldReadOnly('pmhcg013', false);

  SetFieldValue('pmhcg006','');
  SetFieldValue('pmhcg007','');
  SetFieldValue('pmhcg008','');
  SetFieldValue('pmhcg009','');
  SetFieldValue('pmhcg012','');
  SetFieldValue('pmhcg013','');
}
function CheckEnquiry() {
  f = document.UpdateForm;
  if(f.menuflag.value=="1") {
    DisableForm(document.UpdateForm);
    f.btnLinkHCP.disabled = false;
    f.btnCancel.disabled = false;
    document.getElementById('imgSeniorSearch').style.display = "none";
    document.getElementById('imgSeniorClear').style.display = "none";
    document.getElementById('imgPostcodeSearch').style.display = "none";
    document.getElementById('imgPostcodeClear').style.display = "none";
    document.getElementById('imgDatePracticeFormed').style.display = "none";
    document.getElementById('imgDateDissolved').style.display = "none";
  }
}
</script>
</head>
%START.OF.PAGE
<body onLoad="PageLoad(event);document.UpdateForm.pmhcg006.focus();
              SetFields05003();InitPostCodes();InitAddressSearch();
              CheckEnquiry();">
<div id=PageBodySection>
<span class=DFrameTitleBar>
<img align="right" alt="Exit" class="MenuIcon" 
 src="../images/ExitIcon.gif" onclick="DFrameExitRefresh();">
<script type="text/javascript">document.write(self.document.title);</script>
</span>

<form name=UpdateForm method=post action=patweb99.pbl style="margin:0">
<input type=hidden name=reportno id=reportno value="5">
<input type=hidden name=template id=template value="003">
<input type=hidden name=updttype id=updttype value="">
<input type=hidden name=iswahlth id=iswahlth value="1">
<input type=hidden name=pmhcg026 id=pmhcg026 value="">
<input type=hidden name=pmhcg027 id=pmhcg027 value="">
<input type=hidden name=dummy    id=dummy    value="">
<input type=hidden name=currdate id=currdate value="%STANDARD.01.015" />
<input type=hidden name=currtime id=currtime value="%STANDARD.01.016" />
<input type=hidden name=d_pmhgcdte id=d_pmhgcdte value="%PATWEB99.05.030" />
<input type=hidden name=d_pmhgctim id=d_pmhgctim value="%PATWEB99.05.031" />
<input type=hidden name=d_mins   id=d_mins value="0" />
<input type=hidden name=ptcnuadv id=ptcnuadv
 value="%STANDARD.01.025.123.247.0.1">
<input type=hidden name=ptcnunet value="%STANDARD.01.025.120.158.0.1" >
<input type=hidden name=menuflag value="%PATWEB99.05.115">
<table border=0 width=98% align=center cellspacing="0" cellpadding="1">
<tr valign=top><td>

<table cellspacing=1 cellpadding=0 border=0 width=100%>
<tr><td class=DataLabel>Practice Code </td>
    <td><input type=text name=pmhcg001 id=pmhcg001 class=Readonly readonly
         title="Practice Code" size=12 maxlength=10 value="%PATWEB99.05.001">
    </td>
    <td> Count </td>
    <td><input type=text name=pmhcg002 id=pmhcg002 class=Readonly title="Count"
         size=3 maxlength=2 readonly value="%PATWEB99.05.002">
     </td>
</tr>

<tr><td class=DataLabel>Senior Partner</td>
    <td colspan=4>
      <input type=text name=pmhcg004 id=pmhcg004 class=Mandatory 
       title="Senior Partner" size=12 maxlength=10 value="%PATWEB99.05.004.1"
       onblur="UpCase(this);
               ValidateHCP(18,0,UpdateForm.pmhcg004,UpdateForm.name_pmhcg004);">
      <input type=text name=name_pmhcg004 id=name_pmhcg004 class=Mandatory
       title="Senior Partner" size=60 maxlength=80 value="%PATWEB99.05.004.0">
      <img src="../images/SearchIcon.gif" class=Icon
       name=imgSeniorSearch id=imgSeniorSearch
       onclick="HCPSearchFrame(UpdateForm.pmhcg004,UpdateForm.name_pmhcg004);">
      <img src="../images/erase.gif" class=Icon
        name=imgSeniorClear id=imgSeniorClear
       onclick="clrDoc(UpdateForm.pmhcg004,UpdateForm.name_pmhcg004);"></td>
</tr>

<tr><td class=DataLabel>Surgery Name </td>
    <td colspan=3>
      <input type=text name=pmhcg005 id=pmhcg005 class=Mandatory 
       title="Surgery Name" size=85 maxlength=80 value="%PATWEB99.05.005"></td>
</tr>

<tr id=trAddrSrch style="display:none">
    <td class=DataLabel nowrap>Search Address</td>
    <td><input type=text readonly size=35 tabindex="-1"
             style="cursor:pointer;text-align:center;"
             value="Click here to search for an address"
             title="Click here to search for an address"
             onclick="ShowAddressSearch();">
    </td>
</tr>

<tr valign=top><td class=DataLabel>Address </td>
    <td colspan=3>
      <input type=text name=pmhcg006 id=pmhcg006 size=65 maxlength=60
       value="%PATWEB99.05.006" title="Address Line 1"
       onchange="UpCase(this);"></td>
</tr>

<tr valign=top><td>&nbsp;</td>
    <td colspan=2>
      <input type=text name=pmhcg007 id=pmhcg007 size=65 maxlength=60
       value="%PATWEB99.05.007" title="Address Line 2"
       onchange="UpCase(this);"></td>
</tr>

<tr valign=top><td class=DataLabel>Suburb</td>
    <td colspan=3>
      <input type=text name=pmhcg008 id=pmhcg008 title="Suburb" size=65
       maxlength=60 value="%PATWEB99.05.008"
       onchange="LookupPostCode(this.value);"></td>
</tr>

<tr valign=top><td class=DataLabel>State</td>
    <td colspan=3>
      <input type=text name=pmhcg009 id=pmhcg009 title="State" size=65
             maxlength=60 value="%PATWEB99.05.009">
      <span id="stDsp"><input type=text name=pmhcg013 id=pmhcg013 title="State"
                        readonly class="ReadOnly"
            size=4 value="%PATWEB99.05.013"></span></td> 
</tr>

<tr valign=top><td class=DataLabel>Post Code</td>
    <td colspan=3>
      <input type=text name=pmhcg012 id=pmhcg012 title="Post Code" size=10 
             maxlength=8 value="%PATWEB99.05.012"
             onchange="LookupSuburb(this.value);"
             onblur="SetStateField(document.getElementById('pmhcg009'));">
      <img src="../images/SearchIcon.gif" class=Icon 
       onclick="LookupPostCode(UpdateForm.pmhcg008.value);"
       name=imgPostcodeSearch id=imgPostcodeSearch>
      <img src="../images/erase.gif" class=Icon
       onclick="ClearFields();"
       name=imgPostcodeClear id=imgPostcodeClear>
    </td>
</tr>

<tr><td class=DataLabel>Telephone Number</td>
    <td colspan=3>
      <input type=text name=pmhcg015 id=pmhcg015 size=22 maxlength=20
       value="%PATWEB99.05.015" title="Telephone Number"></td>
</tr>

<tr><td class=DataLabel>Fax Number</td>
    <td colspan=3>
      <input type=text name=pmhcg016 id=pmhcg016 size=22 maxlength=20
       value="%PATWEB99.05.016" title="Fax Number"></td>
</tr>

<tr><td class=DataLabel>Email Address</td>
    <td colspan=3>
      <input type=text name=pmhcg014 id=pmhcg014 size=82 maxlength=80
       value="%PATWEB99.05.014" title="Email Address"></td>
</tr>

<tr><td class=DataLabel>Provider Number</td>
    <td colspan=3>
      <input type=text name=pmhcg019 id=pmhcg019 size=12 maxlength=10
       value="%PATWEB99.05.019" title="Provider Number"></td>
</tr>

<tr><td id=HPOLabel style="display:none;" class=DataLabel>Health Provider Identifier - Organisation</td>
    <td id=HPODetail style="display:none;" colspan=3>
      <input type=text name=pmhcg036 id=pmhcg036 value="%PATWEB99.05.037"
       title="Health Provider Identifier - Organisation"
       size=25 maxlength=16 onblur="validateNEHTA(this,'2');">
    </td>
</tr>

<tr><td class=DataLabel>Date Practice Formed</td>
    <td><input type=text name=pmhcg020 id=pmhcg020 title="Date Practice Formed"
         size=11 maxlength=11 class="Mandatory" value="%PATWEB99.05.020"
         onblur="checkDate(this,'Date');">  
        <img src="../images/DateLookup.gif" class=Icon
         onclick="DateLookupFrame(UpdateForm.pmhcg020);"
         name=imgDatePracticeFormed id=imgDatePracticeFormed>        
    </td>
    <td class=DataLabel>Dissolved</td>
    <td><input type=text name=pmhcg021 id=pmhcg021 title="Date Dissolved"
         size=11 maxlength=11 value="%PATWEB99.05.021" 
         onblur="checkDate(this,'Date');">  
        <img src="../images/DateLookup.gif" class=Icon
         onclick="DateLookupFrame(UpdateForm.pmhcg021);"
         name=imgDateDissolved id=imgDateDissolved></td>
</tr>

<tr><td class=DataLabel>Automatic Update </td>
    <td><input type=checkbox name=d_pmhcg026 id=d_pmhcg026
         title="Automatic Update" value="A"></td>
    <td class=DataLabel>Active </td>
    <td><input type=checkbox name=d_pmhcg027 id=d_pmhcg027 title="Active"
         value="2"></td>
</tr>

<tr><td class=DataLabel>Fax DS</td>
    <td><input type=checkbox name=pmhcg037 id=pmhcg037 title="Fax DS" value="1"></td>
    <td class=DataLabel>Practice Clinic ID</td>
    <td><input type=text name=pmhcg039 id=pmhcg039 title="Practice Clinic ID"
         size=20 maxlength=20 value="%PATWEB99.05.040"></td>
</tr>

<tr><td class=DataLabel>Electronic DS</td>
    <td><input type=checkbox name=pmhcg038 id=pmhcg038 title="Electronic DS"
         value="1"></td>
</tr>

<tr><td>&nbsp;</td></tr>
<tr><td class=DataLabel>Record Created By</td>
    <td><b>%PATWEB99.05.041</b></td>
</tr>
<tr><td class=DataLabel>Record Created Date/Time</td>
    <td><b>%PATWEB99.05.042</b></td>
</tr>
<tr><td>&nbsp;</td></tr>
<tr><td class=DataLabel>Record Updated By</td>
    <td><b>%PATWEB99.05.043</b></td>
</tr>
<tr><td class=DataLabel>Record Last Update Date/Time</td>
    <td><b>%PATWEB99.05.044</b></td>
</tr>

<tr><td colspan=4 align=center><br>
    <input type=button value="Update" class=button 
     onclick="UpdatePractice('U');">
    <input type=button value="Linked HCP's" class=button name=btnLinkHCP
     onclick='parent.location.href="%PATWEB99.05.104.patweb99.07.001";DFrameExit()'> 
    <span id="DeleteButton">
    <input type=button value="Delete" class=button name=btnDelete
      onclick="setFormactn('D');"> 
    </span>
    <input type=button value="Cancel" class=button name=btnCancel
     onclick="DFrameCloseRefresh();"> 
</td></tr>
</table>

</td></tr>
</table>
</form>
</div>

<script type="text/javascript">
if ("%PATWEB99.05.026" == "A") 
 {
   document.UpdateForm.d_pmhcg026.checked=1
 }
if ("%PATWEB99.05.027" == "0") 
 {
   document.UpdateForm.d_pmhcg027.checked=1
 }

if ("%PATWEB99.05.038" == "1")
{
  document.UpdateForm.pmhcg037.checked=true;
}

if ("%PATWEB99.05.039" == "1")
{
  document.UpdateForm.pmhcg038.checked=true;
}

 p=document.UpdateForm;
 CalculateDuration(p.d_pmhgcdte,p.d_pmhgctim,p.currdate,p.currtime,p.d_mins);
 if(parseInt(p.d_mins.value,10)>120 && p.d_mins.value != "0") {
   document.getElementById("DeleteButton").style.display="none";
 }

checkCountryHideTab("%PATWEB99.05.114",
                     document.getElementById("stDsp").style)

if(document.UpdateForm.ptcnunet.value=="2") {
   document.getElementById('HPOLabel').style.display="";
   document.getElementById('HPODetail').style.display="";
 }
</script>
