<meta name="TemplateVersion" content="V12.00.00">
<meta name="TemplateHome" content="wahealth">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<link rel="stylesheet" href="../html/postcode.css" type="text/css">
<script type="text/javascript" src=../js/IBA_Category_LA.js></script>
<script type="text/javascript" src=../js/IBA_Category_C_.js></script>
<script type="text/javascript" src=../js/AutoPostCode.js></script>
<script type="text/javascript" src=../js/patweb89.js></script>
<script type="text/javascript">
function clickRegisterButton() {
  if(!CheckValPostCode()){
     return;
  }

  var str = document.AddForm.ptmas006.value;
  document.AddForm.ptmas006.value = str.replace(/^\s+|\s+$/g,'');
  str = document.AddForm.pmpmi084.value;
  document.AddForm.pmpmi084.value = str.replace(/^\s+|\s+$/g,'');
  checkSecondName(document.AddForm.ptcnusgn,document.AddForm.ptmas006,
                  document.AddForm.pmpmi084,document.AddForm.pmpmi085);

  SetOptOutSMS();
  if(checkMedicare(document.AddForm.ptmas023)) {
    SubmitHidden05(document.AddForm);
  }
}
function setPrisoner() {
  ind=document.AddForm.altidtyp.value.substr(3,1);
  if (ind=="P"){
   for (var i =0 ; i < document.AddForm.ptmas021.length; i++) {
     if (document.AddForm.ptmas021.options[i].value.substr(3,1)=="3") {
         document.AddForm.ptmas021.selectedIndex=i } };
  }
}
function EnableButton(){
  if (document.AddForm.quickreg.checked==true
      && isWhitespace(AddForm.ptmas010.value)) return;
  AddForm.RegisterButton.disabled=false;
}
function valUR(theField){
  if(theField.value.length < 1){
     alert ("Invalid UR Number "); 
     return;
  }
//  justifyRight(theField)
}
function valPostCode(){
  if(AddForm.ptmas010.value!="%PATWEB89.05.015"){
  UpCase(AddForm.ptmas010);
  if(trim(AddForm.ptmas012.value)!="8888"){
    SetPostCode05();
    LookupPostCode(AddForm.ptmas010.value);}
  }
}
function clrMandatory(Sname,Gname,Sex,Dob) {
  if (document.AddForm.quickreg.checked==true) {
    for (i=0; i<document.AddForm.elements.length; i++) {
      el=document.AddForm.elements[i];
      if (el.className.match(/Mandatory/)) {
        el.className="";
      }
    }
    if (isWhitespace(document.AddForm.ptmas017.value)){
      checkDefDOB(document.AddForm.ptmas017,document.AddForm.d_cwebDDOB);
      document.AddForm.ptmas017.focus();
      document.AddForm.ptmas017.blur();
      document.AddForm.ptmas017.className="Mandatory PastDate";
    }

    if (!isWhitespace(Sex)) {
      document.AddForm.ptmas015.value=Sex.substr(0,1);
    }

    if (isWhitespace(Sname)) {
      if (isWhitespace(document.AddForm.ptmas005.value)) {
      document.AddForm.ptmas005.value="Unknown";
      }
    }  
    if (isWhitespace(Gname)) {
      if (isWhitespace(document.AddForm.pmpmi084.value)) {
      document.AddForm.pmpmi084.value="Unknown";
      }  
    }

    if (isWhitespace(Dob)) {
      if (isWhitespace(document.AddForm.ptmas017.value)) {
      document.AddForm.ptmas017.value="";
      }
    }  
    else {
      document.AddForm.ptmas017.value=Dob;
    }
  } else {
    location.reload();
  }
}
function init() {
  SetPostCode05();
  InitPostCodes();
  SetCategoryC_(document.AddForm.ptmas019,"","1");
  SetCategoryLA(document.AddForm.pmpmi002,"","1");
  SetCategoryLA(document.AddForm.pmpmi003,"");
  ShowOptOutSMS();
  turnOnSecondGivenName(document.AddForm.ptcnusgn.value,
                        document.AddForm.ptmas006,
                        document.AddForm.pmpmi084,
                        document.AddForm.pmpmi085);

}
</script>
</head>
%START.OF.PAGE
<body onLoad="PageLoad(event);displayPrefNames(document.AddForm.ptcnnmpr.value);
">
<form name=AddForm action="patweb89.pbl" method=post style="margin:0"
 onsubmit='return validateMandatory(this)'>
  <input type=hidden name=reportno value="05">
  <input type=hidden name=formactn value="NR">
  <input type=hidden name=updttype value="">
  <input type=hidden name=chckname>
  <input type=hidden name=redirflg value="1">
  <input type=hidden name=nextpage value="3">
  <input type=hidden name=updateky value="%PATWEB89.05.700">
  <input type=hidden name=redirect value="patweb98.pbl?reportno=1&template=001">
  <input type=hidden name=dummy value="">
  <input type=hidden name=pmpmi076 value="">
  <input type="hidden" name=praflag value="0">
  <input type="hidden" name=sesskeys value="%PATWEB89.05.918">
  <input type="hidden" name=noofdays value="%PATWEB89.05.919">
  <input type="hidden" name=theaflag value="%PATWEB89.05.920">
  <input type="hidden" name=hidsname id=hidsname value="%PATWEB89.05.009">
  <input type="hidden" name=hidgname id=hidgname value="%PATWEB89.05.010">
  <input type="hidden" name=manalloc value="1">
  <input type="hidden" name=altidflg value="1">
  <input type=hidden name=ptcnnmpr value="%STANDARD.01.025.128.226.1.1">
  <input type="hidden" name="ptcnsmsn" id="ptcnsmsn"
                                     value="%STANDARD.01.025.120.243.0.1">
  <input type="hidden" name="ptmsx050" id="ptmsx050" value="">
  <input type=hidden name=ptcnhdps  value="%STANDARD.01.025.080.250.1.1">
  <input type=hidden name=ptcnusgn value="%STANDARD.01.025.114.219.0.1">
  <input type=hidden name="d_cwebDDOB" value="%STANDARD.01.025.101.098.0.8">
<table align=center width=100% border=1 cellspacing=0 cellpadding=0>
<tr><td class=HeadingCell colspan=6 align=center>
     New Alternate ID </td></tr>
</table>

<table align=center width=100% border=0 cellspacing=0 cellpadding=0>
<tr><td class=DataLabel width=18%>Alternate ID</td>
<td><input type=text name=urnumber class="mandatory Integer" size=10 tabindex=1
     maxlength=8 title="Alternate ID" onChange="valUR(this)";></td>
    <td class=DataLabel>Alternate ID Type</td>
    <td><select name=altidtyp class="Mandatory select120" tabindex=7
         title="Alternate ID" 
         onChange="setDefaultAddress(this,ptmas008,ptmas009,
                   ptmas010,ptmas011,ptmas012,ptmas013);setPrisoner();";>
        <option></option>
        %STANDARD.01.007.AI
        </select></td>
    <td class=DataLabel><font color=red> QUICK REGISTRATION </font></td>
    <td><input type=checkbox name=quickreg tabindex=-1 value="1" 
         onClick='clrMandatory(hidsname,hidgname,"%PATWEB89.05.019",
                               "%PATWEB89.05.020");'></td></tr>

<tr><td class=DataLabel>Title</td>
    <td><select title="Patient Title" name=ptmas001 class=Mandatory  tabindex=2>
        <option></option>
        %STANDARD.01.029
        </select></td>
    <td class=DataLabel>Address</td>
    <td><input type=text size=25 maxlength=25  tabindex=7 name="ptmas008" 
         id=ptmas008 title="Address Line 1" class=Mandatory 
         onblur="UpCase(this)"></td>
    <td class=DataLabel>Home Phone</td>
    <td><input type=text size=23 maxlength=20 name=ptmas013 id=ptmas013
         title="Home Phone Number" tabindex=9></td></tr>

<tr><td class=DataLabel> Surname</td>
    <td><input type=text size=40 name=ptmas005 value="%PATWEB89.05.009"
         title="Patient Surname" maxlength=40 class=Mandatory
         tabindex=2 onblur="UpCase(this)"></td>
    <td class=DataLabel></td>
    <td><input type=text size=25 maxlength=25
        name=ptmas009 title="Address Line 2" tabindex=8 
        onblur="UpCase(this)"></td>
    <td class=DataLabel>Work Phone</td>
    <td><input type=text size=23 maxlength=20 name=ptmas014 id=ptmas014
         title="Work Phone Number" tabindex=10></td></tr>

<tr id=PrefSurname style="display:none">
  <td class=DataLabel>Preferred Surname</td>
  <td><input type=text size=20 maxlength=20 name=pmpmi082
       title="Preferred Surname"
       tabindex=2 onchange="UpCase(this);"></td>
  <td>&nbsp;</td><td>&nbsp;</td>
  <td>&nbsp;</td><td>&nbsp;</td>
</tr>

<tr><td class=DataLabel id="givenNameLabel">Given Names</td>
    <td><input type=hidden name=ptmas006 title="Given Name"
         value="%PATWEB89.05.010">
        <input type=text size=42 maxlength=40 title="First Given Name"
         tabindex=3 class=Mandatory name=pmpmi084 value="%PATWEB89.05.010"
         onblur="UpCase(this)"></td>

<!--tr><td class=DataLabel>Given Names</td>
    <td><input type=text size=25 maxlength=25 value="PATWEB89.05.010"
        title="Patient Given Names" class=Mandatory
        name=ptmas006 tabindex=3 onblur="UpCase(this)"></td-->

    <td class=DataLabel> Suburb</td>
    <td><input type=text size=25 maxlength=25 name=ptmas010 id=ptmas010
         title="Address Line 3" Class=Mandatory tabindex=8 
         value="%PATWEB89.05.015" onchange="valPostCode();"></td>
    <td class=DataLabel>Mobile Phone</td>
    <td><input type=text size=23 maxlength=20 class=MobilePhone name=ptmsx039 
         title="Mobile Phone Number" tabindex=11>
         <span id=DisplaySMS style="display: none">
          Opt-Out SMS<input type=checkbox name="d_ptmsx050" id="d_ptmsx050" 
          value=1 tabindex=11>
         </span></td></tr>

<tr><td class=DataLabel id="secondGivenNameLabel">Second Given Name</td>
    <td><input type=text size=42 maxlength=40 id="secondGivenName"
        title="Second Given Name" tabindex=4
        name=pmpmi085 value=""  onblur="UpCase(this);"></td>
    <td class=DataLabel> State</td>
    <td><input type=text size=25 maxlength=25 name=ptmas011 id=ptmas011
         title="Address Line 4" tabindex=8 onchange="UpCase(this);"></td>
    <td class=DataLabel>E-Mail</td>
    <td><input type=text size=23 maxlength=80 name=pmpmi005 title="E-Mail"
         tabindex=11></td></tr>

<tr id=PrefGivenName style="display:none">
  <td class=DataLabel>Preferred Given Name</td>
  <td><input type=text size=25 maxlength=25 name=pmpmi083
       title="Preferred Given Name"
       tabindex=4 onchange="UpCase(this);"></td>
  <td>&nbsp;</td><td>&nbsp;</td>
  <td>&nbsp;</td><td>&nbsp;</td>
</tr>

<tr><td class=DataLabel>Sex</td>
    <td><select name="ptmas015" tabindex=4 class=Mandatory 
         title="Patient's Sex">
        <option></option>
        <option value="R">Intersex</option>
        <option value="U">Unknown</option>
        <option value="I">Indeterminate</option>
        <option value="M">Male</option>
        <option value="F">Female</option>
        </select></td>
    <td class=DataLabel>Post Code</td>
    <td><input type=text size=4 maxlength=4 name=ptmas012 id=ptmas012
         title="Post Code" Class=Mandatory tabindex=8
         value="%PATWEB89.05.016"></td></tr>

<tr><td class=DataLabel>Date of Birth</td>
    <td><input type=text size=12 name=ptmas017 title="Date of Birth"
         value="%PATWEB89.05.020" tabindex=5 class="Mandatory PastDate"
         onblur="checkDate(this,'Date of Birth');" ></td></tr>

<tr><td class=HeadingCell colspan=6 width=100% align=center>
    PMI Details</td></tr>

<tr><td class=DataLabel>Marital Status</td>
    <td><select  name=ptmas016 tabindex=12 class="select120"
         title="Marital Status">
        <option></option>
        %PATWEB89.05.069.2
        </select></td>
    <td class=DataLabel>Medicare Number</td>
    <td><input type=text size=10 maxlength=10 tabindex=21 name=ptmas023
         id=ptmas023 onblur="checkMedicare(ptmas023);">
        <input type=text size=5 maxlength=2 name=ptmsx045 tabindex=22></td>
    <td>&nbsp;</td>
    <td>&nbsp;</td></tr>

<tr><!--<td align=centre class=DataLabel>Pension Number</td>
    <td><input type=text size=15 maxlength=15 name=ptmas024 tabindex=13></td>-->
    <td></td><td></td>
    <td class=DataLabel>Valid to</td>
    <td><input type=text size=12 name=pmpmi016 title="Valid to"
         tabindex=23 onblur="checkDateSV(this,'Valid to');" ></td>
    <td class=DataLabel></td>
<td><input type=hidden name=pmpmi067 value="%PATWEB89.01.867.0"></td>
</tr>

<tr><td class=DataLabel>Religion</td>
    <td><select  name=ptmas020 tabindex=14 class="select120"
         title="Religion">
        <option></option>
        %PATWEB89.05.023.2
        </select></td>
    <td class=DataLabel>Health Fund </td>
    <td><input type="hidden" name="ptmas036" id=ptmas036>
        <input type=text size=25 name="funddesc" id=funddesc maxlength="30" 
         tabindex=24 readonly onblur="UpCase(this)"></td>
    <td class=DataLabel>Privacy Indicator</td>
    <td><select name=pmpmi066 class=select120 tabindex=32>
        <option></option>
        %STANDARD.01.007.PV
        </select></td></tr>

<tr><td class=DataLabel>Country of Birth</td>
    <td><select  name="ptmas019" tabindex=15 class="select120"
         title="Country of Birth" >
        <option></option>
        </select></td>
    <td class=DataLabel>Health Fund Level </td>
    <td width=22%><input type="hidden" name="ptmas037" id=ptmas037>
        <input type="text" size=15 maxlength=17 name="tabldesc" id=tabldesc
         tabindex=25 readonly >
        <img src="../images/SearchIcon.gif" class=Icon
         onClick="HealthFundSearchFrameNoFocus(ptmas036,funddesc,
                                               ptmas037,tabldesc);">
        <img src="../images/erase.gif" class=Icon
         onClick="clrHealthFund(ptmas036,funddesc,ptmas037,tabldesc);"></td>
    <td class=DataLabel>Local GP </td>
    <td width=20%><input type=hidden name=pmpmi059 id=pmpmi059>
        <input type=text readonly name=genpname id=genpname tabindex=33>
        <img src="../images/SearchIcon.gif" class=Icon
         onClick="HCPSearchFrame(pmpmi059,genpname,3)">
        <img src="../images/erase.gif" class=Icon
         onclick="clrFields(pmpmi059,genpname);"</td></tr>

<tr><td class=DataLabel>Aboriginality</td>
    <td><select name=pmpmi065 tabindex=16 class="select120"
         title="Aboriginality">
        <option></option>
        %STANDARD.01.007.VA
        </select></td>
    <td class=DataLabel>Member Number </td>
    <td><input type=text size=20 maxlength=19 name=ptmas038 tabindex=26></td>
    <td class=DataLabel>PRISM Number</td>
    <td><input type=text size=14 maxlength=12 name=pmpmi018 
         tabindex=34></td></tr>

<tr><td class=DataLabel>Interpreter Required</td>
    <td><select name=pmpmi001 title="Interpreter Required" tabindex=17>
         %PATWEB89.05.801.2
        </select></td>
    <td class=DataLabel>RSL</td>
    <td><select name=ptmas044 class=select120 tabindex=29>
        <option></option>
        %PATWEB89.05.048.2
        </select></td>
    <td class=DataLabel>Correctional Services Number</td>
    <td><input type=text size=8 maxlength=6 name=pmpmi019 tabindex=35></td></tr>

<tr><td class=DataLabel>Pref Language 1</td>
    <td><select name=pmpmi002 tabindex=18 class="select120"
         title="Preferred Language">
        <option></option>
        </select></td>
    <td class=DataLabel>Period</td>
    <td><input type=text size=20 maxlength=20 name=pmpmi069 tabindex=30></td>
    <td class=DataLabel>Homeless Person</td>
    <td><input type=checkbox name=pmpmi068 title="Homeless" value="1" 
         tabindex=36></td></tr>

<tr><td class=DataLabel>Pref Language 2</td>
    <td><select name=pmpmi003 tabindex=19 class=select120
         title="Preferred Language">
        <option></option>
        </select></td>
   <td class=DataLabel>RSL</td>
    <td><select name=ptmas044 class=select120 tabindex=29>
        <option></option>
        %PATWEB89.05.048.2
        </select></td>
    <td class=DataLabel>Merge Psych</td>
    <td><input type=checkbox name=ptmas046 title="Merge Psych" value="1" 
         tabindex=37></td></tr>

<tr><td class=DataLabel>Resident</td>
    <td><select name=ptmas021 tabindex=20 
         title="Resident">
         <option></option>
         %PATWEB89.05.024.2
        </select></td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td class=DataLabel>Folder Selection</td>
    <td><select name=pmpmi077 tabindex=38 title="Folder Selection">
         <option></option>
         %STANDARD.01.007.FS
         </select></td></tr>

<tr><td colspan=6 class=HeadingCell align=center > 
      Death Details </td></tr>

<tr><td class=DataLabel> Date of Death</td>
    <td><input type=hidden name=ptmas029>
        <input type=text size=12 name=ptmas061 id=ptmas061 title="Date of Death"
         notab onBlur="confirmDeath05(this,'Date of Death')">
        <img notab src="../images/DateLookup.gif" class=Icon
         onclick="DateLookupFrame(ptmas061);"></td>
    <td class=DataLabel>Unknown Date of Death </td>
    <td><input type=checkbox name=ptmas067 value="Y" notab
         onclick="confirmDeath05(ptmas061,'Date of Death')"></td>
    <td class=DataLabel>Death Type </td>
    <td><select name=pmpmi017 class=select120 notab title="Death Type">
        <option></option>
        %STANDARD.01.007.DY
        </select></td></tr>

<tr><td colspan=6 class=HeadingCell align=center > 
  <script type="text/javascript">URDesc();</script> Comments </td></tr>
<tr><td colspan=6 align=center>
    <textarea wrap=hard name=urcommnt rows=4 cols=70>
    </textarea></td></tr>

</table>

<table width=100% border=0>
<tr><td align=center><input type=button value="Register" class="button" 
         tabindex=47 name="RegisterButton"
         onClick="tempDisable(this);clickRegisterButton();">
        <input type=button value="Cancel" class="button" tabindex=48
         onclick="history.go(-1)"></td></tr>
</table>

<div id=SelectHeading></div>
<div id=SelectLocation></div>

</form>

<script type="text/javascript">

  if (document.AddForm.ptcnhdps.value="3") {
    intersexoption = document.createElement("option");
    intersexoption.text = "Other";
    intersexoption.value = "R";
    document.AddForm.ptmas015.add(intersexoption);
  } else {
    intersexoption = document.createElement("option");
    intersexoption.text = "Intersex";
    intersexoption.value = "R";
    document.AddForm.ptmas015.add(intersexoption);
  }

   UsualPRFA="%PATWEB89.05.909"
   PatientSex="%PATWEB89.05.086.082"
   for (var i =0 ; i < document.AddForm.ptmas015.length; i++) {
     if (document.AddForm.ptmas015.options[i].value==PatientSex.substr(0,1)) {
         document.AddForm.ptmas015.selectedIndex=i } };

</script>

