<meta name="TemplateVersion" content="V12.00.00">
<meta name="TemplateHome" content="wahealth">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<link rel="stylesheet" href="../html/postcode.css" type="text/css">
<script type="text/javascript" src=../js/IBA_Category_LA.js></script>
<script type="text/javascript" src=../js/IBA_Category_C_.js></script>
<script type="text/javascript" src=../js/AutoPostCode.js></script>
<script type="text/javascript" src=../js/patweb89.js></script>
<script type="text/javascript" src=../js/waempi.js></script>
<script type="text/javascript" src="../js/CustomMyhrConsent.js"></script>
%START.OF.PAGE
<script type="text/javascript">
//-----------------------------------------------------------------------
// check iba parameter to turn on second name textfield
//-----------------------------------------------------------------------
function turnOnSecondGivenName(isSecondNameParamON,gName,fName,secName)
{
  var str = gName.value

  // trim all start and trailing spaces
  if(str!="")
    gName.value = str.replace(/^\s+|\s+$/g,'');
  str = fName.value;
  if(str !="")
    fName.value = str.replace(/^\s+|\s+$/g,'');

  var item = document.getElementById("givenNameLabel");

  //on - allow first and second name fields
  if(isSecondNameParamON==1)
  {
    item.innerHTML = "First Given Name";
    var secondGivenNameLabel = document.getElementById("secondGivenNameLabel");
    secondGivenNameLabel.style.visibility = "visible";
    secName.style.visibility = "visible";
    fName.maxLength = "30";
    secName.maxLength = "30";
    gName.value = fName.value+" "+secName.value;

  }
  //off - allow only given name fields only
  else if(isSecondNameParamON==0)
  {
    item.innerHTML = "Given Name";
    var secondGivenNameLabel = document.getElementById("secondGivenNameLabel");
    secondGivenNameLabel.style.visibility = "hidden";
    secName.style.visibility = "hidden";
    fName.maxLength = "25";
    fName.value = gName.value;

  }
}
function setName() {
  if (document.AddForm.quickreg.checked == true) {
    var bSetName = false;
    var sCurrName = document.AddForm.pmpmi084.value;
    var sCurrSel = document.AddForm.ptmas015.value.substring(0,1);
    var sNewName = "";

    if ( (sCurrName=="") || (sCurrName=="MALE") || (sCurrName=="FEMALE") ){
      bSetName = true;
    }

    if (bSetName) {
      if (sCurrSel=="M") {
        sNewName = "MALE";
      }
      else if (sCurrSel=="F") {
        sNewName = "FEMALE";
      }
      document.AddForm.pmpmi084.value = sNewName;
    }
  }
}
function checkOverseas() {
  if (trim(document.AddForm.ptmas012.value)=="8888")
  {
    document.AddForm.oseasflg.checked=true;
  }
  else
  {
    document.AddForm.oseasflg.checked=false;
  }
  setAddrLine4(AddForm);
}

function clickRegisterButton() {
  var str = document.AddForm.ptmas006.value;

  document.AddForm.ptmas006.value = str.replace(/^\s+|\s+$/g,'');
  str = document.AddForm.pmpmi084.value;
  document.AddForm.pmpmi084.value = str.replace(/^\s+|\s+$/g,'');

  checkSecondName(document.AddForm.ptcnusgn,document.AddForm.ptmas006,
                  document.AddForm.pmpmi084,document.AddForm.pmpmi085);

  if (!CheckValPostCode()) { return; }

  checkDuplicates(AddForm.ptmas005.value,AddForm.pmpmi084.value,
                  AddForm.pmpmi065.value,AddForm.ptmas017.value,submitReg);
}
function submitReg(){
  if (!checkSex()) {
    return;
  }

  var dA = document.AddForm;

  if (checkMedicare(document.AddForm.ptmas023)) {
    ind=document.AddForm.ptmas021.value.substr(5,1)
    if (ind=="S") {
      document.AddForm.redirect.value="patweb89.pbl?reportno=12&template=001"
    } else {
      if (ind=="O") {
        document.AddForm.redirect.value="patweb89.pbl?reportno=12&template=005"
      }
    }

    enableMedicare();

    if (validate05(document.AddForm)) {
      checkAge(dA.ptmas017.value,dA.maxage.value);

      ShowWaitScreen();
      window.setTimeout(function () {
        callService();
        HideWaitScreen();
      },100);
    }
  }
}
function checkSex(){
  p=document.AddForm
  if(document.AddForm.ptmas015.value.substring(0,1)!="I"){
    return true;
  }
  if(days_between(p.ptmas017.value,p.current.value)>365){
    alert("Invalid Sex for Age");
    return false;
  }
  return true;
}
function EnableButton(){
  AddForm.RegisterButton.disabled=false;
}
function valUR(theField){
  if(theField.value.length < 6){
     alert ("Invalid UR Number "); 
     return;
  }
  justifyRight(theField)
}
function valPostCode(){
  UpCase(AddForm.ptmas010);
  if(trim(AddForm.ptmas012.value)!="8888"){
    LookupPostCode(AddForm.ptmas010.value);
  }
}
function calculateDOB() {
 p=document.AddForm
 if(p.ptmas017.value!=""){
   return;             // date of birth already entered
 }
 if(!checkInteger(p.estage,p.estage.title)){
    p.estage.focus();
    return;
 }
 var dummy;
 var today = new Date();
 p.dummy.value = "01 Jul " + today.getFullYear();
 var agedays;
 agedays=parseInt(p.estage.value,10)*parseInt(366,10);
 agedays=agedays-0;
 agedays=agedays.toString();
 AddSubtractDate(p.dummy,agedays,"S");
 year=p.dummy.value.substring(7,11)
 p.ptmas017.value = "01 Jul " + year;
}
function clrMandatory(Sname,Gname,Sex,Dob) {
  p=document.AddForm
  if (document.AddForm.quickreg.checked==true) {
    EstAgeH.innerHTML=EstAgeHead.innerHTML
    EstAgeF.innerHTML=EstAgeField.innerHTML
  } else {
    EstAgeH.innerHTML=EstAgeNoHead.innerHTML
    EstAgeF.innerHTML=EstAgeNoHead.innerHTML
  }
  if (document.AddForm.quickreg.checked!=true) {
    location.reload();
    return;
  }
  for (i=0; i<document.AddForm.elements.length; i++) {
    el=document.AddForm.elements[i];
    if (el.className.match(/Mandatory/)) {
      el.className="";
    }
  }
  if (isWhitespace(document.AddForm.ptmas017.value)){
    document.AddForm.ptmas017.className="Mandatory PastDate";
  }

  document.AddForm.ptmas015.className="Mandatory";
  document.AddForm.ptmas005.className="Mandatory";
  /*
  if (!isWhitespace(Sex)) {
    document.AddForm.ptmas015.value=Sex.substr(0,1);
    for (var i =0 ; i < p.ptmas015.length; i++) {
     if (p.ptmas015.options[i].value.substr(0,1)==Sex) {
         p.ptmas015.selectedIndex=i } 
    }
  }
  */

  if (document.AddForm.ptmas005.value=="U") {
    document.AddForm.ptmas005.value="UNKNOWN";
  }
  if (document.AddForm.ptmas005.value=="UNK") {
    document.AddForm.ptmas005.value="UNKNOWN";
  }
  if (isWhitespace(Sname)) {
    document.AddForm.ptmas005.value="UNKNOWN";
  }  
  if (document.AddForm.pmpmi084.value=="UNK") {
    document.AddForm.pmpmi084.value="UNKNOWN";
  }
  if (document.AddForm.pmpmi084.value=="U") {
    document.AddForm.pmpmi084.value="UNKNOWN";
  }
  if (isWhitespace(p.ptmas008.value)) {
    document.AddForm.ptmas008.value="UNKNOWN";
  }  
  if (isWhitespace(p.ptmas009.value)) {
    document.AddForm.ptmas009.value="UNKNOWN";
  }  
  if (isWhitespace(p.ptmas010.value)) {
    document.AddForm.ptmas010.value="NFPA";
  }  
  if (isWhitespace(p.ptmas012.value)) {
    document.AddForm.ptmas012.value="6999";
  }  
  for (var i =0 ; i < p.ptmas016.length; i++) {
   if (p.ptmas016.options[i].value.substr(14,1)=="6") {
       p.ptmas016.selectedIndex=i } 
  }
  for (var i =0 ; i < p.pmpmi065.length; i++) {
   if (p.pmpmi065.options[i].value.substr(14,1)==" ") {
       p.pmpmi065.selectedIndex=i
       return; } 
  }

  if (isWhitespace(Dob)) {
    if (isWhitespace(document.AddForm.ptmas017.value)) {
    document.AddForm.ptmas017.value="";
    }
  }  else {
    document.AddForm.ptmas017.value=Dob;
  }
}
function ShowSpan(showoption) {
  if (showoption.value=="1") {
    LanguageHD.innerHTML=LanguageHead.innerHTML
    LanguageBox.innerHTML=LanguageSel.innerHTML
    SetCategoryLA(document.AddForm.pmpmi002,"","");
  } else {
    LanguageHD.innerHTML=LanguageNoHead.innerHTML
    LanguageBox.innerHTML=LanguageNul.innerHTML
  }
}
function init() {
  SetPostCode05();
  InitPostCodes();
  SetCategoryC_(document.AddForm.ptmas019,"","1");
  if ( HiddenFields.cgenrur.value == "0" ) {
    URField.innerHTML=URFieldRow.innerHTML;
    document.AddForm.xurnumberx.focus();
  }else{
    document.AddForm.ptmas001.focus();
  }
}

var validMedicareNo = false;
var promptedWarning = false;

function resetPromptedFlg() {
  window.setTimeout(function () { promptedWarning = false; }, 100);
}
function checkMedRef(ev) {
  if (!validMedicareNo || promptedWarning) {
    CancelEvent(ev);
    return false;
  }

  if ((!isWhitespace(AddForm.ptmas023.value)) &&
      (isWhitespace(AddForm.ptmsx045.value))) {
    if (!confirm("WARNING: Medicare reference Number is required field. \n" +
                 "Click OK to enter it now, or CANCEL to return to the " +
                 "medicare number field")) {
      FocusDelay(AddForm.ptmas023);
    } else {
      FocusDelay(AddForm.ptmsx045);
    }
    promptedWarning = true;
    return;
  }

  checkRefNumber(AddForm.ptmsx045);
}
function checkRefNumber(ref) {
  if (isWhitespace(ref.value)) { return true; }

  chknum=ref.value - 0; // Convert to Numeric
  if (chknum > 0 && chknum <= 9) {
     return; }

  if (chknum == 0 ) {
    alert(ref.title + " must be greater than 0 and less than 9");
    FocusDelay(ref);
  } else {
    alert(ref.title + " must be numeric");
    FocusDelay(ref);
  }
}
function checkMedicareWa(ev) {
  if (isWhitespace(AddForm.ptmas023.value)) {
    AddForm.ptmsx045.value="";
    AddForm.ptmsx045.disabled=true;
    AddForm.ptmsx045.className="ReadOnly";
    return;
  }

  if (checkMedicare(AddForm.ptmas023,AddForm.pmpmi016)) {
    validMedicareNo = true;
    AddForm.ptmsx045.disabled=false;
    AddForm.ptmsx045.className="Mandatory";
    FocusDelay(AddForm.ptmsx045);
  }
  else {
    validMedicareNo = false;
    CancelEvent(ev);
    return false;
  }
}
function enableMedicare() {
  if(isWhitespace(AddForm.ptmas023.value)) {
    AddForm.ptmsx045.disabled=false;
    AddForm.ptmsx045.value="";
  }
}
function ValMedicare05() {
  var mon;
  Input=document.AddForm.ptmas017.value
  day= Input.substring(0,2)
  year= Input.substring(6,11)
  monstr= Input.substring(3,6)
  if (monstr=="Jan" || monstr=="JAN" || monstr=="jan") mon=00
  if (monstr=="Feb" || monstr=="FEB" || monstr=="feb") mon=01
  if (monstr=="Mar" || monstr=="MAR" || monstr=="mar") mon=02
  if (monstr=="Apr" || monstr=="APR" || monstr=="apr") mon=03
  if (monstr=="May" || monstr=="MAY" || monstr=="may") mon=04
  if (monstr=="Jun" || monstr=="JUN" || monstr=="jun") mon=05
  if (monstr=="Jul" || monstr=="JUL" || monstr=="jul") mon=06
  if (monstr=="Aug" || monstr=="AUG" || monstr=="aug") mon=07
  if (monstr=="Sep" || monstr=="SEP" || monstr=="sep") mon=08
  if (monstr=="Oct" || monstr=="OCT" || monstr=="oct") mon=09
  if (monstr=="Nov" || monstr=="NOV" || monstr=="nov") mon=10
  if (monstr=="Dec" || monstr=="DEC" || monstr=="dec") mon=11

  ans = "true";
  Today = new Date();
  Bday = new Date();
  Bday.setFullYear(year);
  Bday.setMonth(mon);
  Bday.setDate(day);
  difference = "0";

  if (Today.getTime() > Bday.getTime()) {
    difference = Today.getTime() - Bday.getTime();
    difference = Math.floor(difference / (1000 * 60 * 60 * 24));
    ageyears = (difference/365);
  }
  i=document.AddForm.ptmas021.selectedIndex
  ind=document.AddForm.ptmas021.options[i].value.substring(3,4)
  if (difference > "180") {
    if (!isWhitespace(document.AddForm.ptmas023.value)) {
      if (document.AddForm.ptmsx045.value=="0" ||
          document.AddForm.ptmsx045.value==" 0") {
      ans=confirm("Warning : patient greater than 6 months, zero medicare reference");
      if (ans==false) {
          document.AddForm.ptmsx045.value=="";
          document.AddForm.ptmsx045.focus();
          return; }
          }
        }
     }
// Residents only
  if (ind=="1") {
    if (isWhitespace(document.AddForm.ptmas023.value)) {
        alert("Warning : Resident with no medicare number");
    }
  }
}
// Warn if marital status for children is not Cat.M code where indc1=1
function valAgeMaritalStatus() {
  p=document.AddForm
  var serverURL = "../cgi-bin/comweb80.pbl?reportno=77" +
                  "&valddobe="+p.ptmas017.value.replace(/ /g,"+") +
                  "&valdcod2="+p.ptmas016.value.replace(/ /g,"+") +
                  "&valddate="+p.currdate.value.replace(/ /g,"+")
  var returnValue = RSExecute(serverURL);
  if (returnValue.status==0){
    ReturnValue=returnValue.return_value.split("|");
    if((parseInt(ReturnValue[0])<=parseInt(ReturnValue[1]))&&
       (parseInt(ReturnValue[2])!="1")){
      alert("Please check marital status for age of this patient. ");
    }
    return true;
  } else {
    return false;
  }
}
// Default marital status for children to Cat.M code where indc1=1
function defaultMaritalStatus() {
  p=document.AddForm
  var serverURL = "../cgi-bin/comweb80.pbl?reportno=77" +
                  "&valddobe="+p.ptmas017.value.replace(/ /g,"+") +
                  "&valdcod2=DEFAULT" +
                  "&valddate="+p.currdate.value.replace(/ /g,"+")
  var returnValue = RSExecute(serverURL);
  if (returnValue.status==0){
    ReturnValue=returnValue.return_value.split("|");
    if((parseInt(ReturnValue[0])<=parseInt(ReturnValue[1]))){
      for (var i =0 ; i < p.ptmas016.length; i++) {
        if (p.ptmas016.options[i].value.substr(3,1)=="1") {
            p.ptmas016.selectedIndex=i 
        }
      }
    }
    return true;
  } else {
    return false;
  }
}
function checkContactCorrespondence() {
  if (document.AddForm.quickreg.checked == true) {
    document.AddForm.pmpmi005.className="";
    document.AddForm.ptmas013.className="";
    document.AddForm.ptmsx039.className="";
    document.AddForm.ptmas014.className="";
    return;
  }

  if (document.AddForm.pmpmi095.value.substring(3,4)=='E') {
     document.AddForm.pmpmi005.className="Mandatory"; 
  } else {
    if (document.AddForm.pmpmi096.value.substring(3,4)=='E') {
       document.AddForm.pmpmi005.className="Mandatory";
    } else {
       document.AddForm.pmpmi005.className="";
    }
  }

  if (document.AddForm.pmpmi095.value.substring(3,4)=='H') {
     document.AddForm.ptmas013.className="Mandatory";
  } else {
     document.AddForm.ptmas013.className="";
  }  

  if (document.AddForm.pmpmi095.value.substring(3,4)=='M') {
     document.AddForm.ptmsx039.className="Mandatory";
  } else {
    if (document.AddForm.pmpmi095.value.substring(3,4)=='S') {
       document.AddForm.ptmsx039.className="Mandatory";
    } else {
       document.AddForm.ptmsx039.className="";
    }
  }

  if (document.AddForm.pmpmi095.value.substring(3,4)=='W') {
     document.AddForm.ptmas014.className="Mandatory";
  } else {
     document.AddForm.ptmas014.className="";
  }

}
function ShowMultBirthOrder() {
  f = document.AddForm;
  if (isWhitespace(f.ptmas086.value)) {
    document.getElementById('DispBirthOrder').style.display = "none";
    document.getElementById('ptmas087').className = "";
    document.getElementById('ptmas087').value = "0"; 
    f.maxmbirt.value = "0";
  }
  else {
    document.getElementById('DispBirthOrder').style.display = "";
    document.getElementById('ptmas087').className="Mandatory";
    document.getElementById('ptmas087').value="";
    i = f.ptmas086.selectedIndex;
    assnNo = f.ptmas086.options[i].value.substr(27,1);
    if (isWhitespace(assnNo)) {
      f.maxmbirt.value = "0";
    }
    else {
      f.maxmbirt.value = assnNo;
    }
  }
}
function CheckMultBirthOrder() {
  f = document.AddForm;
  if (!checkInteger(f.ptmas087,f.ptmas087.title)) {return false;}
  if (f.ptmas087.value > f.maxmbirt.value) {
    alert('Birth Order is greater than maximum value allowed');  
    f.ptmas087.focus();
  }
}
function EthnicityLanguageSpokenAtHome() {
  f = document.AddForm;
  if (VariableNameExists('Ethnicity1Mandatory')) {
    if (Ethnicity1Mandatory == true) {
      AddClassName(f.pmpmi139,"Mandatory");
    }
  }
  if (VariableNameExists('HomeLanguage1Mandatory')) {
    if (HomeLanguage1Mandatory == true) {
      AddClassName(f.pmpmi141,"Mandatory");
    }
  }
}
</script>
</head>
<body onLoad="PageLoad(event);
              turnOnSecondGivenName(document.AddForm.ptcnusgn.value,
                                    document.AddForm.ptmas006,
                                    document.AddForm.pmpmi084,
                                    document.AddForm.pmpmi085);
              EthnicityLanguageSpokenAtHome();
              ChkIdentifyGenderPronounTitle(document.AddForm);
              displayPrefNames(document.AddForm.ptcnnmpr.value);">
<form name=AddForm action="patweb89.pbl" method=post style="margin:0"
 onsubmit='return validateMandatory(this);'>
  <input type=hidden name=reportno value="05">
  <input type=hidden name=formactn value="NR">
  <input type=hidden name=updttype value="">
  <input type=hidden name=chckname>
  <input type=hidden name=redirflg value="1">
  <input type=hidden name=nextpage value="3">
  <input type=hidden name=updateky value="%PATWEB89.05.700">
  <input type=hidden name=redirect value="patweb07.pbl?reportno=6&template=004">
  <input type=hidden name=dummy value="">
  <input type=hidden name=pmpmi076 value="">
  <input type=hidden name=praflag value="0">
  <input type=hidden name=sesskeys value="%PATWEB89.05.918">
  <input type=hidden name=noofdays value="%PATWEB89.05.919">
  <input type=hidden name=theaflag value="%PATWEB89.05.920">
  <input type=hidden name=hidsname id=hidsname value="%PATWEB89.05.009">
  <input type=hidden name=hidgname id=hidgname value="%PATWEB89.05.010">
  <input type=hidden name=ptcnusgn  value="%STANDARD.01.025.114.219.0.1">
  <input type=hidden name=otptflag value="%PATWEB89.05.942">
  <input type=hidden name=casekeys value="%PATWEB89.05.907">
  <input type=hidden name=manalloc id=manalloc value="">
  <input type=hidden name=urnumber id=urnumber value="">
  <input type=hidden name=currdate value="%STANDARD.01.015">
  <input type=hidden name=maxage value="%PATWEB89.05.092">
  <input type=hidden name=maxmbirt value="0">
  <input type=hidden name=ptcnhdps id=ptcnhdps 
         value="%STANDARD.01.025.080.250.1.1">
  <input type=hidden name=ptcnnmpr value="%STANDARD.01.025.128.226.1.1">

<table align=center width=100% border=1 cellspacing=0 cellpadding=0>
<tr><td>
<table align=center width=100% border=0 cellspacing=0 cellpadding=1>
<tr><td class=HeadingCell colspan=6 align=center>
     New Patient Details </td></tr>
<!--
</tr><td>
<table align=center width=100% border=0 cellspacing=0 cellpadding=0>
-->
<tr><td colspan=2>
    <div id=URField></div>
    </td>
    <td class=DataLabel>Overseas Address</td>
    <td><input type=checkbox name=oseasflg tabindex=-1
         onClick='setAddrLine4(AddForm);'>
    </td>
    <td class=DataLabel><font color=red> QUICK REGISTRATION </font></td>
    <td><input type=checkbox name=quickreg id='quickreg' tabindex=-1 value="1"
         onClick='clrMandatory(hidsname.value,hidgname.value,"%PATWEB89.05.019","%PATWEB89.05.020");setName();'></td>
    </tr>

<tr><td class=DataLabel>Title</td>
    <td><select title="Patient Title"
        name=ptmas001 id=ptmas001 tabindex=2>
        <option></option>
        %STANDARD.01.029
        </select>
        </td>
    <td class=DataLabel>Address</td>
    <td><input type=text size=35 maxlength=35  tabindex=6
        name="ptmas008" title="Address Line 1" class="Mandatory"
        onchange="UpCase(this)"></td>
    <td class=DataLabel>Home Phone</td>
    <td><input type=text size=23 maxlength=20
        name=ptmas013 title="Home Phone Number" tabindex=9></td></tr>

<tr><td class=DataLabel> Surname</td>
    <td><input type=text size=40 name=ptmas005 value="%PATWEB89.05.009"
        title="Patient Surname" maxlength=40 class="Mandatory AlphanumSpec3"
        tabindex=2 onchange="UpCase(this)"></td>

    <td class=DataLabel></td>
    <td><input type=text size=35 maxlength=35
        name=ptmas009 title="Address Line 2" tabindex=7 
        onchange="UpCase(this)"></td>
    <td class=DataLabel>Work Phone</td>
    <td><input type=text size=23 maxlength=20
        name=ptmas014 title="Work Phone Number" tabindex=10></td></tr>

<tr id=PrefSurname style="display:none">
  <td class=DataLabel>Preferred Surname</td>
  <td><input type=text size=20 maxlength=20 name=pmpmi082
       title="Preferred Surname"
       tabindex=2 onchange="UpCase(this);"></td>
  <td>&nbsp;</td><td>&nbsp;</td>
  <td>&nbsp;</td><td>&nbsp;</td>
</tr>

<tr>
<td class=DataLabel id="givenNameLabel">Given Names</td>
    <td><input type=hidden name=ptmas006 title="Given Name"
         value="%PATWEB89.05.010">
        <input type=text size=42 maxlength=30
        title="First Given Name" tabindex=3 class="Mandatory AlphanumSpec3" 
        name=pmpmi084 value="%PATWEB89.05.010" onchange="UpCase(this)">
    </td>

    <td class=DataLabel> Suburb</td>
    <td><input type=text size=35 maxlength=35
       name=ptmas010 title="Address Line 3" Class=Mandatory tabindex=8 
        value="%PATWEB89.05.015" onchange="valPostCode();">
    </td>

    <td class=DataLabel>Mobile Phone</td>
    <td><input type=text size=23 maxlength=20
        name=ptmsx039 title="Mobile Phone Number" tabindex=11></td>
</tr>

<tr><td class=DataLabel id="secondGivenNameLabel">Second Given Name</td>
    <td><input type=text size=42 maxlength=30 id="secondGivenName"
        title="Second Given Name" tabindex=4 class="AlphanumSpec3"
        name=pmpmi085 value=""
        onchange="UpCase(this);">
    </td>

    <td><div id=AddressLine4H></div></td>
    <td><div id=AddressLine4></div></td>
    <td class=DataLabel>Email</td>
    <td><input type=text size=23 maxlength=80
               name=pmpmi005 title="E-Mail"
               value="" tabindex=11></td>
  </tr>

<tr id=PrefGivenName style="display:none">
  <td class=DataLabel>Preferred Given Name</td>
  <td><input type=text size=25 maxlength=25 name=pmpmi083
       title="Preferred Given Name"
       tabindex=4 onchange="UpCase(this);"></td>
  <td>&nbsp;</td><td>&nbsp;</td>
  <td>&nbsp;</td><td>&nbsp;</td>
</tr>

<tr>
<td class=DataLabel>%STANDARD.01.017.G </td>
     <td><select name="ptmas015" tabindex=4 class=Mandatory 
          title="%STANDARD.01.017.G " 
          onchange="setName();
                    ChkIdentifyGenderPronounTitle(document.AddForm);">
         <option></option>
         %PATWEB89.05.086.099.061.9.1.19.3.H
         </select></td>
  <td class=DataLabel>Post Code</td>
    <td><input type=text size=4 maxlength=4
        name=ptmas012 title="Post Code" Class=Mandatory tabindex=8
        value="%PATWEB89.05.016" 
        onchange="checkOverseas();LookupSuburb(ptmas012.value);">
    </td>    

    <td class=DataLabel>%STANDARD.01.035.Pn </td>
    <td><select name=pmpmi095 class="SelectBig" tabindex=12
         onchange="checkContactCorrespondence();">
        <option></option>
        %STANDARD.01.007.Pn 
        </select>
  </td>
</tr>

<tr><td class=DataLabel>Date of Birth</td>
    <td>
      <input type=text size=12 name=ptmas017 title="Date of Birth"
       value="%PATWEB89.05.020" tabindex=4 class="Mandatory PastDate"
       onBlur="checkDate(this,'Date of Birth');defaultMaritalStatus();
       checkAge(this.value,'%PATWEB89.05.092');">
    </td>
    <td class=DataLabel>
      <font color=red>Demographics Confirmed Date</td>
    <td>
      <input type="text" class="PastDate" name="ptmas069" id=ptmas069 
       title="Demographics Confirmed Date" tabindex=8 value="%STANDARD.01.015">
      <img notab src="../images/DateTimeStamp.gif" class=Icon
       onClick="SetCurrentDateTime(ptmas069,null);" />
    </td>
    <td class=DataLabel>%STANDARD.01.035.Pr </td>
    <td>
      <select name=pmpmi096 class="SelectBig" tabindex=12
       onchange="checkContactCorrespondence();">
        <option></option>
        %STANDARD.01.007.Pr 
      </select>
    </td>
</tr>

<tr><td class=DataLabel>%STANDARD.01.035.mX</td>
    <td><select name=ptmas086 tabindex=4 
         title="%STANDARD.01.035.mX"
         onchange="ShowMultBirthOrder();">
        <option></option>
         %STANDARD.01.007.mX
        </select>
        <span id=DispBirthOrder style="display:none">
          Birth Order (0=Not Stated)
          <input type=text name=ptmas087 id=ptmas087 tabindex=4
           size=1 maxlength=1 title="Birth Order" value=""
           onblur="CheckMultBirthOrder();">
        </span>    
    </td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
</tr>

<tr id=GenderExtra>
  <td><div id=IdenGenLbl></div></td>
  <td><div id=IdenGenDetail></div></td>
  <td><div id=IdenProLbl></div></td>
  <td><div id=IdenProDetail></div></td>
</tr>

<input type=hidden name=current value='%STANDARD.01.015'>

<tr><td><span id=EstAgeH></td>
    <td><span id=EstAgeF></td>
</tr>

<tr><td><span id=panel></td>
    <td><span id=panel2></td>
    <td><span id=loading></td>
    <td><span id=returnDiv></td>
</tr>

<tr><td class=HeadingCell colspan=6 width=100% align=center>
    PMI Details</td></tr>

<tr><td class=DataLabel>Marital Status</td>
    <td><select  name=ptmas016 tabindex=12 class="select120 Mandatory"
         title="Marital Status" onblur="valAgeMaritalStatus();">
        <option></option>
         %PATWEB89.05.069.4
        </select></td>
    <td class=DataLabel>Medicare Number</td>
    <td><input type=text size=10 maxlength=50 name=ptmas023 id=ptmas023
         tabindex=20 title="Medicare Number" onblur="checkMedicareWa(event);">
       <input type=text size=1 maxlength=1 name=ptmsx045 id=ptmsx045 tabindex=21
         onblur="checkMedRef(event);" onfocus="resetPromptedFlg();"
         title="Medicare Reference Number"></td>
    <td class=DataLabel></td>
    <td><input type=hidden name=pmpmi067 value="%PATWEB89.01.867.0"></td>
</tr>

<tr><td class=DataLabel>Religion</td>
    <td><select  name=ptmas020 tabindex=13 class="select120"
         title="Religion">
        <option></option>
        %PATWEB89.05.023.4
        </select></td>
    <td class=DataLabel>Valid to</td>
    <td><input type=text size=12 name=pmpmi016 id=pmpmi016 title="Valid to"
         tabindex=22 onblur="checkDateSV(this,'Valid to');" ></td>
    <td class=DataLabel>Privacy Indicator</td>
    <td><select name=pmpmi066 class=select120 tabindex=28>
        <option></option>
        %STANDARD.01.021.PV
        </select></td>
</tr>

<tr><td class=DataLabel>Country of Birth</td>
    <td><select  name="ptmas019" tabindex=14 class="select120 Mandatory"
         title="Country of Birth" >
        <option></option>
        </select></td>
    <td class=DataLabel>Health Fund </td>
    <td><input type="hidden" name="ptmas036" id=ptmas036>
       <input type=text size=25 name="funddesc" id=funddesc 
         maxlength="30" readonly 
         onblur="UpCase(this)"></td>

    <td class=DataLabel>Local GP </td>
    <td width=20%><input type=hidden name=pmpmi059 id=pmpmi059>
        <input type=text readonly name=genpname id=genpname>
        <img src="../images/SearchIcon.gif" class=Icon tabindex=29
         onClick="GPHCPSearchFrame(pmpmi059,genpname,genpprov,pmpmi060,
                                   genpprac,pmpmi061,3)">
    </td></tr>


<tr><td class=DataLabel>Indigenous Status</td>
    <td><select name=pmpmi065 tabindex=15 class="select120 Mandatory"
         title="Indigenous Status">
        <option></option>
        %STANDARD.01.021.VA
        </select></td>
    <td class=DataLabel>Health Fund Level </td>
    <td width=22%><input type="hidden" name="ptmas037" id=ptmas037>
        <input type="text" size=15 maxlength=17 name="tabldesc" id=tabldesc
         readonly >
        <img src="../images/SearchIcon.gif" class=Icon tabindex=23 
         onClick="HealthFundSearchFrameNoFocus(ptmas036,funddesc,
                                               ptmas037,tabldesc);">
        <img src="../images/erase.gif" class=Icon
         onClick="clrHealthFund(ptmas036,funddesc,ptmas037,tabldesc);"></td>

         
    <td class=DataLabel>Practice</td>          
    <td width=20%><input type=hidden name=pmpmi060 id=pmpmi060
        value="%PATWEB89.05.885.001">
        <input type=hidden name=pmpmi061 id=pmpmi061
         value="%PATWEB89.05.861">
        <input type=hidden name=genpprov id=genpprov
         value="">
        <input type=text readonly name=genpprac id=genpprac
         value="%PATWEB89.05.885.005">
        <img src="../images/SearchIcon.gif" class=Icon tabindex=29
         onClick="GPHCGSearchFrame(pmpmi059,genpname,genpprov,pmpmi060,
                                   genpprac,pmpmi061)">
        <img src="../images/erase.gif" class=Icon
         onClick="clrFields(pmpmi060,genpprac,pmpmi061,genpprov);"></td>
</tr>

<tr><td class=DataLabel>Resident</td>
    <td><select name=ptmas021 tabindex=15 class=Mandatory
         title="Resident">
         <option></option>
         %PATWEB89.05.024.2
        </select>
    </td>
    <td class=DataLabel>Member Number </td>
    <td><input type=text size=20 maxlength=19 name=ptmas038
          tabindex=24></td>
    <td class=DataLabel>Folder Selection</td>
    <td><select name=pmpmi077 tabindex=30 title="Folder Selection">
         <option></option>
         %STANDARD.01.021.FS
         </select></td>
</tr>


<tr><td class=DataLabel>Interpreter Required</td>
    <td><select title="Interpreter Required" name=pmpmi001
        onchange="ShowSpan(this);" tabindex=17 class=Mandatory>
        <option value="" selected> </option>
        <option value="U">Not Stated </option>
        <option value="0">No</option>
        <option value="1">Yes</option>
        </select>
        </td>

    <td class=DataLabel>Health Fund Contributor Name</td>
    <td><input type=text size=42 maxlength=40
        name=pmpmi093 title="Health Fund Contributor Name" tabindex=26>
    </td>

    <td class=DataLabel>Consent upload to My Health Record?</td>
    <td><select name=ptmas039 tabindex=31 title="Consent MyHR Upload">
         <option></option>
         %STANDARD.01.018.P1.000.4
         </select>&nbsp;(<a href="javascript:patientMyhrConsentForm();">form</a>)
    </td>
</tr>
<tr>
    <td><span id=LanguageHD></span></td>
    <td><span id=LanguageBox></span></td>
</tr>

<tr><td class=DataLabel>Ancestry/Ethnicity 1</td>
    <td><select name=pmpmi139 id=pmpmi139 tabindex=19
         title="Ancestry/Ethnicity 1">
         <option></option>
          %PATWEB89.05.899.082.9.4
        </select>
    </td>
    <td class=DataLabel>Main Language Spoken at Home 1</td>
    <td><select name=pmpmi141 id=pmpmi141 tabindex=26
         title="Main Language Spoken at Home 1">
         <option></option>
          %PATWEB89.05.899.084.9.4
        </select>
    </td>
    <td></td>
    <td></td>
</tr>
<tr><td class=DataLabel>Ancestry/Ethnicity 2</td>
    <td><select name=pmpmi140 id=pmpmi140 tabindex=19
         title="Ancestry/Ethnicity 2">
         <option></option>
          %PATWEB89.05.899.083.9.2
        </select>
    </td>
    <td class=DataLabel>Main Language Spoken at Home 2</td>
    <td><select name=pmpmi142 id=pmpmi142 tabindex=26
         title="Main Language Spoken at Home 2">
         <option></option>
          %PATWEB89.05.899.085.9.2
        </select>
    </td>
    <td></td>
    <td></td>
</tr>

<tr><td colspan=6 class=HeadingCell align=center > 
  <script type="text/javascript">URDesc();</script> Comments </td></tr>
<tr><td colspan=6 align=center>
    <textarea wrap=hard name=urcommnt rows=3 cols=70 tabindex=36>
    </textarea></td></tr>

</table>
<table width=100% border=0>
<tr><td>&nbsp;</td></tr>
<tr><td align=center>
    <input type=button value="Register" class="button" tabindex=47 
     name="RegisterButton" id="RegisterButton"
     onclick="tempDisable(this);clickRegisterButton();">
    <input type=button value="Cancel" class="button" tabindex=48
     onclick="history.go(-1)">
    </td></tr>
</table>
</td></tr>
</table>

<div id=SelectHeading></div>
<div id=SelectLocation></div>
</form>

<span id=WaitBoxDisplay class=WaitBox style="display:none">
<img class=WaitImage src="../images/wait.gif">
<p>Please Wait ...</p>
</span>

<div id=PageLayer class=DimmedLayer style="display:none"></div>


<span id=LanguageNoHead style="display:none;">
  <td></td>
  <td></td>
</span>
<span id=LanguageNul style="display:none;">
    <td><input type=hidden name=pmpmi002 value=""></td>
</span>

<script type="text/javascript">
   UsualPRFA="%PATWEB89.05.909"
/*
   PatientSex="%PATWEB89.05.086.082"
   for (var i =0 ; i < document.AddForm.ptmas015.length; i++) {
     if (document.AddForm.ptmas015.options[i].value==PatientSex.substr(0,1)) {
         document.AddForm.ptmas015.selectedIndex=i } };
*/
</script>

<form name=HiddenFields method=get>
<input type=hidden name=cgenrur value="%PATWEB89.05.097">
</form>

<span id=AustStateH style="display:none">
<table colspan=1 width=100% height=100% border=0 cellspacing=0 cellpadding=0>
    <td class=DataLabel>&nbsp;</td>
</table>
</span>
<span id=AustState style="display:none">
<table colspan=1 width=100% height=100% border=0 cellspacing=0 cellpadding=0>
    <td><input type=text size=35 maxlength=35
       name=ptmas011 title="Address Line 4" tabindex=8
       onChange="UpCase(this);">
    </td>
</table>
</span>
<span id=OseasCountryH style="display:none">
<table colspan=1 width=100% height=100% border=0 cellspacing=0 cellpadding=0>
    <td class=DataLabel>Country</td>
</table>
</span>
<span id=OseasCountry style="display:none">
<table colspan=1 width=100% height=100% border=0 cellspacing=0 cellpadding=0>
    <td><select name="ptmas011" tabindex=8 class="Mandatory"
                 title="Country Address">
        <option></option>
        %PATWEB89.05.085.060
        </select></td>
</table>
</span>
<span id=LanguageHead style="display:none;">
    <td class=DataLabel>Language</td>
</span>
<span id=LanguageSel style="display:none;">
    <td><select name=pmpmi002 class="select120 Mandatory" tabindex=18
         title="Language">
        <option></option>
        </select></td>
</span>
<div id=URFieldRow style="display:none">
<table align=center width=100% border=0 cellspacing=0 cellpadding=0>
<tr>
<td class=DataLabel width=18%>U/R Number</td>
<td colspan=4><input type=text name=xurnumberx class=mandatory size=10 tabindex=1
               maxlength=8 title="U/R Number" onChange="valUR(this)";>
</td>
</tr></table>
</div>
<span id=EstAgeNoHead style="display:none;">
</span>
<span id=EstAgeHead style="display:none;">
    <td class=DataLabel>Estimated Age</td>
</span>
<span id=EstAgeField style="display:none;">
    <td><input type=text size=4 maxlength=4 tabindex=4 title="Estimated Age"
         min=1 name=estage onblur="calculateDOB();">
    </td>
</span>
<span id="loading" name="loading" ></span>
<span id="panel" style="margin:0px auto;padding:10px;display:none;">
  <span id='panel2' style="background-color:#efefef;margin:0 auto;width:600px;border:1px solid #ccc;padding:10px;">
    <span id="returnDiv"  name="returnDiv"></span>
  </span>
</span>

<span id=idenGenLblShow style="display:none">
  <td class=DataLabel>%STANDARD.01.035.Gi</td>
</span>
<span id=idenGenDetailShow style="display:none">
  <td><select name=pmpmi125 id=pmpmi125 class=Mandatory tabindex=5
       title="%STANDARD.01.035.Gi"
       onchange="IdenGenderChange(document.AddForm);">
      <option></option>
       %STANDARD.01.018.Gi.   .9.2
      </select><br>
      <span id=IdenGenFreeTxt></span>
  </td>
</span>
<span id=idenGenDetailBlank style="display:none">
  <td><input type=hidden name=pmpmi125 id=pmpmi125 value=""></td>
  <td><input type=hidden name=pmpmi126 id=pmpmi126 value=""></td>
</span>
<span id=idenGenFreeTxtShow style="display:none">
  <input type=text name=pmpmi126 id=pmpmi126 size=80 maxlength=80
   class=Mandatory tabindex=5
   title="Identifying Gender Free Text"
   value="">
</span>
<span id=idenGenFreeTxtBlank style="display:none">
  <td><input type=hidden name=pmpmi126 id=pmpmi126 value=""></td>
</span>

<span id=idenProLblShow style="display:none">
  <td class=DataLabel>%STANDARD.01.035.Gp</td>
</span>
<span id=idenProDetailShow style="display:none">
  <td><select name=pmpmi127 id=pmpmi127 class=Mandatory tabindex=8
       title="%STANDARD.01.035.Gp"
       onchange="IdenPronounChange(document.AddForm);">
      <option></option>
       %STANDARD.01.018.Gp.   .9.2
      </select><br>
      <span id=IdenProFreeTxt></span>
  </td>
</span>
<span id=idenProDetailBlank style="display:none">
  <td><input type=hidden name=pmpmi127 id=pmpmi127 value=""></td>
  <td><input type=hidden name=pmpmi128 id=pmpmi128 value=""></td>
</span>
<span id=idenProFreeTxtShow style="display:none">
  <input type=text name=pmpmi128 id=pmpmi128 size=80 maxlength=80
   class=Mandatory tabindex=8
   title="Identifying Pronoun Free Text"
   value="">
</span>
<span id=idenProFreeTxtBlank style="display:none">
  <td><input type=hidden name=pmpmi128 id=pmpmi128 value=""></td>
</span>
