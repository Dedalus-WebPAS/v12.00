<meta name="TemplateVersion" content="V12.00.00">
<meta name="TemplateHome" content="wahealth">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<meta http-equiv="Refresh" content="200">
<script type="text/javascript" src="../js/EmergencyTable.js"> </script>
<script type="text/javascript">
function SelectPatient(urnumber,admissno) { 
  location.href="emrweb02.pbl?reportno=1&template=017&urnumber=" +
                 urnumber + "&admissno=" + admissno;
}
function OpenLocation(urnumber,admissno) { 
  linkURL="emrweb02.pbl?reportno=1&template=107&urnumber=" +
          urnumber + "&admissno=" + admissno;
  DFrameLink(linkURL,57,465,410,270);
}
function SetReturnPathCookie() {
  document.cookie = "ReturnPath=" + escape(location.href) + ";"
}
</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);initTable(%EMRWEB01.01.052);
              SetReturnPathCookie();">
<div id=HeadingSection>
<table cellpadding=3 cellspacing=0 bgcolor=#CCCCCC border=0 width=100%>
<tr><td>
    <a href=javascript:initTable(0)>
      <img src=../images/TableViewIcon.gif class="Icon"
      alt="Show Times"></a>
    <a href=javascript:initTable(1)>
      <img src=../images/TableViewIcon.gif class="Icon"
        alt="Default View"></a>
  </td>
</tr>
</table>
</div>

<div id=TableLocation></div>

<script type="text/javascript">
function initTable(TableView) {
  document.title="Current Patient List"
  obj = new Table(1,0,0,"100%","center");    // Create New Table Object
  immediate = 0
  emergency = 0
  urgent = 20
  semi = 50
  non = 110
  template = 2

  //
  // Add Columns in Order Required
  // Heading,Type,Display Column,Sort Column,Align
  //
  switch (TableView) {
   case 0: {
    obj.addColumn("Tri","Image",5,5,"center","","",25)
    obj.addColumn("Patient","ImageText",39,39,"left","PatientFolder","1",180,37)
    obj.addColumn("Age","String",9,45,"right","","",29)
    obj.addColumn("Sex","String",8,8,"center","","",24)
    obj.addColumn("Arr","Time",7,7,"center","","",30)
    obj.addColumn("Doc","String",33,33,"left","","",30)
    obj.addColumn("Presenting Complaint","String",57,57,"left","","",135)
    obj.addColumn("Loc","String",1,1,"left","LocationIcon.gif","2",43)
    obj.addColumn("Exp. Ward","String",22,22,"left","","",35)
    obj.addColumn("Unit","String",32,32,"left","","",75)
    obj.addColumn("Time Since Arrival","String",31,31,"left","","",30)
    break;
   }
   case 1: {
    obj.addColumn("Tri","Image",5,5,"center","","",25)
    obj.addColumn("Patient","ImageText",39,39,"left","PatientFolder","1",180,37)
    obj.addColumn("Age","String",9,45,"right","","",29)
    obj.addColumn("Sex","String",8,8,"center","","",24)
    obj.addColumn("Arr","Time",7,7,"center","","",30)
    obj.addColumn("Doc","String",33,33,"left","","",30)
    obj.addColumn("Presenting Complaint","String",57,57,"left","","",135)
    obj.addColumn("Loc","String",1,1,"left","LocationIcon.gif","2",43)
    obj.addColumn("Bed Status","String",43,43,"left","","",70)
    obj.addColumn("%STANDARD.01.017.et","String",44,44,"left","","",75)
    break;
   }
  }

  ShowWaitScreen();
  window.setTimeout(function() { LoadTableData(); },50);
}

function LoadTableData() {
  //
  // Add Rows to Table (Output from Web Server)
  //
  %EMRWEB01.01.001
  //
  //
  OrderColumn=7;
  AscDsc=1;
  lastOrderColumn=OrderColumn;
  TableOutput(OrderColumn,AscDsc,immediate,emergency,urgent,semi,non,template);
  HideWaitScreen();
}
</script>

<form name="HiddenFields" style="margin:0">
<input type="hidden" name="venquiry" value="%EMRWEB01.01.056">
</form>

<span id=WaitBoxDisplay class=WaitBox style="display:none">
<img class=WaitImage src="../images/wait.gif">
<p>Please Wait ...</p>
</span>

<div id=PageLayer class=DimmedLayer style="display:none"></div>
