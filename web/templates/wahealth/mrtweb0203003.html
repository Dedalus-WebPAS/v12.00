<meta name="TemplateVersion" content="V12.00.00">
<meta name="TemplateHome" content="wahealth">
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript" src="../js/mrtweb0203003.js"></script>
<script type="text/javascript">
function init() {
  setTimeout('AccidentDate()',200);
  setTimeout('setDesc()',200);
  setTimeout('OnsetType()',200);
}
function setDesc() {
  if (document.UpdateForm.morbdesc.value!="1") {
    document.UpdateForm.diopc002.readOnly=true;
    document.UpdateForm.diopc002.className="Readonly";
  }
}
function PostUpdate() {
  p=document.UpdateForm;
  var parecd08 = parent.document.getElementById("ptecd008");
  var docecd08 = document.getElementById("ptecd008");
  if (parecd08!=undefined) {
    docecd08.value=parecd08.value;
  }
  if (validateMandatory(document.UpdateForm)) {
    if (isWhitespace(document.UpdateForm.diopc002.value)) {
      alert("Diagnosis Code Description must be entered.");
      document.UpdateForm.diopc002.focus();
    }
    else {
      if (!CheckContractCareFlagPatType(p.diopc004.value,p.atypedef.value)) {
        if (!confirm("Warning: No Contracted Care Flag selected for " + 
                     "contracted episode")) {
          return;
        }
      }
      document.UpdateForm.updttype.value="U";
      document.UpdateForm.submit();
    }
  }
}
function CheckContractCareFlagPatType(ccflag,ptypedef) {
  if (!isWhitespace(ccflag)) {return true;}
  ptypedef=trim(ptypedef);
  if (ptypedef == "9" || ptypedef == "10" || ptypedef == "0") {
    return false;
  }
  return true;
}
</script>
</head>
%START.OF.PAGE
<body onLoad="PageLoad(event);">
<span class=DFrameTitleBar> 
<img align="right" alt="Exit" class="MenuIcon" 
 src="../images/ExitIcon.gif" onclick="DFrameExit();">
<script type="text/javascript">document.write("Diagnosis Coding");</script> 
</span>
<form name=UpdateForm action=mrtweb02.pbl method=post style="margin:0;">
 <input type=hidden name=reportno value=03>
 <input type=hidden name=template value=003>
 <input type=hidden name=updttype value="">
 <input type=hidden name=urnumber value="%MRTWEB02.03.003">
 <input type=hidden name=admissno value="%MRTWEB02.03.081">
 <input type=hidden name=ptecd002 value="%MRTWEB02.03.416">
 <input type=hidden name=ptecd003 value="%MRTWEB02.03.417">
 <input type=hidden name=epscd001 value="%MRTWEB02.03.416">
 <input type=hidden name=pripre value="%MRTWEB02.03.301">
 <input type=hidden name=seqpre value="%MRTWEB02.03.302">
 <input type=hidden name=compre value="%MRTWEB02.03.303">
 <input type=hidden name=asspre value="%MRTWEB02.03.304">
 <input type=hidden name=lofpre value="%MRTWEB02.03.305">
 <input type=hidden name=dispre value="%MRTWEB02.03.306">
 <input type=hidden name=oprpre value="%MRTWEB02.03.307">
 <input type=hidden name=morpre value="%MRTWEB02.03.320">
 <input type=hidden name=usngecod value="%MRTWEB02.03.332">
 <input type=hidden name=addition value="%MRTWEB02.03.429">
 <input type=hidden name=morbdesc value="%MRTWEB02.03.333">
 <input type=hidden name=dischdte value="%MRTWEB02.03.334">
 <input type=hidden name=ptcnhdps value="%STANDARD.01.025.080.250.1.1">
 <input type=hidden name=ptecd008 id=ptecd008 value="">
 <input type=hidden name=ptedccfl value="%MRTWEB02.03.335">
 <input type=hidden name=pteoccfl value="%MRTWEB02.03.436">
 <input type=hidden name=atype    value="%MRTWEB02.03.111.1">
 <input type=hidden name=atypedef value="%MRTWEB02.03.199.025">

 <table cellspacing=0 cellpadding=1 border=0 width=98% align=center>
   <tr><td colspan=2>&nbsp;</td></tr>
   <tr><td valign=top><input type=hidden name=unqcount value="%MRTWEB02.03.417">
           <input type=text size=1 maxlength=1 name=dsprefix class=Mandatory 
                  value="%MRTWEB02.03.419" title="Prefix" 
                  onkeyup='CheckPrefix(dsprefix,diopc001);DefaultOnset();'>
           <input type=text size=12 name=diopc001 readonly class=readonly
                  value="%MRTWEB02.03.418"></td>
       <td><textarea rows=2 cols=121 name=diopc002 wrap=soft readonly
                     class=readonly
                     style="font-family:Arial;font-size:8pt;overflow:hidden;
                            resize:none">%MRTWEB02.03.424 </textarea></td>
   </tr>

   <tr><td class=DataLabel colspan=2><div id=AccidentLabel></div></td></tr>

   <tr><td class=DataLabel colspan=2><div id=OnsetLabel></div></td></tr>

   <tr><td class=DataLabel width=18%>
        Contracted Care Flag</td>
    <td>
    <select name=diopc004 id=diopc004 title="Contracted Care Flag"
     class=SelectiBig>
     <option value=""></option>
     <option value="01">B - Care provided by hospital B</option>
     <option value="02">AB - Care provided by hospital A and hospital B</option>
    </select></td></tr>

   <tr><td colspan=2>&nbsp;</td></tr>

   <tr><td colspan=2 align=center>
           <input type=button class=button value="Update" id="mrt02sub"
                  onclick="tempDisable(this);PostUpdate();"> 
           <input type=button class=button value="Delete" id="mrt02del"
                  onclick="tempDisable(this);setFormactn('D');"> 
           <input type=button value=Close class=button
                  onclick="DFrameCloseRefresh()"></td>
   </tr>
 </table>
</form>

<span id=accidentlabel style="display:none">
  Accident Date
  <input type=text size=12 name=ptecd004 class="PastDate Mandatory" 
         title="Accident Date" value="%MRTWEB02.03.423"
         onblur="checkDate(this,'Accident-date');VerifyDiagDateUpd(ptecd004);">
  <img notab src=../images/DateLookup.gif class="Icon" 
       alt="Show Calendar" date="UpdateForm.ptecd004">
</span>

<span id=onsetlabel style="display:none">
  Onset Type
  <input type=text name=diopc003 title="Diagnostic onset type" size=1
         value="%MRTWEB02.03.430" maxlength=1 onkeyup="CheckOnset(this);">
</span>

<script type="text/javascript">
f=document.UpdateForm;
var careflag="%MRTWEB02.03.435"
if (!isWhitespace(careflag)){
  for (var i =0 ; i < f.diopc004.length; i++) {
    if (careflag==f.diopc004.options[i].value) {
      f.diopc004.selectedIndex=i
    }
  }
}
</script>

