<meta name="TemplateVersion" content="V12.00.02">
<meta name="TemplateHome" content="wahealth">
<!-- $Id: patweb8901030.html 4266 2019-01-07 03:18:55Z  $ -->
<!-- $URL: http://lxfm700sub/svn/webpas/trunk/web/custom/patweb8901030.html $ -->
<meta name="HelpFileName" content="NoContextSet.html">
<meta name="CrossBrowser" content="true">
<script type="text/javascript" src="../js/admission.js"></script>
<script type="text/javascript" src="../js/patweb89.js"></script>
<script type="text/javascript" src="../js/CustomMyhrConsent.js"></script>
<script type="text/javascript">
function defaultDisasterCode() {
  if (!isWhitespace(document.UpdateForm.disacode.value)) {
    disastercodeDIV.innerHTML=disastercodeSPAN2.innerHTML;
  } else {
    disastercodeDIV.innerHTML=disastercodeSPAN1.innerHTML;
  }

  displayDisasterID();

}
function SubmitUpd() {
    p=document.UpdateForm
    MandatoryOk=true;

    if  (!validateMandatory(document.UpdateForm)) {
        return;
    }

    if (isWhitespace(p.ptdsc003.value)) {
      if (!isWhitespace(p.ptdsc004.value)) {
        alert("Medical Clear for Discharge Time must not be entered when\n" +
              "Medical Clear for Discharge Date is not entered");
        return false;
      }
    }

    // Validate Cat.BT/Cat.CG combination (rehab ward)
    var serverURL = "../cgi-bin/comweb80.pbl?reportno=70" +
                    "&valdcode="+p.catcctyp.value.replace(/ /g,"+") +
                    "&valdcod2="+p.wardcode.value.replace(/ /g,"+") +
                    "&valdcod3="+p.adminbed.value.replace(/ /g,"+")

    var returnValue = RSExecute(serverURL);
    if (returnValue.status!=0){
       return false;
    }

    // if original astay value is changed, set chdisdte to update exp. dddate
    if(trim(p.o_ptmis030.value)!=trim(p.ptmis030.value)){
       p.chdisdte.value='0';
    }
    if(isWhitespace(document.UpdateForm.ptmis020.value) && 
       isWhitespace(document.UpdateForm.ptvis075.value)){
       alert("Diagnosis is a required field.")
       return;
    }

    if(p.offdutyb!=undefined){
      if(p.offdutyb.checked==true){
        alert("Error: Claim Type invalid for 'Off Duty' personnel.")
        return;
      }
    }
    if(p.ptmis027.value.substr(3,1)=="P"&&p.dvacardc.value=="1"){
      if(!confirm("\t\tPublic patient with DVA details.\n" +
                  "Select Ok to continue," +
                  " select Cancel to return to page and change Claim " +
                  " Type.")){
        return;
      }
    }

    if (MandatoryOk) {
 if((p.restatus.value.substr(5,1)=="S") || (p.restatus.value.substr(5,1)=="O")){
      if(!isWhitespace(p.ptmis027.value)){
       if(p.ptmis027.value.substr(32,1)!="1") {
        ind=p.ptmis027.value.substr(3,1)
        if(ind!="1"&&ind!="E"&&ind!="G"){
          alert("Claim Type must be overseas");
          return;
        }
       }
      }
    }

  if (!isWhitespace(document.UpdateForm.dispt001.value)) {
    var serverURL   = "../cgi-bin/comweb80.pbl?reportno=44" +
                    "&valdcode=" + UpdateForm.dispt001.value.replace(/ /g,"+") +
                    UpdateForm.admisdte.value.replace(/ /g,"+");
    var returnValue = RSExecute(serverURL);
    if (returnValue.status!=0) {
      return;
    }
  }

// Validate Cat.KD/Age combination
    var serverURL = "../cgi-bin/comweb80.pbl?reportno=71" +
                    "&valdcode="+p.ptvis104.value.replace(/ /g,"+") +
                    "&valdcod2="+p.urnumber.value.replace(/ /g,"+") +
                    "&valddate="+p.d_ptmis001.value.replace(/ /g,"+")
    var returnValue = RSExecute(serverURL);
    if (returnValue.status!=0){
       return false;
    }

    setRedirect();
    if (p.prevhosp.checked==true){
      document.UpdateForm.redirect.value="patweb07.pbl?reportno=15&template=001"
      if(document.UpdateForm.pmext049.value == "1") {
        document.UpdateForm.redirect.value+= "&mvithmva=1"+
        "&chckcomp="+document.UpdateForm.ptmis027.value.substr(3,1)+"P";
      }
      document.UpdateForm.redirect.value +=
      "&urnumber=" + document.UpdateForm.urnumber.value
      + "&mvmedrec=" + document.UpdateForm.mvmedrec.value + "&admissno=";
    }

    if (!isWhitespace(p.ptmilsdn.value)){
      // If it's a Statistical Discharge and there are no other compensable 
      // page; redirect to Final Admission screen.
      var sRedirect = document.UpdateForm.redirect.value;
      if (sRedirect.match(/patweb98.pbl\?reportno=01&template=002/)) {
          document.UpdateForm.redirect.value="patweb98.pbl?reportno=01&template=043" 
        + "&urnumber=" + document.PatientLinks.urnumber.value.replace(/ /g,"+") 
        + "&admissno=" + document.PatientLinks.admissno.value.replace(/ /g,"+")
        }
      }

      if (document.UpdateForm.pmext049.value == "1") {
        document.UpdateForm.redirect.value = "patweb89.pbl?reportno=01&template=342"
        + "&urnumber=" + document.PatientLinks.urnumber.value.replace(/ /g,"+")
        + "&mvmedrec=" + document.UpdateForm.mvmedrec.value
        + "&chckcomp=" + document.UpdateForm.ptmis027.value.substr(3,1)+"P"
        + "&pmext049=" + document.UpdateForm.pmext049.value + "&admissno=";
      }
      
      document.UpdateForm.submit();
    }
}
function DisContractWAhealth() {
    ind=document.UpdateForm.ptmis010.value.substring(14,15)
    ind2=document.UpdateForm.ptmis010.value.substring(14,16)
    if (ind=="0"||ind=="5"||ind=="9"||ind2=="10") {
      document.getElementById('contractxx').style.display="";
    } else {
      document.getElementById('contractxx').style.display="none";
    }
}
function showFundingSource() {
    ind=document.UpdateForm.ptmis027.value.substring(3,4)
    if (ind=="A") {
      FundingHeading.innerHTML=offdutyhd.innerHTML;
      FundingId.innerHTML=offdutyid.innerHTML;
    } else {
      if (ind=="P") {
        FundingHeading.innerHTML=fundinghd.innerHTML;
        FundingId.innerHTML=fundingid.innerHTML;
        document.UpdateForm.ptvis131.className="Mandatory";
      } else {
        FundingHeading.innerHTML=blanklabel.innerHTML;
        FundingId.innerHTML=blanklabel.innerHTML;
      }
    }
}
function ShowAdmissionWeight(theForm) {
  BabyAge.style.display="none";
  document.UpdateForm.ptmis051.className="";
  document.UpdateForm.ptmis051.min="0";
  document.UpdateForm.agebmand.value=0;
//
  if(isWhitespace(theForm.ptcnbage.value) ||
     isWhitespace(theForm.pbdate.value) ||
     isWhitespace(theForm.d_ptmis001.value)) {
     return;
  }
//
  Bday = new Date();
  Bday.setFullYear(theForm.pbdate.value.substring(6,11));
  monstr= theForm.pbdate.value.substring(3,6)
  if (monstr=="Jan" || monstr=="JAN" || monstr=="jan") mon=00
  if (monstr=="Feb" || monstr=="FEB" || monstr=="feb") mon=01
  if (monstr=="Mar" || monstr=="MAR" || monstr=="mar") mon=02
  if (monstr=="Apr" || monstr=="APR" || monstr=="apr") mon=03
  if (monstr=="May" || monstr=="MAY" || monstr=="may") mon=04
  if (monstr=="Jun" || monstr=="JUN" || monstr=="jun") mon=05
  if (monstr=="Jul" || monstr=="JUL" || monstr=="jul") mon=06
  if (monstr=="Aug" || monstr=="AUG" || monstr=="aug") mon=07
  if (monstr=="Sep" || monstr=="SEP" || monstr=="sep") mon=08
  if (monstr=="Oct" || monstr=="OCT" || monstr=="oct") mon=09
  if (monstr=="Nov" || monstr=="NOV" || monstr=="nov") mon=10
  if (monstr=="Dec" || monstr=="DEC" || monstr=="dec") mon=11
  Bday.setMonth(mon);
  Bday.setDate(theForm.pbdate.value.substring(0,2));
//
  Adat = new Date();
  Adat.setFullYear(theForm.d_ptmis001.value.substring(6,11));
  monstr= theForm.d_ptmis001.value.substring(3,6)
  if (monstr=="Jan" || monstr=="JAN" || monstr=="jan") mon=00
  if (monstr=="Feb" || monstr=="FEB" || monstr=="feb") mon=01
  if (monstr=="Mar" || monstr=="MAR" || monstr=="mar") mon=02
  if (monstr=="Apr" || monstr=="APR" || monstr=="apr") mon=03
  if (monstr=="May" || monstr=="MAY" || monstr=="may") mon=04
  if (monstr=="Jun" || monstr=="JUN" || monstr=="jun") mon=05
  if (monstr=="Jul" || monstr=="JUL" || monstr=="jul") mon=06
  if (monstr=="Aug" || monstr=="AUG" || monstr=="aug") mon=07
  if (monstr=="Sep" || monstr=="SEP" || monstr=="sep") mon=08
  if (monstr=="Oct" || monstr=="OCT" || monstr=="oct") mon=09
  if (monstr=="Nov" || monstr=="NOV" || monstr=="nov") mon=10
  if (monstr=="Dec" || monstr=="DEC" || monstr=="dec") mon=11
  Adat.setMonth(mon);
  Adat.setDate(theForm.d_ptmis001.value.substring(0,2));
//
  if (Adat.getTime() >= Bday.getTime()) {
    daysold = Adat.getTime() - Bday.getTime();
    daysold = Math.floor(daysold / (1000 * 60 * 60 * 24));
  } else {
    return;
  }
//
  CheckBabyWeight(theForm);
}
function CheckBabyWeight(theForm) {
  if(daysold <= theForm.ptcnbage.value) {
    BabyAge.style.display="";
    document.UpdateForm.ptmis051.className="Number";
    document.UpdateForm.ptmis051.min="1";
    document.UpdateForm.agebmand.value=1;
  }
}
function RemoveQuote(Field) {
    Field.value=Field.value.replace(/\"/g,"");
}
function ShowMedClearDetail() {
  f = document.UpdateForm;
  if (isWhitespace(f.ptdsc003.value)) {
    f.ptdsc004.value = "";
    f.ptdsc005.selectedIndex = -1;
    f.ptdsc006.selectedIndex = -1;
    document.getElementById('PriReasonDiscDelay').style.display = "none";
    document.getElementById('SecReasonDiscDelay').style.display = "none";
    document.UpdateForm.ptdsc004.className="";
    document.UpdateForm.ptdsc005.className="";
  }
  else {
    document.getElementById('PriReasonDiscDelay').style.display = "";
    document.getElementById('SecReasonDiscDelay').style.display = "";
    document.UpdateForm.ptdsc004.className="Mandatory";
    document.UpdateForm.ptdsc005.className="SelectBig Mandatory";
  }
}
</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);DisplayTransfer();DisContractWAhealth();
              showFundingSource();displayPrev();defaultDisasterCode();
              ShowAdmissionWeight(UpdateForm);statisticalDischarge();
              ShowMedClearDetail();">
<div id=PatientHeading></div>
<script type="text/javascript">
PatientURN="%PATWEB89.01.003";
PatientVIS="%PATWEB89.01.081";
PatientNAM="%PATWEB89.01.002";
PatientSTA="%PATWEB89.01.086.078";
PatientALT="%PATWEB89.01.084";
PatientSEX="%PATWEB89.01.019";
PatientDOB="%PATWEB89.01.020";
PatientAGE="%PATWEB89.01.021";
PatientLOC="%PATWEB89.01.083";
PatientPRI="%PATWEB89.01.086.066.1";
PatientUNT="%PATWEB89.01.066.0";
DoctorCOD="%PATWEB89.01.082.003";
DoctorNAM="%PATWEB89.01.082.002";
PatientAID="%PATWEB89.01.086.090";
PatientIND="%PATWEB89.01.086.091";
PatientCUR="%PATWEB89.01.086.092";
PatientCLC="%PATWEB89.01.086.093.1";
PatientCLH="%STANDARD.01.017.CL";
PatientHFT="%PATWEB89.01.086.094";
PatientCDM="%PATWEB89.01.086.095";
PatientVDH="%PATWEB89.01.086.099.015";
InsertPatientHeader()
</script>
<div id=PatientMenu></div>
<form name=UpdateForm method=post action=patweb89.pbl style="margin:0">
<input type=hidden name=reportno value="2">
<input type=hidden name=template value="030">
<input type=hidden name=urnumber value="%PATWEB89.01.003">
<input type=hidden name=admissno value="%PATWEB89.01.081"> 
<input type="hidden" name="updatety" value="6">
<input type="hidden" name="allocate" value="1">
<input type="hidden" name="redirect" value="%PATWEB89.01.001.patweb98.01.002">
<input type="hidden" name="chckname" value="0">
<input type="hidden" name="emradmit" value="0">
<input type="hidden" name="emradmis" value="0">
<input type="hidden" name="newbmand" value="0">
<input type="hidden" name="agebmand" value="0">
<input type="hidden" name="ptmilsdn" value="%PATWEB89.01.199.018">
<input type=hidden name=ptmis027 value="%PATWEB89.01.126.3">
<input type=hidden name=ptmis010 value="%PATWEB89.01.111.3">
<input type="hidden" name="ptmas046" value="0">
<input type=hidden name=admisdte value="%PATWEB89.01.102">
<input type=hidden name=wardcode value="%PATWEB89.01.105.1">
<input type="hidden" name="mvmedrec" value="%PATWEB89.01.902">
<input type="hidden" name="mhadmflg">
<input type=hidden name=ptcnwauc value="%STANDARD.01.025.103.245.0.1">
<input type="hidden" name="ptcnxcom" value="%STANDARD.01.025.116.222.0.1">
<input type="hidden" name="dispprev" value="%PATWEB89.01.199.015">
<input type="hidden" name="dvacardc"   value="%PATWEB89.01.999.002">
<input type="hidden" name="restatus" value="%PATWEB89.01.024.3">
<input type="hidden" name="visatype"   value="%PATWEB89.01.999.003.007.3">
<input type="hidden" name="disacode" value="%PATWEB89.01.996">
<input type="hidden" name="disadesc" value="%PATWEB89.01.999.025">
<input type="hidden" name="pbdate"   value="%PATWEB89.01.020">
<input type="hidden" name="ptcnbage" value="%STANDARD.01.025.021.046.1.3">
<input type="hidden" name="d_ptmis001"  value="%PATWEB89.01.102">
<input type="hidden" name="catcctyp"  value="%PATWEB89.01.113.1">
<input type="hidden" name="adminbed"  value="%PATWEB89.01.106">
<input type=hidden name=ptcnhdps id=ptcnhdps 
       value="%STANDARD.01.025.080.250.1.1">

<table border=0 colspan=1 width=100% cellspacing=1 cellpadding=1 >
<tr><td class=HeadingCell align=center>
    Update Admission Details</td></tr>
</table>

<table border=0 width=100% cellpadding=0 cellspacing=0>
<tr><td class=DataLabel>Admission Date</td>
    <td><input class=readonly readonly value="%PATWEB89.01.102">
        at 
        <input class=readonly readonly value="%PATWEB89.01.103">
    <td>Admitting Point</td>
    <td><select name=ptvis046 tabindex=17 
         title="%STANDARD.01.017.ap" class="Mandatory ">
        <option> </option>
         %PATWEB89.01.290.2
        </select></td></tr>

<tr><td class=DataLabel>%STANDARD.01.017.P </td>
    <td><select name=ptmis011 tabindex=2
          title="%STANDARD.01.017.P " class="Mandatory ">
         <option> </option>
          %PATWEB89.01.112.2
        </select>
        <span id=BabyAge style="display:none">
         Admission Weight
         <input type=text name=ptmis051 size=5 maxlength=4
          value="%PATWEB89.01.186" notab
          title="Admission Weight" >grams
        </span></td>
    <td class=DataLabel>Ward / Bed </td>
    <td><input type=text class=ReadOnly readonly size=30 
         value="%PATWEB89.01.105.0">
        <input type=text class=ReadOnly readonly maxlength=3 size=3
         name=beddcode title="Bed" value="%PATWEB89.01.199.017"></td></tr>

<tr><td class=DataLabel>%STANDARD.01.017.S </td>
    <td><select name=ptmis009 tabindex=3 class="Mandatory"
         title="%STANDARD.01.017.S " onchange="DisplayTransfer()">
         <option> </option>
          %PATWEB89.01.110.2
        </select></td>
    <td class=DataLabel>%STANDARD.01.017.BP</td>
    <td><select name=ptvis093 class="Mandatory"
         title="%STANDARD.01.017.BP"
         tabindex=60 >
         <option> </option>
          %PATWEB89.01.298.012.2
        </select></td></tr>

<tr id="transferxx" style="display:none">
    <td class=DataLabel>Transfer Source</td>
    <td><input type="text" size=7 maxlength=5 name=trnsfsrc id=trnsfsrc
         title="Transfer Source" tabindex=5 value='%PATWEB89.01.193.0'
         onchange="validateCode(9,trnsfsrc,trandesc);">
        <input type=text size=27 name=trandesc id=trandesc notab
         class=Readonly readonly value='%PATWEB89.01.193.1'>
        <img src="../images/SearchIcon.gif" class=Icon
         onclick="TransferSourceFrame(trnsfsrc,trandesc)"></td></tr>

<tr><td class=DataLabel>Referring Clinician</td>
    <td><input type="text" size=10 maxlength=10 name=ptvis028 tabindex=12
         value="%PATWEB89.01.231.1" id=ptvis028
         onchange="ReadDoc(18,0,ptvis028,genpname,ptvis029,genpprac,ptvis030,
                           genpprov);">
        <input type=text size=25 notab readonly name=genpname id=genpname
         value="%PATWEB89.01.231.0">
        <img src="../images/SearchIcon.gif" class=Icon
         onclick="GPHCPSearchFrame(ptvis028,genpname,genpprov,ptvis029,
                                  genpprac,ptvis030,0)">
        <img src="../images/erase.gif" class=Icon
         onclick="clrFields(ptvis028,genpname);"></td>
    <td class=DataLabel>Post Op Ward</td>
    <td><input type=hidden name=popwdesc>
        <input type=hidden name=popbstat>
        <select name=ptvis048 tabindex=65>
         <option></option>
          %PATWEB89.01.251.2
        </select></td></tr>

<tr><td class=DataLabel>Practice</td>
    <td><input type=text name=genpprac id=genpprac size=35 readonly
         value="%PATWEB89.01.232.0">
        <input type=hidden name=ptvis029 id=ptvis029 value="%PATWEB89.01.232.1">
        <input type=hidden name=ptvis030 id=ptvis030 value="%PATWEB89.01.233.1">
        <input type=hidden name=genpprov id=genpprov value="">
        <img src="../images/SearchIcon.gif" class=Icon
         onclick="GPHCGSearchFrame(ptvis028,genpname,genpprov,ptvis029,
                                  genpprac,ptvis030)">
        <img src="../images/erase.gif" class=Icon 
         onclick="clrFields(ptvis029,genpprac,ptvis030,genpprov);"></td>
     <td class=DataLabel>%STANDARD.01.035.cw</td>
     <td><select name=ptvis125 title="%STANDARD.01.035.cw"
          tabindex=100 class=Mandatory>
          <option> </option>
           %PATWEB89.01.298.047.9.2
         </select></td></tr>

<tr><td class=DataLabel>%STANDARD.01.017.SI</td>
    <td><select name=ptvis103 tabindex=7
         title="%STANDARD.01.017.SI">
         <option></option>
          %PATWEB89.01.298.025.2
         </select></td>
    <td align=left>Hospital Last 7 Days</td>
    <td><table><tr>
          <td align=left>
           <input type="checkbox" name="prevhosp" value="1" tabindex=235></td>
          <td id="prevhospxx" style="display:none" class=DataLabel>
             Original Adm Date 
             %PATWEB89.01.199.016
             No of days Hospitalisation
             %PATWEB89.01.199.015
          </td></tr>
        </table></td></tr>

<tr><td class=DataLabel>Responsible Clinician </td>
    <td><input type=text size=45 class=readonly readonly
         value="%PATWEB89.01.108.002" title="Responsible Clinician"></td>
    <td class=DataLabel>%STANDARD.01.035.KP</td>
    <td><select name=ptvis095 tabindex=237 class=Mandatory
         title="%STANDARD.01.035.KP">
         <option></option>
          %PATWEB89.01.298.017.9.5
         </select></td></tr>

<tr><td class=DataLabel>%STANDARD.01.017.AC</td>
    <td><input size=30 class=readonly readonly value="%PATWEB89.01.124.0">
        <input type="hidden" name="d_ptmis024" value="%PATWEB89.01.124.3"></td>
    <td class=DataLabel>%STANDARD.01.017.KD</td>
    <td><select name=ptvis104 tabindex=9 class="Mandatory "
         title="%STANDARD.01.017.KD">
         <option></option>
          %PATWEB89.01.298.026.2
         </select></td></tr>

<tr><td class=DataLabel>Team</td>
    <td><input size=20 class=readonly readonly 
         value="%PATWEB89.01.298.046.0"></td>
    <td class=DataLabel>Diagnosis(text) </td>
    <td><input type=text name="ptmis020" size=50 maxlength=80 tabindex=14
         value="%PATWEB89.01.121"></td></tr>

<tr><td class=DataLabel>Registrar</td>
    <td><input type="hidden" name="ptvis062" value="%PATWEB89.01.265.1">
        <input type="text" size=20 maxlength=30 name="d_ptvis062"
         value="%PATWEB89.01.265.0" class=readonly readonly notab></td>
    <td class=DataLabel>Diagnosis(ICD)</td>
    <td><input type=text name=ptvis075 id=ptvis075 size=10 tabindex=120
         title="ICD Code" value="%PATWEB89.01.291"
         onblur="validateCode(6,UpdateForm.ptvis075,UpdateForm.drgdesc1);">
        <input type=text size=30 name=drgdesc1 title="ICD Description"
         id=drgdesc1 value="" readonly>
        <img src=../images/SearchIcon.gif class=Icon alt="Disease Search" 
         onclick="Icd10DisSearchFrame(UpdateForm.ptvis075,UpdateForm.drgdesc1,
                                 UpdateForm.drgdesc2);"></td></tr>

<tr><td class=DataLabel>Resident</td>
    <td><input type="hidden" name="ptvis061" value="%PATWEB89.01.264.1">
        <input type="text" size=20 maxlength=30 name="d_ptvis061"
         value="%PATWEB89.01.264.0" class=readonly readonly notab></td>
    <td class=DataLabel>Principal Procedure </td>
    <td class=DataField>
      <input type="text" size="50" maxlength="50" notab
        readonly class=readonly value="%PATWEB89.01.999.029"
        onblur="RemoveQuote(this);"/></td></tr>

<tr><td class=DataLabel>%STANDARD.01.017.CC</td>
    <td><input type=text size=30 class=readonly readonly
         value="%PATWEB89.01.113.0" title="%STANDARD.01.017.CC"></td>
    <td class="DataLabel">Additional Procedures</td>
    <td class="DataField">
      <input type="text" size="50" maxlength="50" notab
        readonly class=readonly value="%PATWEB89.01.999.030"
        onblur="RemoveQuote(this);"/></td></tr>

<tr><td class=DataLabel>%STANDARD.01.017.A </td>
    <td><input type=text class=readonly readonly
         size=30 value="%PATWEB89.01.111.0"></td>
    <td class="DataLabel"></td>
    <td class="DataField">
      <input type="text" size="50" maxlength="50" notab
        readOnly class=readonly value="%PATWEB89.01.999.031"
        onblur="RemoveQuote(this);"/></td></tr>

<tr id="contractxx" style="display:none">
    <td>Contract ID</td>
    <td><input type="text" size=7 maxlength=5 name=ptasf003 id=ptasf003
         value="%PATWEB89.01.199.003.1"
         tabindex=29 onblur="validateCode(9,ptasf003,d_ptasf003);">
        <input type=text size=27 name=d_ptasf003 id=d_ptasf003 notab
         value="%PATWEB89.01.199.003.2"
         class=Readonly readonly>
        <img src="../images/SearchIcon.gif" class=Icon
         onclick="TransferSourceFrame(ptasf003,d_ptasf003)"></td>
    <td></td>
    <td></td></tr>

<tr><td class=DataLabel>%STANDARD.01.017.CL</td>
    <td><table cellspacing=0 cellpadding=0>
    <tr><td><input type=text class=readonly readonly size=30
          value="%PATWEB89.01.126.0">
             <td><div id=FundingHeading></div></td>
             <td><div id=FundingId></div>
             </td></tr></table></td>
    <td class=DataLabel>%STANDARD.01.017.VI</td>
    <td><select name=ptvis043 tabindex=4 class="Mandatory "
         title="%STANDARD.01.017.VI">
         <option> </option>
         %PATWEB89.01.246.2
        </select></td></tr>

<tr>
  <td class=DataLabel>
    Has this patient been in a Motor Vehicle accident?
  </td>
  <td>
    <select class="Mandatory" name=pmext049 tabindex=1
     title="Has the patient been in a Motor Vehicle Accident?">
      %PATWEB89.01.999.125.099.050
    </select> 
  </td>
</tr>

<tr><td class=DataLabel></td>
    <td></td>
    <td class=DataLabel> Planned Length of Stay
        <input type=hidden name=chdisdte value="1">
        <input type=hidden name=o_ptmis030 value="%PATWEB89.01.129"></td>
    <td><input type=text size=5 maxlength=5 name=ptmis030
          tabindex=8 title='Expected Length of Stay' min=0
          class=Integer onblur="checkInteger(this,this.value);"
          value="%PATWEB89.01.129"></td></tr>

<tr><td class=DataLabel></td>
  <td></td>
  <td class=DataLabel>Inform GP</td>
  <td><select name=ptvis022 tabindex=145 title="Inform GP" class="Mandatory">
       <option value=" "></option>
       <option value="0">No</option>
       <option value="1">Yes</option>
       <option value="2">Unknown</option>
      </select></td></tr>

<tr><td class=DataLabel></td>
    <td></td>
    <td class=DataLabel>Consent upload visit to My Health Record?</td>
    <td><select name=ptmis037 tabindex=146 title="Upload to MyHR?">
         <option></option>
          %PATWEB89.01.133.2
        </select>&nbsp;(<a href="javascript:patientMyhrConsentForm();">form</a>)
    </td></tr>

<tr><td class=DataLabel></td>
    <td></td>
    <td class=DataLabel>Mailing List</td>
    <td><select name=ptmis072 tabindex=265>
         <option value="2"></option>
         <option value="0">No</option>
         <option value="1">Yes</option>
        </select></td></tr>

<tr><td class=DataLabel></td>
    <td></td>
    <td>Disaster Code</td>
    <td><div id=disastercodeDIV></div></td></tr>

<tr><td class=DataLabel></td>
    <td></td>
    <td class=DataLabel><div id=disasteridnumbertitleDIV></div></td>
    <td><div id=disasteridnumberDIV></div></td></tr>

<tr><td><table border=0 width=100% class=TableBody cellpadding=0 cellspacing=0>
        <tr><td class=DataLabel> Admission Comments </td></tr>
        <tr><td colspan=6 align=left>
                <input type=button value="Add" class="button" tabindex=60
                 name="AddComm" id="AddComm"
                 onclick='tempDisable(this);AddComment();'></td></tr>
        <tr><td>&nbsp;</td></tr>
        <tr><td>&nbsp;</td></tr>
        </table></td>
        <td colspan=6 align=left>
            <textarea wrap=hard name=adcommna class=Readonly readonly
             rows=4 cols=70>%PATWEB89.01.199.021.005</textarea></td></tr>

<tr><td class=DataLabel width=18%>Medically Cleared for Discharge Date</td>
    <td><input type=text size=15 maxlength=11 name=ptdsc003 id=ptdsc003
         title="Medically Cleared for Discharge Date" class="Date"
         value="%PATWEB89.01.999.132.009"
         onblur="checkDate(this,'Date');ShowMedClearDetail();">
         <img notab src="../images/DateTimeStamp.gif" class=Icon
          alt="Current"
          onclick="SetCurrentDateTime(UpdateForm.ptdsc003,null);">
         <img notab src="../images/DateLookup.gif" class=Icon
          alt="Calendar" date="UpdateForm.ptdsc003">
    Time
        <input type=text size=8 name=ptdsc004 id=ptdsc004
        title="Medically Cleared for Discharge Time"
        value="%PATWEB89.01.999.132.010">
        <img src="../images/DateTimeStamp.gif" class=Icon
        onclick="SetCurrentDateTime(null,UpdateForm.ptdsc004);">
        <img src="../images/TimeLookup.gif" class=Icon
        onclick="TimeLookupFrame(UpdateForm.ptdsc004);">
        <img src="../images/ClearIcon.gif" class=Icon
         onclick="clrFields(UpdateForm.ptdsc003,UpdateForm.ptdsc004);
                  ShowMedClearDetail();">
    </td>
</tr>
<tr id=PriReasonDiscDelay>
    <td class=DataLabel>Primary Reason for Discharge Delay</td>
    <td>
      <select name=ptdsc005 id=ptdsc005 class="SelectBig"
       title="Primary Reason for Discharge Delay">
      <option></option>
       %PATWEB89.01.999.132.001.2
      </select>
    </td>
</tr>
<tr id=SecReasonDiscDelay>
    <td class=DataLabel>Secondary Reason for Discharge Delay</td>
    <td>
      <select name=ptdsc006 id=ptdsc006 class="SelectBig"
       title="Secondary Reason for Discharge Delay">
      <option></option>
       %PATWEB89.01.999.132.002.2
      </select>
    </td>
</tr>

<tr align=center>
    <td colspan=4 align=center><br>
        <input type=button value="Update" class="button" tabindex=70
         id="pat89sub"
         onclick="tempDisable(this);checkFiveDayWard(UpdateForm.wardcode.value,
                 UpdateForm.beddcode.value, UpdateForm.admisdte.value,
                 UpdateForm.ptmis030.value, SubmitUpd)">
        <input type=button value="Cancel" class="button" tabindex=71
         onclick="history.go(-1);"></td></tr>

</table>
</form>

<form name=linkForm action=patweb89.pbl method=post>
<input type=hidden name=reportno value=1>
<input type=hidden name=template value=1>
<input type=hidden name=urnumber value="%PATWEB89.01.003">
<input type=hidden name=admissno value="%PATWEB89.01.101">
</form>

<form name=PatientLinks method=get>
<input type=hidden name=reportno value=1>
<input type=hidden name=template value=004>
<input type=hidden name=urnumber value="%PATWEB89.01.003">
<input type=hidden name=admissno value="%PATWEB89.01.081">
<input type=hidden name=MenuType value="%PATWEB89.01.088">
</form>

<span id=NewBorn style="display:none">
<table width=100% height=100% border=0 cellspacing=0 cellpadding=0>
<tr><td class=DataLabel width=37%>Gestation Period</td>
    <td><input type=text name=ptmis041 maxlength=3 size=4 tabindex=21> weeks
    </td></tr>
</table>
</span>

<script type="text/javascript">
  
//for (var i=0;i<document.UpdateForm.ptmis017.length;i++){
//if (document.UpdateForm.ptmis017.options[i].value=="%PATWEB89.01.118.0"){
//    document.UpdateForm.ptmis017.selectedIndex=i}};
  
MergePsy="%PATWEB89.01.050"
  if(MergePsy=="Yes"){
    document.UpdateForm.ptmas046.value="1"
  }
 if(MergePsy=="No "){
    document.UpdateForm.ptmas046.value="0"
  }
</script>

<script type="text/javascript">
for (var i=0;i<document.UpdateForm.ptvis022.length;i++){
if (document.UpdateForm.ptvis022.options[i].value=="%PATWEB89.01.225.0"){
    document.UpdateForm.ptvis022.selectedIndex=i}};

  for (var i =0 ; i < document.UpdateForm.ptmis072.length; i++) {
    if (document.UpdateForm.ptmis072.options[i].value=="%PATWEB89.01.162") {
       document.UpdateForm.ptmis072.selectedIndex=i } };

  
if (!isWhitespace(document.UpdateForm.ptvis075.value)){
 validateCode(6,UpdateForm.ptvis075,UpdateForm.drgdesc1)
}
</script>

<script type="text/javascript">
  // Disable the MyHR Consent field for discharged admissions
  document.UpdateForm.ptmis037.disabled = (PatientLOC == "Discharged");
</script>

<span id=blanklabel style="display:none">&nbsp;</span>
<span id=fundinghd style="display:none">
Funding Source
</span>

<span id=fundingid style="display:none">
  <select name=ptvis131 title="%STANDARD.01.017.cx"
          tabindex=100>
          <option> </option>
             %PATWEB89.01.298.053.2
         </select>
</span>
<span id=disasteridnumbertitleSPAN style="display:none">
Disaster Identification #
</span>

<span id=disasteridnumberSPAN style="display:none">
<input type="text" name=dispt002 size=20 maxlength=19
   tabindex=19 title="Disaster Identification Number">
</span>

<span id=offdutyhd style="display:none">
 Off Duty
</span>

<span id=offdutyid style="display:none">
 <input type="checkbox" name="offdutyb" value="0">
</span>

<span id=disastercodeSPAN1 style="display:none">
<select name=dispt001 tabindex=19 title="Disaster Code"
         onchange="displayDisasterID();">
         <option></option>
          %PATWEB89.01.995
        </select>
</span>

<span id=disastercodeSPAN2 style="display:none">
<input type="text" name=n_dispt001 size=30 class=Readonly readonly
  title="Disaster Code" value="%PATWEB89.01.999.025">
<input type=hidden name=dispt001 value="%PATWEB89.01.996">
</span>

<script type="text/javascript">
function statisticalDischarge(){
  p=document.UpdateForm
  if(!isWhitespace(p.ptmilsdn.value)){
    p.ptmis009.disabled=true;
  }
}

</script>


