<meta name="TemplateVersion" content="V10.11.00">
<meta name="TemplateHome" content="hea-sa">
<meta name="HelpFileName" content="NoContextSet.html">
<link rel="stylesheet" href="../html/postcode.css" type="text/css">
<script type="text/javascript" src=../js/IBA_Category_LA.js></script>
<script type="text/javascript" src=../js/IBA_Category_C_.js></script>
<script type="text/javascript" src=../js/AutoPostCode.js></script>
<script type="text/javascript" src=../js/patweb89.js></script>
<script type="text/javascript" src=../js/eAdmissionReg.js></script>
<script type="text/javascript">
function findFund(){
  p=document.AddForm
  validateCode(16,p.ptmas036,p.funddesc);
  checkTable05();
  validateHFT(20,p.ptmas036,p.ptmas037,p.funddesc,p.tabldesc);
}
function MediMandfield() {
  if(document.AddForm.medicard.value=="1") {
    document.AddForm.ptmas023.className="Mandatory";
    document.AddForm.ptmsx045.className="Mandatory";
    document.AddForm.pmpmi016.className="Mandatory";
  } else {
    document.AddForm.ptmas023.value="";
    document.AddForm.ptmsx045.value="";
    document.AddForm.pmpmi016.value="";
    document.AddForm.ptmas023.className="";
    document.AddForm.ptmsx045.className="";
    document.AddForm.pmpmi016.className="";
  }
}
function clickRegisterButton() {
    var str = document.AddForm.ptmas006.value;
  document.AddForm.ptmas006.value = str.replace(/^\s+|\s+$/g,'');
  str = document.AddForm.pmpmi084.value;
  document.AddForm.pmpmi084.value = str.replace(/^\s+|\s+$/g,'');
  if(document.AddForm.d_pmpmi102.checked==true) {
     document.AddForm.pmpmi102.value="1";
  }
  else {
     document.AddForm.pmpmi102.value="0";
  }
 checkSecondName(document.AddForm.ptcnusgn,
                   document.AddForm.ptmas006,document.AddForm.pmpmi084,
                   document.AddForm.pmpmi085);
  if (document.AddForm.ptcnnewc.value=='1') {
    document.AddForm.redirect.value="patweb07.pbl?reportno=06&template=004"
  } else {
    document.AddForm.redirect.value="patweb89.pbl?reportno=01&template=022"
  }
  if(!CheckValPostCode()){
     return;
  }
    p=document.AddForm
    checkDuplicates(p.ptmas005.value,p.pmpmi084.value,
      p.pmpmi085.value,p.ptmas017.value,submitReg);
}
function submitReg(){
  if(checkMedicare(document.AddForm.ptmas023)) {
    if (!isWhitespace(document.AddForm.admisnid.value)) {
       SetCookie("eAdmission",eAdmCookie);
       document.AddForm.redirect.value = document.AddForm.redirect.value
                           +"&admisnid="+AddForm.admisnid.value.replace(/ /g,"+");
    }
    SubmitHidden05(document.AddForm);
  }
}
function EnableButton(){
  AddForm.RegisterButton.disabled=false;
}
function valUR(theField){
  if(theField.value.length < 1){
     alert ("Invalid UR Number "); 
     return;
  }
  justifyRight(theField)
}
function valPostCode(){
  UpCase(AddForm.ptmas010);
  if(trim(AddForm.ptmas012.value)!="8888"){
    LookupPostCode(AddForm.ptmas010.value);
  }
}
function clrMandatory(Sname,Gname,Sex,Dob) {
  if (document.AddForm.quickreg.checked==true) {
    for (i=0; i<document.AddForm.elements.length; i++) {
      el=document.AddForm.elements[i];
      if (el.className.match(/Mandatory/)) {
        el.className="";
      }
    }
    if (isWhitespace(document.AddForm.ptmas017.value)){
    document.AddForm.ptmas017.value="01011901";
    document.AddForm.ptmas017.focus();
    document.AddForm.ptmas017.blur();
    document.AddForm.ptmas017.className="Mandatory PastDate";
    }

    if (!isWhitespace(Sex)) {
      document.AddForm.ptmas015.value=Sex.substr(0,1);
    }

    if (isWhitespace(Sname)) {
      if (isWhitespace(document.AddForm.ptmas005.value)) {
      document.AddForm.ptmas005.value="Unknown";
      }
    }  
    if (isWhitespace(Gname)) {
      if (isWhitespace(document.AddForm.pmpmi084.value)) {
      document.AddForm.pmpmi084.value="Unknown";
      }  
    }

    if (isWhitespace(Dob)) {
      if (isWhitespace(document.AddForm.ptmas017.value)) {
      document.AddForm.ptmas017.value="";
      }
    }  
    else {
      document.AddForm.ptmas017.value=Dob;
    }
  } else {
    location.reload();
  }
}
function ShowSpan(showoption) {
  if (showoption.value=="1") {
    divLangHead.innerHTML=LanguageHead.innerHTML
    divLangSel.innerHTML=LanguageSel.innerHTML
    SetCategoryLA(document.getElementById('pmpmi002'),"","");
  } else {
    divLangHead.innerHTML=LanguageNoHead.innerHTML
    divLangSel.innerHTML=LanguageNul.innerHTML
  }
}
function init() {
  SetPostCode05();
  InitPostCodes();
  SetCategoryC_(document.AddForm.ptmas019,"","1");
  if ( HiddenFields.cgenrur.value == "0" ) {
    URField.innerHTML=URFieldRow.innerHTML;
    document.AddForm.urnumber.focus();
  }else{
    document.AddForm.ptmas001.focus();
  }
}
</script>
</head>
%START.OF.PAGE
<body onLoad="PageLoad(event);
turnOnSecondGivenName(document.AddForm.ptcnusgn.value,document.AddForm.ptmas006,
  document.AddForm.pmpmi084,document.AddForm.pmpmi085);
  OnlinePreadmission();eAdmPreList();findFund();">
<div id=PageBodySection style="overflow: auto;">
<form name=AddForm action="patweb89.pbl" method=post style="margin:0"
 onsubmit='return validateMandatory(this)'>
  <input type=hidden name=reportno value="05">
  <input type=hidden name=formactn value="NR">
  <input type=hidden name=updttype value="">
  <input type=hidden name=chckname>
  <input type=hidden name=redirflg value="1">
  <input type=hidden name=nextpage value="3">
  <input type=hidden name=updateky value="%PATWEB89.05.700">
  <input type=hidden name=redirect value="">
  <input type=hidden name=dummy value="">
  <input type=hidden name=pmpmi076 value="">
  <input type="hidden" name=praflag value="0">
  <input type="hidden" name=sesskeys value="%PATWEB89.05.918">
  <input type="hidden" name=noofdays value="%PATWEB89.05.919">
  <input type="hidden" name=theaflag value="%PATWEB89.05.920">
  <input type="hidden" name=hidsname id=hidsname value="%PATWEB89.05.009">
  <input type="hidden" name=hidgname id=hidgname value="%PATWEB89.05.010">
  <input type="hidden" name=otptflag value="%PATWEB89.05.942">
  <input type="hidden" name=casekeys value="%PATWEB89.05.907">
  <input type="hidden" name=ptcnusgn value="%STANDARD.01.025.114.219.0.1">
  <input type="hidden" name=ptcnnewc value="%STANDARD.01.025.118.138.0.1">
  <input type="hidden" name="admisnid" value="%PATWEB89.05.999.036" />
  <input type="hidden" name="showflag" value="0" />
  <input type="hidden" name="pmpmi102" value="" />

<table align=center width=100% border=1 cellspacing=0 cellpadding=0>
<tr><td class=HeadingCell colspan=6 align=center>
     New Patient Details </td></tr>
</table>

<table align=center width=100% border=0 cellspacing=0 cellpadding=0>
<tr><td colspan=4>
    <div id=URField></div>
    </td>
    <td class=DataLabel><font color=red> QUICK REGISTRATION </font></td>
    <td><input type=checkbox name=quickreg tabindex=-1
         onClick='clrMandatory(hidsname,hidgname,"%PATWEB89.05.019","%PATWEB89.05.020");'></td>
    </tr>

<tr><td class=DataLabel>Title</td>
    <td><select title="Patient Title"
        name=ptmas001 class=Mandatory  tabindex=2>
        <option></option>
        %STANDARD.01.029
        </select>
        </td>
    <td class=DataLabel>Address</td>
    <td><input type=text size=25 maxlength=25  tabindex=6
        name="ptmas008" title="Address Line 1" class=Mandatory 
        onblur="UpCase(this)"></td>
    <td class=DataLabel>Home Phone</td>
    <td><input type=text size=23 maxlength=20
        name=ptmas013 title="Home Phone Number" tabindex=9></td></tr>

<tr><td class=DataLabel> Surname</td>
    <td><input type=text size=40 name=ptmas005 value="%PATWEB89.05.009"
        title="Patient Surname" maxlength=40 class=Mandatory
        tabindex=2 onblur="UpCase(this)"></td>

    <td class=DataLabel></td>
    <td><input type=text size=25 maxlength=25
        name=ptmas009 title="Address Line 2" tabindex=7 
        onblur="UpCase(this)"></td>
    <td class=DataLabel>Work Phone</td>
    <td><input type=text size=23 maxlength=20
        name=ptmas014 title="Work Phone Number" tabindex=10></td></tr>

<tr>
<td class=DataLabel id="givenNameLabel">Given Names</td>
    <td><input type=hidden name=ptmas006 title="Given Name"
         value="%PATWEB89.05.010">
        <input type=text size=42 maxlength=40
        title="First Given Name" tabindex=3 class=Mandatory tabindex=3
        name=pmpmi084 value="%PATWEB89.05.010" onblur="UpCase(this)">
    </td>

    <td class=DataLabel> Suburb</td>
    <td><input type=text size=25 maxlength=25
       name=ptmas010 title="Address Line 3" Class=Mandatory tabindex=8 
        value="%PATWEB89.05.015"
       onblur="valPostCode();">
    </td>

    <td class=DataLabel>Mobile Phone</td>
    <td><input type=text size=23 maxlength=20
        name=ptmsx039 title="Mobile Phone Number" tabindex=11>
        Opt-Out SMS
        <input type=checkbox name=d_pmpmi102 value="1" tabindex=11>
        </td></tr>
</tr>

<tr><td class=DataLabel id="secondGivenNameLabel">Second Given Name</td>
    <td><input type=text size=42 maxlength=40 id="secondGivenName"
        title="Second Given Name" tabindex=4
        name=pmpmi085 value=""
        onBlur="UpCase(this);">
    </td>
    <td class=DataLabel></td>
    <td><input type=text size=25 maxlength=25
       name=ptmas011 title="Address Line 4" tabindex=8
       onchange="UpCase(this);"></td>
    <td class=DataLabel>E-Mail</td>
    <td><input type=text size=23 maxlength=80
        name=pmpmi005 title="E-Mail" tabindex=12>
       </td>
    </tr>
<tr>

<tr><td class=DataLabel>Gender</td>
     <td><select name="ptmas015" tabindex=4 class=Mandatory 
          title="Patient's Sex">
         <option></option>
         <option value="R">Intersex</option>
         <option value="U">Unknown</option>
         <option value="I">Indeterminate</option>
         <option value="M">Male</option>
         <option value="F">Female</option>
         </select></td>

       <td class=DataLabel>Post Code</td>
    <td><input type=text size=4 maxlength=4
        name=ptmas012 title="Post Code" Class=Mandatory tabindex=8
        value="%PATWEB89.05.016" onchange="LookupSuburb(ptmas012.value)">
</tr>

<tr><td class=DataLabel>Date of Birth</td>
    <td><input type=text size=12 name=ptmas017 title="Date of Birth"
         value="%PATWEB89.05.020" tabindex=5 class="Mandatory PastDate"
       onblur="checkDate(this,'Date of Birth');" ></td>
</tr>

<tr><td class=HeadingCell colspan=6 width=100% align=center>
    PMI Details</td></tr>

<tr><td class=DataLabel>Marital Status</td>
    <td><select  name=ptmas016 tabindex=12 class="select120 Mandatory"
         title="Marital Status">
        <option></option>
         %PATWEB89.05.069.4
        </select></td>
    <td></td><td></td>
    <td class=DataLabel>Consent for info release</td>
<td><select name=pmpmi067  tabindex=28>
      <option>  </option>
      <option value="0"> No </option>
      <option value="1"> Yes </option>
    </select>
</tr>

<tr><td class=DataLabel>Religion</td>
    <td><select  name=ptmas020 tabindex=13 class="select120 Mandatory"
         title="Religion">
        <option></option>
        %PATWEB89.05.023.4
        </select></td>
    <td class=DataLabel>Health Fund </td>
    <td><input type="hidden" name="ptmas036" id=ptmas036 title="Health Fund">
       <input type=text size=25 name="funddesc" id=funddesc maxlength="30"
         readonly onblur="UpCase(this)"></td>

    <td class=DataLabel>Privacy Indicator</td>
    <td><select name=pmpmi066 class=select120 tabindex=28>
        <option></option>
        %STANDARD.01.021.PV
        </select></td>
</tr>

<tr><td class=DataLabel>Country of Birth</td>
    <td><select  name="ptmas019" tabindex=14 class="select120 Mandatory"
         title="Country of Birth" >
        <option></option>
        </select></td>
    <td class=DataLabel>Health Fund Level </td>
    <td width=22%><input type="hidden" name="ptmas037" id=ptmas037 title="Level">
        <input type="text" size=15 maxlength=17 name="tabldesc" id=tabldesc
         readonly >
        <img src=../images/SearchIcon.gif class=Icon
         onClick="HealthFundSearchFrameNoFocus(ptmas036,funddesc,
                                               ptmas037,tabldesc);">
        <img src="../images/erase.gif" class=Icon
         onClick="clrHealthFund(ptmas036,funddesc,ptmas037,tabldesc);"></td>

    <td class=DataLabel>Local GP </td>
    <td width=20%><input type=hidden name=pmpmi059 id=pmpmi059>
        <input type=text readonly name=genpname id=genpname>
        <img src="../images/SearchIcon.gif" class=Icon
         onClick="GPHCPSearchFrame(pmpmi059,genpname,genpprov,pmpmi060,genpprac,pmpmi061,3)">
        <img src="../images/erase.gif" class=Icon
         onClick="clrFields(pmpmi059,genpname);"></td>
</tr>

<tr><td class=DataLabel>Indigenous Status</td>
    <td><select name=pmpmi065 tabindex=15 class="select120 Mandatory"
         title="Indigenous Status">
        <option></option>
        %STANDARD.01.021.VA
        </select></td>
    <td class=DataLabel>Member Number </td>
    <td><input type=text size=20 maxlength=19 name=ptmas038
          tabindex=24>
        &nbsp;Alias&nbsp;
        <input type=checkbox name=fndalias title="Health Fund Alias"
         value="1" notab onclick="ShowFundAlias(AddForm);">
    </td>

<td class=DataLabel>Practice</td>
    <td width=20%><input type=hidden name=pmpmi060 id=pmpmi060>
        <input type=text readonly name=genpprac id=genpprac
         title="Practice">
        <input type=hidden name=pmpmi061 id=pmpmi061>
        <input type=hidden name=genpprov id=genpprov>
        <img src="../images/SearchIcon.gif" class=Icon
         onClick="GPHCGSearchFrame(pmpmi059,genpname,genpprov,pmpmi060,genpprac,pmpmi061)">
        <img src="../images/erase.gif" class=Icon 
         onClick="clrFields(pmpmi060,genpprac,pmpmi061,genpprov);"></td>
</tr>

<tr><td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td class=DataLabel>Folder Selection</td>
    <td><select name=pmpmi077 tabindex=33 title="Folder Selection">
         <option></option>
         %STANDARD.01.021.FS
         </select></td>
</tr>

<tr><td class=DataLabel>Interpreter Required</td>
    <td><select title="Interpreter Required" name=pmpmi001 
        onchange="ShowSpan(this);" tabindex=17>
        <option value="0" selected>No</option>
        <option value="1">Yes</option>
        </select>
        </td>

    <td><div id=divLangHead></div></td>
    <td><div id=divLangSel></div></td>

    <td class=DataLabel>Resident</td>
    <td><select name=ptmas021 tabindex=19 class=Mandatory
         title="Resident">
         <option></option>
         %PATWEB89.05.024.4
        </select>
    </td>
</tr>

<tr><td class=DataLabel>Does this patient have a Medicare Card?</td>
    <td><select name=medicard  class=Mandatory
         title="Does this patient have a Medicare Card"
         tabindex=20 onchange="MediMandfield();">
      <option>  </option>
      <option value="0"> No </option>
      <option value="1"> Yes </option>
    </select></td>
    <td class=DataLabel>Medicare Number</td>
    <td><input type=text size=10 maxlength=10 tabindex=20 name=ptmas023
         id=ptmas023 title="Medicare Number"
         onblur="if(!checkMedicare(ptmas023)){this.value='';}">
    <input type=text size=5 maxlength=2 name=ptmsx045 id=ptmsx045 tabindex=21
     onBlur="checkIRN(ptmsx045);"></td>
    <td class=DataLabel>Valid to</td>
    <td><input type=text size=12 name=pmpmi016 title="Valid to"
         tabindex=22 onblur="checkDateSV(this,'Valid to');" ></td>
    </td>
</tr>

<tbody id="HealthFundAlias" style="display: none">
<tr><td class=DataLabel>&nbsp;</td>
    <td>&nbsp;</td>
    <td class=DataLabel>&nbsp;</td>
    <td>&nbsp;</td>
    <td class=DataLabel>Health Fund Surname</td>
    <td><input type=text size=42 maxlength=40 onblur="UpCase(this)"
        title="Health Fund Surname" name=pmpmi087>
    </td>
    </tr>

<tr><td class=DataLabel>&nbsp;</td>
    <td>&nbsp;</td>
    <td class=DataLabel>&nbsp;</td>
    <td>&nbsp;</td>
    <td class=DataLabel>Health Fund Given Name</td>
    <td><input type=text size=42 maxlength=40 onblur="UpCase(this)"
        title="Health Fund Surname" name=pmpmi086>
    </td>
    </tr>

<tr><td class=DataLabel>&nbsp;</td>
    <td>&nbsp;</td>
    <td class=DataLabel>&nbsp;</td>
    <td>&nbsp;</td>
    <td class=DataLabel>Health Fund UPI</td>
    <td><input type=text size=3 maxlength=2
        title="Health Fund UPI" class="Number" name=pmpmi088>
    </td>
    </tr>
</tbody>

<tr><td colspan=6 class=HeadingCell align=center > 
      UR Comments </td></tr>
<tr><td colspan=6 align=center>
    <textarea wrap=hard name=urcommnt rows=4 cols=70>
    </textarea></td></tr>

</table>
<table width=100% border=0>
<tr><td align=center>
    <input type=button value="Register" class="button" tabindex=47 name="RegisterButton"
     onClick="tempDisable(this);clickRegisterButton();">
   <input type="button" class="button"  value="Cancel" tabindex="48"
     onClick="chkeAdmGoback();" />
    </td></tr>
</table>

<div id=SelectHeading></div>
<div id=SelectLocation></div>
</form>
</div>

<span id=LanguageHead style="display:none">
Language
</span>

<span id=LanguageSel style="display:none;">
    <select name=pmpmi002 id=pmpmi002 class="select120 Mandatory" tabindex=18
         title="Language">
        <option></option>
    </select>
</span>

<span id=LanguageNoHead style="display:none">&nbsp;</span>

<span id=LanguageNul style="display:none;">
    <input type=hidden name=pmpmi002 id=pmpmi002 value="">
</span>

<script type="text/javascript">
   UsualPRFA="%PATWEB89.05.909"
   PatientSex="%PATWEB89.05.086.082"
   for (var i =0 ; i < document.AddForm.ptmas015.length; i++) {
     if (document.AddForm.ptmas015.options[i].value==PatientSex.substr(0,1)) {
         document.AddForm.ptmas015.selectedIndex=i } };
</script>

<form name=HiddenFields method=get>
<input type=hidden name=cgenrur value="%PATWEB89.05.097">
</form>

<div id=URFieldRow style="display:none">
<table align=center width=100% border=0 cellspacing=0 cellpadding=0>
<tr>
<td class=DataLabel width=18%>U/R Number</td>
<td colspan=4><input type=text name=urnumber class=mandatory size=10 tabindex=1
               maxlength=8 title="U/R Number" onChange="valUR(this)";>
</td>
</tr></table>
</div>
