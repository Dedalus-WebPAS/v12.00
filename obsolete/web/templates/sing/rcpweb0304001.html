<meta name="TemplateVersion" content="V11.00.00">
<meta name="TemplateHome" content="sing">
<meta name="HelpFileName"    content="NoContextSet.html">
<script type="text/javascript" src="../js/rcpweb03.js"></script>
<script type="text/javascript" src="../js/rcpweb0304.js"></script>
<script type="text/javascript">
function CalChange() {
  AddForm.changamt.value=0;
  if(!isWhitespace(AddForm.rcpde018.value)) {
    if (checkNumber(AddForm.rcpde018) && checkNumber(AddForm.rcpde037)) {
     RoundNumber(AddForm.rcpde018,2);
     RoundNumber(AddForm.rcpde037,2);
     AddForm.changamt.value=parseFloat(AddForm.rcpde037.value) -
                            parseFloat(AddForm.rcpde018.value);
     RoundNumber(AddForm.changamt,2);
     if(AddForm.changamt.value < 0 ) {
        AddForm.changamt.value = 0
     }
    }
  }
}
function AddReceipt() {
  if (isWhitespace(AddForm.rcpbt023.value)) {
    return;
  }
  if (ValidateReceipt()) {
     linkurl="rcpweb03.pbl?reportno=4&template=002" +
             "&paymtype=" + AddForm.rcpbt023.value.replace(/ /g,"+") +
             "&rcpde018=" + encodeURIComponent(AddForm.rcpde018.value) +
             "&urnumber=" + encodeURIComponent(AddForm.urnumber.value) +
             "&rcpbk014=" + encodeURIComponent(AddForm.rcpbk014.value) +
             "&rcpbk004=" + encodeURIComponent(AddForm.rcpbk004.value);
     ShowDetail(linkurl);
  }
}
function ShowDetail(linkurl) {
  Left=(document.body.clientWidth-400)/2
  DFrameLink(linkurl,50,Left,400,400);
}

</script>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);CalChange();SetURRef();AddForm.rcpbt023.value='';">
<div id=PatientHeading></div>
<script type="text/javascript">
PatientURN="%RCPWEB03.04.003";
PatientVIS="%RCPWEB03.04.081";
PatientNAM="%RCPWEB03.04.002";
PatientSTA="%RCPWEB03.04.086.078";
PatientALT="%RCPWEB03.04.084";
PatientSEX="%RCPWEB03.04.019";
PatientDOB="%RCPWEB03.04.020";
PatientAGE="%RCPWEB03.04.021";
PatientLOC="%RCPWEB03.04.083";
PatientPRI="%RCPWEB03.04.086.066.1";
PatientUNT="%RCPWEB03.04.066.0";
DoctorCOD="%RCPWEB03.04.082.003";
DoctorNAM="%RCPWEB03.04.082.002";
PatientAID="%RCPWEB03.04.086.090";
PatientIND="%RCPWEB03.04.086.091";
PatientCUR="%RCPWEB03.04.086.092";
PatientCLC="%RCPWEB03.04.086.093.1";
PatientCLH="%STANDARD.01.017.CL";
PatientHFT="%RCPWEB03.04.086.094";
PatientCDM="%RCPWEB03.04.086.095";
PatientVDH="%RCPWEB03.04.086.099.015";
InsertPatientHeader()
</script>
<div id=PatientMenu></div>
<div id=PageBodySection >

<table width=100% align=center border=0 cellspacing=0>
<form name=AddForm method=get action=rcpweb03.pbl>
<input type=hidden name=reportno value=4>
<input type=hidden name=template value=001>
<input type=hidden name=updttype>
<input type=hidden name=nextpage value=1>
<input type=hidden name=redirect value="rcpweb03.pbl?reportno=4&template=1">
<input type=hidden name=currdate value="%STANDARD.01.015">
<input type=hidden name=dummy>
<input type=hidden name=accmtotl value="%RCPWEB03.04.306">
<input type=hidden name=defchqno value="%RCPWEB03.04.309">
<input type=hidden name=rcpbk001 value="%RCPWEB03.04.101">
<input type=hidden name=rcpbk003 value="%RCPWEB03.04.103">
<input type=hidden name=rcpbk007 value="%RCPWEB03.04.107">
<input type=hidden name=rcpbk008 value="%RCPWEB03.04.108">
<input type=hidden name=rcpde006 value="%RCPWEB03.04.406">
<input type=hidden name=rcpde007 value="%RCPWEB03.04.407">
<input type=hidden name=invoicen value="%RCPWEB03.04.340">
<input type=hidden name=admissno value="%RCPWEB03.04.342">
<input type=hidden name=urnumber value="%RCPWEB03.04.341">
<input type=hidden name=rcpde005 value="%RCPWEB03.04.405">
<input type=hidden name=visittyp value="%RCPWEB03.04.343">
<input type=hidden name=register value="%RCPWEB03.04.404.0">
<input type=hidden name=outstamt value="%RCPWEB03.04.346">
<input type=hidden name=cfeetype value="9">
<input type=hidden name=rccndref value="%STANDARD.01.025.036.222.0.1">
<input type=hidden name=defltref value="%RCPWEB03.04.371">

<tr><td class=HeadingCell align=center colspan=2>
     Input Receipts for Invoice %RCPWEB03.04.340</td></tr>
<tr><td>
<table width=95% align=center border=0 cellspacing=2 cellpadding=1>
<tr><td class=DataLabel width=12%>Cash Drawer</td>
    <td width=35%><select name=rcpbk004 title="Cash Drawer" class=Mandatory 
                onchange="getChqAcct(rcpbk004,rcpbk014,defchqno);
                          checkPR(rcpbk004,password);">
        <option value=""></option>
        %RCPWEB03.04.301.1
        </select></td>
    <td class=DataLabel width=12%>Password</td>
    <td><input size=12 type=password name=password title="Password" 
               onblur="checkPasswrd(rcpbk004,password);"></td>
    <td colspan=4>&nbsp;</td>     
    <td width=12%>Receipt Number</td>
    <td align=right width=8%>&nbsp;<b>%RCPWEB03.04.101</b></td>
</tr>
</table>
<table width=95% align=center border=0 cellspacing=2 cellpadding=1>
<tr><td class=DataLabel width=12%>Cheque Account</td>
    <td><select name=rcpbk014 title="Cheque Account Number" class=Mandatory>
        <option value=""></option>
        %RCPWEB03.04.327
        </select>
    </td>
    <td colspan=6>&nbsp;</td>     
    <td width=12%>Accumulative Total</td>
    <td align=right width=8%><b>%RCPWEB03.04.306</b></td>
</tr>
</table>
<table width=95% align=center border=0 cellspacing=2 cellpadding=1>
<tr><td class=DataLabel width=12%>Cashier</td>
    <td><input size=20 type=text name=wusrname title="Cashier" 
               value="%RCPWEB03.04.303" class=readOnly readonly tabindex=-1>
    </td>
    <td colspan=6>&nbsp;</td>     
</tr>
<tr><td class=DataLabel width=12%>Received From</td>
    <td width=15%>Patient/Debtor&nbsp;<input type=checkbox name=patdebtr 
             title="Patient/Debtor" value="1" 
             onclick="checkOtherFields();"></td>
    <td width=7%>Payer</td>
    <td><input type=text name=hlthfund title="Payer"
               size=6 maxlength=6 onblur='validateCode(16,hlthfund,dummy)'>
        <img src=../images/SearchIcon.gif class=Icon name=hlthbutt
             onclick="HFundSearchFrame(hlthfund,dummy);">
        <img src="../images/erase.gif" name=clhfbutt
             onClick="clrFields(hlthfund);">
    </td>
    <td>Insurance</td>
    <td><input type=text name=insrcode title="Insurance"
               size=6 maxlength=6 onblur="validateCode(36,insrcode,dummy);">
        <img src="../images/SearchIcon.gif" name=insrbutt
             onclick="InsuranceCodeSearch(insrcode,dummy);">
        <img src="../images/erase.gif" name=clicbutt
             onClick="clrFields(insrcode);">
    </td>
<!--<td>Gov't Agency</td>
    <td><select name=govtagnc title="Gov't Agency">
        <option value=""></option>
        RCPWEB03.04.304
        </select>
    </td>-->
</tr>
<tr><td class=DataLabel>Date of Payment</td>
    <td><input type=text name=rcpbk002 title="Date of Payment"
               value="%RCPWEB03.04.102"
               size=12 maxlength=12 class="Mandatory PastDate"
               onblur="checkDate(this,'Date of Payment');">
        <img notab src="../images/DateTimeStamp.gif" class="Icon" name=currbutt
             alt="Current" date="AddForm.rcpbk002">
        <img notab src="../images/DateLookup.gif" class="Icon" name=cldtbutt
             alt="Show Calendar" date="AddForm.rcpbk002"></td>
    <td colspan=6>&nbsp;</td>     
</tr>
</table>
<table width=95% align=center border=0 cellspacing=2 cellpadding=1>
<tr><td colspan=8 align=center><hr width=100%></td></tr>
<!-- XXXX -->
<tr><td class=DataLabel width=12%>Register</td>
    <td><span id=RegisterOption></span></td>
    <td class=DataLabel>Amount</td>
    <td><input type=text name=rcpde018 title="Amount" size=15
               value="%RCPWEB03.04.418" 
               onblur="RoundNumber(this,2);CalChange();"
               maxlength=15 class="Mandatory Number" max=999999999999.99>
    </td>
    <td class=DataLabel>Tendered Amount</td>
    <td><input type=text name=rcpde037 title="Tendered Amount" size=15
               value="%RCPWEB03.04.362"
               onblur="RoundNumber(this,2);CalChange();"
               maxlength=15 class=Number max=999999999999.99>
    </td>
    <td class=DataLabel>Change Required</td>
    <td><input type=text name=changamt title="Change Required" size=17
               value="" class=Readonly readonly maxlength=20>
    </td>
</tr>
<tr><td class=DataLabel width=12%>&nbsp;</td>
    <td>&nbsp;</td>
    <td class=DataLabel>Discount</td>
    <td><input type=text name=rcpde019 title="Discount" size=8
               value="%RCPWEB03.04.419" onblur="RoundNumber(this,2);"
               maxlength=8 class=Number max=99999.99>
    </td>
    <td class=DataLabel>Reference</td>
    <td><input type=text name=rcpde015 title="Reference" size=17
               value="%RCPWEB03.04.415"
               maxlength=20>
    </td>
    <td class=DataLabel>&nbsp;</td>
    <td>&nbsp;</td>
</tr>
<!-- XXXX -->
<tr><td class=DataLabel>Print Receipt</td>
    <td><select name=printflg>
       <option value="1">Yes</option>
       <option value="0">No</option>
       </select></td>
    <td class=DataLabel>Select Printer </td>
    <td><select name=selprint>
        %STANDARD.01.001.RCPWEB03.04
        </select></td>
    <td class=DataLabel>Copies</td>
    <td><select name=nocopies>
       <option value=" 1">1</option>
       <option value=" 2">2</option>
       <option value=" 3">3</option>
       <option value=" 4">4</option>
       <option value=" 5">5</option>
       <option value=" 6">6</option>
       <option value=" 7">7</option>
       <option value=" 8">8</option>
       <option value=" 9">9</option>
       <option value=" 10">10</option>
       </select></td>
</tr>
</table>

<table width=95% align=center border=0 cellspacing=2 cellpadding=1>
<tr><td align=center><br>
    <input type=button value=Finish class=RedButton name=finshbut
     onclick='FinishReceipt();'>
    <input type=button value=Cancel class="button" name=cancelbt
     onclick='CancelReceipt();' >
    </td>
</tr>
</table>

<table width=95% align=center border=0 cellspacing=2 cellpadding=1>
<tr><td colspan=3 align=center><hr width=100%></td></tr>
    <tr><td class=HeadingCell width=12%>&nbsp;Payment Type</td>
    <td class=HeadingCell width=10% align=right>Amount&nbsp;</td>
    <td class=HeadingCell width=75%>&nbsp;Reference</td></tr>
    %RCPWEB03.04.305.1
<tr><td><select name=rcpbt023 title="Payment Type" class=Mandatory
                onchange="AddReceipt();">
        <option value=""></option>
        %RCPWEB03.04.223.2
        </select></td>
    <td colspan=2>&nbsp;</td>
</tr>
</table>
</tr></td>
</form>
</table>

<!-- Patient Billing (1) Registers -->
<span id=ShowRegister1 style="display:none">
    <select name=rcpde004 title="Register" class=Mandatory>
        <option value=""></option>
        %RCPWEB03.04.339.01
        </select>
</span>

<!-- Private Practice (2) Registers -->
<span id=ShowRegister2 style="display:none">
    <select name=rcpde004 title="Register" class=Mandatory>
        <option value=""></option>
        %RCPWEB03.04.339.02
        </select>
</span>

<form name=PatientLinks method=get>
<input type=hidden name=reportno value=4>
<input type=hidden name=template value=001>
<input type=hidden name=urnumber value="%RCPWEB03.04.003">
<input type=hidden name=admissno value="%RCPWEB03.04.081">
<input type=hidden name=MenuType value="%RCPWEB03.04.088">
</form>

<script type="text/javascript">
printflag="%RCPWEB03.04.336";
for (var i=0; i<AddForm.printflg.length; i++) {
  if (AddForm.printflg.options[i].value==printflag){
        AddForm.printflg.selectedIndex=i; }
}
selectprinter="%RCPWEB03.04.337";
for (var i=0; i<AddForm.selprint.length; i++) {
  if (AddForm.selprint.options[i].value==selectprinter){
        AddForm.selprint.selectedIndex=i; }
}
numbercopies="%RCPWEB03.04.338";
for (var i=0; i<AddForm.nocopies.length; i++) {
  if (parseInt(AddForm.nocopies.options[i].value)==parseInt(numbercopies)){
        AddForm.nocopies.selectedIndex=i; }
}
</script>
