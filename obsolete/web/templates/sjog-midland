<meta name="TemplateVersion" content="V11.00.00">
<meta name="TemplateHome" content="sjog-midland">
<meta name="HelpFileName" content="NoContextSet.html">
<script type="text/javascript" src="../js/patweb1203.js"></script>
<style type="text/css">
  #box1{
        position: absolute;
        top: 100px;
        left: 100px;
        border-style: outset;
        background-color: #fff8ff;
        padding: 3px;
        visibility: hidden;
       }
  #box2{
        position: absolute;
        top: 100px;
        left: 100px;
        border-style: outset;
        background-color: #fff8ff;
        padding: 3px;
        visibility: hidden;
        color: red;
       }
  span.ProgressBar {
    color:black;
    background-image:url(../images/ProgressBar.gif);
    height:10px;
    width:200px;
    text-align:center;
  }
  #PageSearchResults {
    border:2px solid #cccccc;
    position:absolute;
    background-color: #fff8ff;
    top:35px;
    width:365px;
    height:250px;
    left:218px;
    visibility: hidden;
  }
</style>
<script type="text/javascript">
function AJAXRefresh() {
   tempDisable(document.SearchForm.refrbutn,"20");
   startDate = new Date();
   startTime = startDate.getTime();
   ProgressBar.innerHTML='Loading Page ....';
   ProgressBar.style.backgroundImage='url(../images/ProgressBar.gif)';
   theURL = "patweb12.pbl?reportno=3&template=9"
   if(SearchForm.emptonly.checked==true) {
     theURL += "&emptonly="+SearchForm.emptonly.value
   }
   theURL += "&sjogflag=1";
   xmlHttp = createHttpObject();
   theURL = theURL + '&httprand='+Math.random();
   xmlHttp.open("GET", theURL, true);
   xmlHttp.onreadystatechange=function() {
    if (xmlHttp.readyState==4) {
      if (xmlHttp.responseText!="") {
        PageBodySection.innerHTML   = xmlHttp.responseText;
        startDate = new Date();
        endTime = startDate.getTime();
        ProgressBar.style.backgroundImage='url()';
        ProgressBar.innerHTML='Load Time: '+((endTime-startTime)/1000)+' sec';
        document.SearchForm.unallocp.value=UnallocatedCount.innerHTML;
      }
    }
  }
  xmlHttp.send();
}
function AJAXSearch() {
  UpCase(SearchForm.srchsnam)
  UpCase(SearchForm.srchgnam)
  if(isWhitespace(SearchForm.srchsnam.value) &&
     isWhitespace(SearchForm.srchgnam.value)) {
     alert("Surname is a required field.\nPlease enter it now.");
     SearchForm.srchsnam.focus();
     return;
   }
   startDate = new Date();
   startTime = startDate.getTime();
   ProgressBar.innerHTML='Loading Page ....';
   ProgressBar.style.backgroundImage='url(../images/ProgressBar.gif)';
   theURL = "patweb12.pbl?reportno=3&template=12"
   theURL += "&srchsnam="+SearchForm.srchsnam.value
   theURL += "&srchgnam="+SearchForm.srchgnam.value
   if(SearchForm.tomrflag!=undefined) {
     theURL += "&tomrflag="+SearchForm.tomrflag.value
   }
   xmlHttp = createHttpObject();
   theURL = theURL + '&httprand='+Math.random();
   xmlHttp.open("GET", theURL, true);
   xmlHttp.onreadystatechange=function() {
    if (xmlHttp.readyState==4) {
      if (xmlHttp.responseText!="") {
        PageSearchResults.innerHTML   = xmlHttp.responseText;
        PageSearchResults.style.visibility   = "visible";
        thePos=findPos(SearchForm.srchsnam);
        PageSearchResults.style.left  = thePos[0];
        PageSearchResults.style.top   = thePos[1]+SearchForm.srchsnam.offsetHeight;
        startDate = new Date();
        endTime = startDate.getTime();
        ProgressBar.style.backgroundImage='url()';
        ProgressBar.innerHTML='Load Time: '+((endTime-startTime)/1000)+' sec';
      }
    }
  }
  xmlHttp.send();
  return true;
}

function changeDivSize() {
    var patDiv = document.getElementById('PageBodySection');
    var patHeader = document.getElementById('PageHeadingSection');

    if(typeof patDiv != 'undefined' && typeof patHeader != 'undefined') {
        patDiv.style.height = document.body.offsetHeight - patHeader.offsetHeight;
    }
}
function floatColumnHeader() {

  var divcounter = 1;
  while (document.getElementById('fldiv'+divcounter)!=null) {
//alert(PageBodySection.scrollTop);
    document.getElementById('fldiv'+divcounter).style.top=
    PageBodySection.scrollTop;

    divcounter = divcounter + 1;
  }

}
</script>
<style type=text/css>
body {
 overflow:auto;
 overflow-y:auto;
}
.ProgressBar {
 color:black;
 background-image:url(../images/ProgressBar.gif);
 height:10px;
 width:150px;
 text-align:left;
}
.emArrival0, .emArrival1, .emArrival2, .emArrival3, .emArrival4 {
 width:10px;
 height:10px;
 background-color:white;
 float:right;
}
.emArrival1 {
 color:white;
 background-color:green;
 width:10px;
 height:10px;
 float:right;
}
.emArrival2 {
 color:white;
 background-color:orange;
 width:10px;
 height:10px;
 float:right;
}
.emArrival3 {
 color:white;
 background-color:red;
 width:10px;
 height:10px;
 float:right;
}
.emArrival4 {
 color:white;
 background-color:purple;
 width:10px;
 height:10px;
 float:right;
}
.AdmitIcon {
}
.HomeIcon {
}
.triage1, .triage2, .triage3, .triage4, .triage5, .triage0,
.triage1f, .triage2f, .triage3f, .triage4f, .triage5f, .triage0f {
 color:black;
 font-size:16px;
 line-height:25px;
 height:40px;
 width:100%;
 background-color:purple;
 display:inline-block;
 padding-top:8px;
}
.triage1f, .triage2f, .triage3f, .triage4f, .triage5f, .triage0f {
 font-weight:bold;
}
.triage1 { background: url("../images/new-triage1.gif"); }
.triage2 { background: url("../images/new-triage2.gif"); }
.triage3 { background: url("../images/new-triage3.gif"); }
.triage4 { background: url("../images/new-triage4.gif"); }
.triage5 { background: url("../images/new-triage5.gif");color:black; }
.triage1f { background: url("../images/new-triage1f.gif"); }
.triage2f { background: url("../images/new-triage2f.gif"); }
.triage3f { background: url("../images/new-triage3f.gif"); }
.triage4f { background: url("../images/new-triage4f.gif"); }
.triage5f { background: url("../images/new-triage5f.gif");color:black; }
</style>
</head>
%START.OF.PAGE
<body onload="PageLoad(event);AJAXRefresh();BBRefresh(%STANDARD.01.025.114.142.0.3);
changeDivSize();" onresize="changeDivSize();">
<div id="PageHeadingSection">
<table class="StandardTable" cellspacing=0>
<form name="SearchForm" onsubmit="AJAXSearch(); return false;">
<input type="hidden" name="reportno" value="3">
<input type="hidden" name="template" value="5">
<input type="hidden" name="d_emptonly" value="%PATWEB12.03.039">
<input type="hidden" name=sjogflag value="%PATWEB12.03.048">

<tr><td class="HeadingCell" colspan="3" align="center">
    Unallocated - Bed Board View</td>
    <td align=right class="HeadingCell">
    <span id=ProgressBar class=ProgressBar>Loading Page... </span>
    </td></tr>

<tr><td class="HeadingCell">
    <input type=button value=Refresh id="refrbutn" onclick='AJAXRefresh();'>
    <img src="../images/HelpIcon.gif" class="Icon"
                           onclick="ShowBedLegend();"/>&nbsp;Legend
    </td>
    <td class=HeadingCell>Surname
        <input type="text" name="srchsnam" size="22" maxlength="20"
         value="%PATWEB12.03.013" onblur="UpCase(this)">
        Given Name
        <input type="text" name="srchgnam" size="27" maxlength="25"
         value="%PATWEB12.03.014" onblur="UpCase(this)">
        <input type="submit" class="button" value="Search">
    </td>
    <td class=HeadingCell>Show Empty Beds Only&nbsp;
        <input type=checkbox name=emptonly value="1" 
         onclick="AJAXRefresh();">
    </td>
    <td class="HeadingCell" align="right">
    Patients in Un-Allocated Beds
    <input type="text" name="unallocp" size="4" class="Readonly" readonly>
    </tr>
</form>
</table>
</div>

<div id="box1"></div>
<div id="box2"></div>
<div id="PageSearchResults"></div>
<div id="PageBodySection" onscroll="floatColumnHeader()"></div>

<script type="text/javascript">
if(document.SearchForm.d_emptonly.value=="1") {
   document.SearchForm.emptonly.checked=true;
}
</script>
