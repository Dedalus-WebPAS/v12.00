.******************************************************************************
.* System         : Outpatients                                               *
.*                                                                            *
.* Include Name   : DXOUTXSC.PBL                                              *
.*                                                                            *
.* Function       : To Display all the variabls on OUTXSCFD file.             *
.*                                                                            *
.* Author         : Justin Coates                                             *
.*                                                                            *
.* Date Written   : 05/02/1992                                                *
.*                                                                            *
.* Parameters     : SCRPSTFD record                                           *
.*                                                                            *
.* Modifications  : 15/10/1992    Justin Coates  (HONG KONG changes)          *
.*                  changed to use DISPITEM (not dxsetval)                    *
.*                  14/12/1992    Justin Coates  (DUDLEY changes)             *
.*                  added the DXOUTXSC                                        *
.******************************************************************************
.
DXOUTXSC  MOVE      SCPSITM,FORM5
          BRANCH    FORM5,DOTXS001,DOTXS001,DOTXS001,DOTXS001,DOTXS001:
                          DOTXS001,DOTXS007,DOTXS008,DOTXS009,DOTXS010:
                          DOTXS011,DOTXS012,DOTXS013,DOTXS014,DOTXS015:
                          DOTXS016,DOTXS017,DOTXS018,DOTXS019,DOTXS020:
                          DOTXS021,DOTXS022,DOTXS023,DOTXS024,DOTXS025:
                          DOTXS026,DOTXS027,DOTXS028,DOTXS029,DOTXS030:
                          DOTXS031,DOTXS032,DOTXS033,DOTXS034,DOTXS035:
                          DOTXS036,DOTXS037,DOTXS038,DOTXS039,DOTXS040:
                          DOTXS041,DOTXS042,DOTXS043,DOTXS044,DOTXS045:
                          DOTXS046,DOTXS047,DOTXS048,DOTXS049,DOTXS050:
                          DOTXS051,DOTXS052,DOTXS053,DOTXS054,DOTXS055:
                          DOTXS056,DOTXS057,DOTXS058,DOTXS059,DOTXS060:
                          DOTXS061,DOTXS062,DOTXS063,DOTXS064,DOTXS065:
                          DOTXS066,DOTXS067
          RETURN
.                         
.---------------------------------------------------------------------------
.         dates
.---------------------------------------------------------------------------
DOTXS001  LOAD      KEY8,FORM5,OTXSDTE1,OTXSDTE2,OTXSDTE3:
                               OTXSDTE4,OTXSDTE5,OTXSDTE6
.
          UNPACK    KEY8,CCENT,CYEAR,CMON,CDAY
          CALL      PACDATE
          IF        SCPSLEN = 10
            PACK      VAR,CPCDATE,SP30,SP30,SP20
          ELSE
            PACK      VAR,CPDATE,SP30,SP30,SP20
          ENDIF
          CALL      DISPITEM
          RETURN
.
.---------------------------------------------------------------------------
.         coded fields
.---------------------------------------------------------------------------
DOTXS007  PACK      VAR,OTXSCO01,SP30,SP30,SP20
          CALL      DISPITEM
          RETURN
DOTXS008  MOVE      OTSPXC01,TCODE          * category
          MOVE      OTXSCO01,ACODE          * code
          CALL      DXPATCOD                * display desc
          RETURN
.
DOTXS009  PACK      VAR,OTXSCO02,SP30,SP30,SP20
          CALL      DISPITEM
          RETURN
DOTXS010  MOVE      OTSPXC02,TCODE          * category
          MOVE      OTXSCO02,ACODE          * code
          CALL      DXPATCOD                * display desc
          RETURN
.
DOTXS011  PACK      VAR,OTXSCO03,SP30,SP30,SP20
          CALL      DISPITEM
          RETURN
DOTXS012  MOVE      OTSPXC03,TCODE          * category
          MOVE      OTXSCO03,ACODE          * code
          CALL      DXPATCOD                * display desc
          RETURN
.
DOTXS013  PACK      VAR,OTXSCO04,SP30,SP30,SP20
          CALL      DISPITEM
          RETURN
DOTXS014  MOVE      OTSPXC04,TCODE          * category
          MOVE      OTXSCO04,ACODE          * code
          CALL      DXPATCOD                * display desc
          RETURN
.
DOTXS015  PACK      VAR,OTXSCO05,SP30,SP30,SP20
          CALL      DISPITEM
          RETURN
DOTXS016  MOVE      OTSPXC05,TCODE          * category
          MOVE      OTXSCO05,ACODE          * code
          CALL      DXPATCOD                * display desc
          RETURN
.
DOTXS017  PACK      VAR,OTXSCO06,SP30,SP30,SP20
          CALL      DISPITEM
          RETURN
DOTXS018  MOVE      OTSPXC06,TCODE          * category
          MOVE      OTXSCO06,ACODE          * code
          CALL      DXPATCOD                * display desc
          RETURN
.
DOTXS019  PACK      VAR,OTXSCO07,SP30,SP30,SP20
          CALL      DISPITEM
          RETURN
DOTXS020  MOVE      OTSPXC07,TCODE          * category
          MOVE      OTXSCO07,ACODE          * code
          CALL      DXPATCOD                * display desc
          RETURN
.
DOTXS021  PACK      VAR,OTXSCO08,SP30,SP30,SP20
          CALL      DISPITEM
          RETURN
DOTXS022  MOVE      OTSPXC08,TCODE          * category
          MOVE      OTXSCO08,ACODE          * code
          CALL      DXPATCOD                * display desc
          RETURN
.
DOTXS023  PACK      VAR,OTXSCO09,SP30,SP30,SP20
          CALL      DISPITEM
          RETURN
DOTXS024  MOVE      OTSPXC09,TCODE          * category
          MOVE      OTXSCO09,ACODE          * code
          CALL      DXPATCOD                * display desc
          RETURN
.
DOTXS025  PACK      VAR,OTXSCO10,SP30,SP30,SP20
          CALL      DISPITEM
          RETURN
DOTXS026  MOVE      OTSPXC10,TCODE          * category
          MOVE      OTXSCO10,ACODE          * code
          CALL      DXPATCOD                * display desc
          RETURN
.
DOTXS027  PACK      VAR,OTXSCO11,SP30,SP30,SP20
          CALL      DISPITEM
          RETURN
DOTXS028  MOVE      OTSPXC11,TCODE          * category
          MOVE      OTXSCO11,ACODE          * code
          CALL      DXPATCOD                * display desc
          RETURN
.
DOTXS029  PACK      VAR,OTXSCO12,SP30,SP30,SP20
          CALL      DISPITEM
          RETURN
DOTXS030  MOVE      OTSPXC12,TCODE          * category
          MOVE      OTXSCO12,ACODE          * code
          CALL      DXPATCOD                * display desc
          RETURN
.
DOTXS031  PACK      VAR,OTXSCO13,SP30,SP30,SP20
          CALL      DISPITEM
          RETURN
DOTXS032  MOVE      OTSPXC13,TCODE          * category
          MOVE      OTXSCO13,ACODE          * code
          CALL      DXPATCOD                * display desc
          RETURN
.
DOTXS033  PACK      VAR,OTXSCO14,SP30,SP30,SP20
          CALL      DISPITEM
          RETURN
DOTXS034  MOVE      OTSPXC14,TCODE          * category
          MOVE      OTXSCO14,ACODE          * code
          CALL      DXPATCOD                * display desc
          RETURN
.
DOTXS035  PACK      VAR,OTXSCO15,SP30,SP30,SP20
          CALL      DISPITEM
          RETURN
DOTXS036  MOVE      OTSPXC15,TCODE          * category
          MOVE      OTXSCO15,ACODE          * code
          CALL      DXPATCOD                * display desc
          RETURN
.
DOTXS037  PACK      VAR,OTXSCO16,SP30,SP30,SP20
          CALL      DISPITEM
          RETURN
DOTXS038  MOVE      OTSPXC16,TCODE          * category
          MOVE      OTXSCO16,ACODE          * code
          CALL      DXPATCOD                * display desc
          RETURN
.
DOTXS039  PACK      VAR,OTXSCO17,SP30,SP30,SP20
          CALL      DISPITEM
          RETURN
DOTXS040  MOVE      OTSPXC17,TCODE          * category
          MOVE      OTXSCO17,ACODE          * code
          CALL      DXPATCOD                * display desc
          RETURN
.
DOTXS041  PACK      VAR,OTXSCO18,SP30,SP30,SP20
          CALL      DISPITEM
          RETURN
DOTXS042  MOVE      OTSPXC18,TCODE          * category
          MOVE      OTXSCO18,ACODE          * code
          CALL      DXPATCOD                * display desc
          RETURN
.
DOTXS043  PACK      VAR,OTXSCO19,SP30,SP30,SP20
          CALL      DISPITEM
          RETURN
DOTXS044  MOVE      OTSPXC19,TCODE          * category
          MOVE      OTXSCO19,ACODE          * code
          CALL      DXPATCOD                * display desc
          RETURN
.
DOTXS045  PACK      VAR,OTXSCO20,SP30,SP30,SP20
          CALL      DISPITEM
          RETURN
DOTXS046  MOVE      OTSPXC20,TCODE          * category
          MOVE      OTXSCO20,ACODE          * code
          CALL      DXPATCOD                * display desc
          RETURN
.
.---------------------------------------------------------------------------
.         doctor codes
.---------------------------------------------------------------------------
DOTXS047  PACK      VAR,OTXSDOC1,SP30,SP30,SP20
          CALL      DISPITEM
          RETURN
DOTXS048  MOVE      OTXSDOC1,KEY6
          CALL      DXPATDOC
          RETURN
.
DOTXS049  PACK      VAR,OTXSDOC2,SP30,SP30,SP20
          CALL      DISPITEM
          RETURN
DOTXS050  MOVE      OTXSDOC2,KEY6
          CALL      DXPATDOC
          RETURN
.
DOTXS051  PACK      VAR,OTXSDOC3,SP30,SP30,SP20
          CALL      DISPITEM
          RETURN
DOTXS052  MOVE      OTXSDOC3,KEY6
          CALL      DXPATDOC
          RETURN
.
.---------------------------------------------------------------------------
.         amounts
.---------------------------------------------------------------------------
DOTXS053  PACK      VAR,OTXSAMT1,SP30,SP30,SP20
          CALL      DISPITEM
          RETURN
.
DOTXS054  PACK      VAR,OTXSAMT2,SP30,SP30,SP20
          CALL      DISPITEM
          RETURN
.
.---------------------------------------------------------------------------
.         free formats
.---------------------------------------------------------------------------
DOTXS055  PACK      VAR,OTXSDSC1,SP30,SP30,SP20
          CALL      DISPITEM
          RETURN
.
DOTXS056  PACK      VAR,OTXSDSC2,SP30,SP30,SP20
          CALL      DISPITEM
          RETURN
.
DOTXS057  PACK      VAR,OTXSDSC3,SP30,SP30,SP20
          CALL      DISPITEM
          RETURN
.
DOTXS058  PACK      VAR,OTXSDSC4,SP30,SP30,SP20
          CALL      DISPITEM
          RETURN
.
DOTXS059  PACK      VAR,OTXSDSC5,SP30,SP30,SP20
          CALL      DISPITEM
          RETURN
.
DOTXS060  PACK      VAR,OTXSDSC6,SP30,SP30,SP20
          CALL      DISPITEM
          RETURN
+
.---------------------------------------------------------------------------
.         comments
.---------------------------------------------------------------------------
DOTXS061  MOVE      "No ",ACODE             * default to no
          MOVE      ZERO,OVRCD              * clear flag
          TRAP      OVERCOND IF IO          * call overcond if no file
          OPEN      XCOMMW,CFNAMEW          * open comments working file
          TRAPCLR   IO                      * clear trap
          IF        OVRCD = ZERO
            READ      XCOMMW,SEQ;ANS
            IF        !@OVER
              MOVE      "Yes",ACODE             * have comments
            ENDIF
          ENDIF
          PACK      VAR,ACODE,SP30,SP30,SP20
          CALL      DISPITEM
          RETURN
+
.---------------------------------------------------------------------------
.         times
.---------------------------------------------------------------------------
DOTXS062  PACK     VAR,OTXSTIM1,SP30,SP30,SP20
          CALL     DISPITEM
          RETURN
DOTXS063  PACK     VAR,OTXSTIM2,SP30,SP30,SP20
          CALL     DISPITEM
          RETURN
DOTXS064  PACK     VAR,OTXSTIM3,SP30,SP30,SP20
          CALL     DISPITEM
          RETURN
DOTXS065  PACK     VAR,OTXSTIM4,SP30,SP30,SP20
          CALL     DISPITEM
          RETURN
DOTXS066  PACK     VAR,OTXSTIM5,SP30,SP30,SP20
          CALL     DISPITEM
          RETURN
DOTXS067  PACK     VAR,OTXSTIM6,SP30,SP30,SP20
          CALL     DISPITEM
          RETURN
...............................................................................
