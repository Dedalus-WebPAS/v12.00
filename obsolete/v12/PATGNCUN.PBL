.
.     PATGNCUN : Generate Clinic Unit Number
.
.              This include generates a Clinic Unit Number to be
.              printed on the MR10. If one doesn't exist spaces are printed.
.
.     MODIFICATIONS:   V5.01 24/04/89 K.Peak
.                            Standby Clinic Unit Number  SRF  4707
.                      V5.02 17/06/89 Graeme Williams
.                            Standby clinic unit numbers to use the ward from
.                            the ward/bed file as the standby file is gone.
.                            SRF 101101
.
PATGNCUN  MATCH    SP3,AWARD
          GOTO     NSTBY IF NOT EQUAL
.
          PACK     KEY9,ADOCTA,WWARD
          CALL     RDCUNO1
          BRANCH   OVRCD,NOWRD
          GOTO     PRTCUNO
.
NSTBY     PACK     KEY9,ADOCTA,AWARD
          CALL     RDCUNO1
          BRANCH   OVRCD,NOWRD
          GOTO     PRTCUNO
.
NOWRD     PACK     KEY9,ADOCTA,SP3
          CALL     RDCUNO1
          BRANCH   OVRCD,NOCUNO
.
          GOTO     PRTCUNO
.
NOCUNO    DISPLAY  *P1:24,*EL,*P10:24,*B,*V2LON:
                   "Warning - Clinic Unit Number Doesn't Exist ":
                   "- Tap Enter ";
          KEYIN    ANS;
.
          MOVE     SP3,AUSR6
          GOTO     RETCUNO
.
PRTCUNO   MOVE     CUNNUMB,AUSR6
.
RETCUNO   RETURN
