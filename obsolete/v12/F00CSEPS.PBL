.*****************************************************************************
.*    Program      : F00CSEPS                                                *
.*    Description  : Conversion ccsepsaf to new File layout                  *
.*                                                                           *
.*    Author       : Ebon Clements                                           *
.*    Date         : 12/04/2010                                              *
.*    Modifications: V10.00.00  12/04/2010 Ebon Clements CAR 217427          *
.*                 :            Created program                              *
.*****************************************************************************
.
.  Global change F00CSEPS  eg F57PTDOC
.  Global change CCSEPSFD  eg PATDOCFD (new layout)
.  Global change ccsepsaf  eg patdoctf
.  Global change CCSEPSA1  eg PATDOCT1
.  Global change KEY18     eg KEY8
.  Global change WRCCEP1  eg WRDOCT1
.  Global change spsepsaf  eg sptdoctf
.
.  vi Global change command  :%s/FromString/ToString/g
.
.
          INC       STD001FD
.
FINDFILE  FILE      ASCII, FIXED=256
.
. Enter the first or the shortest index from the original FD and rename
. the index OLDFILE
.   
OLDFILE   IFILE    SQL, FIXED=818, KEY="U1-2,3-18"
.
.                                     ******** copy the old FD here *******
.                                     * comment out all continuing fields and
.                                     * prefix changing fields with "OLD" -
.                                     * remove old Indexes and Redefines     
.Name     Type      Length Physical Start Description
.----     ----      ------ -------- ----- -----------
.CCEPHCD   DIM       2      2        1     Hospital Code
.CCEPEPS   DIM       16     16       3     Episode
.CCEPSUR   DIM       20     20       19    Surname
.CCEPGIV   DIM       25     25       39    Given Names
.CCEPCOM   DIM       1      1        64    Complete 0=No
.CCEPURN   DIM       10     10       65    UR Number
.CCEPSDT   DIM       8      8        75    Data Created by the System
.CCEPLTD   DIM       8      8        83    Last Data Transfer Date
.CCEPLOS   FORM      6      4        91    Length of Stay
.CCEPINPT  DIM       1      1        95    Inpatient 0=No
.CCEPDAY   DIM       1      1        96    Day Case 0=No
.CCEPVIST  DIM       2      2        97    Visit Type
.CCEPSEX   DIM       1      1        99    Patient Sex M or F
.CCEPDOB   DIM       8      8        100   Date of Birth
.CCEPAGEY  DIM       3      3        108   Age in Years
.CCEPAGEM  DIM       2      2        111   Age in Months
.CCEPAGED  DIM       2      2        113   Age in Days
.CCEPCOB   DIM       3      3        115   Country of Birth (Category C)
.CCEPREL   DIM       3      3        118   Religion (Category R )
.CCEPDDAT  DIM       8      8        121   Discharge Date
.CCEPDWAR  DIM       3      3        129   Discharge Ward
.CCEPDSTA  DIM       3      3        132   Discharge Status (Cat. D)
.CCEPDDES  DIM       3      3        135   Discharge Destination (Cat. DD)
.CCEPDMBS  DIM       9      9        138   Discharge Diagnosis
.CCEPDDPT  DIM       3      3        147   Discharge Dept (From Tran)
.CCEPDSER  DIM       3      3        150   Discharge Service (From Dept)
.CCEPMDCC  DIM       4      4        153   M.D.C.
.CCEPDRGC  DIM       4      4        157   D.R.G.
.CCEPADAT  DIM       8      8        161   Admission Date or
.CCEPAWAR  DIM       3      3        169   Adm Ward
.CCEPASRC  DIM       3      3        172   Adm Source (Category S)
.CCEPACLS  DIM       3      3        175   Adm Class (Category P)
.CCEPACAR  DIM       3      3        178   Adm Care Class (Category CC)
.CCEPADPT  DIM       3      3        181   Adm Dept. (Cat. AC)(Pat. Class)
.CCEPASER  DIM       3      3        184   Adm Service. (From Dept)
.CCEPARDC  DIM       10     10       187   Doctor Referred By
.CCEPATDC  DIM       10     10       197   Doctor Treating
.CCEPAADC  DIM       10     10       207   Doctor Attending at Admission
.CCEPDADC  DIM       10     10       217   Doctor Attending at Discharge
.CCEPAHFD  DIM       6      6        227   Health Fund (Source Board)
.CCEPAHTB  DIM       8      8        233   Health Fund Table
.CCEPAMBS  DIM       9      9        241   Admission MBS Code
.CCEPOPCL  DIM       6      6        250   Outpatient Clinic
.CCEPPDIA  DIM       9      9        256   Primary Diagnosis
.CCEPSDIA  DIM       9      9        265   Secondary Diagnosis
.CCEPPOPP  DIM       9      9        274   Primary Op Code
.CCEPSOPP  DIM       9      9        283   Secondary Op Code
.CCEPEXC   DIM       1      1        292   Casemix Exclusion 0=No
.CCEPPMBS  DIM       9      9        293   Primary MBS Code
.CCEPSMBS  DIM       9      9        302   Secondary MBS Code
.CCEPMU1   DIM       3      3        311   User Def 1 (patmi1af) (Category U1)
.CCEPMU2   DIM       3      3        314   User Def 2 (Category U2)
.CCEPMU3   DIM       3      3        317   User Def 3 (Category U3)
.CCEPMU4   DIM       3      3        320   User Def 4 (Category U4)
.CCEPMU5   DIM       3      3        323   User Def 5 (Category U5)
.CCEPMU6   DIM       3      3        326   User Def 6 (Category U6)
.CCEPMU7   DIM       3      3        329   User Def 7 (Category U7)
.CCEPPCD   DIM       10     10       332   Patients Post Code
.CCEPCLM   DIM       3      3        342   Claim Code (patmi1af.aclaim Cat CL)
.CCEPCLI   DIM       6      6        345   Theatre Clinic/Surgeon
.CCEPCTY   DIM       3      3        351   Theatre Clinic/Surgeon Type (DT)
.CCEPANA   DIM       3      3        354   Theatre Anaesthetic Code (OA)
.CCEPOTY   DIM       3      3        357   Theatre Operation Type   (OY)
.CCEPTTR   DIM       3      3        360   Theatre Transport Code (OR)
.CCEPOY6   DIM       3      3        363   Theatre User Def 1 (Y6)
.CCEPOY7   DIM       3      3        366   Theatre User Def 2 (Y7)
.CCEPOY8   DIM       3      3        369   Theatre User Def 3 (Y8)
.CCEPOY9   DIM       3      3        372   Theatre User Def 4 (Y9)
.CCEPORM   DIM       6      6        375   Theatre Operating Room
.CCEPOKI   DIM       3      3        381   Theatre Op Known Infect. (OK)
.CCEPOTP   DIM       3      3        384   Theatre Op Time Period   (SP)
.CCEPTST   DIM       3      3        387   Theatre Session Type (ST)
.CCEPINS   DIM       3      3        390   Insurance St. (U1)(OBAINS,ADAINSUR)
.CCEPTIM   DIM       5      5        393   Time Seen (O/P & A&E)
.CCEPTDP   DIM       5      5        398   Time of Departure
.CCEPAST   DIM       3      3        403   EMR Situation (S)(EMVISITN)
.CCEPAMD   DIM       3      3        406   EMR Mode of Arrival(EA)(EMVIMODE)
.CCEPAU1   DIM       3      3        409   EMR User Def 1 (A1) (EMVIUC01)
.CCEPAU2   DIM       3      3        412   EMR User Def 2 (A2) (EMVIUC02)
.CCEPAU3   DIM       3      3        415   EMR User Def 3 (A3) (EMVIUC03)
.CCEPAU4   DIM       3      3        418   EMR User Def 4 (A4) (EMVIUC04)
.CCEPAU5   DIM       3      3        421   EMR User Def 5 (A5) (EMVIUC05)
.CCEPAU6   DIM       3      3        424   EMR User Def 6 (A6)(EMVIUC06)
.CCEPAU7   DIM       3      3        427   EMR User Def 7 (A7)(EMVIUC07)
.CCEPAU8   DIM       3      3        430   EMR User Def 8 (A8)(EMVIUC08)
.CCEPAWT   DIM       3      3        433   EMR Comp Wait  (EW) (EMVIWAIT)
.CCEPAPR   DIM       3      3        436   EMR Prev Attend(EP) (EMVIPREV)
.CCEPAET   DIM       3      3        439   EMR Time Since (AE) (EMVIELAP)
.CCEPART   DIM       3      3        442   EMR RTA Seatbelt(AR) (EMVIRTAS)
.CCEPAIN   DIM       3      3        445   EMR Initiator  (AI) (EMVIINIT)
.CCEPAPL   DIM       3      3        448   EMR Place of Incident(AP)(EMVIPLIN)
.CCEPAPY   DIM       3      3        451   EMR Priority Code(AA)(EMVITRIG)
.CCEPOST   DIM       6      6        454   Outpatient Site (OBASITE)
.CCEPOCL   DIM       6      6        460   Outpatient Clinic (OBACLIN)
.CCEPOCT   DIM       6      6        466   Outpatient Clinic Type (OBACTYP)
.CCEPOVT   DIM       3      3        472   Outpatient Visit Type (OBAVISIT)
.CCEPODY   DIM       1      1        475   Outpatient Day Indicator (OBADAY)
.CCEPOSS   DIM       3      3        476   O/P Session Status (CS) (OBASESST)
.CCEPODS   DIM       3      3        479   O/P Discharge Status (DO)(OBADISCH)
.CCEPOAT   DIM       3      3        482   O/P Attendance Code (CA) (OBAATTN)
.CCEPOPR   DIM       3      3        485   O/P Priority Code (PR) (OBAPRTY)
.CCEPOU1   DIM       3      3        488   O/P User Def 1 (O1) (OBAUSR1)
.CCEPOU2   DIM       3      3        491   O/P User Def 2 (O2) (OBAUSR2)
.CCEPOU3   DIM       3      3        494   O/P User Def 3 (O3) (OBAUSR3)
.CCEPOU4   DIM       3      3        497   O/P User Def 4 (O4) (OBAUSR4)
.CCEPODP   DIM       3      3        500   O/P Department (AC) (OBADEPT)
.CCEPOTR   DIM       3      3        503   O/P Transport (OB) (OBATRAN)
.CCEPOLG   DIM       3      3        506   O/P Language (OL) (OTBBLNGI)
.CCEPOOT   DIM       3      3        509   O/P Outcome (OZ) (OTBBOUTC)
.CCEPMU8   DIM       3      3        512   Admission User Defined 8 (U8)
.CCEPMU9   DIM       3      3        515   Admission User Defined 9 (U9)
.CCEPMU10  DIM       3      3        518   Admission User Defined 10 (U0)
.CCEPPHP   DIM       3      3        521   Pri. Health Service Purchaser (HP)
.CCEPAGN   DIM       3      3        524   Health Agency (HA)
.CCEPVW5   FORM      8.4    7        527   WEIS 5 NZ Calculation
.CCEPV5A   FORM      8.4    7        534   WEIS 5A NZ Calculation
.CCEPCMX   DIM       1      1        541   Case Payment ? (PTMICMXP)
.CCEPV8A   FORM      8.4    7        542   WEIS 8A NZ Calculation (Southland)
.CCEPINTR  DIM       1      1        549   Interpreter Required
.CCEPSTAT  DIM       1      1        550   O/P Slot Status
.CCEPCIND  DIM       3      3        551   O/P Clinic Indicator (CI)
.CCEPSPCA  DIM       3      3        554   O/P Special Arrangements (SA)
.CCEPRSTA  DIM       1      1        557   A/H Referral Status
.CCEPRHCP  DIM       10     10       558   A/H Resp. HCP (Ref)
.CCEPPRB1  DIM       9      9        568   A/H Problem Code 1 (Ref)
.CCEPPRB2  DIM       9      9        577   A/H Problem Code 2 (Ref)
.CCEPPRB3  DIM       9      9        586   A/H Problem Code 3 (Ref)
.CCEPDIA1  DIM       9      9        595   A/H Diag Code 1 (Ref)
.CCEPDIA2  DIM       9      9        604   A/H Diag Code 2 (Ref)
.CCEPDIA3  DIM       9      9        613   A/H Diag Code 3 (Ref)
.CCEPENCN  DIM       3      3        622   A/H Enc Number (Enc)
.CCEPSERP  DIM       10     10       625   A/H Serv. Provider (Enc)
.CCEPACTY  DIM       6      6        635   A/H Clinic Type (Enc)
.CCEPSERD  DIM       8      8        641   A/H Service Date (Enc)
.CCEPPTYP  DIM       3      3        649   A/H Patient Type (Enc) (GI)
.CCEPDEPT  DIM       3      3        652   Department Code (ALREDEPT)
.CCEPDUNT  FORM      6      4        655   A/H Direct Units (Enc)
.CCEPDBUN  FORM      6      4        659   A/H Direct Billable Units (Enc)
.CCEPIUNT  FORM      6      4        663   A/H Indirect Units (Enc)
.CCEPIBUN  FORM      6      4        667   A/H Indirect Billable Units (Enc)
.CCEPABRG  DIM       3      3        671   Indigenous Status (VA)
.CCEPCADM  DIM       3      3        674   Admission Criteria (VB)
.CCEPIRAD  DIM       3      3        677   Intention to Readmit (VR)
.CCEPIDUS  DIM       3      3        680   Intended Stay (VI)
.CCEPCRAV  DIM       3      3        683   Carer Availability (VK)
.CCEPRCCT  DIM       3      3        686   Critical Care Transfer (VJ)
.CCEPINDC  DIM       1      1        689   Intended Day Case
.CCEPMDAV  DIM       3      3        690   Mode of Inp. Arrival (VM)
.CCEPCSNG  DIM       3      3        693   Coder Snags (VN)
.CCEPASUT  DIM       3      3        696   Adm. Serv. Unit Type (KA)
.CCEPELPS  DIM       3      3        699   Elective Patient Stat (KC)
.CCEPEMPL  DIM       3      3        702   Employment Status (KD)
.CCEPFINP  DIM       3      3        705   Financial Program (KE)
.CCEPOCCP  DIM       3      3        708   Occupation (KF)
.CCEPPALC  DIM       3      3        711   Inv. In Palliative Care (KG)
.CCEPPPAL  DIM       3      3        714   Palliative Care (KH)
.CCEPPPPT  DIM       3      3        717   Public / Private (KI)
.CCEPPSOS  DIM       3      3        720   Pension Status on Sep (KJ)
.CCEPPYSP  DIM       3      3        723   Payment Stat on Sep (KK)
.CCEPQLDB  DIM       3      3        726   Type of Episode QLD (KL)
.CCEPREAD  DIM       3      3        729   Re-Admission 28 Days (KM)
.CCEPUDIN  DIM       3      3        732   Discharge Intention (KN)
.CCEPUREA  DIM       3      3        735   Unplanned Readmission (KO)
.CCEPUSAC  DIM       3      3        738   Usual Accom (KP)
.CCEPUVTH  DIM       3      3        741   Unplanned Visit to Theatre (KB)
.CCEPDVAC  DIM       3      3        744   DVA Card Colour (DX)
.CCEPFLDR  DIM       3      3        747   Folder Selection (FS)
.CCEPPCCL  DIM       1      1        750   Patient CC Class Level
.CCEPSDRG  DIM       4      4        751   State D.R.G. (PTPGSDRG)
.CCEPUINT  FORM      4      3        755   Hrs in Intensive Care (PTICUINT)
.CCEPUCCU  FORM      4      3        758   Hrs in Critical Care (PTICUCCU)
.CCEPUMEC  FORM      4      3        761   Hrs on Mech. Vent (PTICUMEC)
.CCEPCPAP  FORM      5      4        764   Hrs on Const. Pos. Air (PTICCPAP)
.CCEPRCLO  DIM       3      3        768   Reason for Closure (LL) (ALRERCLO)
.CCEPSRCE  DIM       3      3        771   Source of Referral (ALRESRCE)
.CCEPSTYP  DIM       6      6        774   A/H Service Type (Enc)
.CCEPASIT  DIM       6      6        780   Allied Health Outpatient Site
.CCEPUC21  DIM       3      3        786   EMR Attendance Source (Cat em)
.CCEPUC09  DIM       3      3        789   EMR Transport Mode (Cat ea)
.CCEPUC20  DIM       3      3        792   EMR Presenting Complaint (Cat el)
.CCEPUC28  DIM       3      3        795   EMR Ready For Admission (Cat et)
.CCEPRHC1  DIM       10     10       798   Referring HCP 1 (pmsvx1af)
OLDPSPA   DIM       10     10       808   Spare
.
.End of Record                      818
.
.
.                                     ******** copy the new FD here *******
.Data File Definition
.--------------------
CCSEPSA1   IFILE    SQL, FIXED=868, KEY="U1-2,3-18"
CCSEPSA2   IFILE    SQL, FIXED=868, KEY="U64-64,1-2,3-18"
CCSEPSA3   IFILE    SQL, FIXED=868, KEY="U83-90,1-2,3-18"
CCSEPSA4   IFILE    SQL, FIXED=868, KEY="U121-128,1-2,3-18"
CCSEPSA5   IFILE    SQL, FIXED=868, KEY="U65-74,1-2,3-18"
.
.Name     Type      Length Physical Start Description
.----     ----      ------ -------- ----- -----------
CCEPHCD   DIM       2      2        1     Hospital Code
CCEPEPS   DIM       16     16       3     Episode
CCEPSUR   DIM       20     20       19    Surname
CCEPGIV   DIM       25     25       39    Given Names
CCEPCOM   DIM       1      1        64    Complete 0=No
CCEPURN   DIM       10     10       65    UR Number
CCEPSDT   DIM       8      8        75    Data Created by the System
CCEPLTD   DIM       8      8        83    Last Data Transfer Date
CCEPLOS   FORM      6      4        91    Length of Stay
CCEPINPT  DIM       1      1        95    Inpatient 0=No
CCEPDAY   DIM       1      1        96    Day Case 0=No
CCEPVIST  DIM       2      2        97    Visit Type
CCEPSEX   DIM       1      1        99    Patient Sex M or F
CCEPDOB   DIM       8      8        100   Date of Birth
CCEPAGEY  DIM       3      3        108   Age in Years
CCEPAGEM  DIM       2      2        111   Age in Months
CCEPAGED  DIM       2      2        113   Age in Days
CCEPCOB   DIM       3      3        115   Country of Birth (Category C)
CCEPREL   DIM       3      3        118   Religion (Category R )
CCEPDDAT  DIM       8      8        121   Discharge Date
CCEPDWAR  DIM       3      3        129   Discharge Ward
CCEPDSTA  DIM       3      3        132   Discharge Status (Cat. D)
CCEPDDES  DIM       3      3        135   Discharge Destination (Cat. DD)
CCEPDMBS  DIM       9      9        138   Discharge Diagnosis
CCEPDDPT  DIM       3      3        147   Discharge Dept (From Tran)
CCEPDSER  DIM       3      3        150   Discharge Service (From Dept)
CCEPMDCC  DIM       4      4        153   M.D.C.
CCEPDRGC  DIM       4      4        157   D.R.G.
CCEPADAT  DIM       8      8        161   Admission Date or
CCEPAWAR  DIM       3      3        169   Adm Ward
CCEPASRC  DIM       3      3        172   Adm Source (Category S)
CCEPACLS  DIM       3      3        175   Adm Class (Category P)
CCEPACAR  DIM       3      3        178   Adm Care Class (Category CC)
CCEPADPT  DIM       3      3        181   Adm Dept. (Cat. AC)(Pat. Class)
CCEPASER  DIM       3      3        184   Adm Service. (From Dept)
CCEPARDC  DIM       10     10       187   Doctor Referred By
CCEPATDC  DIM       10     10       197   Doctor Treating
CCEPAADC  DIM       10     10       207   Doctor Attending at Admission
CCEPDADC  DIM       10     10       217   Doctor Attending at Discharge
CCEPAHFD  DIM       6      6        227   Health Fund (Source Board)
CCEPAHTB  DIM       8      8        233   Health Fund Table
CCEPAMBS  DIM       9      9        241   Admission MBS Code
CCEPOPCL  DIM       6      6        250   Outpatient Clinic
CCEPPDIA  DIM       9      9        256   Primary Diagnosis
CCEPSDIA  DIM       9      9        265   Secondary Diagnosis
CCEPPOPP  DIM       9      9        274   Primary Op Code
CCEPSOPP  DIM       9      9        283   Secondary Op Code
CCEPEXC   DIM       1      1        292   Casemix Exclusion 0=No
CCEPPMBS  DIM       9      9        293   Primary MBS Code
CCEPSMBS  DIM       9      9        302   Secondary MBS Code
CCEPMU1   DIM       3      3        311   User Def 1 (patmi1af) (Category U1)
CCEPMU2   DIM       3      3        314   User Def 2 (Category U2)
CCEPMU3   DIM       3      3        317   User Def 3 (Category U3)
CCEPMU4   DIM       3      3        320   User Def 4 (Category U4)
CCEPMU5   DIM       3      3        323   User Def 5 (Category U5)
CCEPMU6   DIM       3      3        326   User Def 6 (Category U6)
CCEPMU7   DIM       3      3        329   User Def 7 (Category U7)
CCEPPCD   DIM       10     10       332   Patients Post Code
CCEPCLM   DIM       3      3        342   Claim Code (patmi1af.aclaim Cat CL)
CCEPCLI   DIM       6      6        345   Theatre Clinic/Surgeon
CCEPCTY   DIM       3      3        351   Theatre Clinic/Surgeon Type (DT)
CCEPANA   DIM       3      3        354   Theatre Anaesthetic Code (OA)
CCEPOTY   DIM       3      3        357   Theatre Operation Type   (OY)
CCEPTTR   DIM       3      3        360   Theatre Transport Code (OR)
CCEPOY6   DIM       3      3        363   Theatre User Def 1 (Y6)
CCEPOY7   DIM       3      3        366   Theatre User Def 2 (Y7)
CCEPOY8   DIM       3      3        369   Theatre User Def 3 (Y8)
CCEPOY9   DIM       3      3        372   Theatre User Def 4 (Y9)
CCEPORM   DIM       6      6        375   Theatre Operating Room
CCEPOKI   DIM       3      3        381   Theatre Op Known Infect. (OK)
CCEPOTP   DIM       3      3        384   Theatre Op Time Period   (SP)
CCEPTST   DIM       3      3        387   Theatre Session Type (ST)
CCEPINS   DIM       3      3        390   Insurance St. (U1)(OBAINS,ADAINSUR)
CCEPTIM   DIM       5      5        393   Time Seen (O/P & A&E)
CCEPTDP   DIM       5      5        398   Time of Departure
CCEPAST   DIM       3      3        403   EMR Situation (S)(EMVISITN)
CCEPAMD   DIM       3      3        406   EMR Mode of Arrival(EA)(EMVIMODE)
CCEPAU1   DIM       3      3        409   EMR User Def 1 (A1) (EMVIUC01)
CCEPAU2   DIM       3      3        412   EMR User Def 2 (A2) (EMVIUC02)
CCEPAU3   DIM       3      3        415   EMR User Def 3 (A3) (EMVIUC03)
CCEPAU4   DIM       3      3        418   EMR User Def 4 (A4) (EMVIUC04)
CCEPAU5   DIM       3      3        421   EMR User Def 5 (A5) (EMVIUC05)
CCEPAU6   DIM       3      3        424   EMR User Def 6 (A6)(EMVIUC06)
CCEPAU7   DIM       3      3        427   EMR User Def 7 (A7)(EMVIUC07)
CCEPAU8   DIM       3      3        430   EMR User Def 8 (A8)(EMVIUC08)
CCEPAWT   DIM       3      3        433   EMR Comp Wait  (EW) (EMVIWAIT)
CCEPAPR   DIM       3      3        436   EMR Prev Attend(EP) (EMVIPREV)
CCEPAET   DIM       3      3        439   EMR Time Since (AE) (EMVIELAP)
CCEPART   DIM       3      3        442   EMR RTA Seatbelt(AR) (EMVIRTAS)
CCEPAIN   DIM       3      3        445   EMR Initiator  (AI) (EMVIINIT)
CCEPAPL   DIM       3      3        448   EMR Place of Incident(AP)(EMVIPLIN)
CCEPAPY   DIM       3      3        451   EMR Priority Code(AA)(EMVITRIG)
CCEPOST   DIM       6      6        454   Outpatient Site (OBASITE)
CCEPOCL   DIM       6      6        460   Outpatient Clinic (OBACLIN)
CCEPOCT   DIM       6      6        466   Outpatient Clinic Type (OBACTYP)
CCEPOVT   DIM       3      3        472   Outpatient Visit Type (OBAVISIT)
CCEPODY   DIM       1      1        475   Outpatient Day Indicator (OBADAY)
CCEPOSS   DIM       3      3        476   O/P Session Status (CS) (OBASESST)
CCEPODS   DIM       3      3        479   O/P Discharge Status (DO)(OBADISCH)
CCEPOAT   DIM       3      3        482   O/P Attendance Code (CA) (OBAATTN)
CCEPOPR   DIM       3      3        485   O/P Priority Code (PR) (OBAPRTY)
CCEPOU1   DIM       3      3        488   O/P User Def 1 (O1) (OBAUSR1)
CCEPOU2   DIM       3      3        491   O/P User Def 2 (O2) (OBAUSR2)
CCEPOU3   DIM       3      3        494   O/P User Def 3 (O3) (OBAUSR3)
CCEPOU4   DIM       3      3        497   O/P User Def 4 (O4) (OBAUSR4)
CCEPODP   DIM       3      3        500   O/P Department (AC) (OBADEPT)
CCEPOTR   DIM       3      3        503   O/P Transport (OB) (OBATRAN)
CCEPOLG   DIM       3      3        506   O/P Language (OL) (OTBBLNGI)
CCEPOOT   DIM       3      3        509   O/P Outcome (OZ) (OTBBOUTC)
CCEPMU8   DIM       3      3        512   Admission User Defined 8 (U8)
CCEPMU9   DIM       3      3        515   Admission User Defined 9 (U9)
CCEPMU10  DIM       3      3        518   Admission User Defined 10 (U0)
CCEPPHP   DIM       3      3        521   Pri. Health Service Purchaser (HP)
CCEPAGN   DIM       3      3        524   Health Agency (HA)
CCEPVW5   FORM      8.4    7        527   WEIS 5 NZ Calculation
CCEPV5A   FORM      8.4    7        534   WEIS 5A NZ Calculation
CCEPCMX   DIM       1      1        541   Case Payment ? (PTMICMXP)
CCEPV8A   FORM      8.4    7        542   WEIS 8A NZ Calculation (Southland)
CCEPINTR  DIM       1      1        549   Interpreter Required
CCEPSTAT  DIM       1      1        550   O/P Slot Status
CCEPCIND  DIM       3      3        551   O/P Clinic Indicator (CI)
CCEPSPCA  DIM       3      3        554   O/P Special Arrangements (SA)
CCEPRSTA  DIM       1      1        557   A/H Referral Status
CCEPRHCP  DIM       10     10       558   A/H Resp. HCP (Ref)
CCEPPRB1  DIM       9      9        568   A/H Problem Code 1 (Ref)
CCEPPRB2  DIM       9      9        577   A/H Problem Code 2 (Ref)
CCEPPRB3  DIM       9      9        586   A/H Problem Code 3 (Ref)
CCEPDIA1  DIM       9      9        595   A/H Diag Code 1 (Ref)
CCEPDIA2  DIM       9      9        604   A/H Diag Code 2 (Ref)
CCEPDIA3  DIM       9      9        613   A/H Diag Code 3 (Ref)
CCEPENCN  DIM       3      3        622   A/H Enc Number (Enc)
CCEPSERP  DIM       10     10       625   A/H Serv. Provider (Enc)
CCEPACTY  DIM       6      6        635   A/H Clinic Type (Enc)
CCEPSERD  DIM       8      8        641   A/H Service Date (Enc)
CCEPPTYP  DIM       3      3        649   A/H Patient Type (Enc) (GI)
CCEPDEPT  DIM       3      3        652   Department Code (ALREDEPT)
CCEPDUNT  FORM      6      4        655   A/H Direct Units (Enc)
CCEPDBUN  FORM      6      4        659   A/H Direct Billable Units (Enc)
CCEPIUNT  FORM      6      4        663   A/H Indirect Units (Enc)
CCEPIBUN  FORM      6      4        667   A/H Indirect Billable Units (Enc)
CCEPABRG  DIM       3      3        671   Indigenous Status (VA)
CCEPCADM  DIM       3      3        674   Admission Criteria (VB)
CCEPIRAD  DIM       3      3        677   Intention to Readmit (VR)
CCEPIDUS  DIM       3      3        680   Intended Stay (VI)
CCEPCRAV  DIM       3      3        683   Carer Availability (VK)
CCEPRCCT  DIM       3      3        686   Critical Care Transfer (VJ)
CCEPINDC  DIM       1      1        689   Intended Day Case
CCEPMDAV  DIM       3      3        690   Mode of Inp. Arrival (VM)
CCEPCSNG  DIM       3      3        693   Coder Snags (VN)
CCEPASUT  DIM       3      3        696   Adm. Serv. Unit Type (KA)
CCEPELPS  DIM       3      3        699   Elective Patient Stat (KC)
CCEPEMPL  DIM       3      3        702   Employment Status (KD)
CCEPFINP  DIM       3      3        705   Financial Program (KE)
CCEPOCCP  DIM       3      3        708   Occupation (KF)
CCEPPALC  DIM       3      3        711   Inv. In Palliative Care (KG)
CCEPPPAL  DIM       3      3        714   Palliative Care (KH)
CCEPPPPT  DIM       3      3        717   Public / Private (KI)
CCEPPSOS  DIM       3      3        720   Pension Status on Sep (KJ)
CCEPPYSP  DIM       3      3        723   Payment Stat on Sep (KK)
CCEPQLDB  DIM       3      3        726   Type of Episode QLD (KL)
CCEPREAD  DIM       3      3        729   Re-Admission 28 Days (KM)
CCEPUDIN  DIM       3      3        732   Discharge Intention (KN)
CCEPUREA  DIM       3      3        735   Unplanned Readmission (KO)
CCEPUSAC  DIM       3      3        738   Usual Accom (KP)
CCEPUVTH  DIM       3      3        741   Unplanned Visit to Theatre (KB)
CCEPDVAC  DIM       3      3        744   DVA Card Colour (DX)
CCEPFLDR  DIM       3      3        747   Folder Selection (FS)
CCEPPCCL  DIM       1      1        750   Patient CC Class Level
CCEPSDRG  DIM       4      4        751   State D.R.G. (PTPGSDRG)
CCEPUINT  FORM      4      3        755   Hrs in Intensive Care (PTICUINT)
CCEPUCCU  FORM      4      3        758   Hrs in Critical Care (PTICUCCU)
CCEPUMEC  FORM      4      3        761   Hrs on Mech. Vent (PTICUMEC)
CCEPCPAP  FORM      5      4        764   Hrs on Const. Pos. Air (PTICCPAP)
CCEPRCLO  DIM       3      3        768   Reason for Closure (LL) (ALRERCLO)
CCEPSRCE  DIM       3      3        771   Source of Referral (ALRESRCE)
CCEPSTYP  DIM       6      6        774   A/H Service Type (Enc)
CCEPASIT  DIM       6      6        780   Allied Health Outpatient Site
CCEPUC21  DIM       3      3        786   EMR Attendance Source (Cat em)
CCEPUC09  DIM       3      3        789   EMR Transport Mode (Cat ea)
CCEPUC20  DIM       3      3        792   EMR Presenting Complaint (Cat el)
CCEPUC28  DIM       3      3        795   EMR Ready For Admission (Cat et)
CCEPRHC1  DIM       10     10       798   Referring HCP 1 (pmsvx1af)
CCEPADTS  DIM       5      5        808   Admission Transfer Source
CCEPDCTS  DIM       5      5        813   Discharge Transfer Source
CCEPSPA   DIM       50     50       818   Spare
.
.End of Record                      868
.
.
CMDLINE   DIM       100
DIM4      DIM       4
DIM4A     DIM       4
DIM6      DIM       6
DIM6A     DIM       6
DIM60     DIM       60
DDCENT    DIM       2
.
RECNUM    FORM      8
NEWFILE   DIM       60
NEWPATH   DIM       60
OLDPATH   DIM       60
DEFPATH   DIM       60
SAVEFLG   FORM      1
SP50      INIT    "                                                  "
SP60      INIT    "                                                            "
.
PRGNAM    INIT      "CONVERSION CCSEPSFD"
PRGID     INIT      "F00CSEPS"
VERSION   INIT      "V12.00.00"
.
. Start of Program
.
MAIN0000  CALL      INIT0000                      * init and open files
          BRANCH    EXIT,MAIN9999                 * init failure
.
          CALL      KDIR0000                      * Keyin directory
          BRANCH    EXIT,MAIN9999
.
          CALL      CONTQST                       * Ok to continue ?
          BRANCH    CEXIT,MAIN1000,MAIN0000,MAIN9999 * Yes, no, cancel
.
MAIN1000  CALL      PREP0000                      * preparing files
          BRANCH    EXIT,MAIN9999
.
. Loop thru old file and write records to new file
.
          CALL      READ0000                      * read old records and write
          CALL      ENDP0000                      * save/compress saved file
.
MAIN9999  CHAIN     PGM
+
.********************************************************************
.*                          INIT0000                                *
.*  Display heading and check that the files needed exist&open them *
.********************************************************************
INIT0000  CALL      DISPHEAD
          MOVE      ZERO,RECNUM
          
INIT9999  RETURN
.
.********************************************************************
.*                          KDIR0000                                *
.*  Keyin directories                                               *
.********************************************************************
KDIR0000  MOVE      ONE,SAVEFLG        * Default to keep file
          KEYIN     *P1:10,*EL,"Do you want to save the original file (Y/N) ? ":
                    ANS;
          REP       "yYnN",ANS
          CMATCH    "Y",ANS
          GOTO      KDIR1000 IF EQUAL
          MOVE      ZERO,SAVEFLG       * not to keep file
          CMATCH    "N",ANS
          GOTO      KDIR1000 IF EQUAL
          BEEP
          GOTO      KDIR0000
.
KDIR1000  CALL      DEFT0000                * Get the default path
          BRANCH    EXIT,KDIR9999
          MOVE      SP60,OLDPATH
.
          DISPLAY   *P1:24,*EL,"The directory path must end with a slash (/) ";
.
          MOVE      DEFPATH,OLDPATH
          BRANCH    SAVEFLG,KDIR2000
.
.         Keyin the path for the original file
.
          KEYIN     *P1:12,*EL,"Keyin path for temporarily saving original ":
                    "file: ":
                    *P10:13,*EL,*DV,*RV,OLDPATH:
                    *P10:13,OLDPATH;
          GOTO      KDIR3000
.
KDIR2000  KEYIN     *P1:12,*EL,"Keyin path for saving original file: ":
                    *P10:13,*EL,*DV,*RV,OLDPATH:
                    *P10:13,OLDPATH;
.
KDIR3000  ENDSET    OLDPATH
          APPEND    SP60,OLDPATH
          RESET     OLDPATH
.
          MATCH     SP60,OLDPATH
          IF        @EQUAL
            PACK      OLDPATH,DEFPATH      * use the default
            DISPLAY   *P10:13,*EL,*V2LON,OLDPATH;
          ENDIF
.
          SQUEEZE   OLDPATH
          CMATCH    EXITCHAR,OLDPATH
          GOTO      KDIR9000 IF EQUAL
.
          PACK      DIM60,OLDPATH,SP60
          CALL      VALD0000         * check if it's a valid directory
          BRANCH    EXIT,KDIR1000
.
.         Keyin the path for the new file
.
KDIR5000  MOVE      SP60,NEWPATH
          MOVE      DEFPATH,NEWPATH
          KEYIN     *P1:15,*EL,"Keyin path for the new file: ":
                    *P10:16,*EL,*DV,*RV,NEWPATH:
                    *P10:16,NEWPATH;
          ENDSET    NEWPATH
          APPEND    SP60,NEWPATH
          RESET     NEWPATH
.
          MATCH     SP60,NEWPATH
          IF        @EQUAL
            PACK      NEWPATH,DEFPATH      * use the default
            DISPLAY   *P10:16,*V2LON,NEWPATH;
          ENDIF
.
          SQUEEZE   NEWPATH
          CMATCH    EXITCHAR,NEWPATH
          GOTO      KDIR9000 IF EQUAL
.
          PACK      DIM60,NEWPATH,SP60
          CALL      VALD0000         * check if it's a valid directory
          BRANCH    EXIT,KDIR5000
          GOTO      KDIR9999
.
KDIR9000  MOVE      ONE,EXIT
KDIR9999  DISPLAY   *P1:24,*EL;
          RETURN
+
.
.********************************************************************
.*                          PREP0000                                *
.*  Preparing files                                                 *
.********************************************************************
PREP0000 
. open old file
          MOVE      ZERO,OVRCD
          TRAP      OVERCOND IF IO
          OPEN      OLDFILE,"ccsepsaf"
          TRAPCLR   IO
          BRANCH    OVRCD,PREP5000       * Original file does not exist
          CLOSE     OLDFILE
          DISPLAY   *P1:24,*EL,"Copying files ... Please wait !! ";
.
. Copy old file to the keyin directory
.
          PACK      CMDLINE,SP60,SP60
          CLEAR     CMDLINE
          APPEND    "cp `ldat ccsepsaf.dat` ",CMDLINE
          APPEND    OLDPATH,CMDLINE
          APPEND    "spsepsaf.dat",CMDLINE
          APPEND    SP60,CMDLINE
          RESET     CMDLINE
          EXECUTE   CMDLINE,TASKID
.
          CMATCH    "0",TASKID
          IF        !@EQUAL
            GOTO      PREP8000
          ENDIF
.
          PACK      CMDLINE,SP60,SP60
          CLEAR     CMDLINE
          APPEND    "cp `ldat ccsepsaf.idx` ",CMDLINE
          APPEND    OLDPATH,CMDLINE
          APPEND    "spsepsaf.idx",CMDLINE
          APPEND    SP60,CMDLINE
          RESET     CMDLINE
          EXECUTE   CMDLINE,TASKID
.
          CMATCH    "0",TASKID
          IF        !@EQUAL
            GOTO      PREP8000
          ENDIF
.
. remove the original files
.
          PACK      CMDLINE,SP60,SP60
          CLEAR     CMDLINE
          APPEND    "iserase ",CMDLINE
          APPEND    DEFPATH,CMDLINE
          APPEND    "ccsepsaf",CMDLINE
          RESET     CMDLINE
          EXECUTE   CMDLINE,TASKID
.
          CMATCH    "0",TASKID
          IF        !@EQUAL
            DISPLAY   *P1:24,*EL,*B,"Unable to remove the original file.  ";
            CALL      HITENTER
            GOTO      PREP9000
          ENDIF
.
. Opening old file after being copied
.
          MOVE      SP60,DIM60
          CLEAR     DIM60
          APPEND    OLDPATH,DIM60
          APPEND    "spsepsaf",DIM60
          APPEND    SP60,DIM60
          RESET     DIM60
.
          MOVE      ZERO,OVRCD
          TRAP      OVERCOND IF IO
          OPEN      OLDFILE,DIM60
          TRAPCLR   IO
          IF        OVRCD = 1
            DISPLAY   *P1:24,*EL,*B,"Unable to open saved original file.  ";
            CALL      HITENTER
            GOTO      PREP9000
          ENDIF
.
. Create the new file
.
          DISPLAY   *P1:24,*EL,"Creating new files ... Please wait !! ";
          PACK      NEWFILE,SP60
          CLEAR     NEWFILE
          APPEND    NEWPATH,NEWFILE
          APPEND    "ccsepsaf",NEWFILE
          APPEND    SP60,NEWFILE
          RESET     NEWFILE
          SQUEEZE   NEWFILE
.
PREP1000  PACK      CMDLINE,SP60,SP60
          CLEAR     CMDLINE
          APPEND    "isbuild ",CMDLINE
          APPEND    NEWFILE,CMDLINE
.
.  The files new record length and unique key must be written here
.      eg    APPEND    " 195 UC9-16",CMDLINE
.
          APPEND    " 868 UC1-2,3-18",CMDLINE
          APPEND    SP60,CMDLINE
          RESET     CMDLINE
          EXECUTE   CMDLINE,TASKID
.
.  If the file has more than one index, this piece of code below has 
.  to be repeated with for each individual index
.
           PACK      CMDLINE,SP60,SP60
           CLEAR     CMDLINE
           APPEND    "isadd ",CMDLINE
           APPEND    NEWFILE,CMDLINE
           APPEND    " UC64-64,1-2,3-18",CMDLINE
           APPEND    SP60,CMDLINE
           RESET     CMDLINE
           EXECUTE   CMDLINE,TASKID
.
           PACK      CMDLINE,SP60,SP60
           CLEAR     CMDLINE
           APPEND    "isadd ",CMDLINE
           APPEND    NEWFILE,CMDLINE
           APPEND    " UC83-90,1-2,3-18",CMDLINE
           APPEND    SP60,CMDLINE
           RESET     CMDLINE
           EXECUTE   CMDLINE,TASKID
.
           PACK      CMDLINE,SP60,SP60
           CLEAR     CMDLINE
           APPEND    "isadd ",CMDLINE
           APPEND    NEWFILE,CMDLINE
           APPEND    " UC121-128,1-2,3-18",CMDLINE
           APPEND    SP60,CMDLINE
           RESET     CMDLINE
           EXECUTE   CMDLINE,TASKID
.
           PACK      CMDLINE,SP60,SP60
           CLEAR     CMDLINE
           APPEND    "isadd ",CMDLINE
           APPEND    NEWFILE,CMDLINE
           APPEND    " UC65-74,1-2,3-18",CMDLINE
           APPEND    SP60,CMDLINE
           RESET     CMDLINE
           EXECUTE   CMDLINE,TASKID
.
          OPEN      CCSEPSA1,NEWFILE
.
. set the flag to say we want to continue
.
          DISPLAY   *P1:24,*EL;
          MOVE      ZERO,EXIT
          CALL      IBACLOCK
          REP       " 0",CDATE
          DISPLAY   *P1:18,"Started : ",CDATE,SP1,CTIMEIS:
                    *P1:20,"Record : "
          GOTO      PREP9999
.
PREP5000  DISPLAY   *P1:24,*EL,*B,"Old file not found.  ";
          CALL      HITENTER
          GOTO      PREP9000
.
PREP8000  DISPLAY   *P1:24,*EL,*B,"Unable to copy original file.  ":
                    "(Error: ",TASKID,")  ";
          CALL      HITENTER
.
PREP9000  MOVE      ONE,EXIT
PREP9999  RETURN
+
.**********************************************************************
.*                               READ0000                             *
.*             loop thru old file and write each record               *
.**********************************************************************
READ0000  DISPLAY   *P1:20,*EL,"Record No. : ";
          PACK      KEY18,SP60
          CALL      READSOLD                      * position at start
READ1000  CALL      READKOLD                      * read next record
          BRANCH    OVRCD,READ6000                * no more records
          ADD       ONE,RECNUM                    * update record counter
.
.  All necessary changes to the files field lengths, date changes
.  or any other sort of modification must be made here
.
.    eg    PACK      DSPARE,SP50
.          PACK      PTDSDMDC,SP10
.          PACK      PTDSDDRG,SP10
. 
          MOVE      SP70,CCEPADTS
          MOVE      SP70,CCEPDCTS
          MOVE      SP70,CCEPSPA
.
          PACK      KEY18,CCEPHCD,CCEPEPS,SP70
          CALL      WRCCEP1                    * write to new file
.
          IF        (RECNUM%1000) = 0
            DISPLAY   *P15:20,*V2LON,RECNUM
          ENDIF
.
          GOTO      READ1000                      * get next record
.
READ6000  CLOSE     CCSEPSA1                      * close new file
          CLOSE     OLDFILE                       * close old file
.
          CALL      IBACLOCK
          REP       " 0",CDATE
          DISPLAY   *P1:22,"Ended  : ",CDATE,SP1,CTIMEIS
.
READ9999  RETURN
.
+
.**********************************************************************
.*                               VALD0000                             *
.*        Check if it a valid directory                               *
.**********************************************************************
VALD0000  MOVE      ZERO,EXIT
          SQUEEZE   DIM60
          ENDSET    DIM60
          CMATCH    SLASH,DIM60
          IF        !@EQUAL
            DISPLAY   *P1:24,*EL,*B,"Directory path must end with a slash (/) ";
            CALL      HITENTER
            GOTO      VALD9000
          ENDIF
          RESET     DIM60
.
          PACK      CMDLINE,SP60,SP60
          CLEAR     CMDLINE
          APPEND    "cd ",CMDLINE
          APPEND    DIM60,CMDLINE
          APPEND    SP60,CMDLINE
          RESET     CMDLINE
          EXECUTE   CMDLINE,TASKID      * check if exists
.
          CMATCH    "0",TASKID
          IF        !@EQUAL
            DISPLAY   *P1:24,*EL,*B,"Directory does not exist ";
            CALL      HITENTER
            GOTO      VALD9000
          ENDIF
          GOTO      VALD9999
.
VALD9000  MOVE      ONE,EXIT            * Not valid
VALD9999  RETURN
+
.**********************************************************************
.*                               ENDP0000                             *
.*        Remove or compress save file                                *
.**********************************************************************
ENDP0000  MOVE      SP60,DIM60
          CLEAR     DIM60
          APPEND    OLDPATH,DIM60        * set up the saved file with path
          APPEND    "spsepsaf*",DIM60
          APPEND    SP60,DIM60
          RESET     DIM60
          SQUEEZE   DIM60
.
          PACK      CMDLINE,SP60,SP60
          CLEAR     CMDLINE
          IF        SAVEFLG = 1
            APPEND    "compress -f ",CMDLINE
            APPEND    DIM60,CMDLINE
            APPEND    SP60,CMDLINE
            RESET     CMDLINE
            DISPLAY   *P1:24,*EL,"Compressing original file.. ":
                      "Please wait !!  ";
          ELSE
            APPEND    "rm ",CMDLINE
            APPEND    DIM60,CMDLINE
            APPEND    SP60,CMDLINE
            RESET     CMDLINE
            DISPLAY   *P1:24,*EL,"Removing original file.. Please wait !!  ";
          ENDIF
          EXECUTE   CMDLINE,TASKID      * check if exists
.
          CMATCH    "0",TASKID
          IF        !@EQUAL
            DISPLAY   *P1:24,*EL,*B,"Saved file not compressed or removed.  ";
            CALL      HITENTER
            GOTO      ENDP9999
          ENDIF
.
          CALL      IBACLOCK
          DISPLAY   *P1:24,*EL,*B,"Finish processing.  ";
          CALL      HITENTER
.
ENDP9999  RETURN
+
.**********************************************************************
.         Get the default directory
.**********************************************************************
DEFT0000  EXECUTE   "ldat ccsepsaf.dat > temp.txt",TASKID
.
          PACK      DEFPATH,SP30,SP30
          CLOSE     FINDFILE
          MOVE      ZERO,OVRCD
          TRAP      OVERCOND IF IO
          OPEN      FINDFILE,"temp"
          TRAPCLR   IO
          BRANCH    OVRCD,DEFT3000
.
          READ      FINDFILE,SEQ;DEFPATH
          GOTO      DEFT3000 IF OVER
.
          ENDSET    DEFPATH
DEFT1000  CMATCH    "/",DEFPATH
          GOTO      DEFT2000 IF EQUAL
.
          BUMP      DEFPATH,-1
          GOTO      DEFT1000 IF NOT EOS
          GOTO      DEFT3000
.
DEFT2000  LENSET    DEFPATH
          RESET     DEFPATH
.
          PACK      DEFPATH,DEFPATH,SP30,SP30,SP30,SP30
          STRIP     DEFPATH
          ENDSET    DEFPATH
          RESET     DEFPATH
          CLOSE     FINDFILE
          MOVE      ZERO,EXIT
          GOTO      DEFT9999
.
DEFT3000  DISPLAY   *P1:24,*EL,*B,"Error finding ccsepsaf.  ";
          CALL      HITENTER
          CLOSE     FINDFILE
          MOVE      ONE,EXIT
DEFT9999  RETURN
+
.
.                  ******************************    OLD IO ROUTINES
.                  Copy the Positional Read (RS or RDS) from original I/O file,
.                  - change Label to READSOLD and the index name to OLDFILE
.
READSOLD  RESET     KEY18
          READ      OLDFILE,KEY18;;
          RETURN
.
.                  Copy the Read Next (RK or RDK) from the original I/O file
.                  - change Label to READKOLD and the index name to OLDFILE
.                  - change any fields that are changing to a prefix of OLD,
.                    eg. PTEDSPAR becomes OLDDSPAR
.
READKOLD  MOVE      ZERO,OVRCD
          READKS    OLDFILE;CCEPHCD,CCEPEPS,CCEPSUR,CCEPGIV,CCEPCOM:   
                        CCEPURN,CCEPSDT,CCEPLTD,CCEPLOS,CCEPINPT,CCEPDAY:
                        CCEPVIST,CCEPSEX,CCEPDOB,CCEPAGEY,CCEPAGEM,CCEPAGED:
                        CCEPCOB,CCEPREL,CCEPDDAT,CCEPDWAR,CCEPDSTA,CCEPDDES:
                        CCEPDMBS,CCEPDDPT,CCEPDSER,CCEPMDCC,CCEPDRGC,CCEPADAT:
                        CCEPAWAR,CCEPASRC,CCEPACLS,CCEPACAR,CCEPADPT,CCEPASER:
                        CCEPARDC,CCEPATDC,CCEPAADC,CCEPDADC,CCEPAHFD,CCEPAHTB:
                        CCEPAMBS,CCEPOPCL,CCEPPDIA,CCEPSDIA,CCEPPOPP,CCEPSOPP:
                        CCEPEXC,CCEPPMBS,CCEPSMBS,CCEPMU1,CCEPMU2,CCEPMU3:    
                        CCEPMU4,CCEPMU5,CCEPMU6,CCEPMU7,CCEPPCD,CCEPCLM:      
                        CCEPCLI,CCEPCTY,CCEPANA,CCEPOTY,CCEPTTR,CCEPOY6:      
                        CCEPOY7,CCEPOY8,CCEPOY9,CCEPORM,CCEPOKI,CCEPOTP:      
                        CCEPTST,CCEPINS,CCEPTIM,CCEPTDP,CCEPAST,CCEPAMD:
                        CCEPAU1,CCEPAU2,CCEPAU3,CCEPAU4,CCEPAU5,CCEPAU6:
                        CCEPAU7,CCEPAU8,CCEPAWT,CCEPAPR,CCEPAET,CCEPART:
                        CCEPAIN,CCEPAPL,CCEPAPY,CCEPOST,CCEPOCL,CCEPOCT:
                        CCEPOVT,CCEPODY,CCEPOSS,CCEPODS,CCEPOAT,CCEPOPR:
                        CCEPOU1,CCEPOU2,CCEPOU3,CCEPOU4,CCEPODP,CCEPOTR:
                        CCEPOLG,CCEPOOT,CCEPMU8,CCEPMU9,CCEPMU10,CCEPPHP:
                        CCEPAGN,CCEPVW5,CCEPV5A,CCEPCMX,CCEPV8A,CCEPINTR:
                        CCEPSTAT,CCEPCIND,CCEPSPCA,CCEPRSTA,CCEPRHCP,CCEPPRB1:
                        CCEPPRB2,CCEPPRB3,CCEPDIA1,CCEPDIA2,CCEPDIA3,CCEPENCN:
                        CCEPSERP,CCEPACTY,CCEPSERD,CCEPPTYP,CCEPDEPT,CCEPDUNT:
                        CCEPDBUN,CCEPIUNT,CCEPIBUN,CCEPABRG,CCEPCADM,CCEPIRAD:
                        CCEPIDUS,CCEPCRAV,CCEPRCCT,CCEPINDC,CCEPMDAV,CCEPCSNG:
                        CCEPASUT,CCEPELPS,CCEPEMPL,CCEPFINP,CCEPOCCP,CCEPPALC:
                        CCEPPPAL,CCEPPPPT,CCEPPSOS,CCEPPYSP,CCEPQLDB,CCEPREAD:
                        CCEPUDIN,CCEPUREA,CCEPUSAC,CCEPUVTH,CCEPDVAC,CCEPFLDR:
                        CCEPPCCL,CCEPSDRG,CCEPUINT,CCEPUCCU,CCEPUMEC,CCEPCPAP:
                        CCEPRCLO,CCEPSRCE,CCEPSTYP,CCEPASIT,CCEPUC21,CCEPUC09:
                        CCEPUC20,CCEPUC28,CCEPRHC1,OLDPSPA
          GOTO      OVERCOND IF OVER
          RETURN
.
.                  ******************************    NEW IO ROUTINES
.                  Copy the Write statement from the new I/O file           
.                  (no changes are needed to this routine)               
.
WRCCEP1   RESET     KEY18
          WRITE     CCSEPSA1,KEY18;CCEPHCD,CCEPEPS,CCEPSUR,CCEPGIV,CCEPCOM:
                        CCEPURN,CCEPSDT,CCEPLTD,CCEPLOS,CCEPINPT,CCEPDAY:
                        CCEPVIST,CCEPSEX,CCEPDOB,CCEPAGEY,CCEPAGEM,CCEPAGED:
                        CCEPCOB,CCEPREL,CCEPDDAT,CCEPDWAR,CCEPDSTA,CCEPDDES:
                        CCEPDMBS,CCEPDDPT,CCEPDSER,CCEPMDCC,CCEPDRGC,CCEPADAT:
                        CCEPAWAR,CCEPASRC,CCEPACLS,CCEPACAR,CCEPADPT,CCEPASER:
                        CCEPARDC,CCEPATDC,CCEPAADC,CCEPDADC,CCEPAHFD,CCEPAHTB:
                        CCEPAMBS,CCEPOPCL,CCEPPDIA,CCEPSDIA,CCEPPOPP,CCEPSOPP:
                        CCEPEXC,CCEPPMBS,CCEPSMBS,CCEPMU1,CCEPMU2,CCEPMU3:
                        CCEPMU4,CCEPMU5,CCEPMU6,CCEPMU7,CCEPPCD,CCEPCLM:
                        CCEPCLI,CCEPCTY,CCEPANA,CCEPOTY,CCEPTTR,CCEPOY6:
                        CCEPOY7,CCEPOY8,CCEPOY9,CCEPORM,CCEPOKI,CCEPOTP:
                        CCEPTST,CCEPINS,CCEPTIM,CCEPTDP,CCEPAST,CCEPAMD:
                        CCEPAU1,CCEPAU2,CCEPAU3,CCEPAU4,CCEPAU5,CCEPAU6:
                        CCEPAU7,CCEPAU8,CCEPAWT,CCEPAPR,CCEPAET,CCEPART:
                        CCEPAIN,CCEPAPL,CCEPAPY,CCEPOST,CCEPOCL,CCEPOCT:
                        CCEPOVT,CCEPODY,CCEPOSS,CCEPODS,CCEPOAT,CCEPOPR:
                        CCEPOU1,CCEPOU2,CCEPOU3,CCEPOU4,CCEPODP,CCEPOTR:
                        CCEPOLG,CCEPOOT,CCEPMU8,CCEPMU9,CCEPMU10,CCEPPHP:
                        CCEPAGN,CCEPVW5,CCEPV5A,CCEPCMX,CCEPV8A,CCEPINTR:
                        CCEPSTAT,CCEPCIND,CCEPSPCA,CCEPRSTA,CCEPRHCP,CCEPPRB1:
                        CCEPPRB2,CCEPPRB3,CCEPDIA1,CCEPDIA2,CCEPDIA3,CCEPENCN:
                        CCEPSERP,CCEPACTY,CCEPSERD,CCEPPTYP,CCEPDEPT,CCEPDUNT:
                        CCEPDBUN,CCEPIUNT,CCEPIBUN,CCEPABRG,CCEPCADM,CCEPIRAD:
                        CCEPIDUS,CCEPCRAV,CCEPRCCT,CCEPINDC,CCEPMDAV,CCEPCSNG:
                        CCEPASUT,CCEPELPS,CCEPEMPL,CCEPFINP,CCEPOCCP,CCEPPALC:
                        CCEPPPAL,CCEPPPPT,CCEPPSOS,CCEPPYSP,CCEPQLDB,CCEPREAD:
                        CCEPUDIN,CCEPUREA,CCEPUSAC,CCEPUVTH,CCEPDVAC,CCEPFLDR:
                        CCEPPCCL,CCEPSDRG,CCEPUINT,CCEPUCCU,CCEPUMEC,CCEPCPAP:
                        CCEPRCLO,CCEPSRCE,CCEPSTYP,CCEPASIT,CCEPUC21,CCEPUC09:
                        CCEPUC20,CCEPUC28,CCEPRHC1,CCEPADTS,CCEPDCTS,CCEPSPA
          RETURN
.
          INC       STD001IO
