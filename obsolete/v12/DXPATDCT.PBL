.******************************************************************************
.* System         : ALL                     Release 5.01                      *
.*                                                                            *
.* Include Name   : DXPATDCT.PBL                                              *
.*                                                                            *
.* Function       : To display the values from PATDO1FD                       *
.*                                                                            *
.* Author         : Whirlpool               15/01/1993                        *
.*                                                                            *
.* Parameters     : PATDO1FD record for the data to display                   *
.*                  SCRSPTFD/SCRSBGFD records                                 *
.*                                                                            *
.* Includes Req'd : DXPATCOD      display a field from patcodfd               *
.*                                                                            *
.* Modifications  :                                                           *
.*        V5.09.01  15/01/2001  Caleb Sharman                                 *
.*                  Mods to pick up the patdo1af changes
.*        V5.07.02  19/10/1999  J.Tan                                         *
.*                  Added doctor credit code                  
.*        V5.07.01  05/03/1999  Jim Stathopoulos    SRF 645353                *
.*                  Fixed Last Accreditation Date calculation
.                   07/10/1998  Glenn Berry      5.07 changes
.*****************************************************************************
.*                 17/12/93 Matt Surridge   MTA                               *
.*                 Added display of PTDOPAYN (payee name) for new doctor file *
.*        V5.02.01  23/03/1995  Graeme Williams   SRF 135693                  *
.*                  Corrected displaying of code file descriptions.           *
.*                                                                            *
.******************************************************************************
.
DXPATDCT  PACK      VAR,SP30,SP30,SP20
          MOVE      SCPSITM,FIELDNO
          BRANCH    FIELDNO,DPTD1001,DPTD1002,DPTD1003,DPTD1004,DPTD1005:
                            DPTD1006,DPTD1007,DPTD1008,DPTD1009,DPTD1010:
                            DPTD1011,DPTD1012,DPTD1013,DPTD1014,DPTD1015:
                            DPTD1016,DPTD1017,DPTD1018,DPTD1019,DPTD1020:
                            DPTD1021,DPTD1022,DPTD1023,DPTD1024,DPTD1025:
                            DPTD1026,DPTD1027,DPTD1028,DPTD1029,DPTD1030:
                            DPTD1031,DPTD1032,DPTD1033,DPTD1034,DPTD1035:
                            DPTD1036,DPTD1037,DPTD1038,DPTD1039,DPTD1040:
                            DPTD1041,DPTD1042,DPTD1043,DPTD1044,DPTD1045:
                            DPTD1046,DPTD1047,DPTD1048,DPTD1049,DPTD1050:
                            DPTD1051,DPTD1052,DPTD1053,DPTD1054,DPTD1055:
                            DPTD1056,DPTD1057,DPTD1058,DPTD1059,DPTD1060:
                            DPTD1061,DPTD1062,DPTD1063,DPTD1064,DPTD1065:
                            DPTD1066,DPTD1067,DPTD1068,DPTD1069,DPTD1070:
                            DPTD1071,DPTD1072,DPTD1073,DPTD1074,DPTD1075:
                            DPTD1076,DPTD1077,DPTD1078,DPTD1079,DPTD1080:
                            DPTD1081,DPTD1082,DPTD1083,DPTD1084,DPTD1085:
                            DPTD1086,DPTD1087,DPTD1088,DPTD1089
.
          GOTO      DPTDC999
.
DPTDC001  PACK      VAR,DTITL,SP70,SP10     * title
          GOTO      DPTDC995
.
DPTDC002  PACK      VAR,DGNAME,SP70,SP10    * given name
          GOTO      DPTDC995
.
DPTDC003  PACK      VAR,DSNAME,SP70,SP10    * Surname   
          GOTO      DPTDC995
.
DPTDC004  PACK      VAR,DRTYPE,SP70,SP10   * Doctor type      
          GOTO      DPTDC995
.
DPTDC005  MOVE      "DT",TCODE             * Doctor Type Description
          MOVE      DRTYPE,ACODE
          CALL      DXPATCOD
          GOTO      DPTDC999
.
DPTDC006  PACK      VAR,DRNAME,SP70,SP10    * Receptionist Name             
          GOTO      DPTDC995
.
DPTDC007  PACK      VAR,DSADD1,SP70,SP10    * Surgery Address 1
          GOTO      DPTDC995
.
DPTDC008  PACK      VAR,DSADD2,SP70,SP10    * Surgery Address 2
          GOTO      DPTDC995
.
DPTDC009  PACK      VAR,DSADD3,SP70,SP10    * Surgery Address 3
          GOTO      DPTDC995
.
DPTDC010  PACK      VAR,DSPOST,SP70,SP10    * Post Code    
          GOTO      DPTDC995
.
DPTDC011  PACK      VAR,DTELES,SP70,SP10    * Surgery Phone
          GOTO      DPTDC995
.
DPTDC012  PACK      VAR,DTELEP,SP70,SP10    * Surgery Pager 
          GOTO      DPTDC995
.
DPTDC013  MOVE      DPAGER,DIM7
          PACK      VAR,DIM7,SP70,SP70
          GOTO      DPTDC995
.
DPTDC014  PACK      VAR,DASSOC1,SP70,SP70   * Associated Doctor 1
          GOTO      DPTDC995
.
DPTDC015  PACK      VAR,DASSOC2,SP70,SP10   * Associated Doctor 2
          GOTO      DPTDC995
.
DPTDC016  PACK      VAR,DPROV,SP70,SP10     * Provider Number
          GOTO      DPTDC995
.
DPTDC017  PACK      VAR,DTELEH,SP70,SP10    * Home Telephone
          GOTO      DPTDC995
.
DPTDC018  PACK      VAR,DHADD1,SP70,SP10    * Home Address 1
          GOTO      DPTDC995
.
DPTDC019  PACK      VAR,DHADD2,SP70,SP10    * Home Address 2
          GOTO      DPTDC995
.
DPTDC020  PACK      VAR,DHADD3,SP70,SP10    * Home Address 3
          GOTO      DPTDC995
.
DPTDC021  PACK      VAR,DHPOST,SP70,SP10    * Home Post Code
          GOTO      DPTDC995
.
DPTDC022  UNPACK    DAFIRST,CCENT,CYEAR,CMON,CDAY * First Accred Date
          CALL      PACDATE
          IF        SCPSLEN = 8
            PACK      VAR,CPDATE,SP70,SP10
          ELSE
            PACK      VAR,CPCDATE,SP70,SP10
          ENDIF
          GOTO      DPTDC995
.
DPTDC023  UNPACK    DALAST,CCENT,CYEAR,CMON,CDAY  * Last Accred Date
          CALL      PACDATE
          IF        SCPSLEN = 8
            PACK      VAR,CPDATE,SP70,SP10
          ELSE
            PACK      VAR,CPCDATE,SP70,SP10
          ENDIF
          GOTO      DPTDC995
.
DPTDC024  MOVE      DAYEARS,DIM2             * Years of Accredation       
          PACK      VAR,DIM2,SP70,SP10
          GOTO      DPTDC995
.
DPTDC025  PACK      VAR,DACCRED,SP70,SP10     * Accred Type         
          GOTO      DPTDC995
.
DPTDC026  MOVE      DACCRED,ACODE           * Accred Type Description 
          MOVE      "AT",TCODE              
          CALL      DXPATCOD
          GOTO      DPTDC999
.
DPTDC027  PACK      VAR,DRTYPE2,SP70,SP10     * Doctor Type 2 
          GOTO      DPTDC995
.
DPTDC028  MOVE      DRTYPE2,ACODE
          MOVE      "DT",TCODE
          CALL      DXPATCOD
          GOTO      DPTDC999
.
DPTDC029  PACK      VAR,DRTYPE3,SP70,SP10     * Doctor Type 3 
          GOTO      DPTDC995
.
DPTDC030  MOVE      DRTYPE3,ACODE
          MOVE      "DT",TCODE
          CALL      DXPATCOD
          GOTO      DPTDC999
.
DPTDC031  PACK      VAR,DRTYPE4,SP70,SP10     * Doctor Type 4 
          GOTO      DPTDC995
.
DPTDC032  MOVE      DRTYPE4,ACODE
          MOVE      "DT",TCODE
          CALL      DXPATCOD
          GOTO      DPTDC999
.
DPTDC033  PACK      VAR,DRTYPE5,SP70,SP10   * Doctor Type 5     
          GOTO      DPTDC995
.
DPTDC034  MOVE      DRTYPE5,ACODE
          MOVE      "DT",TCODE
          CALL      DXPATCOD
          GOTO      DPTDC999
.
DPTDC035  MOVE      PTDONHSN,DIM10            * NHS Proscriber Number
          PACK      VAR,DIM10,SP70,SP10
          GOTO      DPTDC995
.
DPTDC036  UNPACK    DBIRTH,CCENT,CYEAR,CMON,CDAY * Doctor Date of Birth
          CALL      PACDATE
          IF        SCPSLEN = 8
            PACK      VAR,CPDATE,SP70,SP10
          ELSE
            PACK      VAR,CPCDATE,SP70,SP10
          ENDIF
          GOTO      DPTDC995
.
DPTDC037  PACK      VAR,DALEVEL,SP70,SP10  * Classifaction
          GOTO      DPTDC995
.
DPTDC038  MOVE      DALEVEL,ACODE
          MOVE      "DL",TCODE
          CALL      DXPATCOD
          GOTO      DPTDC999
.
DPTDC039  MOVE      DRSTAT,DIM1
          PACK      VAR,DIM1,SP70,SP10    * Doctor Status 
          GOTO      DPTDC995
.
DPTDC040  IF        DRSTAT = 0                         
            MOVE      "Active in Hospital",VAR
            PACK      VAR,VAR,SP70,SP10
          ENDIF
          IF        DRSTAT = 1                         
            MOVE      "Not Active        ",VAR
            PACK      VAR,VAR,SP70,SP10
          ENDIF
          IF        DRSTAT = 2                         
            MOVE      "Active Outside    ",VAR
            PACK      VAR,VAR,SP70,SP10
          ENDIF
          GOTO      DPTDC995
.
DPTDC041  PACK      VAR,DHCSCOD,SP70,SP10   * H.C.S Doctor Code
          GOTO      DPTDC995
.
DPTDC042  MOVE      SP20,HDNAME
          PACK      KEY3,DHCSCOD
          CALL      RDHDOC1
          PACK      VAR,HDNAME,SP70,SP10   * H.C.S Name
          GOTO      DPTDC995
.
DPTDC043  PACK      VAR,HDSERV,SP70,SP10   * H.C.S Service code
          GOTO      DPTDC995
.
DPTDC044  MOVE      HDSERV,ACODE            * NOK private phone
          MOVE      "DT",TCODE
          CALL      DXPATCOD
          GOTO      DPTDC999
.
.========================================================================
.
DPTD1001  PACK      VAR,DTITL,SP70,SP10     * title
          GOTO      DPTDC995
.
DPTD1002  PACK      VAR,DGNAME,SP70,SP10    * given name
          GOTO      DPTDC995
.
DPTD1003  PACK      VAR,DSNAME,SP70,SP10    * Surname   
          GOTO      DPTDC995
.
DPTD1004  PACK      VAR,DRTYPE,SP70,SP10   * Doctor type      
          GOTO      DPTDC995
.
DPTD1005  MOVE      "DT",TCODE             * Doctor Type Description
          MOVE      DRTYPE,ACODE
          CALL      DXPATCOD
          GOTO      DPTDC999
.
DPTD1006  PACK      VAR,DRNAME,SP70,SP10    * Receptionist Name             
          GOTO      DPTDC995
.
DPTD1007  PACK      VAR,DSADD1,SP70,SP10    * Surgery Address 1
          GOTO      DPTDC995
.
DPTD1008  PACK      VAR,DSADD2,SP70,SP10    * Surgery Address 2
          GOTO      DPTDC995
.
DPTD1009  PACK      VAR,DSADD3,SP70,SP10    * Surgery Address 3
          GOTO      DPTDC995
.
DPTD1010  PACK      VAR,DSADD4,SP70,SP10    * Surgery Address 4
          GOTO      DPTDC995
.
DPTD1011  PACK      VAR,DSPOST,SP70,SP10    * Post Code    
          GOTO      DPTDC995
.
DPTD1012 PACK      VAR,DTELES,SP70,SP10    * Surgery Phone
          GOTO      DPTDC995
.
DPTD1013  PACK      VAR,DTELEP,SP70,SP10    * Surgery Pager 
          GOTO      DPTDC995
.
DPTD1014  MOVE      DPAGER,DIM7
          PACK      VAR,DIM7,SP70,SP70
          GOTO      DPTDC995
.
DPTD1015  PACK      VAR,DASSOC1,SP70,SP70   * Associated Doctor 1
          GOTO      DPTDC995
.
DPTD1016  PACK      VAR,DASSOC2,SP70,SP10   * Associated Doctor 2
          GOTO      DPTDC995
.
DPTD1017  PACK      VAR,DPROV,SP70,SP10     * Provider Number
          GOTO      DPTDC995
.
DPTD1018  PACK      VAR,DTELEH,SP70,SP10    * Home Telephone
          GOTO      DPTDC995
.
DPTD1019  PACK      VAR,DHADD1,SP70,SP10    * Home Address 1
          GOTO      DPTDC995
.
DPTD1020  PACK      VAR,DHADD2,SP70,SP10    * Home Address 2
          GOTO      DPTDC995
.
DPTD1021  PACK      VAR,DHADD3,SP70,SP10    * Home Address 3
          GOTO      DPTDC995
.
DPTD1022  PACK      VAR,DHADD4,SP70,SP10    * Home Address 4
          GOTO      DPTDC995
.
DPTD1023  PACK      VAR,DHPOST,SP70,SP10    * Home Post Code
          GOTO      DPTDC995
.
DPTD1024  UNPACK    DAFIRST,CCENT,CYEAR,CMON,CDAY * First Accred Date
          CALL      PACDATE
          IF        SCPSLEN = 8
            PACK      VAR,CPDATE,SP70,SP10
          ELSE
            PACK      VAR,CPCDATE,SP70,SP10
          ENDIF
          GOTO      DPTDC995
.
DPTD1025  UNPACK    DALAST,CCENT,CYEAR,CMON,CDAY  * Last Accred Date
          CALL      PACDATE
          IF        SCPSLEN = 8
            PACK      VAR,CPDATE,SP70,SP10
          ELSE
            PACK      VAR,CPCDATE,SP70,SP10
          ENDIF
          GOTO      DPTDC995
.
DPTD1026  MOVE      DAYEARS,DIM2
          PACK      VAR,DIM2,SP70,SP10    * Years of Accredation       
          GOTO      DPTDC995
.
DPTD1027  PACK      VAR,DACCRED,SP70,SP10     * Accred Type         
          GOTO      DPTDC995
.
DPTD1028  MOVE      DACCRED,ACODE           * Accred Type Description 
          MOVE      "AT",TCODE              
          CALL      DXPATCOD
          GOTO      DPTDC999
.
DPTD1029  PACK      VAR,DRTYPE2,SP70,SP10     * Doctor Type 2 
          GOTO      DPTDC995
.
DPTD1030  MOVE      DRTYPE2,ACODE
          MOVE      "DT",TCODE
          CALL      DXPATCOD
          GOTO      DPTDC999
.
DPTD1031  PACK      VAR,DRTYPE3,SP70,SP10     * Doctor Type 3 
          GOTO      DPTDC995
.
DPTD1032  MOVE      DRTYPE3,ACODE
          MOVE      "DT",TCODE
          CALL      DXPATCOD
          GOTO      DPTDC999
.
DPTD1033  PACK      VAR,DRTYPE4,SP70,SP10     * Doctor Type 4 
          GOTO      DPTDC995
.
DPTD1034  MOVE      DRTYPE4,ACODE
          MOVE      "DT",TCODE
          CALL      DXPATCOD
          GOTO      DPTDC999
.
DPTD1035  PACK      VAR,DRTYPE5,SP70,SP10   * Doctor Type 5     
          GOTO      DPTDC995
.
DPTD1036  MOVE      DRTYPE5,ACODE
          MOVE      "DT",TCODE
          CALL      DXPATCOD
          GOTO      DPTDC999
.
DPTD1037  MOVE      PTDONHSN,DIM10            * NHS Proscriber Number
          PACK      VAR,DIM10,SP70,SP10
          GOTO      DPTDC995
.
DPTD1038  UNPACK    DBIRTH,CCENT,CYEAR,CMON,CDAY * Doctor Date of Birth
          CALL      PACDATE
          IF        SCPSLEN = 8
            PACK      VAR,CPDATE,SP70,SP10
          ELSE
            PACK      VAR,CPCDATE,SP70,SP10
          ENDIF
          GOTO      DPTDC995
.
DPTD1039  PACK      VAR,DALEVEL,SP70,SP10  * Classifaction
          GOTO      DPTDC995
.
DPTD1040  MOVE      DALEVEL,ACODE
          MOVE      "DL",TCODE
          CALL      DXPATCOD
          GOTO      DPTDC999
.
DPTD1041  MOVE      DRSTAT,DIM1
          PACK      VAR,DIM1,SP70,SP10    * Doctor Status 
          GOTO      DPTDC995
.
DPTD1042  IF        DRSTAT = 0                         
            MOVE      "Active in Hospital",VAR
            PACK      VAR,VAR,SP70,SP10
          ENDIF
          IF        DRSTAT = 1                         
            MOVE      "Not Active        ",VAR
            PACK      VAR,VAR,SP70,SP10
          ENDIF
          IF        DRSTAT = 2                         
            MOVE      "Active Outside    ",VAR
            PACK      VAR,VAR,SP70,SP10
          ENDIF
          GOTO      DPTDC995
.
DPTD1043  PACK      VAR,DHCSCOD,SP70,SP10   * H.C.S Doctor Code
          GOTO      DPTDC995
.
DPTD1044  MOVE      SP20,HDNAME
          PACK      KEY3,DHCSCOD
          CALL      RDHDOC1
          PACK      VAR,HDNAME,SP70,SP10   * H.C.S Name
          GOTO      DPTDC995
.
DPTD1045  PACK      VAR,HDSERV,SP70,SP10   * H.C.S Service code
          GOTO      DPTDC995
.
DPTD1046  MOVE      HDSERV,ACODE            * NOK private phone
          MOVE      "DT",TCODE
          CALL      DXPATCOD
          GOTO      DPTDC999
.
DPTD1047  
.         PACK      VAR,PTDOPAYN 
          GOTO      DPTDC995
.
DPTD1048  PACK      VAR,PTDOGLCC            * Doctor credit code
          GOTO      DPTDC995
.
DPTD1049  PACK      VAR,PTDOSEML,SP70,SP10
          GOTO      DPTDC995
.
DPTD1050  PACK      VAR,DASSOC3,SP70,SP10
          GOTO      DPTDC995
.
DPTD1051  PACK      VAR,DASSOC4,SP70,SP10
          GOTO      DPTDC995
.
DPTD1052  PACK      VAR,DASSOC5,SP70,SP10
          GOTO      DPTDC995
.
DPTD1053  PACK      VAR,PTDOHEML,SP70,SP10
          GOTO      DPTDC995
.
DPTD1054  PACK      VAR,PTDOFAXN,SP70,SP10
          GOTO      DPTDC995
.
DPTD1055  PACK      VAR,PTDOHFAX,SP70,SP10
          GOTO      DPTDC995
.
DPTD1056  PACK      VAR,PTDOMOBL,SP70,SP10
          GOTO      DPTDC995
.
DPTD1057  PACK      VAR,PTDOWHDP,SP70,SP10
          GOTO      DPTDC995
.
DPTD1058  PACK      VAR,PTDOMREG,SP70,SP10
          GOTO      DPTDC995
.
DPTD1059  PACK      VAR,PTDONHSN,SP70,SP10
          GOTO      DPTDC995
.
DPTD1060  PACK      VAR,PTDOUDF1,SP70,SP10
          GOTO      DPTDC995
.
DPTD1061  MOVE      PTDOUDF1,ACODE
          MOVE      "R5",TCODE
          CALL      DXPATCOD
          GOTO      DPTDC999
.
DPTD1062  PACK      VAR,PTDOUDF2,SP70,SP10                                      
          GOTO      DPTDC995
.
DPTD1063  MOVE      PTDOUDF2,ACODE
          MOVE      "R6",TCODE
          CALL      DXPATCOD
          GOTO      DPTDC999
.
DPTD1064  PACK      VAR,PTDOUDF3,SP70,SP10                                      
          GOTO      DPTDC995
.
DPTD1065  MOVE      PTDOUDF3,ACODE
          MOVE      "R7",TCODE
          CALL      DXPATCOD
          GOTO      DPTDC999
.
DPTD1066  PACK      VAR,PTDOUDF4,SP70,SP10                                      
          GOTO      DPTDC995
.
DPTD1067  MOVE      PTDOUDF4,ACODE
          MOVE      "R8",TCODE
          CALL      DXPATCOD
          GOTO      DPTDC999
.
DPTD1068  PACK      VAR,PTDOUDF5,SP70,SP10                                      
          GOTO      DPTDC995
.
DPTD1069  MOVE      PTDOUDF5,ACODE
          MOVE      "R9",TCODE
          CALL      DXPATCOD
          GOTO      DPTDC999
.
DPTD1070  PACK      VAR,PTDOINSC,SP70,SP10                                      
          GOTO      DPTDC995
.
DPTD1071  PACK      KEY6,PTDOINSC,SP70
          OPEN      PATIN1A1,"patin1af"
          CALL      RDINSR1
          IF        OVRCD=0
            PACK      VAR,INAME,SP70,SP10 
          ENDIF
          GOTO      DPTDC995
.
DPTD1072  PACK      VAR,PTDOINSN,SP70,SP10                                      
          GOTO      DPTDC995
.
DPTD1073  PACK      VAR,PTDOINSF,SP70,SP10                                      
          GOTO      DPTDC995
.
DPTD1074  PACK      VAR,PTDOINST,SP70,SP10                                      
          GOTO      DPTDC995
.
DPTD1075  PACK      VAR,PTDOREGN,SP70,SP10                                      
          GOTO      DPTDC995
.
DPTD1076  PACK      VAR,PTDOREGF,SP70,SP10                                      
          GOTO      DPTDC995
.
DPTD1077  PACK      VAR,PTDOREGT,SP70,SP10                                     
          GOTO      DPTDC995
.
DPTD1078  PACK      VAR,PTDOVISA,SP70,SP10                                      
          GOTO      DPTDC995
.
DPTD1079  PACK      VAR,PTDOCOMT,SP70,SP10                                      
          GOTO      DPTDC995
.
DPTD1080  MOVE      PTDOCOMT,ACODE
          MOVE      "CZ",TCODE
          CALL      DXPATCOD
          GOTO      DPTDC999
.
DPTD1081  PACK      VAR,PTDOPREF,SP70,SP10                                      
          GOTO      DPTDC995
.
DPTD1082  PACK      VAR,PTDOABNN,SP70,SP10                                      
          GOTO      DPTDC995
.
DPTD1083  PACK      VAR,PTDODINA,SP70,SP10                                      
          GOTO      DPTDC995
.
DPTD1084  PACK      VAR,PTDODACT,SP70,SP10                                      
          GOTO      DPTDC995
.
DPTD1085  PACK      VAR,PTDODACO,SP70,SP10                                     
          GOTO      DPTDC995
.
DPTD1086  PACK      VAR,PTDOPRO2,SP70,SP10                                      
          GOTO      DPTDC995
.
DPTD1087  PACK      VAR,PTDOPRO3,SP70,SP10                                      
          GOTO      DPTDC995
.
DPTD1088  PACK      VAR,PTDOPRO4,SP70,SP10                                      
          GOTO      DPTDC995
.
DPTD1089  PACK      VAR,PTDOPRO5,SP70,SP10                                     
          GOTO      DPTDC995
.
. ******* actually display the variable *******
.
DPTDC995  CALL      DISPITEM 
.
DPTDC999  RETURN
...............................................................................
