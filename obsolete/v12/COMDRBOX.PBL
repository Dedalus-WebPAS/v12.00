.******************************************************************************
.* System         : Common                                                    *
.*                                                                            *
.* Include Name   : COMDRBOX.PBL                                              *
.*                                                                            *
.* Function       : To draw a box for the new selection method.               *
.*                                                                            *
.* Author         : Justin Coates           27/08/1992                        *
.*                                                                            *
.* Parameters     : HLEF,HTOP,HRIG,HBOT     positions for box                 *
.*                  BOXHDR                  heading to display on top line    *
.*                                                                            *
.* Modifications  :                                                           *
.******************************************************************************
COMDRBOX  SUSPEND
          BOXCLR    HLEF,HTOP,HRIG,HBOT
          BOX       16,*V2LON,HLEF,HTOP,HRIG,HBOT
          ASSIGN    (HBOT-2),CVERT
          DISPLAY   *V2LON,*PHLEF:CVERT,*G33,*PHRIG:CVERT,*G34
          ASSIGN    (HLEF+1),CCOL
          ASSIGN    (HRIG-1),CCOL1
          HLINE     *G37,*V2LON,CVERT,CCOL,CCOL1
.
          ASSIGN    (HRIG-HLEF),CCITEM      * box width
          MOVE      ZERO,FORM2             * clear value incase null string
          STRIP     BOXHDR
          MOVELPTR  BOXHDR,FORM2            * get the actual length of header
          ADD       TWO,FORM2               * allow for blanks each side
          IF        FORM2 <= CCITEM & FORM2 <> 2
            ASSIGN    (((CCITEM-FORM2)/2)+HLEF+1),CCOL   * display position
            DISPLAY   *V2LON,*HON,*PCCOL:HTOP,SP1,*+,BOXHDR,*-,SP1
          ENDIF
.       
          FLUSH     HLEF,HTOP,HRIG,HBOT
          SETLPTR   BOXHDR
          RETURN
+
