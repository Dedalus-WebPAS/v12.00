.-----------------------------------------------------------------------------
. CCSMOPCD - Open or Close Costing Model Files
.
. Following Includes Must be in the Calling Program.
.
.   CCSTMPDF    
.   CCSCMAFD 
.   CCSCMBFD
.   CCSCMCFD
.   CCSCMDFD
.   CCSCMEFD
.
. A Valid Record must have been read from the cost model masterfile (ccscmaaf).
.
.-----------------------------------------------------------------------------
. Open Files - Returns Exit = 1 if files unavailable
.-----------------------------------------------------------------------------
CCSMOPOP  MOVE     "ccmb",KEY4
          PACK     FILENAME,KEY4,CCMACOM
          REP      " 0",FILENAME
          MOVE     ZERO,OVRCD
          TRAP     OVERCOND IF IO
          OPEN     CCSCMBA1,FILENAME
          TRAPCLR  IO
          BRANCH   OVRCD,CCSMOP90
          OPEN     CCSCMBA2,FILENAME
.
          MOVE     "ccmc",KEY4
          PACK     FILENAME,KEY4,CCMACOM
          REP      " 0",FILENAME
          MOVE     ZERO,OVRCD
          TRAP     OVERCOND IF IO
          OPEN     CCSCMCA1,FILENAME
          TRAPCLR  IO
          BRANCH   OVRCD,CCSMOP90
          OPEN     CCSCMCA2,FILENAME
.
          MOVE     "ccmd",KEY4
          PACK     FILENAME,KEY4,CCMACOM
          REP      " 0",FILENAME
          MOVE     ZERO,OVRCD
          TRAP     OVERCOND IF IO
          OPEN     CCSCMDA1,FILENAME
          TRAPCLR  IO
          BRANCH   OVRCD,CCSMOP90
.
          MOVE     "ccme",KEY4
          PACK     FILENAME,KEY4,CCMACOM
          REP      " 0",FILENAME
          MOVE     ZERO,OVRCD
          TRAP     OVERCOND IF IO
          OPEN     CCSCMEA1,FILENAME
          TRAPCLR  IO
          OPEN     CCSCMEA2,FILENAME
.
          MOVE     "ccmf",KEY4
          PACK     FILENAME,KEY4,CCMACOM
          REP      " 0",FILENAME
          MOVE     ZERO,OVRCD
          TRAP     OVERCOND IF IO
          OPEN     CCSCMFA1,FILENAME
          TRAPCLR  IO
          BRANCH   OVRCD,CCSMOP90
          OPEN     CCSCMFA2,FILENAME
.
          MOVE     ZERO,EXIT
          GOTO     CCSMOP99
.
CCSMOP90  MOVE     ONE,EXIT
CCSMOP99  RETURN
.-----------------------------------------------------------------------------
. Close Files
.-----------------------------------------------------------------------------
CCSMOPCL  CLOSE    CCSCMBA1
          CLOSE    CCSCMBA2
          CLOSE    CCSCMCA1
          CLOSE    CCSCMCA2
          CLOSE    CCSCMDA1
          CLOSE    CCSCMEA1
          CLOSE    CCSCMFA2
          CLOSE    CCSCMFA1
          CLOSE    CCSCMEA2
          RETURN
